var pxtTargetBundle = {
    "id": "teknikio-bluebird",
    "name": "bluebird",
    "title": "Teknikio Bluebird - Blocks / Javascript Editor",
    "corepkg": "teknikio-bluebird",
    "description": "A Blocks / Javascript code editor for the Teknikio Bluebird",
    "bundleddirs": [
        "libs/base",
        "libs/core",
        "libs/buttons",
        "libs/accelerometer",
        "libs/music",
        "libs/lightsensor",
        "libs/color",
        "libs/light",
        "libs/touch",
        "libs/switch",
        "libs/pulse",
        "libs/cable",
        "libs/infrared",
        "libs/mouse",
        "libs/keyboard",
        "libs/gamepad",
        "libs/storage",
        "libs/serial",
        "libs/jacdac",
        "libs/core---nrf52",
        "libs/teknikio-bluebird",
        "libs/mixer---nrf52"
    ],
    "serial": {
        "useHF2": true,
        "useEditor": true,
        "log": true,
        "editorTheme": {
            "graphBackground": "#d9d9d9",
            "lineColors": [
                "#009DDC",
                "#FB48C7",
                "#40bf4a",
                "#8073E5",
                "#d25b33"
            ]
        }
    },
    "compile": {
        "openocdScript": "source [find board/nrf52-dk.cfg]",
        "flashChecksumAddr": 0,
        "deployFileMarker": "MBED.HTM",
        "vtableShift": 4,
        "useUF2": true,
        "webUSB": false,
        "hasHex": true,
        "gc": true,
        "uf2Family": "0xada52840",
        "nativeType": "thumb",
        "switches": {},
        "jsRefCounting": false,
        "utf8": true
    },
    "compileService": {
        "buildEngine": "dockercodal",
        "codalTarget": {
            "name": "codal-nrf52840-dk",
            "url": "https://github.com/Teknikio/codal-bluebird",
            "branch": "update/bluebird_specific",
            "type": "git"
        },
        "codalBinary": "NRF52840_DK",
        "serviceId": "codal2nrf52840",
        "dockerImage": "pext/yotta:latest",
        "yottaConfig": {
            "pxt": {
                "board": {
                    "id": "BOARD_ID_NRF52840"
                }
            }
        }
    },
    "runtime": {
        "mathBlocks": true,
        "loopsBlocks": true,
        "logicBlocks": true,
        "variablesBlocks": true,
        "textBlocks": true,
        "listsBlocks": true,
        "functionBlocks": true,
        "functionsOptions": {
            "useNewFunctions": true
        },
        "onStartWeight": 100,
        "onStartNamespace": "pins",
        "onStartColor": "#40bf4a",
        "bannedCategories": [
            "light"
        ]
    },
    "simulator": {
        "autoRun": true,
        "streams": false,
        "aspectRatio": 1,
        "parts": true,
        "partsAspectRatio": 0.69,
        "dynamicBoardDefinition": true,
        "boardDefinition": {
            "driveDisplayName": "",
            "visual": {
                "image": "data:image/svg+xml,%3Csvg%20width%3D%22684%22%20height%3D%22509%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20transform%3D%22rotate(90%20341.5%20342)%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M234%20682.67c-12.36-1.77-24.83-3.12-37.1-5.51-59.65-11.33-111-37.41-148.19-87.71-23.59-32-36.27-68.69-43.13-107.56-12.75-72.75-1.73-142.69%2025.8-210.44C58.3%20205%2095.09%20144.56%20137.07%2087c11.85-16.31%2024.32-32.11%2036.58-48.11%2016.53-21.33%2038.25-33.38%2064.54-37.64%201.14-.31%202.39-.83%203.74-1.25h23.8c5.51%201.35%2011.12%202.49%2016.52%204%2018.5%205.3%2034.19%2015.17%2046.46%2030.14%2039.59%2048.53%2076.38%2099.14%20107.14%20153.8C464.33%20238.5%20488.33%20291.3%20500%20349c13.2%2065.47%209.77%20130-14.75%20192.36-25.36%2064.44-73%20105-137.49%20126.37a289.14%20289.14%200%2001-68.39%2013.62%2028.48%2028.48%200%2000-5.71%201.24c-13.23.08-26.43.08-39.66.08z%22%20fill%3D%22%23036%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23F9F9F9%22%20fill-rule%3D%22nonzero%22%20d%3D%22M314.89%20525.64v-14.76l1.45-.41%209.87%2010.53%201-.1v-9.77h1.46v15.38L317.8%20515h-1.15v10.39zM312.39%20518.37c0%206.75-2.7%209.14-9.35%208.21a8.5%208.5%200%2001-3.74-1.58c-2.39-1.77-3.74-11.23-1.15-12.58a20.91%2020.91%200%20019.77-1.66c1.67.1%203.22%202.7%204.37%204.26.52.98.1%202.2.1%203.35zm-2.7-2.19c.21-2.28-.42-3.94-4.47-3.94-3.74%200-6.34.62-6.34%203.74%200%201.76-.83%203.74.21%205.19a9.9%209.9%200%20006%203.64c3.43.52%204.78-1.46%204.67-3.85%22%2F%3E%3Cpath%20d%3D%22M67.13%20300.44l.11-.1-.11.1z%22%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23666%22%20fill-rule%3D%22nonzero%22%20d%3D%22M306.26%20290.36h46.56v35.85h-46.56z%22%2F%3E%3Cpath%20d%3D%22M330.37%20303.87c2.91%200%205.82-.1%208.73%200%201.56.1%204%204.78%203.43%206.65-.94%202.7-1.66%205.92-6%205.09-1.66-.31-3.53.94-5.19.83a52.22%2052.22%200%2001-11.34-1.55c-1-.21-1.56-2.81-2-4.47-.72-2.81%202.5-6.55%205.41-6.65%202.28-.11%204.57-.21%207-.42l-.04.52z%22%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M273%20659.39c.1%205.4.2%2010.18.1%2015a3.31%203.31%200%2001-2.39%202.29c-3.904.33-7.826.4-11.74.21a3.74%203.74%200%2001-2.39-2.6%2070.44%2070.44%200%2001-.32-11.43c0-1%201.25-2.91%202.08-3%204.66-.47%209.47-.47%2014.66-.47zM250.56%20659.91c.21%205.2.21%209.77.52%2014.24.1%202.28-.83%203-3%203-4.26%200-8.52%200-13.4.1-.21-5.09-.42-10.08-.52-15.06%200-.73.93-2.08%201.45-2.08%204.97-.11%209.96-.11%2014.95-.2zM276.75%20677c-.21-5.09-.32-9.87-.52-14.65-.11-2%20.93-2.39%202.7-2.6a50.94%2050.94%200%20007.9-1.35c4.36-1%209.35.73%2011.64%204.57%202.18%203.64%201.76%207.28-.52%2010.81-2.5%203.95-5.93%205.09-10.92%204a42.4%2042.4%200%2000-5.09-.72%2040%2040%200%2000-5.19-.06zm6.75-6.23a6.913%206.913%200%200012.89-5%207%207%200%2000-8.94-4%206.82%206.82%200%2000-3.95%208.94v.06zM229.57%20677.26c-4.37.84-8.42%201.67-12.58%202.19a9%209%200%2001-9.77-5.1%209.7%209.7%200%20011.15-11.35c2.91-3.43%206.44-3.95%2010.7-2.91%202.49.62%205.09.41%207.59.83%201%20.21%202.7%201.25%202.7%202%20.21%204.78.1%209.56.21%2014.34zm-11-1.35a6.67%206.67%200%20003.43-8.83V667a6.4%206.4%200%2000-8.31-4%20.78.78%200%2000-.42.2%207.37%207.37%200%2000-4.05%209.15%207.48%207.48%200%20009.35%203.53v.03zM228%20646.09a7.38%207.38%200%2001-9.67-4.06.1.1%200%2000-.1-.1%207.92%207.92%200%20014.15-10.18c3.64-1.35%208.63.72%2010%204.15a8.13%208.13%200%2001-4.38%2010.19zm-.63-2a5.78%205.78%200%20002.81-7.17%205.35%205.35%200%2000-7-2.91%205.45%205.45%200%20004.15%2010.08h.04zM283.29%20644.94a7.8%207.8%200%2001-10-3.94c-1.67-3.64.41-8.84%204.05-10.4a8.34%208.34%200%200110%204.16%207.71%207.71%200%2001-4%2010.08l-.05.1zm-8-5c.94%202.39%204.68%204%207.17%203.11%202.49-.89%204.06-4.78%203.12-7.17a5.47%205.47%200%2000-7.27-2.7%205.65%205.65%200%2000-3%206.76h-.02zM264.9%20645.88c0-4.68-.21-9%200-13.3.1-.83%202.08-1.56%203.22-2.29.62.94%201.66%201.77%201.66%202.7.21%203.947.21%207.903%200%2011.85%200%20.83-1%202.39-1.56%202.39-1.14%200-2.28-.83-3.32-1.35zM248.69%20646.4l-5.41.1c0-4.57-.1-9%20.21-13.3.1-.83%201.77-1.77%202.91-2.18.31-.11%201.87%201.25%201.87%202.08.21%204.26.21%208.62.42%2013.3zM236.53%20647.75c-.31-5.4-.63-9.77-.63-14.13%200-.83%201.46-2.08%202.5-2.5.52-.21%202.29%201%202.29%201.77a83.75%2083.75%200%2001.2%2012.47c0%20.73-2.39%201.35-4.36%202.39zM255.55%20645.88c-3.75%201.25-5.41.62-5.1-3.22.21-2.6-.52-5.41-.1-8%20.21-1.46%201.87-2.6%202.91-3.95.73%201.24%201.87%202.49%202%203.84.31%203.768.406%207.55.29%2011.33zM257.83%20646c0-4.78-.1-9.35-.21-13.92%204.58-1.25%204.78-1.15%205%203.22.11%202.29.21%204.68.21%207%20.3%204.1.09%204.31-5%203.7z%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M227.38%20644.11c-2.39%201-6.13-.52-7.17-2.91a5.76%205.76%200%20012.91-7.06%205.34%205.34%200%20017%202.91%205.63%205.63%200%2001-2.74%207.06zM275.29%20640a5.49%205.49%200%200110.19-4.06c.93%202.39-.73%206.24-3.12%207.17-2.39.93-6.13-.76-7.07-3.11z%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M285.06%20634.14c-30.76-.32-32.42%201.35-62.67%201.14-.1%2015.48-14.86%2026.71-15%2042.09l91.24.83c.15-15.48-13.63-28.68-13.57-44.06z%22%20fill%3D%22%23CCC%22%20fill-rule%3D%22nonzero%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2210.39%22%3E%3Ctspan%20x%3D%22311.48%22%20y%3D%22286.31%22%3ERESET%3C%2Ftspan%3E%3C%2Ftext%3E%3Cpath%20d%3D%22M177.92%20129.59l-2.08%203L125%20103.2l2.08-2.91%2032%2018.49c-2.08-1.76-4.16-3.63-6.24-5.61-20.58-18.7-21-19.12-19.43-21.93l2.8-3.53c.73-1.45-1.76%203.74%2019%2022.66%2010.96%2010.08%2022.5%2019.12%2022.71%2019.22z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M176.05%20133.33c-.11-.1-13.83-5.61-27.86-10.08-26.81-8.62-34.19-3.63-34.19-3.53l2-3.53c1.66-2.81%206.86-5%2033.36%203.53%2014.13%204.57%2027.95%2010.08%2028.06%2010.18l-1.37%203.43z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2210.39%22%3E%3Ctspan%20x%3D%22295.51%22%20y%3D%22506.63%22%3EP%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2210.39%22%3E%3Ctspan%20x%3D%22302.98%22%20y%3D%22506.63%22%3EO%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2210.39%22%3E%3Ctspan%20x%3D%22311.48%22%20y%3D%22506.63%22%3EW%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2210.39%22%3E%3Ctspan%20x%3D%22322.87%22%20y%3D%22506.63%22%3EER%3C%2Ftspan%3E%3C%2Ftext%3E%3Cpath%20d%3D%22M245.67%20412c0-3.95.11-8%200-11.95%200-2.29.94-3.22%203.33-3.12%208.21.1%2016.52.1%2024.73%200%202.5%200%203.64.83%203.54%203.33-.11%208-.11%2015.9%200%2023.9%200%202.39-1%203.43-3.54%203.43H249c-2.29%200-3.33-.94-3.33-3.22V412z%22%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23CCC%22%20fill-rule%3D%22nonzero%22%20d%3D%22M205.14%2095.25h97.84v111.31h-97.84z%22%2F%3E%3Cpath%20d%3D%22M148.35%20397.45c2.6.1%205.19.1%207.69%200%203-.32%203.84%202%203.84%203.74a3.54%203.54%200%2001-3.12%203.74h-.83a203.954%20203.954%200%2000-15.9%200c-2.91.1-3.11-1.46-3.11-3.74%200-2.28.31-3.85%203.22-3.64%202.91.21%205.51-.1%208.21-.1zM148.14%20420.93c2.49%200%205-.1%207.38.11%201.14.1%203.22.72%203.32%201.35a9.91%209.91%200%2001-.62%205.19c-.21.52-2.29.32-3.53.32-4.58%200-9.15-.32-13.72-.11-3.54.21-4.47-1.45-3.85-4.36a3.65%203.65%200%20012.5-2.29%2078.8%2078.8%200%20018.52-.21z%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M138.16%20399.94h20.68v23.69h-20.68z%22%2F%3E%3Cpath%20d%3D%22M227.64%20434.41h-2.48c-3.64%200-3.64%200-3.64-3.35%200-3.78%200-3.78%204.08-3.78h6.4c1.75%200%202.19.58%202.33%202.18.3%204.95.3%204.95-6.69%204.95zM183.66%20435.87h-2.77c-4.08%200-4.08%200-4.08-4.08%200-4.51%200-4.51%204.66-4.51%202.33%200%204.81.14%207.14%200%201.89%200%202.47.72%202.62%202.62.15%205.97.15%205.97-7.57%205.97zM183.66%20410h-2.77c-4.08%200-4.08%200-4.08-4.08%200-4.52%200-4.52%204.66-4.52h7.14c1.89%200%202.47.73%202.62%202.63.15%205.97.15%205.97-7.57%205.97zM227.64%20408.78h-2.77c-4.08%200-4.08%200-4.08-4.08%200-4.51%200-4.51%204.66-4.51h7.14c1.89%200%202.47.73%202.62%202.62.14%205.97.14%205.97-7.57%205.97z%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23FCFCFC%22%20fill-rule%3D%22nonzero%22%20d%3D%22M180.89%20392.18h48.49v47.62h-48.49z%22%2F%3E%3Cpath%20d%3D%22M455.49%20226.45c10.08%2020.16%2019.64%2042.09%2025.67%2063.39-1.14.21-20.78%207.9-21.51%208-10.08%201.56-20.16%200-30.24-2.6-8.63-2.28-17.88-8.62-19.75-19-.2-9.67%202.29-15.9%207.69-22.87%209.15-11%2011.23-11.84%2020.06-18.81%205.82-3.12%2017.04-7.49%2018.08-8.11zm-34%2047.18c1%207.17%209.67%2012.47%2017.56%2010.6%207.38-1.77%2012.37-10.39%2010.5-17.77-2.2-7.668-9.978-12.307-17.77-10.6-7.28%201.87-13%2010.7-10.29%2017.77zM497%20341.91c4.88%2021.92%208.83%2045.62%209.56%2067.75-1.14-.1-22.14%202.6-22.76%202.6-10.08-.83-19.54-4.88-28.68-9.87-7.9-4.26-15.28-12.68-14.55-23.18%202.08-9.35%206-14.86%2013-20.36%2011.53-8.53%2013.82-8.84%2024.11-13.41%206.18-1.77%2018.14-3.22%2019.32-3.53zm-44.48%2037.51c-.73%207.17%206.34%2014.45%2014.44%2014.55%207.59.1%2014.55-7.07%2014.45-14.76-.1-7.69-7-14.65-14.65-14.55-7.49.11-15.18%207.28-14.24%2014.76zM24.42%20289.74c7.07-21.31%2015.9-43.65%2026.71-63%20.94.73%2020.26%209.14%2020.89%209.46%208.21%205.92%2014.24%2014.23%2019.54%2023.17%204.57%207.69%206.54%2018.81.52%2027.33-6.66%207-12.79%209.56-21.62%2010.71-14.24%201.35-16.32.41-27.54-.94-6.34-1.54-17.35-6.42-18.5-6.73zm57.37-9.36c4.36-5.82%202-15.69-4.89-19.85-6.44-4-16.11-1.45-20%205.2-3.89%206.65-1.51%2016.11%205.1%2020.06%206.49%203.74%2016.67%201.56%2019.79-5.41zM392.31%20119.51c13.61%2017.88%2027%2037.83%2036.89%2057.68-1.14.41-19%2011.64-19.64%2011.85-9.56%203.42-19.85%203.74-30.14%203-8.94-.62-19.12-5.2-22.86-15.07-2-9.35-.62-16%203.32-23.9%207-12.47%208.84-13.72%2016.32-22.24%204.99-4.25%2015.17-10.59%2016.11-11.32zm-24.74%2052.69c2.29%206.86%2011.75%2010.5%2019.13%207.17%207-3.12%2010.28-12.47%207-19.43-3.537-7.182-12.105-10.3-19.43-7.07-6.7%203.13-10.64%2012.78-6.7%2019.33zM503.82%20470c-3.74%2022.14-9%2045.52-16.84%2066.31-1-.52-21.41-5.93-22-6.24-9-4.68-16.32-12-22.86-19.95-5.61-7-9.36-17.57-4.68-27%205.51-7.9%2011.22-11.43%2019.64-13.93%2013.93-3.43%2016.11-2.91%2027.33-3.32%206.59.95%2018.26%203.96%2019.41%204.13zm-55.29%2018c-3.43%206.44.42%2015.8%207.9%2018.91%207.07%202.91%2016.11-1%2018.91-8.2%202.8-7.2-.93-16.11-8.1-19-7-2.81-16.73.93-18.71%208.31V488z%22%20fill%3D%22%23999%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M363.43%20161.9c-1.45-12%2011-23.27%2023.11-23.27%2012.723.38%2022.977%2010.55%2023.46%2023.27%200%2012.28-11.15%2023.43-23.43%2023.27-13.12-.17-24.43-11.79-23.14-23.27z%22%20stroke%3D%22%23CCC%22%20stroke-width%3D%222%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M28.89%20347.62c10.29%204.68%2012.47%205%2024.11%2013.41%206.86%205.51%2010.91%2010.91%2013%2020.37.73%2010.49-6.65%2018.91-14.55%2023.17-9.14%205-18.6%208.94-28.68%209.87-.73.11-21.62-2.7-22.76-2.59.72-22.14%204.56-45.85%209.55-67.76%201.14.21%2013.1%201.76%2019.33%203.53zm10.91%2019.12c-7.99.19-14.451%206.564-14.75%2014.55-.11%207.69%206.85%2014.86%2014.44%2014.76%208.11-.1%2015.17-7.28%2014.45-14.55.93-7.5-6.76-14.65-14.14-14.76zM21.93%20468.17c11.22.42%2013.51-.1%2027.33%203.33%208.42%202.49%2014.24%206%2019.64%2013.92%204.57%209.46.94%2020.06-4.68%2027-6.54%208-13.82%2015.28-22.86%2020-.62.31-21%205.71-22%206.23-7.69-20.78-13-44.17-16.84-66.3%201.22-.35%2012.86-3.45%2019.41-4.18zm17.25%2013.72c-7.264%203.23-10.803%2011.52-8.11%2019%202.81%207.17%2012%2011.22%2018.92%208.21%207.48-3.12%2011.32-12.47%207.89-18.92-2-7.38-11.74-11.12-18.7-8.31v.02zM462.46%20582.59a151.28%20151.28%200%2001-18.92%2025.67c-8.42%209.46-18.39%2016.63-27.54%2024.63-.62-1-16-15.38-16.42-16-5.71-8.42-8.62-18.19-10.6-28.38-1.66-8.83.21-19.84%208.73-26%208.63-4.36%2015.28-4.67%2023.9-2.8%2013.93%203.53%2015.59%205.09%2025.67%2010.08%205.51%203.86%2014.24%2012.07%2015.18%2012.8zm-57.16-10.5c-6%203.95-7.17%2014-2.08%2020.37%204.78%205.93%2014.65%206.76%2020.58%201.87%206.037-5.23%206.917-14.275%202-20.57-4.88-5.82-15.28-7.17-20.47-1.67h-.03zM63.7%20574.9c10.09-5%2011.75-6.55%2025.67-10.08%208.63-1.87%2015.38-1.46%2023.91%202.91%208.52%206%2010.39%2017.15%208.73%2026-2%2010.18-4.89%2020.06-10.6%2028.37-.42.52-13.1%2014.24-13.83%2015.28-9-7.9-21.82-16.11-30.13-25.46-7.07-7.9-13.72-16.11-20.06-24.22.93-.85%2010.91-9.06%2016.31-12.8zm21.72%203.74c-4.892%206.306-4.015%2015.334%202%2020.58%205.92%205%2015.8%204.16%2020.58-1.87%205.09-6.34%203.94-16.42-2.08-20.37-5.3-5.41-15.7-4.05-20.48%201.66h-.02zM130.22%20131.05c7.48%208.52%209.35%209.77%2016.31%2022.24%203.95%207.89%205.3%2014.44%203.33%2023.9-3.74%209.77-13.93%2014.44-22.87%2015.07-10.39.72-20.57.41-30.13-3-.63-.2-18.5-11.43-19.65-11.84%209.88-19.85%2023.28-39.7%2036.9-57.68.83.71%2011.01%207.05%2016.11%2011.31zM132%20153c-7-3.22-16.11.11-19.43%207.07-3.32%206.96%200%2016.32%207%2019.43%207.38%203.33%2016.84-.31%2019.23-7.17%203.89-6.47-.06-16.13-6.8-19.33z%22%20fill%3D%22%23999%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M291.09%20496.44a.33.33%200%2000.31-.31.27.27%200%2000-.31-.31%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M291.09%20496.13v37.41%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.99%22%2F%3E%3Cpath%20d%3D%22M290.78%20533.54c0%20.21.2.31.41.31.21%200%20.21-.1.31-.31M291.4%20496.13c0-.21-.1-.42-.31-.42s-.42.11-.42.31v.11%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M291.09%20534c.21%200%20.31-.2.31-.41%200-.21-.1-.21-.31-.31%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M362.38%20398.75a.27.27%200%2000.31-.31.27.27%200%2000-.31-.31M296.08%20398.13a.31.31%200%20000%20.62%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M362.59%20398.13a.35.35%200%2000-.52.1.31.31%200%20000%20.42M296.39%20398.44a.28.28%200%2000-.31-.31.28.28%200%2000-.32.31M343.05%20419.85a5.43%205.43%200%20005.4-5.41%205.41%205.41%200%2000-10.81%200%205.51%205.51%200%20005.41%205.41M370.69%20407.17a.374.374%200%2000.62-.42.1.1%200%2000-.1-.1M349.28%20452a.28.28%200%2000.32.31.28.28%200%2000.31-.31%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M371.21%20407a.27.27%200%2000-.31-.31.27.27%200%2000-.31.31M296.08%20451.54a.29.29%200%2000-.32.32.28.28%200%2000.32.31M349.6%20452.27a.31.31%200%20000-.62%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M295.76%20452a.28.28%200%2000.32.31.28.28%200%2000.31-.31%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cg%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%3E%3Cpath%20d%3D%22M334.53%20433.77h-14.24v-9.45z%22%2F%3E%3Cpath%20d%3D%22M334.53%20433.77l-14.24-9.45h14.24z%22%2F%3E%3C%2Fg%3E%3Cg%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%3E%3Cpath%20d%3D%22M382.85%20433.77h-14.13v-9.45z%22%2F%3E%3Cpath%20d%3D%22M382.85%20433.77l-14.13-9.45h14.13z%22%2F%3E%3C%2Fg%3E%3Cg%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%3E%3Cpath%20d%3D%22M334.53%20401.56h-14.24v-9.46z%22%2F%3E%3Cpath%20d%3D%22M334.53%20401.56l-14.24-9.46h14.24z%22%2F%3E%3C%2Fg%3E%3Cpath%20d%3D%22M266.77%20362.57l-2.7.93c-1.25%205.3%201%208.42%205.82%2010.08.72.21%201.87-.52%203.32-.93l4.47%208.31-10.29.31%201.15-3.53-7.07-2.6c-.73%202.39-5.51%202.7-3.12%207.07l-9.87%202.91c1-4.26%201.66-7.28%202.39-10.6l3.12%201.35c1.66-1.67%203.74-3.12%205.09-5.2%201.35-2.08-.52-6.44-2.81-8.1l4.58-7.8%205.92%207.8z%22%20stroke%3D%22%23FFF%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M207.33%20374h-2.81c0%203.12-.1%206.14%200%209%20.1%202.18-.83%202.7-3%202.07V374l-5.1-.2v-3.43c2.39.2%202.39-1.35%202.39-3.12a35.52%2035.52%200%2001.42-5.72c.62-4.47%203.53-7.17%207.27-7%203.74.17%207.07%203.85%207.38%207.9.11%201.45-.1%202.91%200%204.36.1%201.45-.72%203%201.46%203.85.41.1.21%201.87.31%203.12l-5%20.2c-.41%202.5-.73%204.89-1.14%207.28-.69.1-1.39.1-2.08%200l-.1-7.24z%22%20fill%3D%22%23F9F9F9%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M321.54%20160.87a.28.28%200%2000.31-.31h0a.28.28%200%2000-.31-.31%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M191.43%20257.31a.33.33%200%2000.31-.31h0a.34.34%200%2000-.31-.31h0%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.4%22%2F%3E%3Cpath%20d%3D%22M294.83%20621.15a.28.28%200%2000.31-.32.28.28%200%2000-.31-.31h0%22%20stroke%3D%22%23900%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M295.14%20620.83a.28.28%200%2000-.31-.31h0a.28.28%200%2000-.31.31%22%20stroke%3D%22%23900%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.5%22%2F%3E%3Cpath%20d%3D%22M241.62%20432.11a.1.1%200%2000.1.1l.11-.1%22%20stroke%3D%22%23900%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M241.83%20432a.1.1%200%2000-.11.1l.11.1h0M278.72%20400.62a.1.1%200%2000-.1-.1h0a.1.1%200%2000-.11.1%22%20stroke%3D%22%23900%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M197.56%2046.35c0-.1-.11-.1-.11-.1l-.1.1h0%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M197.56%2046.25c0-.11-.11-.11-.21%200-.1.11-.1.1%200%20.2M202.65%2046.45v-.2h-.21M202.34%2053.94a.1.1%200%2000.1.1l.11-.1%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M202.65%2046.35a.1.1%200%2000-.1-.1l-.11.1h0M208.16%2046.45c.1%200%20.1-.1.1-.2s-.1-.11-.21-.11h0M208%2053.94a.1.1%200%2000.1.1l.11-.1%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M208.16%2046.35c0-.1-.11-.1-.11-.1l-.1.1h0M210.13%2054.14c.11%200%20.11%200%20.11-.1h0c0-.1-.11-.1-.11-.1h0%22%20stroke%3D%22%235B5B5B%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.2%22%2F%3E%3Cpath%20d%3D%22M215.33%2081.58a.21.21%200%2010-.42%200M215.33%2081.58a.4.4%200%2000-.31-.1.36.36%200%2000-.11.31M219.59%2081.58a.23.23%200%2000-.21-.21h0a.23.23%200%2000-.21.21h0M270.72%2081.58a.23.23%200%2000-.21-.21h0a.23.23%200%2000-.21.21h0M295.66%2081.58a.23.23%200%2000-.21-.21h0a.23.23%200%2000-.21.21h0%22%20stroke%3D%22%23900%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%22.3%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%2283.99%22%20cy%3D%22391.68%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%2276.76%22%20y%3D%22400.26%22%3E%2B%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22351.57%22%20cy%3D%22199.12%22%20r%3D%2214.24%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22157.34%22%20cy%3D%22199.12%22%20r%3D%2214.24%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22392.1%22%20cy%3D%22287.6%22%20r%3D%2214.24%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22112.13%22%20cy%3D%22286.31%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%22347.62%22%20y%3D%22206.74%22%3E-%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%22153.19%22%20y%3D%22206.33%22%3E-%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2218.71%22%3E%3Ctspan%20x%3D%22108.78%22%20y%3D%22292.43%22%3E1%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2218.71%22%3E%3Ctspan%20x%3D%22385.33%22%20y%3D%22293.84%22%3E4%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22134.16%22%20cy%3D%22555.57%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%22130.03%22%20y%3D%22562.72%22%3E-%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22377.35%22%20cy%3D%22555.57%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%22373.21%22%20y%3D%22562.72%22%3E-%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%2291.19%22%20cy%3D%22482.31%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2218.71%22%3E%3Ctspan%20x%3D%2286.66%22%20y%3D%22487.45%22%3E2%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22416.73%22%20cy%3D%22482.31%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2218.71%22%3E%3Ctspan%20x%3D%22411.35%22%20y%3D%22489.43%22%3E3%3C%2Ftspan%3E%3C%2Ftext%3E%3Ccircle%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20cx%3D%22175.11%22%20cy%3D%22300.13%22%20r%3D%228.63%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%20cx%3D%22175.11%22%20cy%3D%22300.13%22%20r%3D%228.63%22%2F%3E%3Ccircle%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20cx%3D%22175.01%22%20cy%3D%22320.08%22%20r%3D%228.63%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%20cx%3D%22175.01%22%20cy%3D%22320.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M148.5%20361.62h12.06v22.55H148.5z%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22148.5%22%20cy%3D%22372.46%22%20r%3D%2210.29%22%2F%3E%3Ccircle%20stroke%3D%22%23FFF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20cx%3D%22419.54%22%20cy%3D%22391.68%22%20r%3D%2214.24%22%2F%3E%3Ctext%20fill%3D%22%23FFF%22%20font-family%3D%22Helvetica%22%20font-size%3D%2224.94%22%3E%3Ctspan%20x%3D%22412.33%22%20y%3D%22399.25%22%3E%2B%3C%2Ftspan%3E%3C%2Ftext%3E%3Cpath%20fill%3D%22%23666%22%20fill-rule%3D%22nonzero%22%20d%3D%22M202.34%20493.94h89.79v40.63h-89.79z%22%2F%3E%3Cpath%20d%3D%22M280.7%20498.1v.83c0%209.67-.32%209.88-21.31%208.63-2.39-.11-6.23-1.87-6.34-2.91a52%2052%200%2001-.1-13.3c.1-.94%202.6-2.5%204.26-2.6%206.34-.31%2012.78-.31%2019.12%200%201.56.1%203.74%201.66%204.05%202.6.63%202.18.21%204.47.32%206.75zM375.78%20437.62v-39.8l-7.58-7.59h-39.91v47.39z%22%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M179.79%20298.15c-.52-2.59-3.85-4.15-6.34-3.32a5.13%205.13%200%20003.11%209.77h0c2.6-.94%204.27-4.16%203.23-6.45zM179.79%20318.52c-.52-2.59-3.85-4.15-6.34-3.32a5.13%205.13%200%20003.11%209.77c2.6-.97%204.27-4.16%203.23-6.45z%22%20stroke%3D%22%23FFF%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cg%20transform%3D%22translate(187%20291)%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%23FFF%22%3E%3Ccircle%20cx%3D%2295.05%22%20cy%3D%2229.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M99.83%2027.52c-.52-2.59-3.85-4.15-6.34-3.32a5.13%205.13%200%20103.12%209.77h0c2.7-.97%204.26-4.16%203.22-6.45z%22%2F%3E%3Ccircle%20cx%3D%2295.05%22%20cy%3D%229.13%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M99.83%207.57c-.52-2.6-3.85-4.16-6.34-3.33a5.13%205.13%200%20103.12%209.77h0c2.7-.93%204.26-4.15%203.22-6.44z%22%2F%3E%3Ccircle%20cx%3D%2272.5%22%20cy%3D%228.92%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M77.28%207.47c-.52-2.6-3.85-4.16-6.34-3.33a5.13%205.13%200%20003.11%209.77h0c2.6-1.04%204.26-4.16%203.23-6.44z%22%2F%3E%3Ccircle%20cx%3D%2272.7%22%20cy%3D%2229.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M77.48%2027.52c-.52-2.59-3.84-4.15-6.23-3.32a5.13%205.13%200%20103.12%209.77c2.49-.97%204.05-4.16%203.11-6.45z%22%2F%3E%3Ccircle%20cx%3D%2252.02%22%20cy%3D%228.71%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M56.7%207.15c-.52-2.59-3.85-4.15-6.24-3.32a5.13%205.13%200%20003.12%209.77h0c2.6-.94%204.16-4.16%203.12-6.45z%22%2F%3E%3Ccircle%20cx%3D%2251.92%22%20cy%3D%2229.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M56.7%2027.52c-.52-2.59-3.85-4.15-6.24-3.32a5.13%205.13%200%20003.12%209.77c2.5-.97%204.16-4.16%203.12-6.45z%22%2F%3E%3Ccircle%20cx%3D%2229.99%22%20cy%3D%229.13%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M34.77%207.57c-.52-2.6-3.84-4.16-6.23-3.33a5.13%205.13%200%20103.11%209.77c2.5-.93%204.06-4.15%203.12-6.44z%22%2F%3E%3Ccircle%20cx%3D%2229.89%22%20cy%3D%2229.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M34.67%2027.52c-.52-2.59-3.85-4.15-6.24-3.32a5.13%205.13%200%20003.12%209.77c2.6-.97%204.16-4.16%203.12-6.45z%22%2F%3E%3Ccircle%20cx%3D%229.31%22%20cy%3D%229.13%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M14.09%207.57c-.52-2.6-3.84-4.16-6.34-3.33a5.13%205.13%200%20003.12%209.77h0c2.7-.93%204.26-4.15%203.22-6.44z%22%2F%3E%3Ccircle%20cx%3D%229%22%20cy%3D%2229.08%22%20r%3D%228.63%22%2F%3E%3Cpath%20d%3D%22M13.67%2027.52c-.51-2.59-3.84-4.15-6.23-3.32a5.13%205.13%200%20103.12%209.77c2.6-.97%204.15-4.16%203.11-6.45z%22%2F%3E%3C%2Fg%3E%3Cpath%20d%3D%22M119.1%20222.08l-1.67%203.22-54.14-22.75%201.77-3.23%2034.08%2014.35-6.86-4.67c-22.76-16-23.28-16.32-22-19.23l2.39-3.84c.63-1.56-1.35%204%2021.72%2020.16%2011.92%208.41%2024.5%2015.99%2024.71%2015.99z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M117.74%20226c-.1%200-14.44-3.74-28.89-6.44-27.64-5.09-34.39.73-34.39.83l1.45-3.74c1.25-3%206.24-5.82%2033.57-.73%2014.65%202.7%2029%206.44%2029.1%206.55l-.84%203.53zM73.37%20325.38l-.94%203.54-57.67-11%201-3.53%2036.37%207c-2.6-1-5.09-2.08-7.69-3.22-25.53-10.97-26.15-11.17-25.53-14.3l1.46-4.26c.21-1.66-.42%204.16%2025.46%2015.17%2013.51%205.82%2027.44%2010.6%2027.54%2010.6z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M73%20329.54c-.1%200-14.86-.73-29.61-.31-28.17.72-33.47%207.79-33.47%208l.73-4c.62-3.22%204.88-7%2032.74-7.69%2014.86-.42%2029.72.31%2029.82.31l-.21%203.69zM59%20431.28l.31%203.64-58%209-.21-3.64%2036.58-5.72c-2.7-.1-5.5-.2-8.31-.41C1.66%20432.53%201%20432.53.52%20429.41v-4.47c-.31-1.66.94%204.05%2029.1%205.72%2014.55.83%2029.3.62%2029.38.62z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M60%20435.33c-.1%200-14.23%204.37-27.95%209.67-26.33%2010.08-28.93%2018.6-28.83%2018.7l-.73-3.95c-.52-3.22%202.29-8.21%2028.27-18.18%2013.82-5.3%2028.06-9.67%2028.16-9.77l1.08%203.53zM81.06%20529.9l1.77%203.22-48.95%2032.53-1.66-3.22L63%20542c-2.5%201-5.09%202.08-7.8%203.11-25.87%2010.09-26.39%2010.4-28.26%207.69l-1.87-4c-.94-1.35%202.59%203.22%2028.78-7%2013.8-5.45%2027.15-11.8%2027.21-11.9z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M83.66%20533.12c-.11.11-11.12%209.88-21.41%2020.48-19.64%2020.16-18.39%2029-18.29%2029.09l-2.29-3.32c-1.76-2.7-1.35-8.42%2018-28.37%2010.33-10.71%2021.39-20.58%2021.49-20.68l2.5%202.8zM156%20603.58l3.32%201.46-18.18%2055.8-3.33-1.45%2011.43-35.23c-1.35%202.39-2.7%204.78-4.15%207.27-14%2024-14.24%2024.53-17.36%2023.59l-4-2c-1.56-.42%204%20.94%2018.18-23.38%207.53-12.64%2013.97-25.85%2014.09-26.06z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M159.94%20604.62c0%20.11-2.6%2014.66-4.06%2029.31-2.8%2028%203.54%2034.19%203.75%2034.19l-3.85-1.12c-3.12-1-6.24-5.72-3.53-33.36%201.45-14.76%204.05-29.41%204.05-29.52l3.64.5zM350.64%20111.3c20.78-18.91%2018.29-24.11%2019-22.65l2.81%203.53C374%2095%20373.6%2095.4%20353%20114.11l-6.24%205.61%2032-18.5%202.08%202.91-50.82%2029.41-2.08-3c.14-.22%2011.78-9.26%2022.7-19.24z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M328.4%20130.73c.1-.1%2013.92-5.61%2028.06-10.18%2026.5-8.52%2031.8-6.34%2033.35-3.53l2%203.53c0-.1-7.38-5.09-34.19%203.53-14%204.47-27.75%2010-27.85%2010.08l-1.37-3.43zM411.64%20206.91c23.07-16.21%2021.09-21.62%2021.72-20.16l2.39%203.84c1.25%203%20.73%203.33-22%2019.23-2.293%201.66-4.58%203.22-6.86%204.68l34.08-14.34%201.77%203.22-54.14%2022.76-1.67-3.23s12.65-7.58%2024.71-16z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M387.22%20223.33c.1%200%2014.55-3.85%2029.09-6.55%2027.34-5.09%2032.32-2.28%2033.57.73l1.46%203.74c0-.1-6.65-6-34.4-.83-14.45%202.7-28.79%206.44-28.89%206.44l-.83-3.53zM460.07%20315.61c25.87-11%2025.15-16.83%2025.46-15.17l1.47%204.26c.63%203.22%200%203.33-25.56%2014.24-2.6%201.14-5.2%202.18-7.69%203.22l36.37-7%201%203.53-57.68%2011-.93-3.54c.12.06%2014.05-4.72%2027.56-10.54z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M432.73%20326.73c.11%200%2015-.72%2029.83-.31%2027.85.73%2032.11%204.47%2032.74%207.69l.72%203.95c0-.1-5.3-7.27-33.46-8-14.76-.42-29.41.31-29.62.31l-.21-3.64zM476.38%20431.38c28.06-1.66%2029.41-7.38%2029.1-5.71v4.47c-.52%203.22-1.14%203.22-28.89%204.78-2.81.2-5.61.31-8.31.41l36.58%205.72-.21%203.64-58-9.05.35-3.64c0%20.11%2014.73.32%2029.38-.62z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M447%20432.63c.11%200%2014.34%204.36%2028.16%209.77%2026%2010%2028.69%2015%2028.27%2018.19l-.73%203.94c.11-.1-2.59-8.62-28.78-18.7-13.72-5.3-27.85-9.56-28-9.67l1.08-3.53zM363.83%20630.6c14.24%2024.32%2019.85%2022.87%2018.17%2023.4l-4%202c-3.12.94-3.33.42-17.36-23.59-1.45-2.39-2.8-4.88-4.15-7.27l11.43%2035.22-3.33%201.46L346.37%20606l3.33-1.45c.3.07%206.76%2013.27%2014.13%2026.05z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M349.49%20604.83c0%20.1%202.6%2014.76%204.06%2029.51%202.8%2027.65-.42%2032.43-3.54%2033.36l-3.84%201.15c.1%200%206.54-6.13%203.74-34.19-1.46-14.66-4-29.21-4.06-29.31l3.64-.52z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M417.27%20268.57c-1.46-12%2011-23.27%2023.11-23.27%2012.713.39%2022.952%2010.56%2023.43%2023.27%200%2012.28-11.15%2023.43-23.43%2023.27-13.09-.17-24.38-11.84-23.11-23.27zM446.34%20380.48c-1.45-12%2011-23.27%2023.11-23.27%2012.713.39%2022.952%2010.56%2023.43%2023.27%200%2012.28-11.15%2023.43-23.43%2023.27-13.09-.16-24.4-11.75-23.11-23.27zM443.68%20496.55c-1.46-11.95%2011-23.26%2023.1-23.26%2012.714.38%2022.957%2010.55%2023.43%2023.26%200%2012.28-11.15%2023.43-23.43%2023.27-13.09-.16-24.4-11.82-23.1-23.27zM395.52%20587.79c-1.45-12%2011-23.27%2023.11-23.27%2012.711.395%2022.947%2010.562%2023.43%2023.27%200%2012.28-11.15%2023.43-23.43%2023.27-13.09-.16-24.4-11.8-23.11-23.27zM117.81%20187.43c-12.28.17-23.43-11-23.43-23.26.478-12.71%2010.717-22.88%2023.43-23.27%2012.12%200%2024.56%2011.31%2023.11%2023.27%201.29%2011.47-10.02%2023.1-23.11%2023.26zM64%20294.1c-12.28.16-23.43-11-23.43-23.27.483-12.708%2010.719-22.875%2023.43-23.27%2012.12%200%2024.57%2011.31%2023.11%2023.27C88.37%20282.3%2077.06%20293.94%2064%20294.1zM34.9%20406c-12.28.16-23.43-11-23.43-23.27.478-12.707%2010.72-22.87%2023.43-23.25%2012.12%200%2024.56%2011.31%2023.11%2023.27C59.3%20394.22%2048%20405.85%2034.9%20406zM37.57%20522.09c-12.28.16-23.43-11-23.43-23.27.468-12.714%2010.713-22.89%2023.43-23.27%2012.12%200%2024.56%2011.31%2023.1%2023.27%201.33%2011.47-10.01%2023.1-23.1%2023.27zM93.72%20614.32c-12.28.16-23.43-11-23.43-23.27.483-12.708%2010.719-22.875%2023.43-23.27%2012.12%200%2024.56%2011.31%2023.11%2023.27%201.29%2011.48-10.02%2023.11-23.11%2023.27z%22%20stroke%3D%22%23CCC%22%20stroke-width%3D%222%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M204.11%20435.37c-10.22.13-19.5-9.15-19.5-19.37.4-10.578%208.92-19.041%2019.5-19.37%2010.09%200%2020.45%209.42%2019.24%2019.37%201.07%209.55-8.35%2019.23-19.24%2019.37z%22%20fill%3D%22%23D8D7D6%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20fill%3D%22%23999%22%20fill-rule%3D%22nonzero%22%20d%3D%22M212.02%20103.22h83.04v94.47h-83.04z%22%2F%3E%3Cpath%20d%3D%22M221.62%2079.64c-12.28.17-23.43-11-23.43-23.26.468-12.714%2010.713-22.89%2023.43-23.27%2012.12%200%2024.56%2011.31%2023.1%2023.27%201.28%2011.47-10.01%2023.1-23.1%2023.26zM290.93%2079.64c-12.28.17-23.43-11-23.43-23.26.468-12.714%2010.713-22.89%2023.43-23.27%2012.12%200%2024.56%2011.31%2023.11%2023.27%201.29%2011.47-10.04%2023.1-23.11%2023.26z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20d%3D%22M301.56%20357.59c.62-.003%201.23.155%201.77.46.509.285.93.704%201.22%201.21A3.58%203.58%200%2001305%20361v12.02a5.28%205.28%200%2011-6.84%200V361a3.58%203.58%200%2001.45-1.77%203.22%203.22%200%20011.22-1.21%203.562%203.562%200%20011.73-.43h0z%22%20stroke%3D%22%23F9F9F9%22%20stroke-width%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A",
                "useCrocClips": true,
                "width": 400,
                "height": 300,
                "pinDist": 10,
                "pinBlocks": [
                    {
                        "x": 103,
                        "y": 20,
                        "labels": [
                            "A2"
                        ]
                    },
                    {
                        "x": 236,
                        "y": 34,
                        "labels": [
                            "A1"
                        ]
                    },
                    {
                        "x": 171,
                        "y": 17,
                        "labels": [
                            "3.3VOUT"
                        ]
                    },
                    {
                        "x": 172,
                        "y": 271,
                        "labels": [
                            "3.3VOUT"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 161.5,
                        "labels": [
                            "3.3VIN"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 148.3,
                        "labels": [
                            "D14"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 136.5,
                        "labels": [
                            "D13"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 123.5,
                        "labels": [
                            "D12"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 111.5,
                        "labels": [
                            "D11"
                        ]
                    },
                    {
                        "x": 207.5,
                        "y": 99,
                        "labels": [
                            "D10"
                        ]
                    },
                    {
                        "x": 219,
                        "y": 161.5,
                        "labels": [
                            "GND"
                        ]
                    },
                    {
                        "x": 219,
                        "y": 148.3,
                        "labels": [
                            "D9"
                        ]
                    },
                    {
                        "x": 219.4,
                        "y": 136.5,
                        "labels": [
                            "D8"
                        ]
                    },
                    {
                        "x": 219,
                        "y": 123.5,
                        "labels": [
                            "D7"
                        ]
                    },
                    {
                        "x": 219,
                        "y": 111.5,
                        "labels": [
                            "A6"
                        ]
                    },
                    {
                        "x": 219,
                        "y": 99,
                        "labels": [
                            "A5"
                        ]
                    },
                    {
                        "x": 238,
                        "y": 254,
                        "labels": [
                            "A4"
                        ]
                    },
                    {
                        "x": 104,
                        "y": 270,
                        "labels": [
                            "A3"
                        ]
                    },
                    {
                        "x": 51,
                        "y": 242,
                        "labels": [
                            "GND"
                        ]
                    },
                    {
                        "x": 49,
                        "y": 51,
                        "labels": [
                            "GND1"
                        ]
                    },
                    {
                        "x": 300,
                        "y": 222,
                        "labels": [
                            "GND2"
                        ]
                    },
                    {
                        "x": 299,
                        "y": 65,
                        "labels": [
                            "GND3"
                        ]
                    }
                ],
                "leds": [
                    {
                        "x": 227,
                        "y": 173,
                        "w": 14.748972445423053,
                        "h": 14.748815073829538,
                        "color": "neopixel",
                        "label": "NEOPIXEL"
                    }
                ],
                "touchPads": [
                    {
                        "x": 342,
                        "y": 38,
                        "w": 40,
                        "h": 40,
                        "label": "A1"
                    },
                    {
                        "x": 142,
                        "y": 15,
                        "w": 40,
                        "h": 40,
                        "label": "A2"
                    },
                    {
                        "x": 144,
                        "y": 391,
                        "w": 40,
                        "h": 40,
                        "label": "A3"
                    },
                    {
                        "x": 344,
                        "y": 368,
                        "w": 40,
                        "h": 40,
                        "label": "A4"
                    },
                    {
                        "x": 69,
                        "y": 228,
                        "w": 40,
                        "h": 40,
                        "label": "GND"
                    },
                    {
                        "x": 67,
                        "y": 62,
                        "w": 40,
                        "h": 40,
                        "label": "GND1"
                    },
                    {
                        "x": 288,
                        "y": 211,
                        "w": 40,
                        "h": 40,
                        "label": "GND2"
                    },
                    {
                        "x": 288,
                        "y": 78,
                        "w": 40,
                        "h": 40,
                        "label": "GND3"
                    },
                    {
                        "x": 175,
                        "y": 33,
                        "w": 40,
                        "h": 40,
                        "label": "3.3VOUT"
                    },
                    {
                        "x": 176,
                        "y": 255,
                        "w": 40,
                        "h": 40,
                        "label": "3.3VOUT"
                    }
                ],
                "buttons": []
            },
            "gpioPinMap": {
                "A1": "A1",
                "A2": "A2",
                "A3": "A3",
                "A4": "A4",
                "A5": "A5",
                "A6": "A6",
                "D7": "D7",
                "D8": "D8",
                "D9": "D9",
                "D10": "D10",
                "D12": "D11",
                "D13": "D12",
                "D14": "D13",
                "GND1": "GND1",
                "GND2": "GND2",
                "GND3": "GND3",
                "GND": "GND",
                "NEOPIXEL": "NEOPIXEL"
            },
            "spiPins": {},
            "groundPins": [
                "GND",
                "GND1"
            ],
            "threeVoltPins": [
                "3.3VIN",
                "3.3VOUT"
            ],
            "onboardComponents": [
                "lightsensor",
                "accelerometer",
                "neopixel"
            ],
            "marginWhenBreadboarding": [
                0,
                0,
                80,
                0
            ],
            "id": "teknikio-bluebird"
        }
    },
    "cloud": {
        "workspace": false,
        "packages": true,
        "sharing": true,
        "publishing": true,
        "importing": true,
        "thumbnails": true,
        "preferredPackages": [],
        "githubPackages": true
    },
    "appTheme": {
        "accentColor": "#0089BF",
        "logoUrl": "https://github.com/Teknikio/pxt-teknikio",
        "logo": "docs/static/logo.png",
        "organization": "Teknikio",
        "organizationUrl": "https://www.teknikio.com/",
        "organizationLogo": "https://cdn.shopify.com/s/files/1/1837/7355/files/logo_larger_600x.png?v=1572991143",
        "organizationWideLogo": "https://cdn.shopify.com/s/files/1/1837/7355/files/logo_larger_600x.png?v=1572991143",
        "homeUrl": "/",
        "embedUrl": "https://www.teknikio.com/pages/bluebird",
        "privacyUrl": "https://www.teknikio.com/pages/privacy-policy",
        "termsOfUseUrl": "https://www.teknikio.com/pages/terms-and-conditions",
        "githubUrl": "https://github.com/Teknikio/pxt-teknikio",
        "boardName": "board",
        "driveDisplayName": "DRIVE",
        "uploadMessage": "Download",
        "docMenu": [
            {
                "name": "About",
                "path": "https://teknikio.github.io/docs/about"
            },
            {
                "name": "Docs",
                "path": "https://teknikio.github.io/docs/about"
            },
            {
                "name": "Reference",
                "path": "https://teknikio.github.io/docs/reference"
            },
            {
                "name": "FAQ",
                "path": "https://teknikio.github.io/docs/faq"
            }
        ],
        "hasReferenceDocs": true,
        "coloredToolbox": false,
        "monacoToolbox": true,
        "invertedMenu": true,
        "invertedToolbox": true,
        "invertedMonaco": true,
        "selectLanguage": true,
        "availableLocales": [
            "en",
            "de",
            "ja",
            "es-ES",
            "fi",
            "fr",
            "hu",
            "is",
            "it",
            "ko",
            "nl",
            "no",
            "pt-BR",
            "pt-PT",
            "ru",
            "si-LK",
            "sk",
            "sv-SE",
            "tr",
            "uk",
            "zh-CN",
            "zh-TW"
        ],
        "showHomeScreen": true,
        "homeScreenHero": "docs/static/hero.png",
        "blocklyOptions": {
            "grid": {
                "spacing": 20,
                "length": 2,
                "colour": "#fdf4e8",
                "snap": true
            }
        },
        "blocklyColors": {
            "insertionMarker": "#FFFFFF",
            "insertionMarkerOpacity": 0.5
        },
        "blockColors": {
            "pins": "#185C87",
            "mixer": "#185C87",
            "variables": "#E6B901",
            "math": "#E6B901",
            "loops": "#7ED321",
            "logic": "#7ED321",
            "text": "#ffab19",
            "advanced": "#F04D3A",
            "functions": "#005a9e",
            "arrays": "#8A1C7C"
        },
        "allowPackageExtensions": true,
        "alwaysGithubItem": true,
        "monacoColors": {
            "editor.background": "#ecf0f1"
        },
        "socialOptions": {
            "orgTwitterHandle": "teknikio"
        },
        "simAnimationEnter": "roll in",
        "simAnimationExit": "roll out",
        "allowParentController": false,
        "hideMenuBar": false,
        "hideEditorToolbar": false,
        "hideCookieNotice": true,
        "debugger": true,
        "highContrast": true,
        "greenScreen": true,
        "enableTrace": true,
        "print": true,
        "hasAudio": true,
        "extendEditor": true,
        "extendFieldEditors": true,
        "disableBlockIcons": true,
        "scriptManager": true,
        "baseTheme": "dark",
        "qrCode": true,
        "python": true,
        "pythonToolbox": true,
        "TOC": [
            {
                "name": "About",
                "path": "https://teknikio.github.io/docs/about",
                "subitems": []
            },
            {
                "name": "Control Center",
                "path": "https://teknikio.github.io/docs/controlcenter",
                "subitems": []
            },
            {
                "name": "Examples",
                "path": "https://teknikio.github.io/docs/demos",
                "subitems": [
                    {
                        "name": "Siren",
                        "path": "https://teknikio.github.io/docs/demos/siren",
                        "subitems": []
                    },
                    {
                        "name": "Magic Wand",
                        "path": "https://teknikio.github.io/docs/demos/magicwand",
                        "subitems": []
                    },
                    {
                        "name": "Nightlight",
                        "path": "https://teknikio.github.io/docs/demos/nightlight",
                        "subitems": []
                    },
                    {
                        "name": "PushUp Counter",
                        "path": "https://teknikio.github.io/docs/demos/pushupcounter",
                        "subitems": []
                    },
                    {
                        "name": "Smart Timer Cube",
                        "path": "https://teknikio.github.io/docs/demos/timer",
                        "subitems": []
                    },
                    {
                        "name": "Sunset Mountain",
                        "path": "https://teknikio.github.io/docs/demos/nightlight",
                        "subitems": []
                    },
                    {
                        "name": "Conductor's Baton",
                        "path": "https://teknikio.github.io/docs/demos/baton",
                        "subitems": []
                    },
                    {
                        "name": "Domino Effect",
                        "path": "https://teknikio.github.io/docs/demos/domino_effect",
                        "subitems": []
                    },
                    {
                        "name": "Simon Says",
                        "path": "https://teknikio.github.io/docs/demos/simonsays",
                        "subitems": []
                    }
                ]
            },
            {
                "name": "Hardware",
                "path": "https://teknikio.github.io/docs/hardware",
                "subitems": []
            },
            {
                "name": "Hardware Blocks",
                "path": "https://teknikio.github.io/docs/reference",
                "subitems": [
                    {
                        "name": "Basic",
                        "path": "https://teknikio.github.io/docs/reference/basic",
                        "subitems": [
                            {
                                "name": "forever",
                                "path": "https://teknikio.github.io/docs/reference/basic/forever",
                                "subitems": []
                            },
                            {
                                "name": "pause",
                                "path": "https://teknikio.github.io/docs/reference/basic/pause",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Sensors",
                        "path": "https://teknikio.github.io/docs/reference/sensors",
                        "subitems": [
                            {
                                "name": "on gesture",
                                "path": "https://teknikio.github.io/docs/reference/input/on-gesture",
                                "subitems": []
                            },
                            {
                                "name": "on pin pressed",
                                "path": "https://teknikio.github.io/docs/reference/input/on-pin-pressed",
                                "subitems": []
                            },
                            {
                                "name": "pin is pressed",
                                "path": "https://teknikio.github.io/docs/reference/input/pin-is-pressed",
                                "subitems": []
                            },
                            {
                                "name": "temperature",
                                "path": "https://teknikio.github.io/docs/reference/input/temperature",
                                "subitems": []
                            },
                            {
                                "name": "acceleration",
                                "path": "https://teknikio.github.io/docs/reference/input/acceleration",
                                "subitems": []
                            },
                            {
                                "name": "light level",
                                "path": "https://teknikio.github.io/docs/reference/input/light-level",
                                "subitems": []
                            },
                            {
                                "name": "rotation",
                                "path": "https://teknikio.github.io/docs/reference/input/rotation",
                                "subitems": []
                            },
                            {
                                "name": "running time",
                                "path": "https://teknikio.github.io/docs/reference/input/running-time",
                                "subitems": []
                            },
                            {
                                "name": "set accelerometer range",
                                "path": "https://teknikio.github.io/docs/reference/input/set-accelerometer-range",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Music",
                        "path": "https://teknikio.github.io/docs/reference/music",
                        "subitems": [
                            {
                                "name": "play tone",
                                "path": "https://teknikio.github.io/docs/reference/music/play-tone",
                                "subitems": []
                            },
                            {
                                "name": "ring tone",
                                "path": "https://teknikio.github.io/docs/reference/music/ring-tone",
                                "subitems": []
                            },
                            {
                                "name": "rest",
                                "path": "https://teknikio.github.io/docs/reference/music/rest",
                                "subitems": []
                            },
                            {
                                "name": "beat",
                                "path": "https://teknikio.github.io/docs/reference/music/beat",
                                "subitems": []
                            },
                            {
                                "name": "tempo",
                                "path": "https://teknikio.github.io/docs/reference/music/tempo",
                                "subitems": []
                            },
                            {
                                "name": "change tempo by",
                                "path": "https://teknikio.github.io/docs/reference/music/change-tempo-by",
                                "subitems": []
                            },
                            {
                                "name": "set tempo",
                                "path": "https://teknikio.github.io/docs/reference/music/set-tempo",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Led",
                        "path": "https://teknikio.github.io/docs/reference/Neopixel",
                        "subitems": [
                            {
                                "name": "set brightness",
                                "path": "https://teknikio.github.io/docs/reference/led/set-brightness",
                                "subitems": []
                            },
                            {
                                "name": "set color",
                                "path": "https://teknikio.github.io/docs/reference/led/stop-animation",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Pins",
                        "path": "https://teknikio.github.io/docs/reference/pins",
                        "subitems": [
                            {
                                "name": "digital read pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/digital-read-pin",
                                "subitems": []
                            },
                            {
                                "name": "digital write pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/digital-write-pin",
                                "subitems": []
                            },
                            {
                                "name": "analog read pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/analog-read-pin",
                                "subitems": []
                            },
                            {
                                "name": "analog write pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/analog-write-pin",
                                "subitems": []
                            },
                            {
                                "name": "analog set period",
                                "path": "https://teknikio.github.io/docs/reference/pins/analog-set-period",
                                "subitems": []
                            },
                            {
                                "name": "map",
                                "path": "https://teknikio.github.io/docs/reference/pins/map",
                                "subitems": []
                            },
                            {
                                "name": "on pulsed",
                                "path": "https://teknikio.github.io/docs/reference/pins/on-pulsed",
                                "subitems": []
                            },
                            {
                                "name": "pulse duration",
                                "path": "https://teknikio.github.io/docs/reference/pins/pulse-duration",
                                "subitems": []
                            },
                            {
                                "name": "pulse in",
                                "path": "https://teknikio.github.io/docs/reference/pins/pulse-in",
                                "subitems": []
                            },
                            {
                                "name": "servo write pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/servo-write-pin",
                                "subitems": []
                            },
                            {
                                "name": "servo set pulse",
                                "path": "https://teknikio.github.io/docs/reference/pins/servo-set-pulse",
                                "subitems": []
                            },
                            {
                                "name": "i2c read number",
                                "path": "https://teknikio.github.io/docs/reference/pins/i2c-read-number",
                                "subitems": []
                            },
                            {
                                "name": "i2c write number",
                                "path": "https://teknikio.github.io/docs/reference/pins/i2c-write-number",
                                "subitems": []
                            },
                            {
                                "name": "set pull",
                                "path": "https://teknikio.github.io/docs/reference/pins/set-pull",
                                "subitems": []
                            },
                            {
                                "name": "analog pitch",
                                "path": "https://teknikio.github.io/docs/reference/pins/analog-pitch",
                                "subitems": []
                            },
                            {
                                "name": "analog set pitch pin",
                                "path": "https://teknikio.github.io/docs/reference/pins/analog-set-pitch-pin",
                                "subitems": []
                            },
                            {
                                "name": "spi write",
                                "path": "https://teknikio.github.io/docs/reference/pins/spi-write",
                                "subitems": []
                            },
                            {
                                "name": "spi Pins",
                                "path": "https://teknikio.github.io/docs/reference/pins/spi-pins",
                                "subitems": []
                            },
                            {
                                "name": "spi format",
                                "path": "https://teknikio.github.io/docs/reference/pins/spi-format",
                                "subitems": []
                            },
                            {
                                "name": "spi frequency",
                                "path": "https://teknikio.github.io/docs/reference/pins/spi-frequency",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Control",
                        "path": "https://teknikio.github.io/docs/reference/control",
                        "subitems": [
                            {
                                "name": "in background",
                                "path": "https://teknikio.github.io/docs/reference/control/in-background",
                                "subitems": []
                            },
                            {
                                "name": "reset",
                                "path": "https://teknikio.github.io/docs/reference/control/reset",
                                "subitems": []
                            },
                            {
                                "name": "wait micros",
                                "path": "https://teknikio.github.io/docs/reference/control/wait-micros",
                                "subitems": []
                            },
                            {
                                "name": "on event",
                                "path": "https://teknikio.github.io/docs/reference/control/on-event",
                                "subitems": []
                            },
                            {
                                "name": "raise event",
                                "path": "https://teknikio.github.io/docs/reference/control/raise-event",
                                "subitems": []
                            },
                            {
                                "name": "event timestamp",
                                "path": "https://teknikio.github.io/docs/reference/control/event-timestamp",
                                "subitems": []
                            },
                            {
                                "name": "event value",
                                "path": "https://teknikio.github.io/docs/reference/control/event-value",
                                "subitems": []
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Program Blocks",
                "path": "https://teknikio.github.io/docs/blocks",
                "subitems": [
                    {
                        "name": "On Start",
                        "path": "https://teknikio.github.io/docs/blocks/on-start",
                        "subitems": []
                    },
                    {
                        "name": "Loops",
                        "path": "https://teknikio.github.io/docs/blocks/loops",
                        "subitems": [
                            {
                                "name": "repeat",
                                "path": "https://teknikio.github.io/docs/blocks/loops/repeat",
                                "subitems": []
                            },
                            {
                                "name": "for",
                                "path": "https://teknikio.github.io/docs/blocks/loops/for",
                                "subitems": []
                            },
                            {
                                "name": "while",
                                "path": "https://teknikio.github.io/docs/blocks/loops/while",
                                "subitems": []
                            },
                            {
                                "name": "for of",
                                "path": "https://teknikio.github.io/docs/blocks/loops/for-of",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Logic",
                        "path": "https://teknikio.github.io/docs/blocks/logic",
                        "subitems": [
                            {
                                "name": "if",
                                "path": "https://teknikio.github.io/docs/blocks/logic/if",
                                "subitems": []
                            },
                            {
                                "name": "Boolean",
                                "path": "https://teknikio.github.io/docs/blocks/logic/boolean",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Variables",
                        "path": "https://teknikio.github.io/docs/blocks/variables",
                        "subitems": [
                            {
                                "name": "assign",
                                "path": "https://teknikio.github.io/docs/blocks/variables/assign",
                                "subitems": []
                            },
                            {
                                "name": "change var",
                                "path": "https://teknikio.github.io/docs/blocks/variables/change",
                                "subitems": []
                            },
                            {
                                "name": "var",
                                "path": "https://teknikio.github.io/docs/blocks/variables/var",
                                "subitems": []
                            }
                        ]
                    },
                    {
                        "name": "Math",
                        "path": "https://teknikio.github.io/docs/blocks/math",
                        "subitems": []
                    },
                    {
                        "name": "JavaScript blocks",
                        "path": "https://teknikio.github.io/docs/blocks/javascript-blocks",
                        "subitems": []
                    },
                    {
                        "name": "Custom blocks",
                        "path": "https://teknikio.github.io/docs/blocks/custom",
                        "subitems": []
                    }
                ]
            },
            {
                "name": "Python",
                "path": "https://teknikio.github.io/docs/python",
                "subitems": [
                    {
                        "name": "Calling",
                        "path": "https://teknikio.github.io/docs/python/call",
                        "subitems": []
                    },
                    {
                        "name": "Sequencing",
                        "path": "https://teknikio.github.io/docs/python/sequence",
                        "subitems": []
                    },
                    {
                        "name": "Variables",
                        "path": "https://teknikio.github.io/docs/python/variables",
                        "subitems": []
                    },
                    {
                        "name": "Operators",
                        "path": "https://teknikio.github.io/docs/python/operators",
                        "subitems": []
                    },
                    {
                        "name": "Statements",
                        "path": "https://teknikio.github.io/docs/python/statements",
                        "subitems": []
                    },
                    {
                        "name": "Functions",
                        "path": "https://teknikio.github.io/docs/python/functions",
                        "subitems": []
                    },
                    {
                        "name": "Classes",
                        "path": "https://teknikio.github.io/docs/python/classes",
                        "subitems": []
                    }
                ]
            },
            {
                "name": "JavaScript",
                "path": "https://teknikio.github.io/docs/javascript",
                "subitems": [
                    {
                        "name": "Calling",
                        "path": "https://teknikio.github.io/docs/javascript/call",
                        "subitems": []
                    },
                    {
                        "name": "Sequencing",
                        "path": "https://teknikio.github.io/docs/javascript/sequence",
                        "subitems": []
                    },
                    {
                        "name": "Variables",
                        "path": "https://teknikio.github.io/docs/javascript/variables",
                        "subitems": []
                    },
                    {
                        "name": "Operators",
                        "path": "https://teknikio.github.io/docs/javascript/operators",
                        "subitems": []
                    },
                    {
                        "name": "Statements",
                        "path": "https://teknikio.github.io/docs/javascript/statements",
                        "subitems": []
                    },
                    {
                        "name": "Functions",
                        "path": "https://teknikio.github.io/docs/javascript/functions",
                        "subitems": []
                    },
                    {
                        "name": "Types",
                        "path": "https://teknikio.github.io/docs/javascript/types",
                        "subitems": []
                    },
                    {
                        "name": "Classes",
                        "path": "https://teknikio.github.io/docs/javascript/classes",
                        "subitems": []
                    },
                    {
                        "name": "Interfaces",
                        "path": "https://teknikio.github.io/docs/javascript/interfaces",
                        "subitems": []
                    },
                    {
                        "name": "Generics",
                        "path": "https://teknikio.github.io/docs/javascript/generics",
                        "subitems": []
                    }
                ]
            },
            {
                "name": "Types",
                "path": "https://teknikio.github.io/docs/types",
                "subitems": [
                    {
                        "name": "Number",
                        "path": "https://teknikio.github.io/docs/types/number",
                        "subitems": []
                    },
                    {
                        "name": "String",
                        "path": "https://teknikio.github.io/docs/types/string",
                        "subitems": []
                    },
                    {
                        "name": "Boolean",
                        "path": "https://teknikio.github.io/docs/types/boolean",
                        "subitems": []
                    },
                    {
                        "name": "Array",
                        "path": "https://teknikio.github.io/docs/types/array",
                        "subitems": []
                    },
                    {
                        "name": "Function",
                        "path": "https://teknikio.github.io/docs/types/function",
                        "subitems": []
                    }
                ]
            },
            {
                "name": "FAQ",
                "path": "https://teknikio.github.io/docs/faq",
                "subitems": []
            },
            {
                "name": "Support",
                "path": "https://teknikio.github.io/docs/support",
                "subitems": []
            }
        ],
        "id": "teknikio-bluebird",
        "title": "Teknikio Bluebird - Blocks / Javascript Editor",
        "name": "bluebird",
        "description": "A Blocks / Javascript code editor for the Teknikio Bluebird",
        "htmlDocIncludes": {}
    },
    "unsupportedBrowsers": [
        {
            "id": "ie"
        }
    ],
    "versions": {
        "target": "1.5.10",
        "pxt": "6.1.24"
    },
    "blocksprj": {
        "id": "blocksprj",
        "config": {
            "name": "{0}",
            "description": "",
            "dependencies": {
                "teknikio-bluebird": "*",
                "light": "*",
                "core---nrf52": "*"
            },
            "files": [
                "main.blocks",
                "main.ts",
                "custom.ts",
                "README.md"
            ],
            "additionalFilePaths": []
        },
        "files": {
            "README.md": "",
            "custom.ts": "\n/**\n * Use this file to define custom functions and blocks.\n */\n\n/*\n * Each namespace represents a custom block, the name of the block (when displayed in the MakeCode editor) will\n * match the name of the provided namespace, unless another name is defined (under `block=\"Custom Name\"` in the\n * annotations).\n *\n * Functions defined within a namespace will appear as available functions to use within that block category.\n * If you click on a block within the MakeCode editor it will display the available functions for that block.\n *\n * Blocks need to be annotates with //% to be included, annotations also allow you to set the color and icon\n * associated with a block. Read more at https://github.com/microsoft/pxt/blob/master/docs/defining-blocks.md\n */\n\n/**\n * Custom blocks\n */\n\n/*\n * Blocks Added Via Extensions\n *     Add required libraries to libs/ folder and reference as a dependency in libs/teknikio-bluebird/pxt.json\n *\n *     If colors, names, or icons need to be updated, reference the block by it's namespace (should match the default block name)\n *     and make any necessary changes here.\n */\n\n//% weight=100 color=#185C87 icon=\"\"\nnamespace pins {}\n\n//% weight=95 color=#185C87 icon=\"\" block=\"MUSIC\"\nnamespace music {}\n\n//% weight=85 color=#185C87 block=\"Sensors\"\nnamespace input {\n\n}\n\n//% weight=80 icon=\"\"\nnamespace variables {}\n\n//% weight=75 icon=\"f698\"\nnamespace math {}\n\n//% weight=65 icon=\"f01e\"\nnamespace loops {}\n\n//% weight=60\nnamespace logic {}\n\n//% weight=100 color=#185C87 icon=\"\"\nnamespace sensors {}\n\n//% weight=90 color=#185C87 icon=\"\" block=\"LED\"\nnamespace rgb {\n\n  //% block.loc.es-ES=\"Elige el brillo del NeoPixel\"\n  //% block.loc.es=\"Elige el brillo del NeoPixel 2\"\n  //% block.loc.ES=\"Elige el brillo del NeoPixel 3\"\n  //% block.loc.[es-ES]=\"Elige el brillo del NeoPixel 4\"\n  //% block.loc[es-ES]=\"Elige el brillo del NeoPixel 5\"\n  //% block=\"Set NeoPixel color %rgb=colorNumberPicker\"\n  export function setColor(rgb: number): void {\n      light.setAll(rgb);\n  }\n\n  //%block=\"Set NeoPixel brightness %brightness\"\n  export function setBrightness(brightness: number): void {\n      light.setBrightness(brightness);\n  }\n\n  //% red.min=0 red.max=255 green.min=0 green.max=255 blue.min=0 blue.max=255\n  //%block=\"red %red|green %green|blue %blue\"\n  export function rgb(red: number, green: number, blue: number): void {\n    light.setAll(((red & 0xFF) << 16) | ((green & 0xFF) << 8) | (blue & 0xFF));\n  }\n\n}\n\n//% color=#8169E6 weight=35 icon=\"\\uf00a\" block=\"LED Matrix\"\nnamespace led {\n\n}",
            "main.blocks": "<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n</xml>\n",
            "main.ts": "\n"
        }
    },
    "tsprj": {
        "id": "tsprj",
        "config": {
            "name": "{0}",
            "description": "",
            "dependencies": {
                "teknikio-bluebird": "*",
                "light": "*",
                "core---nrf52": "*"
            },
            "files": [
                "main.ts",
                "custom.ts",
                "README.md"
            ],
            "additionalFilePaths": []
        },
        "files": {
            "README.md": "",
            "custom.ts": "\n/**\n * Use this file to define custom functions and blocks.\n */\n\n/*\n * Each namespace represents a custom block, the name of the block (when displayed in the MakeCode editor) will\n * match the name of the provided namespace, unless another name is defined (under `block=\"Custom Name\"` in the\n * annotations).\n *\n * Functions defined within a namespace will appear as available functions to use within that block category.\n * If you click on a block within the MakeCode editor it will display the available functions for that block.\n *\n * Blocks need to be annotates with //% to be included, annotations also allow you to set the color and icon\n * associated with a block. Read more at https://github.com/microsoft/pxt/blob/master/docs/defining-blocks.md\n */\n\n/**\n * Custom blocks\n */\n\n/*\n * Blocks Added Via Extensions\n *     Add required libraries to libs/ folder and reference as a dependency in libs/teknikio-bluebird/pxt.json\n *\n *     If colors, names, or icons need to be updated, reference the block by it's namespace (should match the default block name)\n *     and make any necessary changes here.\n */\n\n//% weight=100 color=#185C87 icon=\"\"\nnamespace pins {}\n\n//% weight=95 color=#185C87 icon=\"\" block=\"MUSIC\"\nnamespace music {}\n\n//% weight=85 color=#185C87 block=\"Sensors\"\nnamespace input {\n\n}\n\n//% weight=80 icon=\"\"\nnamespace variables {}\n\n//% weight=75 icon=\"f698\"\nnamespace math {}\n\n//% weight=65 icon=\"f01e\"\nnamespace loops {}\n\n//% weight=60\nnamespace logic {}\n\n//% weight=100 color=#185C87 icon=\"\"\nnamespace sensors {}\n\n//% weight=90 color=#185C87 icon=\"\" block=\"LED\"\nnamespace rgb {\n\n  //% block.loc.es-ES=\"Elige el brillo del NeoPixel\"\n  //% block.loc.es=\"Elige el brillo del NeoPixel 2\"\n  //% block.loc.ES=\"Elige el brillo del NeoPixel 3\"\n  //% block.loc.[es-ES]=\"Elige el brillo del NeoPixel 4\"\n  //% block.loc[es-ES]=\"Elige el brillo del NeoPixel 5\"\n  //% block=\"Set NeoPixel color %rgb=colorNumberPicker\"\n  export function setColor(rgb: number): void {\n      light.setAll(rgb);\n  }\n\n  //%block=\"Set NeoPixel brightness %brightness\"\n  export function setBrightness(brightness: number): void {\n      light.setBrightness(brightness);\n  }\n\n  //% red.min=0 red.max=255 green.min=0 green.max=255 blue.min=0 blue.max=255\n  //%block=\"red %red|green %green|blue %blue\"\n  export function rgb(red: number, green: number, blue: number): void {\n    light.setAll(((red & 0xFF) << 16) | ((green & 0xFF) << 8) | (blue & 0xFF));\n  }\n\n}\n\n//% color=#8169E6 weight=35 icon=\"\\uf00a\" block=\"LED Matrix\"\nnamespace led {\n\n}",
            "main.ts": "\n"
        }
    },
    "bundledpkgs": {
        "base": {
            "README.md": "# base\n\nThe base library, shared by all C++ targets (not only Codal-based).\n\n\n",
            "advmath.cpp": "#include \"pxtbase.h\"\n\nusing namespace std;\n\n#define SINGLE(op) return fromDouble(::op(toDouble(x)));\n\nnamespace Math_ {\n\n//%\nTNumber log2(TNumber x){SINGLE(log2)}\n//%\nTNumber exp(TNumber x){SINGLE(exp)}\n//%\nTNumber tanh(TNumber x){SINGLE(tanh)}\n//%\nTNumber sinh(TNumber x){SINGLE(sinh)}\n//%\nTNumber cosh(TNumber x){SINGLE(cosh)}\n//%\nTNumber atanh(TNumber x){SINGLE(atanh)}\n//%\nTNumber asinh(TNumber x){SINGLE(asinh)}\n//%\nTNumber acosh(TNumber x){SINGLE(acosh)}\n\n}",
            "buffer.cpp": "#include \"pxtbase.h\"\n#include <limits.h>\n\nusing namespace std;\n\n//% indexerGet=BufferMethods::getByte indexerSet=BufferMethods::setByte\nnamespace BufferMethods {\n//%\nuint8_t *getBytes(Buffer buf) {\n    return buf->data;\n}\n\n//%\nint getByte(Buffer buf, int off) {\n    if (buf && 0 <= off && off < buf->length)\n        return buf->data[off];\n    return 0;\n}\n\n//%\nvoid setByte(Buffer buf, int off, int v) {\n    if (buf && 0 <= off && off < buf->length)\n        buf->data[off] = v;\n}\n\n/**\n* Reads an unsigned byte at a particular location\n*/\n//%\nint getUint8(Buffer buf, int off) {\n    return getByte(buf, off);\n}\n\n/**\n * Returns false when the buffer can be written to.\n */\n//%\nbool isReadOnly(Buffer buf) {\n    return buf->isReadOnly();\n}\n\n/**\n* Writes an unsigned byte at a particular location\n*/\n//%\nvoid setUint8(Buffer buf, int off, int v) {\n    setByte(buf, off, v);\n}\n\nint writeBuffer(Buffer buf, int dstOffset, Buffer src, int srcOffset = 0, int length = -1) {\n    if (length < 0)\n        length = src->length;\n\n    if (srcOffset < 0 || dstOffset < 0 || dstOffset > buf->length)\n        return -1;\n\n    length = min(src->length - srcOffset, buf->length - dstOffset);\n\n    if (length < 0)\n        return -1;\n\n    if (buf == src) {\n        memmove(buf->data + dstOffset, src->data + srcOffset, length);\n    } else {\n        memcpy(buf->data + dstOffset, src->data + srcOffset, length);\n    }\n\n    return 0;\n}\n\n/**\n * Write a number in specified format in the buffer.\n */\n//%\nvoid setNumber(Buffer buf, NumberFormat format, int offset, TNumber value) {\n    if (offset < 0)\n        return;\n    setNumberCore(buf->data + offset, buf->length - offset, format, value);\n}\n\n/**\n * Read a number in specified format from the buffer.\n */\n//%\nTNumber getNumber(Buffer buf, NumberFormat format, int offset) {\n    if (offset < 0)\n        return fromInt(0);\n    return getNumberCore(buf->data + offset, buf->length - offset, format);\n}\n\n/** Returns the length of a Buffer object. */\n//% property\nint length(Buffer s) {\n    return s->length;\n}\n\n/**\n * Fill (a fragment) of the buffer with given value.\n */\n//%\nvoid fill(Buffer buf, int value, int offset = 0, int length = -1) {\n    if (offset < 0 || offset > buf->length)\n        return; // DEVICE_INVALID_PARAMETER;\n    if (length < 0)\n        length = buf->length;\n    length = min(length, buf->length - offset);\n    memset(buf->data + offset, value, length);\n}\n\n/**\n * Return a copy of a fragment of a buffer.\n */\n//%\nBuffer slice(Buffer buf, int offset = 0, int length = -1) {\n    offset = min((int)buf->length, offset);\n    if (length < 0)\n        length = buf->length;\n    length = min(length, buf->length - offset);\n    return mkBuffer(buf->data + offset, length);\n}\n\n/**\n * Shift buffer left in place, with zero padding.\n * @param offset number of bytes to shift; use negative value to shift right\n * @param start start offset in buffer. Default is 0.\n * @param length number of elements in buffer. If negative, length is set as the buffer length minus\n * start. eg: -1\n */\n//%\nvoid shift(Buffer buf, int offset, int start = 0, int length = -1) {\n    if (length < 0)\n        length = buf->length - start;\n    if (start < 0 || start + length > buf->length || start + length < start || length == 0 ||\n        offset == 0 || offset == INT_MIN)\n        return;\n    if (offset <= -length || offset >= length) {\n        fill(buf, 0);\n        return;\n    }\n\n    uint8_t *data = buf->data + start;\n    if (offset < 0) {\n        offset = -offset;\n        memmove(data + offset, data, length - offset);\n        memset(data, 0, offset);\n    } else {\n        length = length - offset;\n        memmove(data, data + offset, length);\n        memset(data + length, 0, offset);\n    }\n}\n\n/**\n * Convert a buffer to string assuming UTF8 encoding\n */\n//%\nString toString(Buffer buf) {\n    return mkString((char *)buf->data, buf->length);\n}\n\n/**\n * Convert a buffer to its hexadecimal representation.\n */\n//%\nString toHex(Buffer buf) {\n    const char *hex = \"0123456789abcdef\";\n    auto res = mkStringCore(NULL, buf->length * 2);\n    for (int i = 0; i < buf->length; ++i) {\n        res->ascii.data[i << 1] = hex[buf->data[i] >> 4];\n        res->ascii.data[(i << 1) + 1] = hex[buf->data[i] & 0xf];\n    }\n    return res;\n}\n\n/**\n * Rotate buffer left in place.\n * @param offset number of bytes to shift; use negative value to shift right\n * @param start start offset in buffer. Default is 0.\n * @param length number of elements in buffer. If negative, length is set as the buffer length minus\n * start. eg: -1\n */\n//%\nvoid rotate(Buffer buf, int offset, int start = 0, int length = -1) {\n    if (length < 0)\n        length = buf->length - start;\n    if (start < 0 || start + length > buf->length || start + length < start || length == 0 ||\n        offset == 0 || offset == INT_MIN)\n        return;\n\n    if (offset < 0)\n        offset += length << 8; // try to make it positive\n    offset %= length;\n    if (offset < 0)\n        offset += length;\n\n    uint8_t *data = buf->data + start;\n\n    uint8_t *n_first = data + offset;\n    uint8_t *first = data;\n    uint8_t *next = n_first;\n    uint8_t *last = data + length;\n\n    while (first != next) {\n        uint8_t tmp = *first;\n        *first++ = *next;\n        *next++ = tmp;\n        if (next == last) {\n            next = n_first;\n        } else if (first == n_first) {\n            n_first = next;\n        }\n    }\n}\n\n/**\n * Write contents of `src` at `dstOffset` in current buffer.\n */\n//%\nvoid write(Buffer buf, int dstOffset, Buffer src) {\n    // srcOff and length not supported, we only do up to 4 args :/\n    writeBuffer(buf, dstOffset, src, 0, -1);\n}\n} // namespace BufferMethods\n\nnamespace control {\n/**\n * Create a new zero-initialized buffer.\n * @param size number of bytes in the buffer\n */\n//%\nBuffer createBuffer(int size) {\n    return mkBuffer(NULL, size);\n}\n\n\n/**\n * Create a new buffer with UTF8-encoded string\n * @param str the string to put in the buffer\n */\n//%\nBuffer createBufferFromUTF8(String str) {\n#if PXT_UTF8\n    auto sz = toRealUTF8(str, NULL);\n    auto r = mkBuffer(NULL, sz);\n    toRealUTF8(str, r->data);\n    return r;\n#else\n    return mkBuffer((const uint8_t *)str->getUTF8Data(), str->getUTF8Size());\n#endif\n}\n} // namespace control\n\nnamespace pxt {\nstatic int writeBytes(uint8_t *dst, uint8_t *src, int length, bool swapBytes, int szLeft) {\n    if (szLeft < length) {\n        return -1;\n    }\n\n    if (swapBytes) {\n        uint8_t *p = dst + length;\n        for (int i = 0; i < length; ++i)\n            *--p = src[i];\n    } else {\n        if (length == 4 && ((uintptr_t)dst & 3) == 0)\n            *(uint32_t *)dst = *(uint32_t *)src;\n        else if (length == 2 && ((uintptr_t)dst & 1) == 0)\n            *(uint16_t *)dst = *(uint16_t *)src;\n        else\n            memcpy(dst, src, length);\n    }\n\n    return 0;\n}\n\nstatic int readBytes(uint8_t *src, uint8_t *dst, int length, bool swapBytes, int szLeft) {\n    if (szLeft < length) {\n        memset(dst, 0, length);\n        return -1;\n    }\n\n    if (swapBytes) {\n        uint8_t *p = src + length;\n        for (int i = 0; i < length; ++i)\n            dst[i] = *--p;\n    } else {\n        if (length == 4 && ((uintptr_t)src & 3) == 0)\n            *(uint32_t *)dst = *(uint32_t *)src;\n        else if (length == 2 && ((uintptr_t)src & 1) == 0)\n            *(uint16_t *)dst = *(uint16_t *)src;\n        else\n            memcpy(dst, src, length);\n    }\n\n    return 0;\n}\n\nvoid setNumberCore(uint8_t *buf, int szLeft, NumberFormat format, TNumber value) {\n    int8_t i8;\n    uint8_t u8;\n    int16_t i16;\n    uint16_t u16;\n    int32_t i32;\n    uint32_t u32;\n    float f32;\n    double f64;\n\n// Assume little endian\n#define WRITEBYTES(isz, swap, toInt)                                                               \\\n    isz = toInt(value);                                                                            \\\n    writeBytes(buf, (uint8_t *)&isz, sizeof(isz), swap, szLeft);                                   \\\n    break\n\n    switch (format) {\n    case NumberFormat::Int8LE:\n        WRITEBYTES(i8, false, toInt);\n    case NumberFormat::UInt8LE:\n        WRITEBYTES(u8, false, toInt);\n    case NumberFormat::Int16LE:\n        WRITEBYTES(i16, false, toInt);\n    case NumberFormat::UInt16LE:\n        WRITEBYTES(u16, false, toInt);\n    case NumberFormat::Int32LE:\n        WRITEBYTES(i32, false, toInt);\n    case NumberFormat::UInt32LE:\n        WRITEBYTES(u32, false, toUInt);\n\n    case NumberFormat::Int8BE:\n        WRITEBYTES(i8, true, toInt);\n    case NumberFormat::UInt8BE:\n        WRITEBYTES(u8, true, toInt);\n    case NumberFormat::Int16BE:\n        WRITEBYTES(i16, true, toInt);\n    case NumberFormat::UInt16BE:\n        WRITEBYTES(u16, true, toInt);\n    case NumberFormat::Int32BE:\n        WRITEBYTES(i32, true, toInt);\n    case NumberFormat::UInt32BE:\n        WRITEBYTES(u32, true, toUInt);\n\n    case NumberFormat::Float32LE:\n        WRITEBYTES(f32, false, toFloat);\n    case NumberFormat::Float32BE:\n        WRITEBYTES(f32, true, toFloat);\n    case NumberFormat::Float64LE:\n        WRITEBYTES(f64, false, toDouble);\n    case NumberFormat::Float64BE:\n        WRITEBYTES(f64, true, toDouble);\n    }\n}\n\nTNumber getNumberCore(uint8_t *buf, int szLeft, NumberFormat format) {\n    int8_t i8;\n    uint8_t u8;\n    int16_t i16;\n    uint16_t u16;\n    int32_t i32;\n    uint32_t u32;\n    float f32;\n    double f64;\n\n// Assume little endian\n#define READBYTES(isz, swap, conv)                                                                 \\\n    readBytes(buf, (uint8_t *)&isz, sizeof(isz), swap, szLeft);                                    \\\n    return conv(isz)\n\n    switch (format) {\n    case NumberFormat::Int8LE:\n        READBYTES(i8, false, fromInt);\n    case NumberFormat::UInt8LE:\n        READBYTES(u8, false, fromInt);\n    case NumberFormat::Int16LE:\n        READBYTES(i16, false, fromInt);\n    case NumberFormat::UInt16LE:\n        READBYTES(u16, false, fromInt);\n    case NumberFormat::Int32LE:\n        READBYTES(i32, false, fromInt);\n    case NumberFormat::UInt32LE:\n        READBYTES(u32, false, fromUInt);\n\n    case NumberFormat::Int8BE:\n        READBYTES(i8, true, fromInt);\n    case NumberFormat::UInt8BE:\n        READBYTES(u8, true, fromInt);\n    case NumberFormat::Int16BE:\n        READBYTES(i16, true, fromInt);\n    case NumberFormat::UInt16BE:\n        READBYTES(u16, true, fromInt);\n    case NumberFormat::Int32BE:\n        READBYTES(i32, true, fromInt);\n    case NumberFormat::UInt32BE:\n        READBYTES(u32, true, fromUInt);\n\n    case NumberFormat::Float32LE:\n        READBYTES(f32, false, fromFloat);\n    case NumberFormat::Float32BE:\n        READBYTES(f32, true, fromFloat);\n    case NumberFormat::Float64LE:\n        READBYTES(f64, false, fromDouble);\n    case NumberFormat::Float64BE:\n        READBYTES(f64, true, fromDouble);\n    }\n\n    return 0;\n}\n} // namespace pxt\n",
            "buffer.ts": "namespace pins {\n    /**\n     * Get the size in bytes of specified number format.\n     */\n    //%\n    export function sizeOf(format: NumberFormat) {\n        switch (format) {\n            case NumberFormat.Int8LE:\n            case NumberFormat.UInt8LE:\n            case NumberFormat.Int8BE:\n            case NumberFormat.UInt8BE:\n                return 1;\n            case NumberFormat.Int16LE:\n            case NumberFormat.UInt16LE:\n            case NumberFormat.Int16BE:\n            case NumberFormat.UInt16BE:\n                return 2;\n            case NumberFormat.Int32LE:\n            case NumberFormat.Int32BE:\n            case NumberFormat.UInt32BE:\n            case NumberFormat.UInt32LE:\n            case NumberFormat.Float32BE:\n            case NumberFormat.Float32LE:\n                return 4;\n            case NumberFormat.Float64BE:\n            case NumberFormat.Float64LE:\n                return 8;\n        }\n        return 0;\n    }\n\n    /**\n     * Create a new buffer initalized to bytes from given array.\n     * @param bytes data to initalize with\n     */\n    //%\n    export function createBufferFromArray(bytes: number[]) {\n        let buf = control.createBuffer(bytes.length)\n        for (let i = 0; i < bytes.length; ++i)\n            buf[i] = bytes[i]\n        return buf\n    }\n\n    function getFormat(pychar: string, isBig: boolean) {\n        switch (pychar) {\n            case 'B':\n                return NumberFormat.UInt8LE\n            case 'b':\n                return NumberFormat.Int8LE\n            case 'H':\n                return isBig ? NumberFormat.UInt16BE : NumberFormat.UInt16LE\n            case 'h':\n                return isBig ? NumberFormat.Int16BE : NumberFormat.Int16LE\n            case 'I':\n            case 'L':\n                return isBig ? NumberFormat.UInt32BE : NumberFormat.UInt32LE\n            case 'i':\n            case 'l':\n                return isBig ? NumberFormat.Int32BE : NumberFormat.Int32LE\n            case 'f':\n                return isBig ? NumberFormat.Float32BE : NumberFormat.Float32LE\n            case 'd':\n                return isBig ? NumberFormat.Float64BE : NumberFormat.Float64LE\n            default:\n                return null as NumberFormat\n        }\n    }\n\n    function packUnpackCore(format: string, nums: number[], buf: Buffer, isPack: boolean, off = 0) {\n        let isBig = false\n        let idx = 0\n        for (let i = 0; i < format.length; ++i) {\n            switch (format[i]) {\n                case ' ':\n                case '<':\n                case '=':\n                    isBig = false\n                    break\n                case '>':\n                case '!':\n                    isBig = true\n                    break\n                case 'x':\n                    off++\n                    break\n                default:\n                    let fmt = getFormat(format[i], isBig)\n                    if (fmt === null) {\n                        control.fail(\"Not supported format character: \" + format[i])\n                    } else {\n                        if (buf) {\n                            if (isPack)\n                                buf.setNumber(fmt, off, nums[idx++])\n                            else\n                                nums.push(buf.getNumber(fmt, off))\n                        }\n\n                        off += pins.sizeOf(fmt)\n                    }\n                    break\n            }\n        }\n        return off\n    }\n\n    export function packedSize(format: string) {\n        return packUnpackCore(format, null, null, true)\n    }\n\n    export function packBuffer(format: string, nums: number[]) {\n        let buf = control.createBuffer(packedSize(format))\n        packUnpackCore(format, nums, buf, true)\n        return buf\n    }\n\n    export function packIntoBuffer(format: string, buf: Buffer, offset: number, nums: number[]) {\n        packUnpackCore(format, nums, buf, true, offset)\n    }\n\n    export function unpackBuffer(format: string, buf: Buffer, offset = 0) {\n        let res: number[] = []\n        packUnpackCore(format, res, buf, false, offset)\n        return res\n    }\n\n    export function concatBuffers(bufs: Buffer[]) {\n        let len = 0\n        for (let b of bufs)\n            len += b.length\n        const r = control.createBuffer(len)\n        len = 0\n        for (let b of bufs) {\n            r.write(len, b)\n            len += b.length\n        }\n        return r\n    }\n}\n\n// see http://msgpack.org/ for the spec\n// it currently only implements numbers and their sequances\n// once we handle any type and typeof expressions we can do more\n\nnamespace msgpack {\n    function tagFormat(tag: number) {\n        switch (tag) {\n            case 0xCB: return NumberFormat.Float64BE\n            case 0xCC: return NumberFormat.UInt8BE\n            case 0xCD: return NumberFormat.UInt16BE\n            case 0xCE: return NumberFormat.UInt32BE\n            case 0xD0: return NumberFormat.Int8BE\n            case 0xD1: return NumberFormat.Int16BE\n            case 0xD2: return NumberFormat.Int32BE\n            default:\n                return null\n        }\n    }\n\n    function packNumberCore(buf: Buffer, offset: number, num: number) {\n        let tag = 0xCB\n        if (num == (num << 0) || num == (num >>> 0)) {\n            if (-31 <= num && num <= 127) {\n                if (buf) buf[offset] = num\n                return 1\n            } else if (0 <= num) {\n                if (num <= 0xff) {\n                    tag = 0xCC\n                } else if (num <= 0xffff) {\n                    tag = 0xCD\n                } else {\n                    tag = 0xCE\n                }\n            } else {\n                if (-0x7f <= num) {\n                    tag = 0xD0\n                } else if (-0x7fff <= num) {\n                    tag = 0xD1\n                } else {\n                    tag = 0xD2\n                }\n            }\n        }\n        let fmt = tagFormat(tag)\n        if (buf) {\n            buf[offset] = tag\n            buf.setNumber(fmt, offset + 1, num)\n        }\n        return pins.sizeOf(fmt) + 1\n    }\n\n    /**\n     * Unpacks a buffer into a number array.\n     */\n    export function unpackNumberArray(buf: Buffer, offset = 0): number[] {\n        let res: number[] = []\n\n        while (offset < buf.length) {\n            let fmt = tagFormat(buf[offset++])\n            if (fmt === null) {\n                let v = buf.getNumber(NumberFormat.Int8BE, offset - 1)\n                if (-31 <= v && v <= 127)\n                    res.push(v)\n                else\n                    return null\n            } else {\n                res.push(buf.getNumber(fmt, offset))\n                offset += pins.sizeOf(fmt)\n            }\n            // padding at the end\n            while (buf[offset] === 0xc1) offset++;\n        }\n\n        return res\n    }\n\n    /**\n     * Pack a number array into a buffer.\n     * @param nums the numbers to be packed\n     */\n    export function packNumberArray(nums: number[]): Buffer {\n        let off = 0\n        for (let n of nums) {\n            off += packNumberCore(null, off, n)\n        }\n        let buf = control.createBuffer(off)\n        off = 0\n        for (let n of nums) {\n            off += packNumberCore(buf, off, n)\n        }\n        return buf\n    }\n}\n\nnamespace helpers {\n    export function bufferConcat(a: Buffer, b: Buffer) {\n        const r = control.createBuffer(a.length + b.length)\n        r.write(0, a)\n        r.write(a.length, b)\n        return r\n    }\n\n    export function bufferIndexOf(a: Buffer, b: Buffer) {\n        for (let i = 0; i <= a.length - b.length; ++i) {\n            if (a[i] == b[0]) {\n                let j = 0\n                while (j < b.length) {\n                    if (a[i + j] != b[j])\n                        break\n                    j++\n                }\n                if (j >= b.length)\n                    return i\n            }\n        }\n        return -1\n    }\n}\n\ninterface Buffer {\n    [index: number]: number;\n\n    /**\n     * Return concatenation of current buffer and the given buffer\n     */\n    //% helper=bufferConcat\n    concat(other: Buffer): Buffer;\n\n    /**\n     * Return position of other buffer in current buffer\n     */\n    //% helper=bufferIndexOf\n    indexOf(other: Buffer): number;\n\n    // rest defined in buffer.cpp\n}",
            "configkeys.h": "#ifndef __PXT_CONFIGKEYS_H\n#define __PXT_CONFIGKEYS_H\n\n// used by pins.cpp to mask off the pin name from any config\n// lower 16 pins of value are the pin name\n#define CFG_PIN_NAME_MSK 0x0000ffff\n// upper 16 bits of value is any configuration of the pin.\n#define CFG_PIN_CONFIG_MSK 0xffff0000\n\n// begin optional pin configurations\n#define CFG_PIN_CONFIG_ACTIVE_LO 0x10000\n\n\n#define CFG_MAGIC0 0x1e9e10f1\n#define CFG_MAGIC1 0x20227a79\n\n// these define keys for getConfig() function\n#define CFG_PIN_ACCELEROMETER_INT 1\n#define CFG_PIN_ACCELEROMETER_SCL 2\n#define CFG_PIN_ACCELEROMETER_SDA 3\n#define CFG_PIN_BTN_A 4\n#define CFG_PIN_BTN_B 5\n#define CFG_PIN_BTN_SLIDE 6\n#define CFG_PIN_DOTSTAR_CLOCK 7\n#define CFG_PIN_DOTSTAR_DATA 8\n#define CFG_PIN_FLASH_CS 9\n#define CFG_PIN_FLASH_MISO 10\n#define CFG_PIN_FLASH_MOSI 11\n#define CFG_PIN_FLASH_SCK 12\n#define CFG_PIN_LED 13\n#define CFG_PIN_LIGHT 14\n#define CFG_PIN_MICROPHONE 15\n#define CFG_PIN_MIC_CLOCK 16\n#define CFG_PIN_MIC_DATA 17\n#define CFG_PIN_MISO 18\n#define CFG_PIN_MOSI 19\n#define CFG_PIN_NEOPIXEL 20\n#define CFG_PIN_RX 21\n#define CFG_PIN_RXLED 22\n#define CFG_PIN_SCK 23\n#define CFG_PIN_SCL 24\n#define CFG_PIN_SDA 25\n#define CFG_PIN_SPEAKER_AMP 26\n#define CFG_PIN_TEMPERATURE 27\n#define CFG_PIN_TX 28\n#define CFG_PIN_TXLED 29\n#define CFG_PIN_IR_OUT 30\n#define CFG_PIN_IR_IN 31\n#define CFG_PIN_DISPLAY_SCK 32\n#define CFG_PIN_DISPLAY_MISO 33\n#define CFG_PIN_DISPLAY_MOSI 34\n#define CFG_PIN_DISPLAY_CS 35\n#define CFG_PIN_DISPLAY_DC 36\n#define CFG_DISPLAY_WIDTH 37\n#define CFG_DISPLAY_HEIGHT 38\n#define CFG_DISPLAY_CFG0 39\n#define CFG_DISPLAY_CFG1 40\n#define CFG_DISPLAY_CFG2 41\n#define CFG_DISPLAY_CFG3 42\n#define CFG_PIN_DISPLAY_RST 43\n#define CFG_PIN_DISPLAY_BL 44\n#define CFG_PIN_SERVO_1 45\n#define CFG_PIN_SERVO_2 46\n#define CFG_PIN_BTN_LEFT 47\n#define CFG_PIN_BTN_RIGHT 48\n#define CFG_PIN_BTN_UP 49\n#define CFG_PIN_BTN_DOWN 50\n#define CFG_PIN_BTN_MENU 51\n#define CFG_PIN_LED_R 52\n#define CFG_PIN_LED_G 53\n#define CFG_PIN_LED_B 54\n#define CFG_PIN_LED1 55\n#define CFG_PIN_LED2 56\n#define CFG_PIN_LED3 57\n#define CFG_PIN_LED4 58\n#define CFG_SPEAKER_VOLUME 59\n\n#define CFG_PIN_JACK_TX 60\n#define CFG_PIN_JACK_SENSE 61\n#define CFG_PIN_JACK_HPEN 62\n#define CFG_PIN_JACK_BZEN 63\n#define CFG_PIN_JACK_PWREN 64\n#define CFG_PIN_JACK_SND 65\n#define CFG_PIN_JACK_BUSLED 66\n#define CFG_PIN_JACK_COMMLED 67\n\n#define CFG_PIN_BTN_SOFT_RESET 69\n#define CFG_ACCELEROMETER_TYPE 70\n#define CFG_PIN_BTNMX_LATCH 71\n#define CFG_PIN_BTNMX_CLOCK 72\n#define CFG_PIN_BTNMX_DATA 73\n#define CFG_PIN_BTN_MENU2 74\n#define CFG_PIN_BATTSENSE 75\n#define CFG_PIN_VIBRATION 76\n#define CFG_PIN_PWREN 77\n#define CFG_DISPLAY_TYPE 78\n\n#define CFG_PIN_ROTARY_ENCODER_A 79\n#define CFG_PIN_ROTARY_ENCODER_B 80\n\n#define CFG_ACCELEROMETER_SPACE 81\n\n#define CFG_PIN_WIFI_MOSI 82\n#define CFG_PIN_WIFI_MISO 83\n#define CFG_PIN_WIFI_SCK 84\n#define CFG_PIN_WIFI_TX 85\n#define CFG_PIN_WIFI_RX 86\n#define CFG_PIN_WIFI_CS 87\n#define CFG_PIN_WIFI_BUSY 88\n#define CFG_PIN_WIFI_RESET 89\n#define CFG_PIN_WIFI_GPIO0 90\n#define CFG_PIN_WIFI_AT_TX 91\n#define CFG_PIN_WIFI_AT_RX 92\n\n#define CFG_PIN_USB_POWER 93\n\n// default I2C address\n#define ACCELEROMETER_TYPE_LIS3DH 0x32\n#define ACCELEROMETER_TYPE_LIS3DH_ALT 0x30\n#define ACCELEROMETER_TYPE_MMA8453 0x38\n#define ACCELEROMETER_TYPE_FXOS8700 0x3C\n#define ACCELEROMETER_TYPE_MMA8653 0x3A\n#define ACCELEROMETER_TYPE_MSA300 0x4C\n#define ACCELEROMETER_TYPE_MPU6050 0x68\n\n#define DISPLAY_TYPE_ST7735 7735\n#define DISPLAY_TYPE_ILI9341 9341\n\n#define CFG_PIN_A0 100\n#define CFG_PIN_A1 101\n#define CFG_PIN_A2 102\n#define CFG_PIN_A3 103\n#define CFG_PIN_A4 104\n#define CFG_PIN_A5 105\n#define CFG_PIN_A6 106\n#define CFG_PIN_A7 107\n#define CFG_PIN_A8 108\n#define CFG_PIN_A9 109\n#define CFG_PIN_A10 110\n#define CFG_PIN_A11 111\n#define CFG_PIN_A12 112\n#define CFG_PIN_A13 113\n#define CFG_PIN_A14 114\n#define CFG_PIN_A15 115\n#define CFG_PIN_A16 116\n#define CFG_PIN_A17 117\n#define CFG_PIN_A18 118\n#define CFG_PIN_A19 119\n#define CFG_PIN_A20 120\n#define CFG_PIN_A21 121\n#define CFG_PIN_A22 122\n#define CFG_PIN_A23 123\n#define CFG_PIN_A24 124\n#define CFG_PIN_A25 125\n#define CFG_PIN_A26 126\n#define CFG_PIN_A27 127\n#define CFG_PIN_A28 128\n#define CFG_PIN_A29 129\n#define CFG_PIN_A30 130\n#define CFG_PIN_A31 131\n\n#define CFG_PIN_D0 150\n#define CFG_PIN_D1 151\n#define CFG_PIN_D2 152\n#define CFG_PIN_D3 153\n#define CFG_PIN_D4 154\n#define CFG_PIN_D5 155\n#define CFG_PIN_D6 156\n#define CFG_PIN_D7 157\n#define CFG_PIN_D8 158\n#define CFG_PIN_D9 159\n#define CFG_PIN_D10 160\n#define CFG_PIN_D11 161\n#define CFG_PIN_D12 162\n#define CFG_PIN_D13 163\n#define CFG_PIN_D14 164\n#define CFG_PIN_D15 165\n#define CFG_PIN_D16 166\n#define CFG_PIN_D17 167\n#define CFG_PIN_D18 168\n#define CFG_PIN_D19 169\n#define CFG_PIN_D20 170\n#define CFG_PIN_D21 171\n#define CFG_PIN_D22 172\n#define CFG_PIN_D23 173\n#define CFG_PIN_D24 174\n#define CFG_PIN_D25 175\n#define CFG_PIN_D26 176\n#define CFG_PIN_D27 177\n#define CFG_PIN_D28 178\n#define CFG_PIN_D29 179\n#define CFG_PIN_D30 180\n#define CFG_PIN_D31 181\n\n#define CFG_NUM_NEOPIXELS 200\n#define CFG_NUM_DOTSTARS 201\n#define CFG_DEFAULT_BUTTON_MODE 202\n#define CFG_SWD_ENABLED 203\n#define CFG_FLASH_BYTES 204\n#define CFG_RAM_BYTES 205\n#define CFG_SYSTEM_HEAP_BYTES 206\n#define CFG_LOW_MEM_SIMULATION_KB 207\n#define CFG_BOOTLOADER_BOARD_ID 208\n#define CFG_UF2_FAMILY 209\n#define CFG_PINS_PORT_SIZE 210\n#define CFG_BOOTLOADER_PROTECTION 211\n#define CFG_POWER_DEEPSLEEP_TIMEOUT 212\n#define CFG_ANALOG_BUTTON_THRESHOLD 213\n#define CFG_CPU_MHZ 214\n#define CFG_CONTROLLER_LIGHT_MAX_BRIGHTNESS 215\n#define CFG_ANALOG_JOYSTICK_MIN 216\n#define CFG_ANALOG_JOYSTICK_MAX 217\n#define CFG_TIMERS_TO_USE 218\n\n#define CFG_PIN_B0 300\n#define CFG_PIN_B1 301\n#define CFG_PIN_B2 302\n#define CFG_PIN_B3 303\n#define CFG_PIN_B4 304\n#define CFG_PIN_B5 305\n#define CFG_PIN_B6 306\n#define CFG_PIN_B7 307\n#define CFG_PIN_B8 308\n#define CFG_PIN_B9 309\n#define CFG_PIN_B10 310\n#define CFG_PIN_B11 311\n#define CFG_PIN_B12 312\n#define CFG_PIN_B13 313\n#define CFG_PIN_B14 314\n#define CFG_PIN_B15 315\n#define CFG_PIN_B16 316\n#define CFG_PIN_B17 317\n#define CFG_PIN_B18 318\n#define CFG_PIN_B19 319\n#define CFG_PIN_B20 320\n#define CFG_PIN_B21 321\n#define CFG_PIN_B22 322\n#define CFG_PIN_B23 323\n#define CFG_PIN_B24 324\n#define CFG_PIN_B25 325\n#define CFG_PIN_B26 326\n#define CFG_PIN_B27 327\n#define CFG_PIN_B28 328\n#define CFG_PIN_B29 329\n#define CFG_PIN_B30 330\n#define CFG_PIN_B31 331\n\n#define CFG_PIN_C0 350\n#define CFG_PIN_C1 351\n#define CFG_PIN_C2 352\n#define CFG_PIN_C3 353\n#define CFG_PIN_C4 354\n#define CFG_PIN_C5 355\n#define CFG_PIN_C6 356\n#define CFG_PIN_C7 357\n#define CFG_PIN_C8 358\n#define CFG_PIN_C9 359\n#define CFG_PIN_C10 360\n#define CFG_PIN_C11 361\n#define CFG_PIN_C12 362\n#define CFG_PIN_C13 363\n#define CFG_PIN_C14 364\n#define CFG_PIN_C15 365\n#define CFG_PIN_C16 366\n#define CFG_PIN_C17 367\n#define CFG_PIN_C18 368\n#define CFG_PIN_C19 369\n#define CFG_PIN_C20 370\n#define CFG_PIN_C21 371\n#define CFG_PIN_C22 372\n#define CFG_PIN_C23 373\n#define CFG_PIN_C24 374\n#define CFG_PIN_C25 375\n#define CFG_PIN_C26 376\n#define CFG_PIN_C27 377\n#define CFG_PIN_C28 378\n#define CFG_PIN_C29 379\n#define CFG_PIN_C30 380\n#define CFG_PIN_C31 381\n\n#define CFG_PIN_P0 400\n#define CFG_PIN_P1 401\n#define CFG_PIN_P2 402\n#define CFG_PIN_P3 403\n#define CFG_PIN_P4 404\n#define CFG_PIN_P5 405\n#define CFG_PIN_P6 406\n#define CFG_PIN_P7 407\n#define CFG_PIN_P8 408\n#define CFG_PIN_P9 409\n#define CFG_PIN_P10 410\n#define CFG_PIN_P11 411\n#define CFG_PIN_P12 412\n#define CFG_PIN_P13 413\n#define CFG_PIN_P14 414\n#define CFG_PIN_P15 415\n#define CFG_PIN_P16 416\n#define CFG_PIN_P17 417\n#define CFG_PIN_P18 418\n#define CFG_PIN_P19 419\n#define CFG_PIN_P20 420\n#define CFG_PIN_P21 421\n#define CFG_PIN_P22 422\n#define CFG_PIN_P23 423\n#define CFG_PIN_P24 424\n#define CFG_PIN_P25 425\n#define CFG_PIN_P26 426\n#define CFG_PIN_P27 427\n#define CFG_PIN_P28 428\n#define CFG_PIN_P29 429\n#define CFG_PIN_P30 430\n#define CFG_PIN_P31 431\n\n#define CFG_PIN_LORA_MISO 1001\n#define CFG_PIN_LORA_MOSI 1002\n#define CFG_PIN_LORA_SCK 1003\n#define CFG_PIN_LORA_CS 1004\n#define CFG_PIN_LORA_BOOT 1005\n#define CFG_PIN_LORA_RESET 1006\n#define CFG_PIN_IRRXLED 1007\n#define CFG_PIN_IRTXLED 1008\n#define CFG_PIN_LCD_RESET 1009\n#define CFG_PIN_LCD_ENABLE 1010\n#define CFG_PIN_LCD_DATALINE4 1011\n#define CFG_PIN_LCD_DATALINE5 1012\n#define CFG_PIN_LCD_DATALINE6 1013\n#define CFG_PIN_LCD_DATALINE7 1014\n#define CFG_NUM_LCD_COLUMNS 1015\n#define CFG_NUM_LCD_ROWS 1016\n\n#endif\n",
            "console.ts": "/// <reference no-default-lib=\"true\"/>\n\nenum ConsolePriority {\n    Debug = 0,\n    Log = 1,\n    Warning = 2,\n    Error = 3,\n    Silent = 4\n}\n\n/**\n * Reading and writing data to the console output.\n */\n//% weight=12 color=#002050 icon=\"\\uf120\"\n//% advanced=true\nnamespace console {\n    type Listener = (priority: ConsolePriority, text: string) => void;\n\n    /**\n     * Minimum priority to send messages to listeners\n     */\n    export let minPriority = ConsolePriority.Log;\n\n    //% whenUsed\n    const listeners: Listener[] = [\n        function (priority: ConsolePriority, text: string) { control.__log(priority, text); }\n    ];\n\n    export function add(priority: ConsolePriority, message: any) {\n        let text = inspect(message);\n        if (priority < minPriority) return;\n        // add new line\n        text += \"\\n\";\n        // send to listeners\n        for (let i = 0; i < listeners.length; ++i)\n            listeners[i](priority, text);\n    }\n\n    export function debug(text: any) {\n        add(ConsolePriority.Debug, text);\n    }\n\n    export function warn(text: any) {\n        add(ConsolePriority.Warning, text);\n    }\n\n    export function error(text: any) {\n        add(ConsolePriority.Error, text);\n    }\n\n    /**\n     * Write a line of text to the console output.\n     * @param value to send\n     */\n    //% weight=90\n    //% help=console/log blockGap=8\n    //% blockId=console_log block=\"console log $value\"\n    //% value.shadow=text\n    export function log(value: any): void {\n        add(ConsolePriority.Log, value);\n    }\n\n    /**\n     * Write a name:value pair as a line of text to the console output.\n     * @param name name of the value stream, eg: \"x\"\n     * @param value to write\n     */\n    //% weight=88 blockGap=8\n    //% help=console/log-value\n    //% blockId=console_log_value block=\"console|log value %name|= %value\"\n    //% name.shadow=text\n    export function logValue(name: any, value: number): void {\n        log(name ? `${inspect(name)}: ${value}` : `${value}`)\n    }\n\n    /**\n     * Convert any object or value to a string representation\n     * @param obj value to be converted to a string\n     * @param maxElements [optional] max number values in an object to include in output\n     */\n    export function inspect(obj: any, maxElements = 20): string {\n        if (typeof obj == \"string\") {\n            return obj;\n        } else if (typeof obj == \"number\") {\n            return \"\" + obj;\n        } else if (Array.isArray(obj)) {\n            const asArr = (obj as Array<string>);\n            if (asArr.length <= maxElements) {\n                return asArr.join(\",\");\n            } else {\n                return `${asArr.slice(0, maxElements).join(\",\")}...`;\n            }\n        } else {\n            const asString = obj + \"\";\n            if (asString != \"[object Object]\"\n                && asString != \"[Object]\") { // on arcade at least, default toString is [Object] on hardware instead of standard\n                return asString;\n            }\n\n            let keys = Object.keys(obj);\n            const snipped = keys.length > maxElements;\n            if (snipped) {\n                keys = keys.slice(0, maxElements);\n            }\n\n            return `{${\n                keys.reduce(\n                    (prev, currKey) => prev + `\\n    ${currKey}: ${obj[currKey]}`,\n                    \"\"\n                ) + (snipped ? \"\\n    ...\" : \"\")\n            }\n}`;\n        }\n    }\n\n    /**\n     * Adds a listener for the log messages\n     * @param listener\n     */\n    //%\n    export function addListener(listener: (priority: ConsolePriority, text: string) => void) {\n        if (!listener || listeners.indexOf(listener) > -1) return;\n        listeners.push(listener);\n    }\n\n    /**\n     * Removes a listener\n     * @param listener\n     */\n    //%\n    export function removeListener(listener: (priority: ConsolePriority, text: string) => void) {\n        if (!listener) return;\n        const i = listeners.indexOf(listener);\n        if (i > -1)\n            listeners.splice(i, 1);\n    }\n}",
            "control.cpp": "#include \"pxtbase.h\"\n\n\nnamespace control {\n    /**\n    * Gets the number of milliseconds elapsed since power on.\n    */\n    //% help=control/millis weight=50\n    //% blockId=control_running_time block=\"millis (ms)\"\n    int millis() {\n        return current_time_ms();\n    }\n\n    /**\n    * Gets current time in microseconds. Overflows every ~18 minutes.\n    */\n    //%\n    int micros() {\n        return current_time_us() & 0x3fffffff;\n    }\n\n    /**\n    * Used internally\n    */\n    //%\n    void internalOnEvent(int src, int value, Action handler, int flags = 16) {\n        registerWithDal(src, value, handler, flags);\n    }\n\n    /**\n     * Reset the device.\n     */\n    //% weight=30 async help=control/reset blockGap=8\n    //% blockId=\"control_reset\" block=\"reset\"\n    void reset() {\n        target_reset();\n    }\n\n    /**\n    * Block the current fiber for the given microseconds\n    * @param micros number of micro-seconds to wait. eg: 4\n    */\n    //% help=control/wait-micros weight=29 async\n    //% blockId=\"control_wait_us\" block=\"wait (s)%micros\"\n    void waitMicros(int micros) {\n        sleep_us(micros);\n    }\n\n    /**\n     * Run other code in the parallel.\n     */\n    //% help=control/run-in-parallel handlerStatement=1\n    //% blockId=\"control_run_in_parallel\" block=\"run in parallel\" blockGap=8\n    void runInParallel(Action a) {\n        pxt::runInParallel(a);\n    }\n\n    /**\n    * Blocks the calling thread until the specified event is raised.\n    */\n    //% help=control/wait-for-event async\n    //% blockId=control_wait_for_event block=\"wait for event|from %src|with value %value\"\n    void waitForEvent(int src, int value) {\n        pxt::waitForEvent(src, value);\n    }\n\n    /**\n    * Derive a unique, consistent serial number of this device from internal data.\n    */\n    //% blockId=\"control_device_serial_number\" block=\"device serial number\" weight=9\n    //% help=control/device-serial-number\n    int deviceSerialNumber() {\n        uint64_t serial_num = pxt::getLongSerialNumber();\n        return hash_fnv1a(&serial_num, sizeof(serial_num)) & 0x3fffffff;\n    }\n\n    /**\n    * Derive a unique, consistent 64-bit serial number of this device from internal data.\n    */\n    //% blockId=\"control_device_long_serial_number\" block=\"device long serial number\" weight=9\n    //% help=control/device-long-serial-number\n    Buffer deviceLongSerialNumber() {\n        uint64_t serial_num = pxt::getLongSerialNumber();\n        return mkBuffer((uint8_t*)&serial_num, sizeof(uint64_t));\n    }\n\n    /**\n    *\n    */\n    //%\n    void __log(int prority, String text) {\n        if (NULL == text) return;\n        pxt::sendSerial(text->getUTF8Data(), text->getUTF8Size());\n    }\n\n    /**\n     * Dump internal information about a value.\n     */\n    //%\n    void dmesgValue(TValue v) {\n        anyPrint(v);\n    }\n\n    /**\n     * Force GC and dump basic information about heap.\n     */\n    //%\n    void gc() {\n        pxt::gc(1);\n    }\n\n    /**\n     * Force GC and halt waiting for debugger to do a full heap dump.\n     */\n    //%\n    void heapDump() {\n        pxt::gc(2);\n        target_panic(PANIC_HEAP_DUMPED);\n    }\n\n\n    /**\n     * Set flags used when connecting an external debugger.\n     */\n    //%\n    void setDebugFlags(int flags) {\n        debugFlags = flags;\n    }\n\n    /**\n     * Record a heap snapshot to debug memory leaks.\n     */\n    //%\n    void heapSnapshot() {\n        // only in JS backend for now\n    }\n\n    /**\n     * Return true if profiling is enabled in the current build.\n     */\n    //%\n    bool profilingEnabled() {\n#ifdef PXT_PROFILE\n        return true;\n#else\n        return false;\n#endif\n    }\n}\n",
            "control.ts": "/**\n* Program controls and events.\n*/\n//% weight=90 color=\"#FF5722\" icon=\"\\uf110\" advanced=true\nnamespace control {\n    /**\n     * Deprecated, use ``control.runInParallel`` instead.\n     */\n    //% deprecated=1 hidden=1 help=control/run-in-background blockAllowMultiple=1 afterOnStart=true\n    //% blockId=\"control_run_in_background\" block=\"run in background\" blockGap=8 weight=0\n    export function runInBackground(a: () => void) {\n        control.runInParallel(a);\n    }\n\n    export const enum PXT_PANIC {\n        CODAL_OOM = 20,\n        GC_OOM = 21,\n        GC_TOO_BIG_ALLOCATION = 22,\n        CODAL_HEAP_ERROR = 30,\n        CODAL_NULL_DEREFERENCE = 40,\n        CODAL_USB_ERROR = 50,\n        CODAL_HARDWARE_CONFIGURATION_ERROR = 90,\n\n        INVALID_BINARY_HEADER = 901,\n        OUT_OF_BOUNDS = 902,\n        REF_DELETED = 903,\n        SIZE = 904,\n        INVALID_VTABLE = 905,\n        INTERNAL_ERROR = 906,\n        NO_SUCH_CONFIG = 907,\n        NO_SUCH_PIN = 908,\n        INVALID_ARGUMENT = 909,\n        MEMORY_LIMIT_EXCEEDED = 910,\n        SCREEN_ERROR = 911,\n        MISSING_PROPERTY = 912,\n        INVALID_IMAGE = 913,\n        CALLED_FROM_ISR = 914,\n        HEAP_DUMPED = 915,\n        STACK_OVERFLOW = 916,\n        BLOCKING_TO_STRING = 917,\n        VM_ERROR = 918,\n        SETTINGS_CLEARED = 920,\n        SETTINGS_OVERLOAD = 921,\n        SETTINGS_SECRET_MISSING = 922,\n        DELETE_ON_CLASS = 923,\n\n        CAST_FIRST = 980,\n        CAST_FROM_UNDEFINED = 980,\n        CAST_FROM_BOOLEAN = 981,\n        CAST_FROM_NUMBER = 982,\n        CAST_FROM_STRING = 983,\n        CAST_FROM_OBJECT = 984,\n        CAST_FROM_FUNCTION = 985,\n        CAST_FROM_NULL = 989,\n\n        UNHANDLED_EXCEPTION = 999,\n    }\n    /**\n     * Display an error code and stop the program.\n     * @param code an error number to display. eg: 5\n     */\n    //% help=control/panic weight=29\n    //% blockId=\"control_panic\" block=\"panic %code\"\n    //% shim=pxtrt::panic\n    export function panic(code: number) { }\n\n    /**\n     * Enable profiling for current function.\n     */\n    //% shim=TD_NOOP shimArgument=perfCounter\n    export function enablePerfCounter(name?: string) { }\n\n    /**\n     * Dump values of profiling performance counters.\n     */\n    //% shim=pxt::dumpPerfCounters\n    export function dmesgPerfCounters() { }\n\n    /**\n     * Display an error code and stop the program when the assertion is `false`.\n     */\n    //% help=control/assert weight=30\n    //% blockId=\"control_assert\" block=\"assert %cond|with value %code\"\n    export function assert(cond: boolean, code: number) {\n        if (!cond) {\n            fail(\"Assertion failed, code=\" + code)\n        }\n    }\n\n    export function fail(message: string) {\n        console.log(\"Fatal failure: \")\n        console.log(message)\n        dmesg(message)\n        panic(108)\n    }\n\n    export class AnimationQueue {\n        running: boolean;\n        eventID: number;\n        public interval: number;\n\n        constructor() {\n            this.running = false;\n            this.eventID = control.allocateNotifyEvent();\n            this.interval = 1;\n        }\n\n        /**\n         * Runs 'render' in a loop until it returns false or the 'stop' function is called\n         */\n        runUntilDone(render: () => boolean) {\n            const evid = this.eventID;\n\n            // if other animation, wait for turn\n            if (this.running)\n                control.waitForEvent(DAL.DEVICE_ID_NOTIFY, evid);\n\n            // check if the animation hasn't been cancelled since we've waiting\n            if (this.isCancelled(evid))\n                return;\n\n            // run animation\n            this.running = true;\n            while (this.running\n                && !this.isCancelled(evid)\n                && render()) {\n                pause(this.interval);\n            }\n\n            // check if the animation hasn't been cancelled since we've been waiting\n            if (this.isCancelled(evid))\n                return;\n\n            // we're done\n            this.running = false;\n            // unblock 1 fiber\n            control.raiseEvent(DAL.DEVICE_ID_NOTIFY_ONE, this.eventID);\n        }\n\n        isCancelled(evid: number) {\n            return this.eventID !== evid;\n        }\n\n        /**\n         * Cancels the current running animation and clears the queue\n         */\n        cancel() {\n            if (this.running) {\n                this.running = false;\n                const evid = this.eventID;\n                this.eventID = control.allocateNotifyEvent();\n                // unblock fibers\n                control.raiseEvent(DAL.DEVICE_ID_NOTIFY, evid);\n            }\n        }\n    }\n\n    class PollEvent {\n        public eid: number;\n        public vid: number;\n        public start: number;\n        public timeOut: number;\n        public condition: () => boolean;\n        public once: boolean;\n        constructor(eid: number, vid: number, start: number, timeOut: number, condition: () => boolean, once: boolean) {\n            this.eid = eid;\n            this.vid = vid;\n            this.start = start;\n            this.timeOut = timeOut;\n            this.condition = condition;\n            this.once = once;\n        }\n    }\n\n    let _pollEventQueue: PollEvent[] = undefined;\n\n    function pollEvents() {\n        while (_pollEventQueue.length > 0) {\n            const now = control.millis();\n            for (let i = 0; i < _pollEventQueue.length; ++i) {\n                const ev = _pollEventQueue[i];\n                if (ev.condition() || (ev.timeOut > 0 && now - ev.start > ev.timeOut)) {\n                    control.raiseEvent(ev.eid, ev.vid);\n                    if (ev.once) {\n                        _pollEventQueue.splice(i, 1);\n                        --i;\n                    }\n                }\n            }\n            pause(50);\n        }\n        // release fiber\n        _pollEventQueue = undefined;\n    }\n\n    export function __queuePollEvent(timeOut: number, condition: () => boolean, handler: () => void) {\n        const ev = new PollEvent(\n            control.allocateNotifyEvent(),\n            1,\n            control.millis(),\n            timeOut,\n            condition,\n            !handler\n        );\n\n        // start polling fiber if needed\n        if (!_pollEventQueue) {\n            _pollEventQueue = [ev];\n            control.runInParallel(pollEvents);\n        }\n        else {\n            // add to the queue\n            _pollEventQueue.push(ev)\n        }\n\n        // register event\n        if (handler)\n            control.onEvent(ev.eid, ev.vid, handler);\n        else // or wait\n            control.waitForEvent(ev.eid, ev.vid);\n    }\n\n    //% shim=pxt::getConfig\n    export declare function getConfigValue(key: int32, defl: int32): number;\n\n    //% shim=pxt::programHash\n    export declare function programHash(): number;\n\n    //% shim=pxt::programName\n    export declare function programName(): string;\n\n    export enum IntervalMode {\n        Interval,\n        Timeout,\n        Immediate\n    }\n\n    let _intervals: Interval[] = undefined;\n    class Interval {\n\n        id: number;\n        func: () => void;\n        delay: number;\n        mode: IntervalMode;\n\n        constructor(func: () => void, delay: number, mode: IntervalMode) {\n            this.id = _intervals.length == 0\n                ? 1 : _intervals[_intervals.length - 1].id + 1;\n            this.func = func;\n            this.delay = delay;\n            this.mode = mode;\n            _intervals.push(this);\n\n            control.runInParallel(() => this.work());\n        }\n\n        work() {\n            // execute\n            switch (this.mode) {\n                case IntervalMode.Immediate:\n                case IntervalMode.Timeout:\n                    if (this.delay > 0)\n                        pause(this.delay); // timeout\n                    if (this.delay >= 0) // immediate, timeout\n                        this.func();\n                    break;\n                case IntervalMode.Interval:\n                    while (this.delay > 0) {\n                        pause(this.delay);\n                        // might have been cancelled during this duration\n                        if (this.delay > 0)\n                            this.func();\n                    }\n                    break;\n            }\n            // remove from interval array\n            _intervals.removeElement(this);\n        }\n\n        cancel() {\n            this.delay = -1;\n        }\n    }\n\n    export function setInterval(func: () => void, delay: number, mode: IntervalMode): number {\n        if (!func || delay < 0) return 0;\n        if (!_intervals) _intervals = [];\n        const interval = new Interval(func, delay, mode);\n        return interval.id;\n    }\n\n    export function clearInterval(intervalId: number, mode: IntervalMode): void {\n        if (!_intervals) return;\n        for (let i = 0; i < _intervals.length; ++i) {\n            const it = _intervals[i];\n            if (it.id == intervalId && it.mode == mode) {\n                it.cancel();\n                break;\n            }\n        }\n    }\n\n    //% shim=control::_ramSize\n    function _ramSize() {\n        return 32 * 1024 * 1024;\n    }\n\n    /** Returns estimated size of memory in bytes. */\n    export function ramSize() {\n        return getConfigValue(DAL.CFG_RAM_BYTES, 0) || _ramSize();\n    }\n\n    /** Runs the function and returns run time in microseconds. */\n    export function benchmark(f: () => void) {\n        const t0 = micros()\n        f()\n        let t = micros() - t0\n        if (t < 0)\n            t += 0x3fffffff\n        return t\n    }\n\n    //% shim=pxt::getGCStats\n    function getGCStats(): Buffer {\n        return null\n    }\n\n    export interface GCStats {\n        numGC: number;\n        numBlocks: number;\n        totalBytes: number;\n        lastFreeBytes: number;\n        lastMaxBlockBytes: number;\n        minFreeBytes: number;\n    }\n\n    /**\n     * Get various statistics about the garbage collector (GC)\n     */\n    export function gcStats(): GCStats {\n        const buf = getGCStats()\n        if (!buf)\n            return null\n        let off = 0\n        const res: any = {}\n\n        addField(\"numGC\")\n        addField(\"numBlocks\")\n        addField(\"totalBytes\")\n        addField(\"lastFreeBytes\")\n        addField(\"lastMaxBlockBytes\")\n        addField(\"minFreeBytes\")\n\n        return res\n\n        function addField(name: string) {\n            res[name] = buf.getNumber(NumberFormat.UInt32LE, off)\n            off += 4\n        }\n    }\n}\n\n/**\n * Busy wait for a condition to be true\n * @param condition condition to test for\n * @param timeOut if positive, maximum duration to wait for in milliseconds\n */\n//% blockId=\"pxt_pause_until\"\nfunction pauseUntil(condition: () => boolean, timeOut?: number): void {\n    if (!condition || condition()) return; // optimistic path\n    if (!timeOut) timeOut = 0;\n    control.__queuePollEvent(timeOut, condition, undefined);\n}\n\n/**\n * Convert any value to text\n * @param value value to be converted to text\n */\n//% help=text/convert-to-text weight=1\n//% block=\"convert $value=math_number to text\"\n//% blockId=variable_to_text blockNamespace=\"text\"\nfunction convertToText(value: any): string {\n    return \"\" + value;\n}\n",
            "core.cpp": "#include \"pxtbase.h\"\n#include <limits.h>\n#include <stdlib.h>\n\nusing namespace std;\n\n#define p10(v) __builtin_powi(10, v)\n\n// try not to create cons-strings shorter than this\n#define SHORT_CONCAT_STRING 50\n\n// bigger value - less memory, but slower\n// 16/20 keeps s.length and s.charCodeAt(i) at about 200 cycles (for actual unicode strings),\n// which is similar to amortized allocation time\n#define SKIP_INCR 16 // needs to be power of 2; needs to be kept in sync with compiler\n#define MIN_SKIP 20  // min. size of string to use skip list; static code has its own limit\n\nnamespace pxt {\n\nPXT_DEF_STRING(emptyString, \"\")\n\nstatic HandlerBinding *handlerBindings;\n\nHandlerBinding *nextBinding(HandlerBinding *curr, int source, int value) {\n    for (auto p = curr; p; p = p->next) {\n        // DEVICE_ID_ANY == DEVICE_EXT_ANY == 0\n        if ((p->source == source || p->source == 0) && (value == -1 || p->value == value || p->value == 0)) {\n            return p;\n        }\n    }\n    return 0;\n}\n\nHandlerBinding *findBinding(int source, int value) {\n    return nextBinding(handlerBindings, source, value);\n}\n\nvoid setBinding(int source, int value, Action act) {\n    HandlerBinding *curr = NULL;\n    for (auto p = handlerBindings; p; p = p->next) {\n        if ((p->source == source) && (p->value == value)) {\n            curr = p;\n            break;\n        }\n    }\n    if (curr) {\n        curr->action = act;\n        return;\n    }\n    curr = new (app_alloc(sizeof(HandlerBinding))) HandlerBinding();\n    curr->next = handlerBindings;\n    curr->source = source;\n    curr->value = value;\n    curr->action = act;\n    registerGC(&curr->action);\n    handlerBindings = curr;\n}\n\nvoid coreReset() {\n    // these are allocated on GC heap, so they will go away together with the reset\n    handlerBindings = NULL;\n}\n\nstatic const char emptyBuffer[] __attribute__((aligned(4))) = \"@PXT#:\\x00\\x00\\x00\";\n\n#if PXT_UTF8\nint utf8Len(const char *data, int size) {\n    int len = 0;\n    for (int i = 0; i < size; ++i) {\n        char c = data[i];\n        len++;\n        if ((c & 0x80) == 0x00) {\n            // skip\n        } else if ((c & 0xe0) == 0xc0) {\n            i++;\n        } else if ((c & 0xf0) == 0xe0) {\n            i += 2;\n        } else {\n            // error; just skip\n        }\n    }\n    return len;\n}\n\nconst char *utf8Skip(const char *data, int size, int skip) {\n    int len = 0;\n    for (int i = 0; i <= size; ++i) {\n        char c = data[i];\n        len++;\n        if (len > skip)\n            return data + i;\n        if ((c & 0x80) == 0x00) {\n            // skip\n        } else if ((c & 0xe0) == 0xc0) {\n            i++;\n        } else if ((c & 0xf0) == 0xe0) {\n            i += 2;\n        } else {\n            // error; just skip over\n        }\n    }\n    return NULL;\n}\n\nstatic char *write3byte(char *dst, uint32_t charCode) {\n    if (dst) {\n        *dst++ = 0xe0 | (charCode >> 12);\n        *dst++ = 0x80 | (0x3f & (charCode >> 6));\n        *dst++ = 0x80 | (0x3f & (charCode >> 0));\n    }\n    return dst;\n}\n\nstatic char *write2byte(char *dst, uint32_t charCode) {\n    if (dst) {\n        *dst++ = 0xc0 | (charCode >> 6);\n        *dst++ = 0x80 | (0x3f & charCode);\n    }\n    return dst;\n}\n\nstatic int utf8canon(char *dst, const char *data, int size) {\n    int outsz = 0;\n    for (int i = 0; i < size;) {\n        uint8_t c = data[i];\n        uint32_t charCode = c;\n        if ((c & 0x80) == 0x00) {\n            charCode = c;\n            i++;\n        } else if ((c & 0xe0) == 0xc0 && i + 1 < size && (data[i + 1] & 0xc0) == 0x80) {\n            charCode = ((c & 0x1f) << 6) | (data[i + 1] & 0x3f);\n            if (charCode < 0x80)\n                goto error;\n            else\n                i += 2;\n        } else if ((c & 0xf0) == 0xe0 && i + 2 < size && (data[i + 1] & 0xc0) == 0x80 &&\n                   (data[i + 2] & 0xc0) == 0x80) {\n            charCode = ((c & 0x0f) << 12) | (data[i + 1] & 0x3f) << 6 | (data[i + 2] & 0x3f);\n            // don't exclude surrogate pairs, since we're generating them\n            if (charCode < 0x800 /*|| (0xd800 <= charCode && charCode <= 0xdfff)*/)\n                goto error;\n            else\n                i += 3;\n        } else if ((c & 0xf8) == 0xf0 && i + 3 < size && (data[i + 1] & 0xc0) == 0x80 &&\n                   (data[i + 2] & 0xc0) == 0x80 && (data[i + 3] & 0xc0) == 0x80) {\n            charCode = ((c & 0x07) << 18) | (data[i + 1] & 0x3f) << 12 | (data[i + 2] & 0x3f) << 6 |\n                       (data[i + 3] & 0x3f);\n            if (charCode < 0x10000 || charCode > 0x10ffff)\n                goto error;\n            else\n                i += 4;\n        } else {\n            goto error;\n        }\n\n        if (charCode < 0x80) {\n            outsz += 1;\n            if (dst)\n                *dst++ = charCode;\n        } else if (charCode < 0x800) {\n            outsz += 2;\n            dst = write2byte(dst, charCode);\n        } else if (charCode < 0x10000) {\n            outsz += 3;\n            dst = write3byte(dst, charCode);\n        } else {\n            outsz += 6; // a surrogate pair\n            charCode -= 0x10000;\n            dst = write3byte(dst, 0xd800 + (charCode >> 10));\n            dst = write3byte(dst, 0xdc00 + (charCode & 0x3ff));\n        }\n\n        continue;\n\n    error:\n        i++;\n        outsz += 2;\n        dst = write2byte(dst, c);\n    }\n    return outsz;\n}\n\nstatic int utf8CharCode(const char *data) {\n    unsigned char c = *data;\n    if ((c & 0x80) == 0) {\n        return c;\n    } else if ((c & 0xe0) == 0xc0) {\n        return ((c & 0x1f) << 6) | (data[1] & 0x3f);\n    } else if ((c & 0xf0) == 0xe0) {\n        return ((c & 0x0f) << 12) | (data[1] & 0x3f) << 6 | (data[2] & 0x3f);\n    } else {\n        return c; // error\n    }\n}\n\nstatic bool isUTF8(const char *data, int len) {\n    for (int i = 0; i < len; ++i) {\n        if (data[i] & 0x80)\n            return true;\n    }\n    return false;\n}\n\n#define NUM_SKIP_ENTRIES(p) ((p)->skip.length / SKIP_INCR)\n#define SKIP_DATA(p) (const char *)(p->skip.list + NUM_SKIP_ENTRIES(p))\n\nstatic void setupSkipList(String r, const char *data) {\n    char *dst = (char *)SKIP_DATA(r);\n    auto len = r->skip.size;\n    if (data)\n        memcpy(dst, data, len);\n    dst[len] = 0;\n    const char *ptr = dst;\n    auto skipEntries = NUM_SKIP_ENTRIES(r);\n    for (int i = 0; i < skipEntries; ++i) {\n        ptr = utf8Skip(ptr, (int)(len - (ptr - dst)), SKIP_INCR);\n        if (!ptr)\n            oops(80);\n        r->skip.list[i] = ptr - dst;\n    }\n}\n#endif\n\n#ifdef PXT_VM\nString mkInternalString(const char *str) {\n    int len = (int)strlen(str);\n    String r = new (xmalloc(sizeof(void *) + 2 + len + 1)) BoxedString(&string_inline_ascii_vt);\n    r->ascii.length = len;\n    memcpy(r->ascii.data, str, len);\n    r->ascii.data[len] = 0;\n    return r;\n}\n#endif\n\nString mkStringCore(const char *data, int len) {\n    if (len < 0)\n        len = (int)strlen(data);\n    if (len == 0 && !inGCPrealloc())\n        return (String)emptyString;\n\n    auto vt = &string_inline_ascii_vt;\n    String r;\n\n#if PXT_UTF8\n    if (data && isUTF8(data, len)) {\n        vt = len >= MIN_SKIP ? &string_skiplist16_vt : &string_inline_utf8_vt;\n    }\n    if (vt == &string_skiplist16_vt) {\n        r = new (gcAllocate(sizeof(void *) + sizeof(r->skip))) BoxedString(vt);\n        r->skip.list = NULL;\n        registerGCObj(r);\n        r->skip.size = len;\n        r->skip.length = utf8Len(data, len);\n        r->skip.list = NULL; // in case gc triggers below\n        r->skip.list = (uint16_t *)gcAllocateArray(NUM_SKIP_ENTRIES(r) * 2 + len + 1);\n        setupSkipList(r, data);\n        unregisterGCObj(r);\n    } else\n#endif\n    {\n        // for ASCII and UTF8 the layout is the same\n        r = new (gcAllocate(sizeof(void *) + 2 + len + 1)) BoxedString(vt);\n        r->ascii.length = len;\n        if (data)\n            memcpy(r->ascii.data, data, len);\n        r->ascii.data[len] = 0;\n    }\n\n    MEMDBG(\"mkString: len=%d => %p\", len, r);\n    return r;\n}\n\nString mkString(const char *data, int len) {\n#if PXT_UTF8\n    if (len < 0)\n        len = (int)strlen(data);\n    if (len == 0 && !inGCPrealloc())\n        return (String)emptyString;\n\n    int sz = utf8canon(NULL, data, len);\n    if (sz == len)\n        return mkStringCore(data, len);\n    // this could be optimized, but it only kicks in when the string isn't valid utf8\n    // (or we need to introduce surrogate pairs) which is unlikely to be performance critical\n    char *tmp = (char *)app_alloc(sz);\n    utf8canon(tmp, data, len);\n    auto r = mkStringCore(tmp, sz);\n    app_free(tmp);\n    return r;\n#else\n    return mkStringCore(data, len);\n#endif\n}\n\n#if PXT_UTF8\n// This converts surrogate pairs, which are encoded as 2 characters of 3 bytes each\n// into a proper 4 byte utf-8 character.\nuint32_t toRealUTF8(String str, uint8_t *dst) {\n    auto src = str->getUTF8Data();\n    auto len = str->getUTF8Size();\n    auto dlen = 0;\n\n    for (unsigned i = 0; i < len; ++i) {\n        if ((uint8_t)src[i] == 0xED && i + 5 < len) {\n            auto c0 = utf8CharCode(src + i);\n            auto c1 = utf8CharCode(src + i + 3);\n            if (0xd800 <= c0 && c0 < 0xdc00 && 0xdc00 <= c1 && c1 < 0xe000) {\n                i += 5;\n                auto charCode = ((c0 - 0xd800) << 10) + (c1 - 0xdc00) + 0x10000;\n                if (dst) {\n                    dst[dlen] = 0xf0 | (charCode >> 18);\n                    dst[dlen + 1] = 0x80 | (0x3f & (charCode >> 12));\n                    dst[dlen + 2] = 0x80 | (0x3f & (charCode >> 6));\n                    dst[dlen + 3] = 0x80 | (0x3f & (charCode >> 0));\n                }\n                dlen += 4;\n            }\n        } else {\n            if (dst)\n                dst[dlen] = src[i];\n            dlen++;\n        }\n    }\n    return dlen;\n}\n#endif\n\nBuffer mkBuffer(const uint8_t *data, int len) {\n    if (len <= 0 && !inGCPrealloc())\n        return (Buffer)emptyBuffer;\n    Buffer r = new (gcAllocate(sizeof(BoxedBuffer) + len)) BoxedBuffer();\n    r->length = len;\n    if (data)\n        memcpy(r->data, data, len);\n    else\n        memset(r->data, 0, len);\n    MEMDBG(\"mkBuffer: len=%d => %p\", len, r);\n    return r;\n}\n\nstatic unsigned random_value = 0xC0DA1;\n\n//%\nvoid seedRandom(unsigned seed) {\n    random_value = seed;\n}\n\n//%\nvoid seedAddRandom(unsigned seed) {\n    random_value ^= 0xCA2557CB * seed;\n}\n\nunsigned getRandom(unsigned max) {\n    unsigned m, result;\n\n    do {\n        m = (unsigned)max;\n        result = 0;\n\n        do {\n            // Cycle the LFSR (Linear Feedback Shift Register).\n            // We use an optimal sequence with a period of 2^32-1, as defined by Bruce Schneier here\n            // (a true legend in the field!),\n            // For those interested, it's documented in his paper:\n            // \"Pseudo-Random Sequence Generator for 32-Bit CPUs: A fast, machine-independent\n            // generator for 32-bit Microprocessors\"\n            // https://www.schneier.com/paper-pseudorandom-sequence.html\n            unsigned r = random_value;\n\n            r = ((((r >> 31) ^ (r >> 6) ^ (r >> 4) ^ (r >> 2) ^ (r >> 1) ^ r) & 1) << 31) |\n                (r >> 1);\n\n            random_value = r;\n\n            result = ((result << 1) | (r & 0x00000001));\n        } while (m >>= 1);\n    } while (result > (unsigned)max);\n\n    return result;\n}\n\nTNumber BoxedString::charCodeAt(int pos) {\n#if PXT_UTF8\n    auto ptr = this->getUTF8DataAt(pos);\n    if (!ptr)\n        return TAG_NAN;\n    auto code = utf8CharCode(ptr);\n    if (!code && ptr == this->getUTF8Data() + this->getUTF8Size())\n        return TAG_NAN;\n    return fromInt(code);\n#else\n    if (0 <= pos && pos < this->ascii.length) {\n        return fromInt(this->ascii.data[pos]);\n    } else {\n        return TAG_NAN;\n    }\n#endif\n}\n\nPXT_DEF_STRING(sTrue, \"true\")\nPXT_DEF_STRING(sFalse, \"false\")\nPXT_DEF_STRING(sUndefined, \"undefined\")\nPXT_DEF_STRING(sNull, \"null\")\nPXT_DEF_STRING(sObject, \"[Object]\")\nPXT_DEF_STRING(sFunction, \"[Function]\")\nPXT_DEF_STRING(sNaN, \"NaN\")\nPXT_DEF_STRING(sInf, \"Infinity\")\nPXT_DEF_STRING(sMInf, \"-Infinity\")\n} // namespace pxt\n\n#ifndef X86_64\n\nnamespace String_ {\n\n//%\nString mkEmpty() {\n    return (String)emptyString;\n}\n\n// TODO support var-args somehow?\n\n//%\nString fromCharCode(int code) {\n#if PXT_UTF8\n    char buf[3];\n    int len;\n    code &= 0xffff; // JS semantics\n    if (code < 0x80) {\n        buf[0] = code;\n        len = 1;\n    } else if (code < 0x800) {\n        buf[0] = 0xc0 | (code >> 6);\n        buf[1] = 0x80 | ((code >> 0) & 0x3f);\n        len = 2;\n    } else {\n        buf[0] = 0xe0 | (code >> 12);\n        buf[1] = 0x80 | ((code >> 6) & 0x3f);\n        buf[2] = 0x80 | ((code >> 0) & 0x3f);\n        len = 3;\n    }\n    return mkStringCore(buf, len);\n#else\n    char buf[] = {(char)code, 0};\n    return mkStringCore(buf, 1);\n#endif\n}\n\n//%\nTNumber charCodeAt(String s, int pos) {\n    if (!s)\n        return TAG_NAN;\n    return s->charCodeAt(pos);\n}\n\n//%\nString charAt(String s, int pos) {\n    auto v = charCodeAt(s, pos);\n    if (v == TAG_NAN)\n        return mkEmpty();\n    if (!isInt(v))\n        oops(81);\n    return fromCharCode(numValue(v));\n}\n\n#define IS_CONS(s) ((s)->vtable == (uintptr_t)&string_cons_vt)\n#define IS_EMPTY(s) ((s) == (String)emptyString)\n\n//%\nString concat(String s, String other) {\n    if (!s)\n        s = (String)sNull;\n    if (!other)\n        other = (String)sNull;\n    if (IS_EMPTY(s))\n        return other;\n    if (IS_EMPTY(other))\n        return s;\n\n    uint32_t lenA, lenB;\n\n#if PXT_UTF8\n    if (IS_CONS(s)) {\n        // (s->cons.left + s->cons.right) + other = s->cons.left + (s->cons.right + other)\n        if (IS_CONS(other) || IS_CONS(s->cons.right))\n            goto mkCons;\n        auto lenAR = s->cons.right->getUTF8Size();\n        lenB = other->getUTF8Size();\n        if (lenAR + lenB > SHORT_CONCAT_STRING)\n            goto mkCons;\n        // if (s->cons.right + other) is short enough, use associativity\n        // to construct a shallower tree; this should keep the live set reasonable\n        // when someone decides to construct a long string by concatenating\n        // single characters\n\n        // allocate [r] first, and keep it alive\n        String r = new (gcAllocate(3 * sizeof(void *))) BoxedString(&string_cons_vt);\n        registerGCObj(r);\n        r->cons.left = s->cons.left;\n        // this concat() might trigger GC\n        r->cons.right = concat(s->cons.right, other);\n        unregisterGCObj(r);\n        return r;\n    }\n#endif\n\n    lenA = s->getUTF8Size();\n    lenB = other->getUTF8Size();\n#if PXT_UTF8\n    if (lenA + lenB > SHORT_CONCAT_STRING)\n        goto mkCons;\n#endif\n    String r;\n    {\n        auto dataA = s->getUTF8Data();\n        auto dataB = other->getUTF8Data();\n        r = mkStringCore(NULL, lenA + lenB);\n        auto dst = (char *)r->getUTF8Data();\n        memcpy(dst, dataA, lenA);\n        memcpy(dst + lenA, dataB, lenB);\n#if PXT_UTF8\n        if (isUTF8(dst, lenA + lenB))\n            r->vtable = PXT_VTABLE_TO_INT(&string_inline_utf8_vt);\n#endif\n        return r;\n    }\n\n#if PXT_UTF8\nmkCons:\n    r = new (gcAllocate(3 * sizeof(void *))) BoxedString(&string_cons_vt);\n    r->cons.left = s;\n    r->cons.right = other;\n    return r;\n#endif\n}\n\nint compare(String a, String b) {\n    if (a == b)\n        return 0;\n\n    auto lenA = a->getUTF8Size();\n    auto lenB = b->getUTF8Size();\n    auto dataA = a->getUTF8Data();\n    auto dataB = b->getUTF8Data();\n    auto len = lenA < lenB ? lenA : lenB;\n\n    // this also works for UTF8, provided canonical encoding\n    // which is guaranteed by the constructor\n    for (unsigned i = 0; i <= len; ++i) {\n        unsigned char cA = dataA[i];\n        unsigned char cB = dataB[i];\n        if (cA == cB)\n            continue;\n        return cA < cB ? -1 : 1;\n    }\n    return 0;\n}\n\n//%\nint length(String s) {\n    return s->getLength();\n}\n\n#define isspace(c) ((c) == ' ')\n\nNUMBER mystrtod(const char *p, char **endp) {\n    while (isspace(*p))\n        p++;\n    NUMBER m = 1;\n    NUMBER v = 0;\n    int dot = 0;\n    if (*p == '+')\n        p++;\n    if (*p == '-') {\n        m = -1;\n        p++;\n    }\n    if (*p == '0' && (p[1] | 0x20) == 'x') {\n        return m * strtol(p, endp, 16);\n    }\n    while (*p) {\n        int c = *p - '0';\n        if (0 <= c && c <= 9) {\n            v *= 10;\n            v += c;\n            if (dot)\n                m /= 10;\n        } else if (!dot && *p == '.') {\n            dot = 1;\n        } else if (*p == 'e' || *p == 'E') {\n            break;\n        } else {\n            while (isspace(*p))\n                p++;\n            if (*p)\n                return NAN;\n            break;\n        }\n        p++;\n    }\n\n    v *= m;\n\n    if (*p) {\n        p++;\n        int pw = (int)strtol(p, endp, 10);\n        v *= p10(pw);\n    } else {\n        *endp = (char *)p;\n    }\n\n    return v;\n}\n\n//%\nTNumber toNumber(String s) {\n    // JSCHECK\n    char *endptr;\n    auto data = s->getUTF8Data();\n    NUMBER v = mystrtod(data, &endptr);\n    if (endptr != data + s->getUTF8Size())\n        v = NAN;\n    else if (v == 0.0 || v == -0.0) {\n        // nothing\n    } else if (!isnormal(v))\n        v = NAN;\n    return fromDouble(v);\n}\n\n//%\nString substr(String s, int start, int length) {\n    if (length <= 0)\n        return mkEmpty();\n    auto slen = (int)s->getLength();\n    if (start < 0)\n        start = max(slen + start, 0);\n    length = min(length, slen - start);\n    if (length <= 0)\n        return mkEmpty();\n    auto p = s->getUTF8DataAt(start);\n#if PXT_UTF8\n    auto ep = s->getUTF8DataAt(start + length);\n    if (ep == NULL)\n        oops(82);\n    return mkStringCore(p, (int)(ep - p));\n#else\n    return mkStringCore(p, length);\n#endif\n}\n\n//%\nint indexOf(String s, String searchString, int start) {\n    if (!s || !searchString)\n        return -1;\n\n    if (start < 0)\n        start = 0;\n\n    auto dataA0 = s->getUTF8Data();\n    auto dataA = s->getUTF8DataAt(start);\n    auto offset = dataA - dataA0;\n    auto lenA = s->getUTF8Size() - offset;\n    auto lenB = searchString->getUTF8Size();\n\n    if (dataA == NULL || lenB > lenA)\n        return -1;\n\n    auto dataB = searchString->getUTF8Data();\n    auto firstB = dataB[0];\n    while (lenA >= lenB) {\n        if (*dataA == firstB && !memcmp(dataA, dataB, lenB))\n#if PXT_UTF8\n            return utf8Len(dataA0, (int)(dataA - dataA0));\n#else\n            return dataA - dataA0;\n#endif\n        dataA++;\n        lenA--;\n    }\n    return -1;\n}\n\n//%\nint includes(String s, String searchString, int start) {\n    return -1 != indexOf(s, searchString, start);\n}\n\n} // namespace String_\n\nnamespace Boolean_ {\n//%\nbool bang(bool v) {\n    return v == 0;\n}\n} // namespace Boolean_\n\nnamespace pxt {\n\n// ES5 9.5, 9.6\nunsigned toUInt(TNumber v) {\n    if (isInt(v))\n        return numValue(v);\n    if (isSpecial(v)) {\n        if ((intptr_t)v >> 6)\n            return 1;\n        else\n            return 0;\n    }\n    if (!v)\n        return 0;\n\n    NUMBER num = toDouble(v);\n    if (!isnormal(num))\n        return 0;\n#ifdef PXT_USE_FLOAT\n    float rem = fmodf(truncf(num), 4294967296.0);\n#else\n    double rem = fmod(trunc(num), 4294967296.0);\n#endif\n    if (rem < 0.0)\n        rem += 4294967296.0;\n    return (unsigned)rem;\n}\nint toInt(TNumber v) {\n    return (int)toUInt(v);\n}\n\nNUMBER toDouble(TNumber v) {\n    if (v == TAG_NAN || v == TAG_UNDEFINED)\n        return NAN;\n    if (isTagged(v))\n        return toInt(v);\n\n#ifdef PXT64\n    if (isDouble(v))\n        return doubleVal(v);\n#endif\n\n    ValType t = valType(v);\n\n#ifndef PXT64\n    if (t == ValType::Number) {\n        BoxedNumber *p = (BoxedNumber *)v;\n        return p->num;\n    }\n#endif\n\n    if (t == ValType::String) {\n        // TODO avoid allocation\n        auto tmp = String_::toNumber((String)v);\n        auto r = toDouble(tmp);\n        return r;\n    } else {\n        return NAN;\n    }\n}\n\nfloat toFloat(TNumber v) {\n    // TODO optimize?\n    return (float)toDouble(v);\n}\n\n#if !defined(PXT_HARD_FLOAT) && !defined(PXT_USE_FLOAT)\nunion NumberConv {\n    double v;\n    struct {\n        uint32_t word0;\n        uint32_t word1;\n    };\n};\n\nstatic inline TValue doubleToInt(double x) {\n    NumberConv cnv;\n    cnv.v = x;\n\n    if (cnv.word1 == 0 && cnv.word0 == 0)\n        return TAG_NUMBER(0);\n\n    auto ex = (int)((cnv.word1 << 1) >> 21) - 1023;\n\n    // DMESG(\"v=%d/1000 %p %p %d\", (int)(x * 1000), cnv.word0, cnv.word1, ex);\n\n    if (ex < 0 || ex > 29) {\n        // the 'MININT' case\n        if (ex == 30 && cnv.word0 == 0 && cnv.word1 == 0xC1D00000)\n            return (TValue)(0x80000001);\n        return NULL;\n    }\n\n    int32_t r;\n\n    if (ex <= 20) {\n        if (cnv.word0)\n            return TAG_UNDEFINED;\n        if (cnv.word1 << (ex + 12))\n            return TAG_UNDEFINED;\n        r = ((cnv.word1 << 11) | 0x80000000) >> (20 - ex + 11);\n    } else {\n        if (cnv.word0 << (ex - 20))\n            return TAG_UNDEFINED;\n        r = ((cnv.word1 << 11) | 0x80000000) >> (20 - ex + 11);\n        r |= cnv.word0 >> (32 - (ex - 20));\n    }\n\n    if (cnv.word1 >> 31)\n        return TAG_NUMBER(-r);\n    else\n        return TAG_NUMBER(r);\n}\n#else\nstatic inline TValue doubleToInt(NUMBER r) {\n#ifdef PXT64\n    if ((int)r == r)\n        return TAG_NUMBER((int)r);\n#else\n    int ri = ((int)r) << 1;\n    if ((ri >> 1) == r)\n        return (TNumber)(uintptr_t)(ri | 1);\n#endif\n    return TAG_UNDEFINED;\n}\n#endif\n\nTNumber fromDouble(NUMBER r) {\n#ifndef PXT_BOX_DEBUG\n    auto i = doubleToInt(r);\n    if (i)\n        return i;\n#endif\n    if (isnan(r))\n        return TAG_NAN;\n#ifdef PXT64\n    return tvalueFromDouble(r);\n#else\n    BoxedNumber *p = NEW_GC(BoxedNumber);\n    p->num = r;\n    MEMDBG(\"mkNum: %d/1000 => %p\", (int)(r * 1000), p);\n    return (TNumber)p;\n#endif\n}\n\nTNumber fromFloat(float r) {\n    // TODO optimize\n    return fromDouble(r);\n}\n\nTNumber fromInt(int v) {\n    if (canBeTagged(v))\n        return TAG_NUMBER(v);\n    return fromDouble(v);\n}\n\nTNumber fromUInt(unsigned v) {\n#ifndef PXT_BOX_DEBUG\n    if (v <= 0x3fffffff)\n        return TAG_NUMBER(v);\n#endif\n    return fromDouble(v);\n}\n\nTValue fromBool(bool v) {\n    if (v)\n        return TAG_TRUE;\n    else\n        return TAG_FALSE;\n}\n\nTNumber eqFixup(TNumber v) {\n    if (v == TAG_NULL)\n        return TAG_UNDEFINED;\n    if (v == TAG_TRUE)\n        return TAG_NUMBER(1);\n    if (v == TAG_FALSE)\n        return TAG_NUMBER(0);\n    return v;\n}\n\nstatic inline bool eq_core(TValue a, TValue b, ValType ta) {\n#ifndef PXT_BOX_DEBUG\n    auto aa = (intptr_t)a;\n    auto bb = (intptr_t)b;\n\n    // if at least one of the values is tagged, they are not equal\n    if ((aa | bb) & 3)\n        return false;\n#endif\n\n    if (ta == ValType::String)\n        return String_::compare((String)a, (String)b) == 0;\n    else if (ta == ValType::Number)\n        return toDouble(a) == toDouble(b);\n    else\n        return a == b;\n}\n\nbool eqq_bool(TValue a, TValue b) {\n    if (a == TAG_NAN || b == TAG_NAN)\n        return false;\n\n    if (a == b)\n        return true;\n\n    if (bothNumbers(a, b))\n        return false;\n\n    ValType ta = valType(a);\n    ValType tb = valType(b);\n\n    if (ta != tb)\n        return false;\n\n    return eq_core(a, b, ta);\n}\n\nbool eq_bool(TValue a, TValue b) {\n    if (a == TAG_NAN || b == TAG_NAN)\n        return false;\n\n    if (eqFixup(a) == eqFixup(b))\n        return true;\n\n    if (bothNumbers(a, b))\n        return false;\n\n    ValType ta = valType(a);\n    ValType tb = valType(b);\n\n    if ((ta == ValType::String && tb == ValType::Number) ||\n        (tb == ValType::String && ta == ValType::Number))\n        return toDouble(a) == toDouble(b);\n\n    if (ta == ValType::Boolean) {\n        a = eqFixup(a);\n        ta = ValType::Number;\n    }\n    if (tb == ValType::Boolean) {\n        b = eqFixup(b);\n        tb = ValType::Number;\n    }\n\n    if (ta != tb)\n        return false;\n\n    return eq_core(a, b, ta);\n}\n\n// TODO move to assembly\n//%\nbool switch_eq(TValue a, TValue b) {\n    if (eq_bool(a, b)) {\n        return true;\n    }\n    return false;\n}\n\n} // namespace pxt\n\n#define NUMOP(op) return fromDouble(toDouble(a) op toDouble(b));\n#define BITOP(op) return fromInt(toInt(a) op toInt(b));\nnamespace numops {\n\nint toBool(TValue v) {\n    if (isTagged(v)) {\n        if (v == TAG_FALSE || v == TAG_UNDEFINED || v == TAG_NAN || v == TAG_NULL ||\n            v == TAG_NUMBER(0))\n            return 0;\n        else\n            return 1;\n    }\n\n    ValType t = valType(v);\n    if (t == ValType::String) {\n        String s = (String)v;\n        if (IS_EMPTY(s))\n            return 0;\n    } else if (t == ValType::Number) {\n        auto x = toDouble(v);\n        if (isnan(x) || x == 0.0 || x == -0.0)\n            return 0;\n        else\n            return 1;\n    }\n\n    return 1;\n}\n\nint toBoolDecr(TValue v) {\n    if (v == TAG_TRUE)\n        return 1;\n    if (v == TAG_FALSE)\n        return 0;\n    return toBool(v);\n}\n\n// The integer, non-overflow case for add/sub/bit opts is handled in assembly\n\n#ifdef PXT_VM\n#define NUMOP2(op)                                                                                 \\\n    if (bothNumbers(a, b)) {                                                                       \\\n        auto tmp = (int64_t)numValue(a) op(int64_t) numValue(b);                                   \\\n        if ((int)tmp == tmp)                                                                       \\\n            return TAG_NUMBER((int)tmp);                                                           \\\n    }                                                                                              \\\n    NUMOP(op)\n#else\n#define NUMOP2(op) NUMOP(op)\n#endif\n\n//%\nTNumber adds(TNumber a, TNumber b){NUMOP2(+)}\n\n//%\nTNumber subs(TNumber a, TNumber b){NUMOP2(-)}\n\n//%\nTNumber muls(TNumber a, TNumber b) {\n    if (bothNumbers(a, b)) {\n#ifdef PXT64\n        auto tmp = (int64_t)numValue(a) * (int64_t)numValue(b);\n        if ((int)tmp == tmp)\n            return TAG_NUMBER((int)tmp);\n#else\n        int aa = (int)a;\n        int bb = (int)b;\n        // if both operands fit 15 bits, the result will not overflow int\n        if ((aa >> 15 == 0 || aa >> 15 == -1) && (bb >> 15 == 0 || bb >> 15 == -1)) {\n            // it may overflow 31 bit int though - use fromInt to convert properly\n            return fromInt((aa >> 1) * (bb >> 1));\n        }\n#endif\n    }\n    NUMOP(*)\n}\n\n//%\nTNumber div(TNumber a, TNumber b){NUMOP(/)}\n\n//%\nTNumber mod(TNumber a, TNumber b) {\n    if (isInt(a) && isInt(b) && numValue(b))\n        BITOP(%)\n    return fromDouble(fmod(toDouble(a), toDouble(b)));\n}\n\n//%\nTNumber lsls(TNumber a, TNumber b) {\n    return fromInt(toInt(a) << (toInt(b) & 0x1f));\n}\n\n//%\nTNumber lsrs(TNumber a, TNumber b) {\n    return fromUInt(toUInt(a) >> (toUInt(b) & 0x1f));\n}\n\n//%\nTNumber asrs(TNumber a, TNumber b) {\n    return fromInt(toInt(a) >> (toInt(b) & 0x1f));\n}\n\n//%\nTNumber eors(TNumber a, TNumber b){BITOP (^)}\n\n//%\nTNumber orrs(TNumber a, TNumber b){BITOP(|)}\n\n//%\nTNumber bnot(TNumber a) {\n    return fromInt(~toInt(a));\n}\n\n//%\nTNumber ands(TNumber a, TNumber b) {\n    BITOP(&)\n}\n\n#ifdef PXT64\n#define CMPOP_RAW(op, t, f)                                                                        \\\n    if (bothNumbers(a, b))                                                                         \\\n        return numValue(a) op numValue(b) ? t : f;                                                 \\\n    int cmp = valCompare(a, b);                                                                    \\\n    return cmp != -2 && cmp op 0 ? t : f;\n#else\n#define CMPOP_RAW(op, t, f)                                                                        \\\n    if (bothNumbers(a, b))                                                                         \\\n        return (intptr_t)a op((intptr_t)b) ? t : f;                                                \\\n    int cmp = valCompare(a, b);                                                                    \\\n    return cmp != -2 && cmp op 0 ? t : f;\n#endif\n\n#define CMPOP(op) CMPOP_RAW(op, TAG_TRUE, TAG_FALSE)\n\n// 7.2.13 Abstract Relational Comparison\nstatic int valCompare(TValue a, TValue b) {\n    if (a == TAG_NAN || b == TAG_NAN)\n        return -2;\n\n    ValType ta = valType(a);\n    ValType tb = valType(b);\n\n    if (ta == ValType::String && tb == ValType::String)\n        return String_::compare((String)a, (String)b);\n\n    if (a == b)\n        return 0;\n\n    auto da = toDouble(a);\n    auto db = toDouble(b);\n\n    if (isnan(da) || isnan(db))\n        return -2;\n\n    if (da < db)\n        return -1;\n    else if (da > db)\n        return 1;\n    else\n        return 0;\n}\n\n//%\nbool lt_bool(TNumber a, TNumber b){CMPOP_RAW(<, true, false)}\n\n//%\nTNumber le(TNumber a, TNumber b){CMPOP(<=)}\n\n//%\nTNumber lt(TNumber a, TNumber b){CMPOP(<)}\n\n//%\nTNumber ge(TNumber a, TNumber b){CMPOP(>=)}\n\n//%\nTNumber gt(TNumber a, TNumber b){CMPOP(>)}\n\n//%\nTNumber eq(TNumber a, TNumber b) {\n    return pxt::eq_bool(a, b) ? TAG_TRUE : TAG_FALSE;\n}\n\n//%\nTNumber neq(TNumber a, TNumber b) {\n    return !pxt::eq_bool(a, b) ? TAG_TRUE : TAG_FALSE;\n}\n\n//%\nTNumber eqq(TNumber a, TNumber b) {\n    return pxt::eqq_bool(a, b) ? TAG_TRUE : TAG_FALSE;\n}\n\n//%\nTNumber neqq(TNumber a, TNumber b) {\n    return !pxt::eqq_bool(a, b) ? TAG_TRUE : TAG_FALSE;\n}\n\n// How many significant digits mycvt() should output.\n// This cannot be more than 15, as this is the most that can be accurately represented\n// in 64 bit double. Otherwise this code may crash.\n#define DIGITS 15\n\nstatic const uint64_t pows[] = {\n    1LL,           10LL,           100LL,           1000LL,           10000LL,\n    100000LL,      1000000LL,      10000000LL,      100000000LL,      1000000000LL,\n    10000000000LL, 100000000000LL, 1000000000000LL, 10000000000000LL, 100000000000000LL,\n};\n\n// The basic idea is we convert d to a 64 bit integer with DIGITS\n// digits, and then print it out, putting dot in the right place.\n\nvoid mycvt(NUMBER d, char *buf) {\n    if (d < 0) {\n        *buf++ = '-';\n        d = -d;\n    }\n\n    if (!d) {\n        *buf++ = '0';\n        *buf++ = 0;\n        return;\n    }\n\n    int pw = (int)log10(d);\n    int e = 1;\n\n    // if outside 1e-6 -- 1e21 range, we use the e-notation\n    if (d < 1e-6 || d > 1e21) {\n        // normalize number to 1.XYZ, save e, and reset pw\n        if (pw < 0)\n            d *= p10(-pw);\n        else\n            d /= p10(pw);\n        e = pw;\n        pw = 0;\n    }\n\n    int trailingZ = 0;\n    int dotAfter = pw + 1; // at which position the dot should be in the number\n\n    uint64_t dd;\n\n    // normalize number to be integer with exactly DIGITS digits\n    if (pw >= DIGITS) {\n        // if the number is larger than DIGITS, we need trailing zeroes\n        trailingZ = pw - DIGITS + 1;\n        dd = (uint64_t)(d / p10(trailingZ) + 0.5);\n    } else {\n        dd = (uint64_t)(d * p10(DIGITS - pw - 1) + 0.5);\n    }\n\n    // if number is less than 1, we need 0.00...00 at the beginning\n    if (dotAfter < 1) {\n        *buf++ = '0';\n        *buf++ = '.';\n        int n = -dotAfter;\n        while (n--)\n            *buf++ = '0';\n    }\n\n    // now print out the actual number\n    for (int i = DIGITS - 1; i >= 0; i--) {\n        uint64_t q = pows[i];\n        // this may be faster than fp-division and fmod(); or maybe not\n        // anyways, it works\n        int k = '0';\n        while (dd >= q) {\n            dd -= q;\n            k++;\n        }\n        *buf++ = k;\n        // if we're after dot, and what's left is zeroes, stop\n        if (dd == 0 && (DIGITS - i) >= dotAfter)\n            break;\n        // print the dot, if we arrived at it\n        if ((DIGITS - i) == dotAfter)\n            *buf++ = '.';\n    }\n\n    // print out remaining trailing zeroes if any\n    while (trailingZ-- > 0)\n        *buf++ = '0';\n\n    // if we used e-notation, handle that\n    if (e != 1) {\n        *buf++ = 'e';\n        if (e > 0)\n            *buf++ = '+';\n        itoa(e, buf);\n    } else {\n        *buf = 0;\n    }\n}\n\n#if 0\n//%\nTValue floatAsInt(TValue x) {\n    return doubleToInt(toDouble(x));\n}\n\n//% shim=numops::floatAsInt\nfunction floatAsInt(v: number): number { return 0 }\n\nfunction testInt(i: number) {\n    if (floatAsInt(i) != i)\n        control.panic(101)\n    if (floatAsInt(i + 0.5) != null)\n        control.panic(102)\n    if (floatAsInt(i + 0.00001) != null)\n        control.panic(103)\n}\n\nfunction testFloat(i: number) {\n    if (floatAsInt(i) != null)\n        control.panic(104)\n}\n\nfunction testFloatAsInt() {\n    for (let i = 0; i < 0xffff; ++i) {\n        testInt(i)\n        testInt(-i)\n        testInt(i * 10000)\n        testInt(i << 12)\n        testInt(i + 0x3fff0001)\n        testInt(-i - 0x3fff0002)\n        testFloat(i + 0x3fffffff + 1)\n        testFloat((i + 10000) * 1000000)\n    }\n}\n#endif\n\nString toString(TValue v) {\n    ValType t = valType(v);\n\n    if (t == ValType::String) {\n        return (String)v;\n    } else if (t == ValType::Number) {\n        char buf[64];\n\n        if (isInt(v)) {\n            itoa(numValue(v), buf);\n            return mkStringCore(buf);\n        }\n\n        if (v == TAG_NAN)\n            return (String)(void *)sNaN;\n\n        auto x = toDouble(v);\n\n#ifdef PXT_BOX_DEBUG\n        if (x == (int)x) {\n            itoa((int)x, buf);\n            return mkStringCore(buf);\n        }\n#endif\n\n        if (isinf(x)) {\n            if (x < 0)\n                return (String)(void *)sMInf;\n            else\n                return (String)(void *)sInf;\n        } else if (isnan(x)) {\n            return (String)(void *)sNaN;\n        }\n        mycvt(x, buf);\n\n        return mkStringCore(buf);\n    } else if (t == ValType::Function) {\n        return (String)(void *)sFunction;\n    } else {\n        if (v == TAG_UNDEFINED)\n            return (String)(void *)sUndefined;\n        else if (v == TAG_FALSE)\n            return (String)(void *)sFalse;\n        else if (v == TAG_NAN)\n            return (String)(void *)sNaN;\n        else if (v == TAG_TRUE)\n            return (String)(void *)sTrue;\n        else if (v == TAG_NULL)\n            return (String)(void *)sNull;\n        return (String)(void *)sObject;\n    }\n}\n\n} // namespace numops\n\nnamespace Math_ {\n//%\nTNumber pow(TNumber x, TNumber y) {\n#ifdef PXT_POWI\n    // regular pow() from math.h is 4k of code\n    return fromDouble(__builtin_powi(toDouble(x), toInt(y)));\n#else\n    return fromDouble(::pow(toDouble(x), toDouble(y)));\n#endif\n}\n\nNUMBER randomDouble() {\n    return getRandom(UINT_MAX) / ((NUMBER)UINT_MAX + 1) +\n           getRandom(0xffffff) / ((NUMBER)UINT_MAX * 0xffffff);\n}\n\n//%\nTNumber random() {\n    return fromDouble(randomDouble());\n}\n\n//%\nTNumber randomRange(TNumber min, TNumber max) {\n    if (isInt(min) && isInt(max)) {\n        int mini = numValue(min);\n        int maxi = numValue(max);\n        if (mini > maxi) {\n            int temp = mini;\n            mini = maxi;\n            maxi = temp;\n        }\n        if (maxi == mini)\n            return fromInt(mini);\n        else\n            return fromInt(mini + getRandom(maxi - mini));\n    } else {\n        auto mind = toDouble(min);\n        auto maxd = toDouble(max);\n        if (mind > maxd) {\n            auto temp = mind;\n            mind = maxd;\n            maxd = temp;\n        }\n        if (maxd == mind)\n            return fromDouble(mind);\n        else {\n            return fromDouble(mind + randomDouble() * (maxd - mind));\n        }\n    }\n}\n\n#define SINGLE(op) return fromDouble(::op(toDouble(x)));\n\n//%\nTNumber log(TNumber x){SINGLE(log)}\n\n//%\nTNumber log10(TNumber x){SINGLE(log10)}\n\n//%\nTNumber floor(TNumber x){SINGLE(floor)}\n\n//%\nTNumber ceil(TNumber x){SINGLE(ceil)}\n\n//%\nTNumber trunc(TNumber x){SINGLE(trunc)}\n\n//%\nTNumber round(TNumber x) {\n    // In C++, round(-1.5) == -2, while in JS, round(-1.5) == -1. Align to the JS convention for\n    // consistency between simulator and device. The following does rounding with ties (x.5) going\n    // towards positive infinity.\n    return fromDouble(::floor(toDouble(x) + 0.5));\n}\n\n//%\nint imul(int x, int y) {\n    return x * y;\n}\n\n//%\nint idiv(int x, int y) {\n    return x / y;\n}\n} // namespace Math_\n\nnamespace Array_ {\nRefCollection *mk() {\n    auto r = NEW_GC(RefCollection);\n    MEMDBG(\"mkColl: => %p\", r);\n    return r;\n}\nint length(RefCollection *c) {\n    return c->length();\n}\nvoid setLength(RefCollection *c, int newLength) {\n    c->setLength(newLength);\n}\nvoid push(RefCollection *c, TValue x) {\n    c->head.push(x);\n}\nTValue pop(RefCollection *c) {\n    return c->head.pop();\n}\nTValue getAt(RefCollection *c, int x) {\n    return c->head.get(x);\n}\nvoid setAt(RefCollection *c, int x, TValue y) {\n    c->head.set(x, y);\n}\nTValue removeAt(RefCollection *c, int x) {\n    return c->head.remove(x);\n}\nvoid insertAt(RefCollection *c, int x, TValue value) {\n    c->head.insert(x, value);\n}\nint indexOf(RefCollection *c, TValue x, int start) {\n    auto data = c->head.getData();\n    auto len = c->head.getLength();\n    for (unsigned i = 0; i < len; i++) {\n        if (pxt::eq_bool(data[i], x)) {\n            return (int)i;\n        }\n    }\n    return -1;\n}\nbool removeElement(RefCollection *c, TValue x) {\n    int idx = indexOf(c, x, 0);\n    if (idx >= 0) {\n        decr(removeAt(c, idx));\n        return 1;\n    }\n    return 0;\n}\n} // namespace Array_\n\nnamespace pxt {\nint debugFlags;\n\n//%\nvoid *ptrOfLiteral(int offset);\n\n#ifdef PXT_VM\nunsigned programSize() {\n    return 0;\n}\n#else\n//%\nunsigned programSize() {\n    return bytecode[17] * 8;\n}\n#endif\n\nvoid deepSleep() __attribute__((weak));\n//%\nvoid deepSleep() {}\n\nint *getBootloaderConfigData() __attribute__((weak));\nint *getBootloaderConfigData() {\n    return NULL;\n}\n\n//%\nint getConfig(int key, int defl) {\n#ifdef PXT_VM\n    int *cfgData = vmImg->configData;\n#else\n    int *cfgData = bytecode ? *(int **)&bytecode[18] : NULL;\n#endif\n\n    if (cfgData) {\n        for (int i = 0;; i += 2) {\n            if (cfgData[i] == key)\n                return cfgData[i + 1];\n            if (cfgData[i] == 0)\n                break;\n        }\n    }\n\n    cfgData = getBootloaderConfigData();\n\n    if (cfgData) {\n        for (int i = 0;; i += 2) {\n            if (cfgData[i] == key)\n                return cfgData[i + 1];\n            if (cfgData[i] == 0)\n                break;\n        }\n    }\n\n    return defl;\n}\n\n} // namespace pxt\n\nnamespace pxtrt {\n//%\nTValue ldlocRef(RefRefLocal *r) {\n    return r->v;\n}\n\n//%\nvoid stlocRef(RefRefLocal *r, TValue v) {\n    r->v = v;\n}\n\n//%\nRefRefLocal *mklocRef() {\n    auto r = NEW_GC(RefRefLocal);\n    MEMDBG(\"mklocRef: => %p\", r);\n    return r;\n}\n\n// Store a captured local in a closure. It returns the action, so it can be chained.\n//%\nRefAction *stclo(RefAction *a, int idx, TValue v) {\n    // DBG(\"STCLO \"); a->print(); DBG(\"@%d = %p\\n\", idx, (void*)v);\n    a->stCore(idx, v);\n    return a;\n}\n\n//%\nvoid panic(int code) {\n    soft_panic(code);\n}\n\n//%\nString emptyToNull(String s) {\n    if (!s || IS_EMPTY(s))\n        return NULL;\n    return s;\n}\n\n//%\nint ptrToBool(TValue p) {\n    if (p) {\n        decr(p);\n        return 1;\n    } else {\n        return 0;\n    }\n}\n\nRefMap *mkMap() {\n    auto r = NEW_GC(RefMap);\n    MEMDBG(\"mkMap: => %p\", r);\n    return r;\n}\n\nTValue mapGetByString(RefMap *map, String key) {\n    int i = map->findIdx(key);\n    if (i < 0) {\n        return 0;\n    }\n    return map->values.get(i);\n}\n\n#ifdef PXT_VM\n#define IFACE_MEMBER_NAMES vmImg->ifaceMemberNames\n#else\n#define IFACE_MEMBER_NAMES *(uintptr_t **)&bytecode[22]\n#endif\n\nint lookupMapKey(String key) {\n    auto arr = IFACE_MEMBER_NAMES;\n    auto len = *arr++;\n    int l = 1U; // skip index 0 - it's invalid\n    int r = (int)len - 1;\n    auto ikey = (uintptr_t)key;\n    if (arr[l] <= ikey && ikey <= arr[r]) {\n        while (l <= r) {\n            auto m = (l + r) >> 1;\n            if (arr[m] == ikey)\n                return m;\n            else if (arr[m] < ikey)\n                l = m + 1;\n            else\n                r = m - 1;\n        }\n    } else {\n        while (l <= r) {\n            int m = (l + r) >> 1;\n            auto cmp = String_::compare((String)arr[m], key);\n            if (cmp == 0)\n                return m;\n            else if (cmp < 0)\n                l = m + 1;\n            else\n                r = m - 1;\n        }\n    }\n    return 0;\n}\n\nTValue mapGet(RefMap *map, unsigned key) {\n    auto arr = (String *)IFACE_MEMBER_NAMES;\n    auto r = mapGetByString(map, arr[key + 1]);\n    map->unref();\n    return r;\n}\n\nvoid mapSetByString(RefMap *map, String key, TValue val) {\n    int i = map->findIdx(key);\n    if (i < 0) {\n        map->keys.push((TValue)key);\n        map->values.push(val);\n    } else {\n        map->values.set(i, val);\n    }\n}\n\nvoid mapSet(RefMap *map, unsigned key, TValue val) {\n    auto arr = (String *)IFACE_MEMBER_NAMES;\n    mapSetByString(map, arr[key + 1], val);\n    decr(val);\n    map->unref();\n}\n\n//\n// Debugger\n//\n\n// This is only to be called once at the beginning of lambda function\n//%\nvoid *getGlobalsPtr() {\n#ifdef DEVICE_GROUP_ID_USER\n    fiber_set_group(DEVICE_GROUP_ID_USER);\n#endif\n\n    return globals;\n}\n\n//%\nvoid runtimeWarning(String s) {\n    // noop for now\n}\n} // namespace pxtrt\n#endif\n\nnamespace pxt {\n\n//%\nValType valType(TValue v) {\n    if (isTagged(v)) {\n        if (!v)\n            return ValType::Undefined;\n\n        if (isInt(v) || v == TAG_NAN)\n            return ValType::Number;\n        if (v == TAG_TRUE || v == TAG_FALSE)\n            return ValType::Boolean;\n        else if (v == TAG_NULL)\n            return ValType::Object;\n        else {\n            oops(1);\n            return ValType::Object;\n        }\n#ifdef PXT64\n    } else if (isDouble(v)) {\n        return ValType::Number;\n#endif\n    } else {\n        auto vt = getVTable((RefObject *)v);\n        if (vt->magic == VTABLE_MAGIC)\n            return vt->objectType;\n        else\n            return ValType::Object;\n    }\n}\n\nPXT_DEF_STRING(sObjectTp, \"object\")\nPXT_DEF_STRING(sBooleanTp, \"boolean\")\nPXT_DEF_STRING(sStringTp, \"string\")\nPXT_DEF_STRING(sNumberTp, \"number\")\nPXT_DEF_STRING(sFunctionTp, \"function\")\nPXT_DEF_STRING(sUndefinedTp, \"undefined\")\n\n//% expose\nString typeOf(TValue v) {\n    switch (valType(v)) {\n    case ValType::Undefined:\n        return (String)sUndefinedTp;\n    case ValType::Boolean:\n        return (String)sBooleanTp;\n    case ValType::Number:\n        return (String)sNumberTp;\n    case ValType::String:\n        return (String)sStringTp;\n    case ValType::Object:\n        return (String)sObjectTp;\n    case ValType::Function:\n        return (String)sFunctionTp;\n    default:\n        oops(2);\n        return 0;\n    }\n}\n\n// Maybe in future we will want separate print methods; for now ignore\nvoid anyPrint(TValue v) {\n    if (valType(v) == ValType::Object) {\n        if (isRefCounted(v)) {\n            auto o = (RefObject *)v;\n            auto vt = getVTable(o);\n            auto meth = ((RefObjectMethod)vt->methods[1]);\n            if ((void *)meth == (void *)&anyPrint)\n                DMESG(\"[RefObject vt=%p cl=%d sz=%d]\", o->vtable, vt->classNo,\n                      vt->numbytes);\n            else\n                meth(o);\n        } else {\n            DMESG(\"[Native %p]\", v);\n        }\n    } else {\n#ifndef X86_64\n        String s = numops::toString(v);\n        DMESG(\"[%s %p = %s]\", pxt::typeOf(v)->getUTF8Data(), v, s->getUTF8Data());\n        decr((TValue)s);\n#endif\n    }\n}\n\nstatic void dtorDoNothing() {}\n\n#define PRIM_VTABLE(name, objectTp, tp, szexpr)                                                    \\\n    static uint32_t name##_size(tp *p) { return TOWORDS(sizeof(tp) + szexpr); }                    \\\n    DEF_VTABLE(name##_vt, tp, objectTp, (void *)&dtorDoNothing, (void *)&anyPrint, 0,              \\\n               (void *)&name##_size)\n\n#define NOOP ((void)0)\n\n#define STRING_VT(name, fix, scan, gcsize, data, utfsize, length, dataAt)                          \\\n    static uint32_t name##_gcsize(BoxedString *p) { return TOWORDS(sizeof(void *) + (gcsize)); }   \\\n    static void name##_gcscan(BoxedString *p) { scan; }                                            \\\n    static const char *name##_data(BoxedString *p) {                                               \\\n        fix;                                                                                       \\\n        return data;                                                                               \\\n    }                                                                                              \\\n    static uint32_t name##_utfsize(BoxedString *p) {                                               \\\n        fix;                                                                                       \\\n        return utfsize;                                                                            \\\n    }                                                                                              \\\n    static uint32_t name##_length(BoxedString *p) {                                                \\\n        fix;                                                                                       \\\n        return length;                                                                             \\\n    }                                                                                              \\\n    static const char *name##_dataAt(BoxedString *p, uint32_t idx) {                               \\\n        fix;                                                                                       \\\n        return dataAt;                                                                             \\\n    }                                                                                              \\\n    DEF_VTABLE(name##_vt, BoxedString, ValType::String, (void *)&dtorDoNothing, (void *)&anyPrint, \\\n               (void *)&name##_gcscan, (void *)&name##_gcsize, (void *)&name##_data,               \\\n               (void *)&name##_utfsize, (void *)&name##_length, (void *)&name##_dataAt)\n\nvoid gcMarkArray(void *data);\nvoid gcScan(TValue v);\n\n#if PXT_UTF8\nstatic const char *skipLookup(BoxedString *p, uint32_t idx) {\n    if (idx > p->skip.length)\n        return NULL;\n    auto ent = idx / SKIP_INCR;\n    auto data = SKIP_DATA(p);\n    auto size = p->skip.size;\n    if (ent) {\n        auto off = p->skip.list[ent - 1];\n        data += off;\n        size -= off;\n        idx &= SKIP_INCR - 1;\n    }\n    return utf8Skip(data, size, idx);\n}\n\nextern LLSegment workQueue;\n\nstatic uint32_t fixSize(BoxedString *p, uint32_t *len) {\n    uint32_t tlen = 0;\n    uint32_t sz = 0;\n    if (workQueue.getLength())\n        oops(81);\n    workQueue.push((TValue)p);\n    while (workQueue.getLength()) {\n        p = (BoxedString *)workQueue.pop();\n        if (IS_CONS(p)) {\n            workQueue.push((TValue)p->cons.right);\n            workQueue.push((TValue)p->cons.left);\n        } else {\n            tlen += p->getLength();\n            sz += p->getUTF8Size();\n        }\n    }\n    *len = tlen;\n    return sz;\n}\n\nstatic void fixCopy(BoxedString *p, char *dst) {\n    if (workQueue.getLength())\n        oops(81);\n\n    workQueue.push((TValue)p);\n    while (workQueue.getLength()) {\n        p = (BoxedString *)workQueue.pop();\n        if (IS_CONS(p)) {\n            workQueue.push((TValue)p->cons.right);\n            workQueue.push((TValue)p->cons.left);\n        } else {\n            auto sz = p->getUTF8Size();\n            memcpy(dst, p->getUTF8Data(), sz);\n            dst += sz;\n        }\n    }\n}\n\n// switches CONS representation into skip list representation\n// does not switch representation of CONS' children\nstatic void fixCons(BoxedString *r) {\n    uint32_t length = 0;\n    auto sz = fixSize(r, &length);\n    auto numSkips = length / SKIP_INCR;\n    // allocate first, while [r] still holds references to its children\n    // because allocation might trigger GC\n    auto data = (uint16_t *)gcAllocateArray(numSkips * 2 + sz + 1);\n    // copy, while [r] is still cons\n    fixCopy(r, (char *)(data + numSkips));\n    // now, set [r] up properly\n    r->vtable = PXT_VTABLE_TO_INT(&string_skiplist16_vt);\n    r->skip.size = sz;\n    r->skip.length = length;\n    r->skip.list = data;\n    setupSkipList(r, NULL);\n}\n#endif\n\nSTRING_VT(string_inline_ascii, NOOP, NOOP, 2 + p->ascii.length + 1, p->ascii.data, p->ascii.length,\n          p->ascii.length, idx <= p->ascii.length ? p->ascii.data + idx : NULL)\n#if PXT_UTF8\nSTRING_VT(string_inline_utf8, NOOP, NOOP, 2 + p->utf8.length + 1, p->utf8.data, p->utf8.length,\n          utf8Len(p->utf8.data, p->utf8.length), utf8Skip(p->utf8.data, p->utf8.length, idx))\nSTRING_VT(string_skiplist16, NOOP, if (p->skip.list) gcMarkArray(p->skip.list), 2 * sizeof(void *),\n          SKIP_DATA(p), p->skip.size, p->skip.length, skipLookup(p, idx))\nSTRING_VT(string_cons, fixCons(p), (gcScan((TValue)p->cons.left), gcScan((TValue)p->cons.right)),\n          2 * sizeof(void *), SKIP_DATA(p), p->skip.size, p->skip.length, skipLookup(p, idx))\n#endif\n\nPRIM_VTABLE(number, ValType::Number, BoxedNumber, 0)\nPRIM_VTABLE(buffer, ValType::Object, BoxedBuffer, p->length)\n// PRIM_VTABLE(action, ValType::Function, RefAction, )\n\nvoid failedCast(TValue v) {\n    DMESG(\"failed type check for %p\", v);\n    auto vt = getAnyVTable(v);\n    if (vt) {\n        DMESG(\"VT %p - objtype %d classNo %d\", vt, vt->objectType, vt->classNo);\n    }\n\n    int code;\n    if (v == TAG_NULL)\n        code = PANIC_CAST_FROM_NULL;\n    else\n        code = PANIC_CAST_FIRST + (int)valType(v);\n    soft_panic(code);\n}\n\nvoid missingProperty(TValue v) {\n    DMESG(\"missing property on %p\", v);\n    soft_panic(PANIC_MISSING_PROPERTY);\n}\n\n#ifdef PXT_PROFILE\nstruct PerfCounter *perfCounters;\n\nstruct PerfCounterInfo {\n    uint32_t numPerfCounters;\n    char *perfCounterNames[0];\n};\n\n#define PERF_INFO ((PerfCounterInfo *)(((uintptr_t *)bytecode)[13]))\n\nvoid initPerfCounters() {\n    auto n = PERF_INFO->numPerfCounters;\n    perfCounters = new PerfCounter[n];\n    memset(perfCounters, 0, n * sizeof(PerfCounter));\n}\n\nvoid dumpPerfCounters() {\n    auto info = PERF_INFO;\n    DMESG(\"calls,us,name\");\n    for (uint32_t i = 0; i < info->numPerfCounters; ++i) {\n        auto c = &perfCounters[i];\n        DMESG(\"%d,%d,%s\", c->numstops, c->value, info->perfCounterNames[i]);\n    }\n}\n\nvoid startPerfCounter(PerfCounters n) {\n    auto c = &perfCounters[(uint32_t)n];\n    if (c->start)\n        oops(50);\n    c->start = PERF_NOW();\n}\n\nvoid stopPerfCounter(PerfCounters n) {\n    auto c = &perfCounters[(uint32_t)n];\n    if (!c->start)\n        oops(51);\n    c->value += PERF_NOW() - c->start;\n    c->start = 0;\n    c->numstops++;\n}\n#endif\n\n// Exceptions\n\n#ifndef PXT_EXN_CTX\n#define PXT_EXN_CTX() getThreadContext()\n#endif\n\ntypedef void (*RestoreStateType)(TryFrame *, ThreadContext *);\n#ifndef pxt_restore_exception_state\n#define pxt_restore_exception_state ((RestoreStateType)(((uintptr_t *)bytecode)[14]))\n#endif\n\n//%\nTryFrame *beginTry() {\n    auto ctx = PXT_EXN_CTX();\n    auto frame = (TryFrame *)app_alloc(sizeof(TryFrame));\n    frame->parent = ctx->tryFrame;\n    ctx->tryFrame = frame;\n    return frame;\n}\n\n//% expose\nvoid endTry() {\n    auto ctx = PXT_EXN_CTX();\n    auto f = ctx->tryFrame;\n    if (!f)\n        oops(51);\n    ctx->tryFrame = f->parent;\n    app_free(f);\n}\n\n//% expose\nvoid throwValue(TValue v) {\n    auto ctx = PXT_EXN_CTX();\n    auto f = ctx->tryFrame;\n    if (!f)\n        target_panic(PANIC_UNHANDLED_EXCEPTION);\n    ctx->tryFrame = f->parent;\n    TryFrame copy = *f;\n    app_free(f);\n    ctx->thrownValue = v;\n    pxt_restore_exception_state(&copy, ctx);\n}\n\n//% expose\nTValue getThrownValue() {\n    auto ctx = PXT_EXN_CTX();\n    auto v = ctx->thrownValue;\n    ctx->thrownValue = TAG_NON_VALUE;\n    if (v == TAG_NON_VALUE)\n        oops(51);\n    return v;\n}\n\n//% expose\nvoid endFinally() {\n    auto ctx = PXT_EXN_CTX();\n    if (ctx->thrownValue == TAG_NON_VALUE)\n        return;\n    throwValue(getThrownValue());\n}\n\n// https://tools.ietf.org/html/draft-eastlake-fnv-14#section-3\nuint32_t hash_fnv1a(const void *data, unsigned len) {\n    const uint8_t *d = (const uint8_t *)data;\n    uint32_t h = 0x811c9dc5;\n    while (len--)\n        h = (h * 0x1000193) ^ *d++;\n    return h;\n}\n\n} // namespace pxt\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum NumberFormat {\n    Int8LE = 1,\n    UInt8LE = 2,\n    Int16LE = 3,\n    UInt16LE = 4,\n    Int32LE = 5,\n    Int8BE = 6,\n    UInt8BE = 7,\n    Int16BE = 8,\n    UInt16BE = 9,\n    Int32BE = 10,\n\n    UInt32LE = 11,\n    UInt32BE = 12,\n    Float32LE = 13,\n    Float64LE = 14,\n    Float32BE = 15,\n    Float64BE = 16,\n    }\n\n\n    declare const enum PerfCounters {\n    GC = 0,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "eventcontext.ts": "namespace control {\n    /**\n     * Run code when a registered event happens.\n     * @param id the event compoent id\n     * @param value the event value to match\n     */\n    //% weight=20 blockGap=8 blockId=\"control_on_event\" block=\"on event|from %src|with value %value\"\n    //% blockExternalInputs=1\n    //% help=\"control/on-event\"\n    export function onEvent(src: number, value: number, handler: () => void, flags = 16) { // EVENT_LISTENER_DEFAULT_FLAGS\n        const ctx = control.eventContext();\n        if (!ctx)\n            control.internalOnEvent(src, value, handler, flags);\n        else\n            ctx.registerHandler(src, value, handler, flags);\n    }\n\n    class FrameCallback {\n        order: number\n        handler: () => void\n    }\n\n    class EventHandler {\n        constructor(\n            public src: number,\n            public value: number,\n            public handler: () => void,\n            public flags: number\n        ) { }\n\n        register() {\n            control.internalOnEvent(this.src, this.value, () => {\n                if (this.handler) this.handler();\n            }, this.flags)\n        }\n\n        unregister() {\n            control.internalOnEvent(this.src, this.value, doNothing, this.flags);\n        }\n    }\n\n    function doNothing() { }\n\n\n\n    export class EventContext {\n        private handlers: EventHandler[];\n        private frameCallbacks: FrameCallback[];\n        private frameWorker: number;\n        private framesInSample: number;\n        private timeInSample: number;\n        public deltaTimeMillis: number;\n        private prevTimeMillis: number;\n        private idleCallbacks: (() => void)[];\n\n        static lastStats: string;\n        static onStats: (stats: string) => void;\n\n        constructor() {\n            this.handlers = [];\n            this.framesInSample = 0;\n            this.timeInSample = 0;\n            this.deltaTimeMillis = 0;\n            this.frameWorker = 0;\n            this.idleCallbacks = undefined;\n        }\n\n        get deltaTime() {\n            return this.deltaTimeMillis / 1000;\n        }\n\n        private runCallbacks() {\n            control.enablePerfCounter(\"all frame callbacks\")\n\n            let loopStart = control.millis()\n            this.deltaTimeMillis = loopStart - this.prevTimeMillis;\n            this.prevTimeMillis = loopStart;\n            for (let f of this.frameCallbacks) {\n                f.handler()\n            }\n            let runtime = control.millis() - loopStart\n            this.timeInSample += runtime\n            this.framesInSample++\n            if (this.timeInSample > 1000 || this.framesInSample > 30) {\n                const fps = this.framesInSample / (this.timeInSample / 1000);\n                EventContext.lastStats = `fps:${Math.round(fps)}`;\n                if (fps < 99)\n                    EventContext.lastStats += \".\" + (Math.round(fps * 10) % 10)\n                if (control.profilingEnabled()) {\n                    control.dmesg(`${(fps * 100) | 0}/100 fps - ${this.framesInSample} frames`)\n                    control.gc()\n                    control.dmesgPerfCounters()\n                }\n                this.timeInSample = 0\n                this.framesInSample = 0\n            }\n            let delay = Math.max(1, 20 - runtime)\n\n            return delay\n        }\n\n        private runningCallbacks: boolean;\n        private registerFrameCallbacks() {\n            if (!this.frameCallbacks) return;\n\n            const worker = this.frameWorker;\n            control.runInParallel(() => {\n                if (this.runningCallbacks) {\n                    // this context is still running in a different fiber;\n                    // delay until the other fiber doing so has ceased.\n                    pauseUntil(() => !this.runningCallbacks);\n                }\n                this.runningCallbacks = true;\n\n                this.framesInSample = 0;\n                this.timeInSample = 0;\n                this.deltaTimeMillis = 0;\n                this.prevTimeMillis = control.millis();\n\n                while (worker == this.frameWorker) {\n                    let delay = this.runCallbacks()\n                    pause(delay)\n                }\n\n                this.runningCallbacks = false;\n            })\n        }\n\n        register() {\n            for (const h of this.handlers)\n                h.register();\n            this.registerFrameCallbacks();\n        }\n\n        unregister() {\n            for (const h of this.handlers)\n                h.unregister();\n            this.frameWorker++;\n        }\n\n        registerFrameHandler(order: number, handler: () => void) {\n            if (!this.frameCallbacks) {\n                this.frameCallbacks = [];\n                this.registerFrameCallbacks();\n            }\n\n            const fn = new FrameCallback()\n            fn.order = order\n            fn.handler = handler\n            for (let i = 0; i < this.frameCallbacks.length; ++i) {\n                if (this.frameCallbacks[i].order > order) {\n                    this.frameCallbacks.insertAt(i, fn)\n                    return\n                }\n            }\n            this.frameCallbacks.push(fn)\n        }\n\n        registerHandler(src: number, value: number, handler: () => void, flags: number) {\n            // already there?\n            for (const h of this.handlers) {\n                if (h.src == src && h.value == value) {\n                    h.flags = flags;\n                    h.handler = handler;\n                    return;\n                }\n            }\n            // register and push\n            const hn = new EventHandler(src, value, handler, flags);\n            this.handlers.push(hn);\n            hn.register();\n        }\n\n        addIdleHandler(handler: () => void) {\n            if (!this.idleCallbacks) {\n                this.idleCallbacks = [];\n                this.registerHandler(15/*DAL.DEVICE_ID_SCHEDULER*/, 2/*DAL.DEVICE_SCHEDULER_EVT_IDLE*/, () => this.runIdleHandler(), 16);\n            }\n            this.idleCallbacks.push(handler);\n        }\n\n        removeIdleHandler(handler: () => void) {\n            if (handler && this.idleCallbacks)\n                this.idleCallbacks.removeElement(handler);\n        }\n\n        private runIdleHandler() {\n            if (this.idleCallbacks) {\n                const ics = this.idleCallbacks.slice(0);\n                ics.forEach(ic => ic());\n            }\n        }\n    }\n    let eventContexts: EventContext[];\n\n    /**\n     * Gets the current event context if any\n     */\n    export function eventContext(): EventContext {\n        return eventContexts ? eventContexts[eventContexts.length - 1] : undefined;\n    }\n\n    /**\n     * Pushes a new event context and clears all handlers\n     */\n    export function pushEventContext(): EventContext {\n        if (!eventContexts)\n            eventContexts = [];\n\n        // unregister previous context\n        const ctx = eventContext();\n        if (ctx) ctx.unregister();\n        // register again\n        const n = new EventContext();\n        eventContexts.push(n);\n        return n;\n    }\n\n    /**\n     * Pops the current event context and restore handlers if any previous context\n     */\n    export function popEventContext() {\n        if (!eventContexts) return;\n\n        // clear current context\n        const ctx = eventContexts.pop();\n        if (!ctx) return;\n        ctx.unregister();\n\n        // register old context again\n        const context = eventContexts[eventContexts.length - 1];\n        if (context)\n            context.register();\n        else\n            eventContexts = undefined;\n    }\n\n    let _idleCallbacks: (() => void)[];\n    /**\n     * Registers a function to run when the device is idling\n     * @param handler\n    */\n    export function onIdle(handler: () => void) {\n        if (!handler) return;\n\n        const ctx = eventContext();\n        if (ctx) ctx.addIdleHandler(handler);\n        else {\n            if (!_idleCallbacks) {\n                _idleCallbacks = [];\n                control.runInBackground(function () {\n                    while (_idleCallbacks) {\n                        _idleCallbacks.slice(0).forEach(cb => cb());\n                        pause(20);\n                    }\n                })\n                /*\n                control.internalOnEvent(\n                    15. // DAL.DEVICE_ID_SCHEDULER\n                    2, // DAL.DEVICE_SCHEDULER_EVT_IDLE\n                    function() {\n                        pins.LED.digitalWrite(on = !on);\n                        if (_idleCallbacks)\n                            _idleCallbacks.slice(0).forEach(cb => cb());\n                    }, 192); // MESSAGE_BUS_LISTENER_IMMEDIATE\n                */\n            }\n            _idleCallbacks.push(handler);\n        }\n    }\n\n    export function removeIdleHandler(handler: () => void) {\n        if (!handler) return;\n        const ctx = eventContext();\n        if (ctx) ctx.removeIdleHandler(handler);\n        else if (_idleCallbacks) _idleCallbacks.removeElement(handler);\n    }\n}",
            "fixed.ts": "interface Fx8 {\n    _dummyFx8: string;\n}\n\nfunction Fx8(v: number) {\n    return ((v * 256) | 0) as any as Fx8\n}\n\nnamespace Fx {\n    export const zeroFx8 = 0 as any as Fx8\n    export const oneHalfFx8 = 128 as any as Fx8\n    export const oneFx8 = 256 as any as Fx8\n    export const twoFx8 = 512 as any as Fx8\n\n    export function neg(a: Fx8) {\n        return (-(a as any as number)) as any as Fx8\n    }\n    export function toIntShifted(a: Fx8, n: number) {\n        return (a as any as number) >> (n + 8)\n    }\n    export function add(a: Fx8, b: Fx8) {\n        return ((a as any as number) + (b as any as number)) as any as Fx8\n    }\n    export function iadd(a: number, b: Fx8) {\n        return ((a << 8) + (b as any as number)) as any as Fx8\n    }\n    export function sub(a: Fx8, b: Fx8) {\n        return ((a as any as number) - (b as any as number)) as any as Fx8\n    }\n    export function mul(a: Fx8, b: Fx8) {\n        return (Math.imul((a as any as number), (b as any as number)) >> 8) as any as Fx8\n    }\n    export function imul(a: Fx8, b: number) {\n        return Math.imul((a as any as number), (b as any as number)) as any as Fx8\n    }\n    export function div(a: Fx8, b: Fx8) {\n        return Math.idiv((a as any as number) << 8, b as any as number) as any as Fx8\n    }\n    export function idiv(a: Fx8, b: number) {\n        return Math.idiv((a as any as number), b) as any as Fx8\n    }\n    export function compare(a: Fx8, b: Fx8) {\n        return (a as any as number) - (b as any as number)\n    }\n    export function abs(a: Fx8) {\n        if ((a as any as number) < 0)\n            return (-(a as any as number)) as any as Fx8\n        else\n            return a\n    }\n    export function min(a: Fx8, b: Fx8) {\n        if (a < b)\n            return a\n        else\n            return b\n    }\n    export function max(a: Fx8, b: Fx8) {\n        if (a > b)\n            return a\n        else\n            return b\n    }\n    export function leftShift(a: Fx8, n: number) {\n        return (a as any as number << n) as any as Fx8\n    }\n    export function rightShift(a: Fx8, n: number) {\n        return (a as any as number >> n) as any as Fx8\n    }\n    export function toInt(v: Fx8) {\n        return ((v as any as number) + 128) >> 8\n    }\n    export function toFloat(v: Fx8) {\n        return (v as any as number) / 256\n    }\n}",
            "forever.ts": "/**\n * Repeats the code forever in the background. On each iteration, allows other codes to run.\n * @param body code to execute\n */\n//% help=loops/forever weight=100 afterOnStart=true blockNamespace=\"loops\"\n//% blockId=forever block=\"forever\" blockAllowMultiple=1\nfunction forever(a: () => void): void {\n    loops.forever(a);\n}\n\n// micro:bit compatibility\n// these functions allow some level of reuse\n// between micro:bit and other maker-style editors\nnamespace basic {\n    export function forever(a: () => void) {\n        loops.forever(a);\n    }\n}",
            "gc.cpp": "#include \"pxtbase.h\"\n\n#ifndef GC_BLOCK_SIZE\n#define GC_BLOCK_SIZE (1024 * 16)\n#endif\n\n#ifndef GC_MAX_ALLOC_SIZE\n#define GC_MAX_ALLOC_SIZE (GC_BLOCK_SIZE - 16)\n#endif\n\n#ifndef GC_ALLOC_BLOCK\n#define GC_ALLOC_BLOCK xmalloc\n#endif\n\n#ifdef PXT64\n#define HIGH_SHIFT 48\n#define BYTES_TO_WORDS(x) ((x) >> 3)\n#define WORDS_TO_BYTES(x) ((x) << 3)\n#define ALIGN_TO_WORD(x) (((x) + 7) & (~7ULL))\n#define VAR_BLOCK_WORDS(vt) ((uint32_t)(vt) >> 2)\n#else\n#define HIGH_SHIFT 28\n#define BYTES_TO_WORDS(x) ((x) >> 2)\n#define WORDS_TO_BYTES(x) ((x) << 2)\n#define ALIGN_TO_WORD(x) (((x) + 3) & (~3U))\n#define VAR_BLOCK_WORDS(vt) (((uint32_t)(vt) << 4) >> (4 + 2))\n#endif\n\n#define FREE_MASK (1ULL << (HIGH_SHIFT + 3))\n#define ARRAY_MASK (1ULL << (HIGH_SHIFT + 2))\n#define PERMA_MASK (1ULL << (HIGH_SHIFT + 1))\n#define MARKED_MASK 0x1\n#define ANY_MARKED_MASK 0x3\n\n// the bit operations should be faster than loading large constants\n#define IS_FREE(vt) ((uintptr_t)(vt) >> (HIGH_SHIFT + 3))\n#define IS_ARRAY(vt) (((uintptr_t)(vt) >> (HIGH_SHIFT + 2)) & 1)\n#define IS_PERMA(vt) (((uintptr_t)(vt) >> (HIGH_SHIFT + 1)) & 1)\n#define IS_VAR_BLOCK(vt) ((uintptr_t)(vt) >> (HIGH_SHIFT + 2))\n#define IS_MARKED(vt) ((uintptr_t)(vt)&MARKED_MASK)\n#define IS_LIVE(vt) (IS_MARKED(vt) || (((uintptr_t)(vt) >> (HIGH_SHIFT)) == 0x6))\n\n//#define PXT_GC_DEBUG 1\n#ifndef PXT_GC_CHECKS\n#define PXT_GC_CHECKS 1\n#endif\n//#define PXT_GC_STRESS 1\n\n//#define PXT_GC_CHECKS 1\n\n#define MARK(v)                                                                                    \\\n    do {                                                                                           \\\n        GC_CHECK(inGCArea(v), 42);                                                                 \\\n        *(uintptr_t *)(v) |= MARKED_MASK;                                                          \\\n    } while (0)\n\n#ifdef PXT_GC_DEBUG\n#define LOG DMESG\n#define VLOG DMESG\n#define VVLOG DMESG\n#else\n#define LOG NOLOG\n#define VLOG NOLOG\n#define VVLOG NOLOG\n#endif\n\n#ifdef PXT_GC_CHECKS\n#define GC_CHECK(cond, code)                                                                       \\\n    if (!(cond))                                                                                   \\\n    oops(code)\n#else\n#define GC_CHECK(cond, code) ((void)0)\n#endif\n\nnamespace pxt {\n\n// keep in sync with base/control.ts, function gcStats()\nstruct GCStats {\n    uint32_t numGC;\n    uint32_t numBlocks;\n    uint32_t totalBytes;\n    uint32_t lastFreeBytes;\n    uint32_t lastMaxBlockBytes;\n    uint32_t minFreeBytes;\n};\n\nstatic GCStats gcStats;\n\n//% expose\nBuffer getGCStats() {\n    return mkBuffer((uint8_t*)&gcStats, sizeof(gcStats));\n}\n\n//%\nvoid popThreadContext(ThreadContext *ctx);\n//%\nThreadContext *pushThreadContext(void *sp, void *endSP);\n\nunsigned RefRecord_gcsize(RefRecord *r) {\n    VTable *tbl = getVTable(r);\n    return BYTES_TO_WORDS(tbl->numbytes);\n}\n\n#ifdef PXT_GC_THREAD_LIST\nThreadContext *threadContexts;\n#endif\n\n#define IN_GC_ALLOC 1\n#define IN_GC_COLLECT 2\n#define IN_GC_FREEZE 4\n#define IN_GC_PREALLOC 8\n\n#ifndef PXT_VM\nstatic TValue *tempRoot;\nstatic uint8_t tempRootLen;\n#endif\n\nuint8_t inGC;\n\nvoid popThreadContext(ThreadContext *ctx) {\n#ifndef PXT_VM\n    VLOG(\"pop: %p\", ctx);\n\n    if (!ctx)\n        return;\n\n    auto n = ctx->stack.next;\n    if (n) {\n        VLOG(\"seg %p\", n);\n        ctx->stack.top = n->top;\n        ctx->stack.bottom = n->bottom;\n        ctx->stack.next = n->next;\n        app_free(n);\n    } else {\n#ifdef PXT_GC_THREAD_LIST\n        if (ctx->next)\n            ctx->next->prev = ctx->prev;\n        if (ctx->prev)\n            ctx->prev->next = ctx->next;\n        else {\n            if (threadContexts != ctx)\n                oops(41);\n            threadContexts = ctx->next;\n            if (threadContexts)\n                threadContexts->prev = NULL;\n        }\n#endif\n        app_free(ctx);\n        setThreadContext(NULL);\n    }\n#endif\n}\n\n#define ALLOC(tp) (tp *)app_alloc(sizeof(tp))\n\nThreadContext *pushThreadContext(void *sp, void *endSP) {\n#ifdef PXT_VM\n    return NULL;\n#else\n    if (PXT_IN_ISR())\n        target_panic(PANIC_CALLED_FROM_ISR);\n\n    auto curr = getThreadContext();\n    tempRoot = (TValue *)endSP;\n    tempRootLen = (uintptr_t *)sp - (uintptr_t *)endSP;\n    if (curr) {\n#ifdef PXT_GC_THREAD_LIST\n#ifdef PXT_GC_DEBUG\n        auto ok = false;\n        for (auto p = threadContexts; p; p = p->next)\n            if (p == curr) {\n                ok = true;\n                break;\n            }\n        if (!ok)\n            oops(49);\n#endif\n#endif\n        auto seg = ALLOC(StackSegment);\n        VLOG(\"stack %p / %p\", seg, curr);\n        seg->top = curr->stack.top;\n        seg->bottom = curr->stack.bottom;\n        seg->next = curr->stack.next;\n        curr->stack.next = seg;\n    } else {\n        curr = ALLOC(ThreadContext);\n        LOG(\"push: %p\", curr);\n        curr->globals = globals;\n        curr->stack.next = NULL;\n        curr->thrownValue = TAG_NON_VALUE;\n        curr->tryFrame = NULL;\n\n#ifdef PXT_GC_THREAD_LIST\n        curr->next = threadContexts;\n        curr->prev = NULL;\n        if (curr->next)\n            curr->next->prev = curr;\n        threadContexts = curr;\n#endif\n        setThreadContext(curr);\n    }\n    tempRootLen = 0;\n    curr->stack.bottom = sp;\n    curr->stack.top = NULL;\n    return curr;\n#endif\n}\n\nclass RefBlock : public RefObject {\n  public:\n    RefBlock *nextFree;\n};\n\nstruct GCBlock {\n    GCBlock *next;\n    uint32_t blockSize;\n    RefObject data[0];\n};\n\nstruct PendingArray {\n    PendingArray *next;\n    TValue *data;\n    unsigned len;\n};\n\n#define PENDING_ARRAY_THR 100\n\nstatic PendingArray *pendingArrays;\nstatic LLSegment gcRoots;\nLLSegment workQueue; // (ab)used by consString making\nstatic GCBlock *firstBlock;\nstatic RefBlock *firstFree;\nstatic uint8_t *midPtr;\n\nstatic bool inGCArea(void *ptr) {\n    for (auto block = firstBlock; block; block = block->next) {\n        if ((void *)block->data <= ptr && ptr < (void *)((uint8_t *)block->data + block->blockSize))\n            return true;\n    }\n    return false;\n}\n\n#define NO_MAGIC(vt) ((VTable *)vt)->magic != VTABLE_MAGIC\n#define VT(p) (*(uintptr_t *)(p))\n#define SKIP_PROCESSING(p)                                                                         \\\n    (isReadOnly(p) || (VT(p) & (ANY_MARKED_MASK | ARRAY_MASK)) || NO_MAGIC(VT(p)))\n\nvoid gcMarkArray(void *data) {\n    auto segBl = (uintptr_t *)data - 1;\n    GC_CHECK(!IS_MARKED(VT(segBl)), 47);\n    MARK(segBl);\n}\n\nvoid gcScan(TValue v) {\n    if (SKIP_PROCESSING(v))\n        return;\n    MARK(v);\n    workQueue.push(v);\n}\n\nvoid gcScanMany(TValue *data, unsigned len) {\n    // VLOG(\"scan: %p %d\", data, len);\n    for (unsigned i = 0; i < len; ++i) {\n        auto v = data[i];\n        // VLOG(\"psh: %p %d %d\", v, isReadOnly(v), (*(uint32_t *)v & 1));\n        if (SKIP_PROCESSING(v))\n            continue;\n        MARK(v);\n        workQueue.push(v);\n        if (workQueue.getLength() > PENDING_ARRAY_THR) {\n            i++;\n            // store rest of the work for later, when we have cleared the queue\n            auto pa = (PendingArray *)xmalloc(sizeof(PendingArray));\n            pa->next = pendingArrays;\n            pa->data = data + i;\n            pa->len = len - i;\n            pendingArrays = pa;\n            break;\n        }\n    }\n}\n\nvoid gcScanSegment(Segment &seg) {\n    auto data = seg.getData();\n    if (!data)\n        return;\n    VVLOG(\"seg %p %d\", data, seg.getLength());\n    gcMarkArray(data);\n    gcScanMany(data, seg.getLength());\n}\n\n#define getScanMethod(vt) ((RefObjectMethod)(((VTable *)(vt))->methods[2]))\n#define getSizeMethod(vt) ((RefObjectSizeMethod)(((VTable *)(vt))->methods[3]))\n\nvoid gcProcess(TValue v) {\n    if (SKIP_PROCESSING(v))\n        return;\n    VVLOG(\"gcProcess: %p\", v);\n    MARK(v);\n    auto scan = getScanMethod(VT(v) & ~ANY_MARKED_MASK);\n    if (scan)\n        scan((RefObject *)v);\n    for (;;) {\n        while (workQueue.getLength()) {\n            auto curr = (RefObject *)workQueue.pop();\n            VVLOG(\" - %p\", curr);\n            scan = getScanMethod(curr->vtable & ~ANY_MARKED_MASK);\n            if (scan)\n                scan(curr);\n        }\n        if (pendingArrays) {\n            auto pa = pendingArrays;\n            pendingArrays = pa->next;\n            auto data = pa->data;\n            auto len = pa->len;\n            xfree(pa);\n            gcScanMany(data, len);\n        } else {\n            break;\n        }\n    }\n}\n\nstatic void mark(int flags) {\n#ifdef PXT_GC_DEBUG\n    flags |= 2;\n#endif\n    auto data = gcRoots.getData();\n    auto len = gcRoots.getLength();\n    if (flags & 2) {\n        DMESG(\"--MARK\");\n        DMESG(\"RP:%p/%d\", data, len);\n    }\n    for (unsigned i = 0; i < len; ++i) {\n        auto d = data[i];\n        if ((uintptr_t)d & 1) {\n            d = *(TValue *)((uintptr_t)d & ~1);\n        }\n        gcProcess(d);\n    }\n\n#ifdef PXT_GC_THREAD_LIST\n    for (auto ctx = threadContexts; ctx; ctx = ctx->next) {\n        gcProcess(ctx->thrownValue);\n        for (auto seg = &ctx->stack; seg; seg = seg->next) {\n            auto ptr = (TValue *)threadAddressFor(ctx, seg->top);\n            auto end = (TValue *)threadAddressFor(ctx, seg->bottom);\n            VLOG(\"mark: %p - %p\", ptr, end);\n            while (ptr < end) {\n                gcProcess(*ptr++);\n            }\n        }\n    }\n#else\n    gcProcessStacks(flags);\n#endif\n\n    if (globals) {\n#ifdef PXT_VM\n        auto nonPtrs = vmImg->infoHeader->nonPointerGlobals;\n#else\n        auto nonPtrs = bytecode[21];\n#endif\n        len = getNumGlobals() - nonPtrs;\n        data = globals + nonPtrs;\n        if (flags & 2)\n            DMESG(\"RG:%p/%d\", data, len);\n        VLOG(\"globals: %p %d\", data, len);\n        for (unsigned i = 0; i < len; ++i) {\n            gcProcess(*data++);\n        }\n    }\n\n#ifndef PXT_VM\n    data = tempRoot;\n    len = tempRootLen;\n    for (unsigned i = 0; i < len; ++i) {\n        gcProcess(*data++);\n    }\n#endif\n}\n\nstatic uint32_t getObjectSize(RefObject *o) {\n    auto vt = o->vtable & ~ANY_MARKED_MASK;\n    uint32_t r;\n    GC_CHECK(vt != 0, 49);\n    if (IS_VAR_BLOCK(vt)) {\n        r = VAR_BLOCK_WORDS(vt);\n    } else {\n        auto sz = getSizeMethod(vt);\n        // GC_CHECK(0x2000 <= (intptr_t)sz && (intptr_t)sz <= 0x100000, 47);\n        r = sz(o);\n    }\n    GC_CHECK(1 <= r && (r <= BYTES_TO_WORDS(GC_MAX_ALLOC_SIZE) || IS_FREE(vt)), 41);\n    return r;\n}\n\nstatic void setupFreeBlock(GCBlock *curr) {\n    gcStats.numBlocks++;\n    gcStats.totalBytes += curr->blockSize;\n    curr->data[0].vtable = FREE_MASK | (TOWORDS(curr->blockSize) << 2);\n    ((RefBlock *)curr->data)[0].nextFree = firstFree;\n    firstFree = (RefBlock *)curr->data;\n    midPtr = (uint8_t *)curr->data + curr->blockSize / 4;\n}\n\nstatic void linkFreeBlock(GCBlock *curr) {\n    // blocks need to be sorted by address for midPtr to work\n    if (!firstBlock || curr < firstBlock) {\n        curr->next = firstBlock;\n        firstBlock = curr;\n    } else {\n        for (auto p = firstBlock; p; p = p->next) {\n            if (!p->next || curr < p->next) {\n                curr->next = p->next;\n                p->next = curr;\n                break;\n            }\n        }\n    }\n}\n\nvoid gcPreAllocateBlock(uint32_t sz) {\n    auto curr = (GCBlock *)GC_ALLOC_BLOCK(sz);\n    curr->blockSize = sz - sizeof(GCBlock);\n    LOG(\"GC pre-alloc: %p\", curr);\n    GC_CHECK((curr->blockSize & 3) == 0, 40);\n    setupFreeBlock(curr);\n    linkFreeBlock(curr);\n}\n\nstatic GCBlock *allocateBlockCore() {\n    int sz = GC_BLOCK_SIZE;\n    void *dummy = NULL;\n#ifdef GC_GET_HEAP_SIZE\n    if (firstBlock) {\n#ifdef GC_STACK_BASE\n        if (!firstBlock->next) {\n            int memSize = getConfig(CFG_RAM_BYTES, 0);\n            int codalEnd = GC_STACK_BASE;\n            // round up to 1k - there is sometimes a few bytes below the stack\n            codalEnd = (codalEnd + 1024) & ~1023;\n            int codalSize = codalEnd & 0xffffff;\n            sz = memSize - codalSize - 4;\n            if (sz > 0) {\n                auto curr = (GCBlock *)codalEnd;\n                curr->blockSize = sz - sizeof(GCBlock);\n                return curr;\n            }\n        }\n#endif\n        gc(2); // dump roots\n        target_panic(PANIC_GC_OOM);\n    }\n    auto lowMem = getConfig(CFG_LOW_MEM_SIMULATION_KB, 0);\n    auto sysHeapSize = getConfig(CFG_SYSTEM_HEAP_BYTES, 4 * 1024);\n    auto heapSize = GC_GET_HEAP_SIZE();\n    sz = heapSize - sysHeapSize;\n    if (lowMem) {\n        auto memIncrement = 32 * 1024;\n        // get the memory size - assume it's increment of 32k,\n        // and we don't statically allocate more than 32k\n        auto memSize = ((heapSize + memIncrement - 1) / memIncrement) * memIncrement;\n        int fillerSize = memSize - lowMem * 1024;\n        if (fillerSize > 0) {\n            dummy = GC_ALLOC_BLOCK(fillerSize);\n            sz -= fillerSize;\n        }\n    }\n#endif\n    auto curr = (GCBlock *)GC_ALLOC_BLOCK(sz);\n    curr->blockSize = sz - sizeof(GCBlock);\n    // make sure reference to allocated block is stored somewhere, otherwise\n    // GCC optimizes out the call to GC_ALLOC_BLOCK\n    curr->data[4].vtable = (uint32_t)(uintptr_t)dummy;\n    return curr;\n}\n\n__attribute__((noinline)) static void allocateBlock() {\n    auto curr = allocateBlockCore();\n    LOG(\"GC alloc: %p\", curr);\n    GC_CHECK((curr->blockSize & 3) == 0, 40);\n    setupFreeBlock(curr);\n    linkFreeBlock(curr);\n}\n\nstatic void sweep(int flags) {\n    RefBlock *prevFreePtr = NULL;\n    uint32_t freeSize = 0;\n    uint32_t totalSize = 0;\n    uint32_t maxFreeBlock = 0;\n    firstFree = NULL;\n\n    gcStats.numGC++;\n\n    for (auto h = firstBlock; h; h = h->next) {\n        auto d = h->data;\n        auto words = BYTES_TO_WORDS(h->blockSize);\n        auto end = d + words;\n        totalSize += words;\n        VLOG(\"sweep: %p - %p\", d, end);\n        while (d < end) {\n            if (IS_LIVE(d->vtable)) {\n                VVLOG(\"Live %p\", d);\n                d->vtable &= ~MARKED_MASK;\n                d += getObjectSize(d);\n            } else {\n                auto start = (RefBlock *)d;\n                while (d < end) {\n                    if (IS_FREE(d->vtable)) {\n                        VVLOG(\"Free %p\", d);\n                    } else if (IS_LIVE(d->vtable)) {\n                        break;\n                    } else if (IS_ARRAY(d->vtable)) {\n                        VVLOG(\"Dead Arr %p\", d);\n                    } else {\n                        VVLOG(\"Dead Obj %p\", d);\n                        GC_CHECK(((VTable *)d->vtable)->magic == VTABLE_MAGIC, 41);\n                        d->destroyVT();\n                        VVLOG(\"destroyed\");\n                    }\n                    d += getObjectSize(d);\n                }\n                auto sz = d - (RefObject *)start;\n                freeSize += sz;\n                if (sz > (int)maxFreeBlock)\n                    maxFreeBlock = sz;\n#ifdef PXT_GC_CHECKS\n                memset(start, 0xff, WORDS_TO_BYTES(sz));\n#endif\n                start->vtable = (sz << 2) | FREE_MASK;\n                if (sz > 1) {\n                    start->nextFree = NULL;\n                    if (!prevFreePtr) {\n                        firstFree = start;\n                    } else {\n                        prevFreePtr->nextFree = start;\n                    }\n                    prevFreePtr = start;\n                }\n            }\n        }\n    }\n\n    if (midPtr) {\n        uint32_t currFree = 0;\n        auto limit = freeSize * 1 / 2;\n        for (auto p = firstFree; p; p = p->nextFree) {\n            auto len = VAR_BLOCK_WORDS(p->vtable);\n            currFree += len;\n            if (currFree > limit) {\n                midPtr = (uint8_t *)p + ((limit - currFree + len) << 2);\n                break;\n            }\n        }\n    }\n\n    freeSize = WORDS_TO_BYTES(freeSize);\n    totalSize = WORDS_TO_BYTES(totalSize);\n    maxFreeBlock = WORDS_TO_BYTES(maxFreeBlock);\n\n    gcStats.lastFreeBytes = freeSize;\n    gcStats.lastMaxBlockBytes = maxFreeBlock;\n\n    if (gcStats.minFreeBytes == 0 || gcStats.minFreeBytes > freeSize)\n        gcStats.minFreeBytes = freeSize;\n\n    if (flags & 1)\n        DMESG(\"GC %d/%d free; %d maxBlock\", freeSize, totalSize, maxFreeBlock);\n    else\n        LOG(\"GC %d/%d free; %d maxBlock\", freeSize, totalSize, maxFreeBlock);\n\n#ifndef GC_GET_HEAP_SIZE\n    // if the heap is 90% full, allocate a new block\n    if (freeSize * 10 <= totalSize) {\n        allocateBlock();\n    }\n#endif\n}\n\nvoid gc(int flags) {\n    startPerfCounter(PerfCounters::GC);\n    GC_CHECK(!(inGC & IN_GC_COLLECT), 40);\n    inGC |= IN_GC_COLLECT;\n    VLOG(\"GC mark\");\n    mark(flags);\n    VLOG(\"GC sweep\");\n    sweep(flags);\n    VLOG(\"GC done\");\n    stopPerfCounter(PerfCounters::GC);\n    inGC &= ~IN_GC_COLLECT;\n}\n\n#ifdef GC_GET_HEAP_SIZE\nextern \"C\" void free(void *ptr) {\n    if (!ptr)\n        return;\n    if (inGCArea(ptr))\n        app_free(ptr);\n    else\n        xfree(ptr);\n}\n\nextern \"C\" void *malloc(size_t sz) {\n    if (PXT_IN_ISR() || inGC)\n        return xmalloc(sz);\n    else\n        return app_alloc(sz);\n}\n\nextern \"C\" void *realloc(void *ptr, size_t size) {\n    if (inGCArea(ptr)) {\n        void *mem = malloc(size);\n\n        if (ptr != NULL && mem != NULL) {\n            auto r = (uintptr_t *)ptr;\n            GC_CHECK((r[-1] >> (HIGH_SHIFT + 1)) == 3, 41);\n            size_t blockSize = VAR_BLOCK_WORDS(r[-1]);\n            memcpy(mem, ptr, min(blockSize * sizeof(void *), size));\n            free(ptr);\n        }\n\n        return mem;\n    } else {\n        return device_realloc(ptr, size);\n    }\n}\n#endif\n\nvoid *gcAllocateArray(int numbytes) {\n    numbytes = ALIGN_TO_WORD(numbytes);\n    numbytes += sizeof(void *);\n    auto r = (uintptr_t *)gcAllocate(numbytes);\n    *r = ARRAY_MASK | (TOWORDS(numbytes) << 2);\n    return r + 1;\n}\n\nvoid *app_alloc(int numbytes) {\n    if (!numbytes)\n        return NULL;\n\n    // gc(0);\n    auto r = (uintptr_t *)gcAllocateArray(numbytes);\n    r[-1] |= PERMA_MASK;\n    return r;\n}\n\nvoid *app_free(void *ptr) {\n    auto r = (uintptr_t *)ptr;\n    GC_CHECK((r[-1] >> (HIGH_SHIFT + 1)) == 3, 41);\n    r[-1] |= FREE_MASK;\n    return r;\n}\n\nvoid gcFreeze() {\n    inGC |= IN_GC_FREEZE;\n}\n\nvoid gcReset() {\n    inGC &= ~IN_GC_FREEZE;\n\n    gcRoots.setLength(0);\n\n    if (inGC)\n        oops(41);\n\n    if (workQueue.getLength())\n        oops(41);\n\n    memset(&gcStats, 0, sizeof(gcStats));\n    firstFree = NULL;\n    for (auto h = firstBlock; h; h = h->next) {\n        setupFreeBlock(h);\n    }\n}\n\n#ifdef PXT_VM\nstatic uint8_t *preallocBlock;\nstatic uint8_t *preallocPointer;\n\n#define PREALLOC_SIZE (1024 * 1024)\n\nvoid gcPreStartup() {\n    xfree(preallocBlock);\n    preallocBlock = (uint8_t *)xmalloc(PREALLOC_SIZE);\n    preallocPointer = preallocBlock;\n    if (!isReadOnly((TValue)preallocBlock))\n        oops(40);\n    inGC |= IN_GC_PREALLOC;\n}\n\nvoid gcStartup() {\n    inGC &= ~IN_GC_PREALLOC;\n    preallocPointer = NULL;\n}\n\nvoid *gcPrealloc(int numbytes) {\n    if (!preallocPointer)\n        oops(49);\n    void *r = preallocPointer;\n    preallocPointer += ALIGN_TO_WORD(numbytes);\n    if (preallocPointer > preallocBlock + PREALLOC_SIZE) {\n        DMESG(\"pre-alloc size exceeded! block=%p ptr=%p sz=%d\", preallocBlock, preallocPointer,\n              (int)PREALLOC_SIZE);\n        oops(48);\n    }\n    return r;\n}\n\nbool inGCPrealloc() {\n    return (inGC & IN_GC_PREALLOC) != 0;\n}\n#endif\n\nvoid *gcAllocate(int numbytes) {\n    size_t numwords = BYTES_TO_WORDS(ALIGN_TO_WORD(numbytes));\n    // VVLOG(\"alloc %d bytes %d words\", numbytes, numwords);\n\n    if (numbytes > GC_MAX_ALLOC_SIZE)\n        target_panic(PANIC_GC_TOO_BIG_ALLOCATION);\n\n    if (PXT_IN_ISR() || (inGC & (IN_GC_ALLOC | IN_GC_COLLECT | IN_GC_FREEZE)))\n        target_panic(PANIC_CALLED_FROM_ISR);\n\n#ifdef PXT_VM\n    if (inGCPrealloc())\n        return gcPrealloc(numbytes);\n#endif\n\n    inGC |= IN_GC_ALLOC;\n\n#if defined(PXT_GC_CHECKS) && !defined(PXT_VM)\n    {\n        auto curr = getThreadContext();\n        if (curr && !curr->stack.top)\n            oops(46);\n    }\n#endif\n\n#ifdef PXT_GC_STRESS\n    gc(0);\n#endif\n\n    for (int i = 0;; ++i) {\n        RefBlock *prev = NULL;\n        for (auto p = firstFree; p; p = p->nextFree) {\n            VVLOG(\"p=%p\", p);\n            if (i == 0 && (uint8_t *)p > midPtr) {\n                VLOG(\"past midptr %p; gc\", midPtr);\n                break;\n            }\n            GC_CHECK(!isReadOnly((TValue)p), 49);\n            auto vt = p->vtable;\n            if (!IS_FREE(vt))\n                oops(43);\n            int left = (int)(VAR_BLOCK_WORDS(vt) - numwords);\n            VVLOG(\"%p %d - %d = %d\", (void *)vt, (int)VAR_BLOCK_WORDS(vt), (int)numwords, left);\n            if (left >= 0) {\n                auto nf = (RefBlock *)((void **)p + numwords);\n                auto nextFree = p->nextFree; // p and nf can overlap when allocating 4 bytes\n                // VVLOG(\"nf=%p nef=%p\", nf, nextFree);\n                if (left)\n                    nf->vtable = (left << 2) | FREE_MASK;\n                if (left >= 2) {\n                    nf->nextFree = nextFree;\n                } else {\n                    nf = nextFree;\n                }\n                if (prev)\n                    prev->nextFree = nf;\n                else\n                    firstFree = nf;\n                p->vtable = 0;\n                VVLOG(\"GC=>%p %d %p -> %p,%p\", p, numwords, nf, nf ? nf->nextFree : 0,\n                      nf ? (void *)nf->vtable : 0);\n                GC_CHECK(!nf || !nf->nextFree || !isReadOnly((TValue)nf->nextFree), 48);\n                inGC &= ~IN_GC_ALLOC;\n                return p;\n            }\n            prev = p;\n        }\n\n        // we didn't find anything, try GC\n        if (i == 0)\n            gc(0);\n        // GC didn't help, try new block\n        else if (i == 1)\n            allocateBlock();\n        else\n            // the block allocated was apparently too small\n            target_panic(PANIC_GC_OOM);\n    }\n}\n\nstatic void removePtr(TValue v) {\n    int len = gcRoots.getLength();\n    auto data = gcRoots.getData();\n    // scan from the back, as this is often used as a stack\n    for (int i = len - 1; i >= 0; --i) {\n        if (data[i] == v) {\n            if (i == len - 1) {\n                gcRoots.pop();\n            } else {\n                data[i] = gcRoots.pop();\n            }\n            return;\n        }\n    }\n    oops(40);\n}\n\nvoid registerGC(TValue *root, int numwords) {\n    if (!numwords)\n        return;\n\n    if (numwords > 1) {\n        while (numwords-- > 0) {\n            registerGC(root++, 1);\n        }\n        return;\n    }\n\n    gcRoots.push((TValue)((uintptr_t)root | 1));\n}\n\nvoid unregisterGC(TValue *root, int numwords) {\n    if (!numwords)\n        return;\n    if (numwords > 1) {\n        while (numwords-- > 0) {\n            unregisterGC(root++, 1);\n        }\n        return;\n    }\n\n    removePtr((TValue)((uintptr_t)root | 1));\n}\n\nvoid registerGCPtr(TValue ptr) {\n    if (isReadOnly(ptr))\n        return;\n    gcRoots.push(ptr);\n}\n\nvoid unregisterGCPtr(TValue ptr) {\n    if (isReadOnly(ptr))\n        return;\n    removePtr(ptr);\n}\n\nvoid RefImage::scan(RefImage *t) {\n    gcScan((TValue)t->buffer);\n}\n\nvoid RefCollection::scan(RefCollection *t) {\n    gcScanSegment(t->head);\n}\n\nvoid RefAction::scan(RefAction *t) {\n    gcScanMany(t->fields, t->len);\n}\n\nvoid RefRefLocal::scan(RefRefLocal *t) {\n    gcScan(t->v);\n}\n\nvoid RefMap::scan(RefMap *t) {\n    gcScanSegment(t->keys);\n    gcScanSegment(t->values);\n}\n\nvoid RefRecord_scan(RefRecord *r) {\n    VTable *tbl = getVTable(r);\n    gcScanMany(r->fields, BYTES_TO_WORDS(tbl->numbytes - sizeof(RefRecord)));\n}\n\n#define SIZE(off) TOWORDS(sizeof(*t) + (off))\n\nunsigned RefImage::gcsize(RefImage *t) {\n    return SIZE(0);\n}\n\nunsigned RefCollection::gcsize(RefCollection *t) {\n    return SIZE(0);\n}\n\nunsigned RefAction::gcsize(RefAction *t) {\n    return SIZE(WORDS_TO_BYTES(t->len));\n}\n\nunsigned RefRefLocal::gcsize(RefRefLocal *t) {\n    return SIZE(0);\n}\n\nunsigned RefMap::gcsize(RefMap *t) {\n    return SIZE(0);\n}\n\n} // namespace pxt\n",
            "json.ts": "namespace JSON {\n    export function parseIntRadix(s: string, base?: number) {\n        if (base == null || base == 10) {\n            return parseFloat(s) | 0\n        }\n\n        let m = false\n        let r = 0\n        for (let i = 0; i < s.length; ++i) {\n            let c = s.charCodeAt(i)\n            if (c == 0x20 || c == 10 || c == 13 || c == 9)\n                continue\n            if (r == 0 && !m && c == 0x2d) {\n                m = true\n                continue\n            }\n\n            let v = -1\n            if (0x30 <= c && c <= 0x39)\n                v = c - 0x30\n            else {\n                c |= 0x20\n                if (0x61 <= c && c <= 0x7a)\n                    v = c - 0x61 + 10\n            }\n\n            if (0 <= v && v < base) {\n                r *= base\n                r += v\n            } else {\n                return undefined\n            }\n        }\n\n        return m ? -r : r\n    }\n\n\n    class Parser {\n        ptr: number\n        s: string\n        errorMsg: string\n\n        error(msg: string) {\n            if (!this.errorMsg) {\n                this.errorMsg = msg + \" at position \" + this.ptr\n                this.ptr = this.s.length\n            }\n        }\n\n        skipWS() {\n            for (; ;) {\n                const c = this.nextChar()\n                if (c == 0x20 || c == 0x0a || c == 0x0d || c == 0x09) {\n                    // OK\n                } else {\n                    this.ptr--\n                    return c\n                }\n            }\n        }\n\n        nextChar() {\n            if (this.ptr < this.s.length)\n                return this.s.charCodeAt(this.ptr++)\n            return 0\n        }\n\n        doString() {\n            let r = \"\"\n            this.ptr++\n            for (; ;) {\n                const c = this.s.charAt(this.ptr++)\n                if (c == \"\\\"\")\n                    return r\n                if (c == \"\\\\\") {\n                    let q = this.s.charAt(this.ptr++)\n                    if (q == \"b\") q = \"\\b\"\n                    else if (q == \"n\") q = \"\\n\"\n                    else if (q == \"r\") q = \"\\r\"\n                    else if (q == \"t\") q = \"\\t\"\n                    else if (q == \"u\") {\n                        q = String.fromCharCode(parseIntRadix(this.s.slice(this.ptr, this.ptr + 4), 16))\n                        this.ptr += 4\n                    }\n                    r += q\n                } else {\n                    r += c\n                }\n            }\n        }\n\n        doArray(): any[] {\n            const r = []\n            this.ptr++\n            for (; ;) {\n                let c = this.skipWS()\n                if (c == 0x5d) {\n                    this.ptr++\n                    return r\n                }\n                const v = this.value()\n                if (this.errorMsg)\n                    return null\n                r.push(v)\n                c = this.skipWS()\n                if (c == 0x2c) {\n                    this.ptr++\n                    continue\n                }\n                if (c == 0x5d)\n                    continue\n                this.error(\"expecting comma\")\n            }\n        }\n\n        doObject() {\n            const r: any = {}\n            this.ptr++\n            for (; ;) {\n                let c = this.skipWS()\n                if (c == 0x7d) {\n                    this.ptr++\n                    return r\n                }\n                if (c != 0x22) {\n                    this.error(\"expecting key\")\n                    return r\n                }\n                const k = this.doString()\n                c = this.skipWS()\n                if (c != 0x3a) {\n                    this.error(\"expecting colon\")\n                    return r\n                }\n                this.ptr++\n                const v = this.value()\n                if (this.errorMsg)\n                    return null\n                r[k] = v\n                c = this.skipWS()\n                if (c == 0x2c) {\n                    this.ptr++\n                    continue\n                }\n                if (c == 0x7d)\n                    continue\n                this.error(\"expecting comma, got \" + String.fromCharCode(c))\n            }\n        }\n\n        doNumber() {\n            const beg = this.ptr\n            for (; ;) {\n                const c = this.nextChar()\n                if ((0x30 <= c && c <= 0x39) || c == 0x2b || c == 0x2d || c == 0x2e || c == 0x45 || c == 0x65) {\n                    // one more\n                } else {\n                    this.ptr--\n                    break\n                }\n            }\n            const ss = this.s.slice(beg, this.ptr)\n            if (ss.length == 0) {\n                this.error(\"expecting number\")\n                return 0\n            }\n            return parseFloat(ss)\n        }\n\n        checkKw(k: string) {\n            if (this.s.slice(this.ptr, this.ptr + k.length) == k) {\n                this.ptr += k.length\n                return true\n            }\n            return false\n        }\n\n        value() {\n            if (this.errorMsg)\n                return null\n\n            const c = this.skipWS()\n            if (c == 0x7b)\n                return this.doObject()\n            else if (c == 0x5b)\n                return this.doArray()\n            else if ((0x30 <= c && c <= 0x39) || c == 0x2d)\n                return this.doNumber()\n            else if (c == 0x22)\n                return this.doString()\n            else if (c == 0x74 && this.checkKw(\"true\"))\n                return true\n            else if (c == 0x66 && this.checkKw(\"false\"))\n                return false\n            else if (c == 0x6e && this.checkKw(\"null\"))\n                return null\n\n            this.error(\"unexpected token\")\n            return null\n        }\n    }\n\n    class Stringifier {\n        currIndent: string\n        indentStep: string\n        indent: number\n\n        doString(s: string) {\n            let r = \"\\\"\"\n            for (let i = 0; i < s.length; ++i) {\n                let c = s[i]\n                if (c == \"\\n\") c = \"\\\\n\"\n                else if (c == \"\\r\") c = \"\\\\r\"\n                else if (c == \"\\t\") c = \"\\\\t\"\n                else if (c == \"\\b\") c = \"\\\\b\"\n                else if (c == \"\\\\\") c = \"\\\\\\\\\"\n                else if (c == \"\\\"\") c = \"\\\\\\\"\"\n                r += c\n            }\n            return r + \"\\\"\"\n        }\n\n        go(v: any) {\n            const t = typeof v\n            if (t == \"string\")\n                return this.doString(v)\n            else if (t == \"boolean\" || t == \"number\" || v == null)\n                return \"\" + v\n            else if (Array.isArray(v)) {\n                const arr = v as any[]\n                if (arr.length == 0)\n                    return \"[]\"\n                else {\n                    let r = \"[\"\n                    if (this.indent) {\n                        this.currIndent += this.indentStep\n                        r += \"\\n\"\n                    }\n                    for (let i = 0; i < arr.length; ++i) {\n                        r += this.currIndent + this.go(arr[i])\n                        if (i != arr.length - 1)\n                            r += \",\"\n                        if (this.indent)\n                            r += \"\\n\"\n                    }\n                    if (this.indent)\n                        this.currIndent = this.currIndent.slice(this.indent)\n                    r += this.currIndent + \"]\"\n                    return r\n                }\n            } else {\n                const keys = Object.keys(v)\n                if (keys.length == 0)\n                    return \"{}\"\n\n                let r = \"{\"\n                if (this.indent) {\n                    this.currIndent += this.indentStep\n                    r += \"\\n\"\n                }\n                for (let i = 0; i < keys.length; ++i) {\n                    const k = keys[i]\n                    r += this.currIndent + this.doString(k)\n                    if (this.indent)\n                        r += \": \"\n                    else\n                        r += \":\"\n                    r += this.go(v[k])\n                    if (i != keys.length - 1)\n                        r += \",\"\n                    if (this.indent)\n                        r += \"\\n\"\n                }\n                if (this.indent)\n                    this.currIndent = this.currIndent.slice(this.indent)\n                r += this.currIndent + \"}\"\n                return r\n            }\n        }\n    }\n\n    /**\n     * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\n     * @param value A JavaScript value, usually an object or array, to be converted.\n     * @param replacer Not supported; use null.\n     * @param indent Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\n     */\n    export function stringify(value: any, replacer: any = null, indent: number = 0) {\n        const ss = new Stringifier()\n        ss.currIndent = \"\"\n        indent |= 0\n        if (indent < 0) indent = 0\n        if (indent > 10) indent = 10\n        ss.indentStep = \"\"\n        ss.currIndent = \"\"\n        ss.indent = indent\n        while (indent-- > 0)\n            ss.indentStep += \" \"\n        return ss.go(value)\n    }\n\n\n    /**\n     * Converts a JavaScript Object Notation (JSON) string into an object.\n     * @param text A valid JSON string.\n     */\n    export function parse(s: string) {\n        const p = new Parser()\n        p.ptr = 0\n        p.s = s\n        const r = p.value()\n        if (p.skipWS()) {\n            p.error(\"excessive input\")\n        }\n        if (p.errorMsg) {\n            control.dmesg(\"Invalid JSON: \" + p.errorMsg)\n            return undefined\n        }\n        return r\n    }\n}\n",
            "loops.cpp": "#include \"pxtbase.h\"\n\nnamespace loops {\n\n/**\n * Repeats the code forever in the background. On each iteration, allows other codes to run.\n * @param body code to execute\n */\n//% help=loops/forever weight=100 afterOnStart=true deprecated=true\n//% blockId=forever_deprecated block=\"forever\" blockAllowMultiple=1\nvoid forever(Action a) {\n    runForever(a);\n}\n\n/**\n * Pause for the specified time in milliseconds\n * @param ms how long to pause for, eg: 100, 200, 500, 1000, 2000\n */\n//% help=loops/pause weight=99 deprecated=true\n//% async block=\"pause %pause=timePicker|ms\"\n//% blockId=device_pause_deprecated\nvoid pause(int ms) {\n    if (ms < 0) return;\n    sleep_ms(ms);\n}\n\n}",
            "math.ts": "namespace Math {\n\n    export const E = 2.718281828459045;\n    export const LN2 = 0.6931471805599453;\n    export const LN10 = 2.302585092994046;\n    export const LOG2E = 1.4426950408889634;\n    export const LOG10E = 0.4342944819032518;\n    export const PI = 3.141592653589793;\n    export const SQRT1_2 = 0.7071067811865476;\n    export const SQRT2 = 1.4142135623730951;\n\n    /**\n     * Re-maps a number from one range to another. That is, a value of ``from low`` would get mapped to ``to low``, a value of ``from high`` to ``to high``, values in-between to values in-between, etc.\n     * @param value value to map in ranges\n     * @param fromLow the lower bound of the value's current range\n     * @param fromHigh the upper bound of the value's current range, eg: 1023\n     * @param toLow the lower bound of the value's target range\n     * @param toHigh the upper bound of the value's target range, eg: 4\n     */\n    //% help=math/map weight=10 blockGap=8\n    //% blockId=math_map block=\"map %value|from low %fromLow|high %fromHigh|to low %toLow|high %toHigh\"\n    //% inlineInputMode=inline\n    export function map(value: number, fromLow: number, fromHigh: number, toLow: number, toHigh: number): number {\n        return ((value - fromLow) * (toHigh - toLow)) / (fromHigh - fromLow) + toLow;\n    }    \n\n    /**\n     * Constrains a number to be within a range\n     * @param x the number to constrain, all data types\n     * @param y the lower end of the range, all data types\n     * @param z the upper end of the range, all data types\n     */\n    //% help=math/constrain weight=11 blockGap=8\n    //% blockId=\"math_constrain_value\" block=\"constrain %value|between %low|and %high\"\n    export function constrain(value: number, low: number, high: number): number {\n        return value < low ? low : value > high ? high : value;\n    }\n\n    const b_m16: number[] = [0, 49, 49, 41, 90, 27, 117, 10]\n    /**\n     * Returns the sine of an input angle. This is an 8-bit approximation.\n     * @param theta input angle from 0-255\n     */\n    //% help=math/isin weight=11 advanced=true blockGap=8\n    export function isin(theta: number) {\n        //reference: based on FASTLed's sin approximation method: [https://github.com/FastLED/FastLED](MIT)\n        let offset = theta;\n        if( theta & 0x40 ) {\n            offset = 255 - offset;\n        }\n        offset &= 0x3F; // 0..63\n\n        let secoffset  = offset & 0x0F; // 0..15\n        if( theta & 0x40) secoffset++;\n\n        let section = offset >> 4; // 0..3\n        let s2 = section * 2;\n\n        let b = b_m16[s2];\n        let m16 = b_m16[s2+1];\n        let mx = (m16 * secoffset) >> 4;\n        \n        let y = mx + b;\n        if( theta & 0x80 ) y = -y;\n\n        y += 128;\n\n        return y;\n    }\n\n    /**\n     * Returns the cosine of an input angle. This is an 8-bit approximation. \n     * @param theta input angle from 0-255\n     */\n    //% help=math/icos weight=10 advanced=true blockGap=8\n    export function icos(theta: number) {\n        return isin(theta + 16384);\n    }\n}\n\nnamespace Number {\n    export const EPSILON = 2.220446049250313e-16;\n}",
            "ns.ts": "\n/**\n * Respond to and read data from buttons and sensors.\n */\n//% color=\"#B4009E\" weight=98 icon=\"\\uf192\"\nnamespace input {\n}\n",
            "pause.ts": "/**\n * Pause for the specified time in milliseconds\n * @param ms how long to pause for, eg: 100, 200, 500, 1000, 2000\n */\n//% help=loops/pause weight=99\n//% async block=\"pause %pause=timePicker|ms\"\n//% blockId=device_pause blockNamespace=\"loops\"\nfunction pause(ms: number): void {\n    loops.pause(ms);\n}\n\n// micro:bit compatibility\n// these functions allow some level of reuse\n// between micro:bit and other maker-style editors\nnamespace basic {\n    export function pause(millis: number) {\n        loops.pause(millis);\n    }\n}",
            "pxt-core.d.ts": "/// <reference no-default-lib=\"true\"/>\n\ninterface Array<T> {\n    /**\n      * Get or set the length of an array. This number is one more than the index of the last element the array.\n      */\n    //% shim=Array_::length weight=84\n    //% blockId=\"lists_length\" block=\"length of %VALUE\" blockBuiltin=true blockNamespace=\"arrays\"\n    length: number;\n\n    /**\n      * Append a new element to an array.\n      * @param items New elements of the Array.\n      */\n    //% help=arrays/push\n    //% shim=Array_::push weight=50\n    //% blockId=\"array_push\" block=\"%list| add value %value| to end\" blockNamespace=\"arrays\"\n    //% group=\"Modify\"\n    push(item: T): void;\n\n    /**\n      * Concatenates the values with another array.\n      * @param arr The other array that is being concatenated with\n      */\n    //% helper=arrayConcat weight=40\n    concat(arr: T[]): T[];\n\n    /**\n      * Remove the last element from an array and return it.\n      */\n    //% help=arrays/pop\n    //% shim=Array_::pop weight=45\n    //% blockId=\"array_pop\" block=\"get and remove last value from %list\" blockNamespace=\"arrays\"\n    //% group=\"Read\"\n    pop(): T;\n\n    /**\n      * Reverse the elements in an array. The first array element becomes the last, and the last array element becomes the first.\n      */\n    //% help=arrays/reverse\n    //% helper=arrayReverse weight=10\n    //% blockId=\"array_reverse\" block=\"reverse %list\" blockNamespace=\"arrays\"\n    //% group=\"Operations\"\n    reverse(): void;\n\n    /**\n      * Remove the first element from an array and return it. This method changes the length of the array.\n      */\n    //% help=arrays/shift\n    //% helper=arrayShift weight=30\n    //% blockId=\"array_shift\" block=\"get and remove first value from %list\" blockNamespace=\"arrays\"\n    //% group=\"Read\"\n    shift(): T;\n\n    /**\n      * Add one element to the beginning of an array and return the new length of the array.\n      * @param element to insert at the start of the Array.\n      */\n    //% help=arrays/unshift\n    //% helper=arrayUnshift weight=25\n    //% blockId=\"array_unshift\" block=\"%list| insert %value| at beginning\" blockNamespace=\"arrays\"\n    //% group=\"Modify\"\n    //unshift(...values:T[]): number; //rest is not supported in our compiler yet.\n    unshift(value: T): number;\n\n    /**\n      * Return a section of an array.\n      * @param start The beginning of the specified portion of the array. eg: 0\n      * @param end The end of the specified portion of the array. eg: 0\n      */\n    //% help=arrays/slice\n    //% helper=arraySlice weight=41 blockNamespace=\"arrays\"\n    slice(start?: number, end?: number): T[];\n\n    /**\n      * Remove elements from an array.\n      * @param start The zero-based location in the array from which to start removing elements. eg: 0\n      * @param deleteCount The number of elements to remove. eg: 0\n      */\n    //% helper=arraySplice weight=40\n    splice(start: number, deleteCount: number): void;\n\n    /**\n      * joins all elements of an array into a string and returns this string.\n      * @param sep the string separator\n      */\n    //% helper=arrayJoin weight=40\n    join(sep?: string): string;\n\n    /**\n      * Tests whether at least one element in the array passes the test implemented by the provided function.\n      * @param callbackfn A function that accepts up to two arguments. The some method calls the callbackfn function one time for each element in the array.\n      */\n    //% helper=arraySome weight=40\n    some(callbackfn: (value: T, index: number) => boolean): boolean;\n\n    /**\n      * Tests whether all elements in the array pass the test implemented by the provided function.\n      * @param callbackfn A function that accepts up to two arguments. The every method calls the callbackfn function one time for each element in the array.\n      */\n    //% helper=arrayEvery weight=40\n    every(callbackfn: (value: T, index: number) => boolean): boolean;\n\n    /**\n      * Sort the elements of an array in place and returns the array. The sort is not necessarily stable.\n      * @param specifies a function that defines the sort order. If omitted, the array is sorted according to the prmitive type\n      */\n    //% helper=arraySort weight=40\n    sort(callbackfn?: (value1: T, value2: T) => number): T[];\n\n    /**\n      * Call a defined callback function on each element of an array, and return an array containing the results.\n      * @param callbackfn A function that accepts up to two arguments. The map method calls the callbackfn function one time for each element in the array.\n      */\n    //% helper=arrayMap weight=40\n    map<U>(callbackfn: (value: T, index: number) => U): U[];\n\n    /**\n      * Call a defined callback function on each element of an array.\n      * @param callbackfn A function that accepts up to two arguments. The forEach method calls the callbackfn function one time for each element in the array.\n      */\n    //% helper=arrayForEach weight=40\n    forEach(callbackfn: (value: T, index: number) => void): void;\n\n    /**\n      * Return the elements of an array that meet the condition specified in a callback function.\n      * @param callbackfn A function that accepts up to two arguments. The filter method calls the callbackfn function one time for each element in the array.\n      */\n    //% helper=arrayFilter weight=40\n    filter(callbackfn: (value: T, index: number) => boolean): T[];\n\n    /**\n      * Fills all the elements of an array from a start index to an end index with a static value. The end index is not included.\n      */\n    //% helper=arrayFill weight=39\n    fill(value: T, start?: number, end?: number): T[];\n\n    /**\n     * Returns the value of the first element in the array that satisfies the provided testing function. Otherwise undefined is returned.\n     * @param callbackfn\n     */\n    //% helper=arrayFind weight=40\n    find(callbackfn: (value: T, index: number) => boolean): T;\n\n    /**\n      * Call the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\n      * @param callbackfn A function that accepts up to three arguments. The reduce method calls the callbackfn function one time for each element in the array.\n      * @param initialValue Initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\n      */\n    //% helper=arrayReduce weight=40\n    reduce<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number) => U, initialValue: U): U;\n\n\n    /** Remove the first occurence of an object. Returns true if removed. */\n    //% shim=Array_::removeElement weight=48\n    removeElement(element: T): boolean;\n\n    /** Remove the element at a certain index. */\n    //% help=arrays/remove-at\n    //% shim=Array_::removeAt weight=47\n    //% blockId=\"array_removeat\" block=\"%list| get and remove value at %index\" blockNamespace=\"arrays\"\n    //% group=\"Read\"\n    removeAt(index: number): T;\n\n    /**\n     * Insert the value at a particular index, increases length by 1\n     * @param index the zero-based position in the list to insert the value, eg: 0\n     * @param the value to insert, eg: 0\n     */\n    //% help=arrays/insert-at\n    //% shim=Array_::insertAt weight=20\n    //% blockId=\"array_insertAt\" block=\"%list| insert at %index| value %value\" blockNamespace=\"arrays\"\n    //% group=\"Modify\"\n    insertAt(index: number, value: T): void;\n\n    /**\n      * Return the index of the first occurrence of a value in an array.\n      * @param item The value to locate in the array.\n      * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\n      */\n    //% help=arrays/index-of\n    //% shim=Array_::indexOf weight=40\n    //% blockId=\"array_indexof\" block=\"%list| find index of %value\" blockNamespace=\"arrays\"\n    //% group=\"Operations\"\n    indexOf(item: T, fromIndex?: number): number;\n\n    /**\n     * Get the value at a particular index\n     * @param index the zero-based position in the list of the item, eg: 0\n     */\n    //% help=arrays/get\n    //% shim=Array_::getAt weight=85\n    get(index: number): T;\n\n    /**\n     * Store a value at a particular index\n     * @param index the zero-based position in the list to store the value, eg: 0\n     * @param the value to insert, eg: 0\n     */\n    //% help=arrays/set\n    //% shim=Array_::setAt weight=84\n    set(index: number, value: T): void;\n\n    [n: number]: T;\n\n    /**\n      * Add one element to the beginning of an array and return the new length of the array.\n      * @param element to insert at the start of the Array.\n      */\n    //% help=arrays/unshift\n    //% helper=arrayUnshift weight=24\n    //% blockId=\"array_unshift_statement\" block=\"%list| insert %value| at beginning\" blockNamespace=\"arrays\"\n    //% blockAliasFor=\"Array.unshift\"\n    //% group=\"Modify\"\n    _unshiftStatement(value: T): void;\n\n    /**\n      * Remove the last element from an array and return it.\n      */\n    //% help=arrays/pop\n    //% shim=Array_::pop weight=44\n    //% blockId=\"array_pop_statement\" block=\"remove last value from %list\" blockNamespace=\"arrays\"\n    //% blockAliasFor=\"Array.pop\"\n    //% group=\"Modify\"\n    _popStatement(): void;\n\n    /**\n      * Remove the first element from an array and return it. This method changes the length of the array.\n      */\n    //% help=arrays/shift\n    //% helper=arrayShift weight=29\n    //% blockId=\"array_shift_statement\" block=\"remove first value from %list\" blockNamespace=\"arrays\"\n    //% blockAliasFor=\"Array.shift\"\n    //% group=\"Modify\"\n    _shiftStatement(): void;\n\n    /** Remove the element at a certain index. */\n    //% help=arrays/remove-at\n    //% shim=Array_::removeAt weight=14\n    //% blockId=\"array_removeat_statement\" block=\"%list| remove value at %index\" blockNamespace=\"arrays\"\n    //% blockAliasFor=\"Array.removeAt\"\n    //% group=\"Modify\"\n    _removeAtStatement(index: number): void;\n}\n\ndeclare interface String {\n    // This block is currently disabled in favor of the built-in Blockly \"Create text with\" block, which compiles to \"\" + \"\"\n    // Add % sign back to the block annotation to re-enable\n    /**\n     * Returns a string that contains the concatenation of two or more strings.\n     * @param other The string to append to the end of the string.\n     */\n    //% shim=String_::concat weight=49\n    //% blockId=\"string_concat\" blockNamespace=\"text\"\n    // block=\"join %list=text|%other\"\n    concat(other: string): string;\n\n    /**\n     * Return the character at the specified index.\n     * @param index The zero-based index of the desired character.\n     */\n    //% shim=String_::charAt weight=48\n    //% help=text/char-at\n    //% blockId=\"string_get\" block=\"char from %this=text|at %pos\" blockNamespace=\"text\"\n    charAt(index: number): string;\n\n    /** Returns the length of a String object. */\n    //% property shim=String_::length weight=47\n    //% blockId=\"text_length\" block=\"length of %VALUE\" blockBuiltin=true blockNamespace=\"text\"\n    length: number;\n\n    /**\n     * Return the Unicode value of the character at the specified location.\n     * @param index The zero-based index of the desired character. If there is no character at the specified index, NaN is returned.\n     */\n    //% shim=String_::charCodeAt\n    charCodeAt(index: number): number;\n\n    /**\n     * See how the order of characters in two strings is different (in ASCII encoding).\n     * @param that String to compare to target string\n     */\n    //% shim=String_::compare\n    //% help=text/compare\n    //% blockId=\"string_compare\" block=\"compare %this=text| to %that\" blockNamespace=\"text\"\n    compare(that: string): number;\n\n    /**\n     * Return a substring of the current string.\n     * @param start first character index; can be negative from counting from the end, eg:0\n     * @param length number of characters to extract\n     */\n    //% shim=String_::substr length.defl=10\n    //% help=text/substr\n    //% blockId=\"string_substr\" block=\"substring of %this=text|from %start|of length %length\" blockNamespace=\"text\"\n    substr(start: number, length?: number): string;\n\n    /**\n     * Return the current string with the first occurence of toReplace\n     * replaced with the replacer\n     * @param toReplace the substring to replace in the current string\n     * @param replacer either the string that replaces toReplace in the current string,\n     *                or a function that accepts the substring and returns the replacement string.\n     */\n    //% helper=stringReplace\n    replace(toReplace: string, replacer: string | ((sub: string) => string)): string;\n\n    /**\n     * Return the current string with each occurence of toReplace\n     * replaced with the replacer\n     * @param toReplace the substring to replace in the current string\n     * @param replacer either the string that replaces toReplace in the current string,\n     *                or a function that accepts the substring and returns the replacement string.\n     */\n    //% helper=stringReplaceAll\n    replaceAll(toReplace: string, replacer: string | ((sub: string) => string)): string;\n\n    /**\n     * Return a substring of the current string.\n     * @param start first character index; can be negative from counting from the end, eg:0\n     * @param end one-past-last character index\n     */\n    //% helper=stringSlice\n    slice(start: number, end?: number): string;\n\n    /** Returns a value indicating if the string is empty */\n    //% helper=stringEmpty\n    //% blockId=\"string_isempty\" blockNamespace=\"text\"\n    //% block=\"%this=text| is empty\"\n    isEmpty(): boolean;\n\n    /**\n     * Returns the position of the first occurrence of a specified value in a string.\n     * @param searchValue the text to find\n     * @param start optional start index for the search\n     */\n    //% shim=String_::indexOf\n    //% help=text/index-of\n    //% blockId=\"string_indexof\" blockNamespace=\"text\"\n    //% block=\"%this=text|find index of %searchValue\"\n    indexOf(searchValue: string, start?: number): number;\n\n    /**\n     * Determines whether a string contains the characters of a specified string.\n     * @param searchValue the text to find\n     * @param start optional start index for the search\n     */\n    //% shim=String_::includes\n    //% help=text/includes\n    //% blockId=\"string_includes\" blockNamespace=\"text\"\n    //% block=\"%this=text|includes %searchValue\"\n    includes(searchValue: string, start?: number): boolean;\n\n    /**\n     * Splits the string according to the separators\n     * @param separator\n     * @param limit\n     */\n    //% helper=stringSplit\n    //% help=text/split\n    //% blockId=\"string_split\" blockNamespace=\"text\"\n    //% block=\"split %this=text|at %separator\"\n    split(separator?: string, limit?: number): string[];\n\n    /**\n     * Return a substring of the current string with whitespace removed from both ends\n     */\n    trim(): string;\n\n    /**\n     * Converts the string to lower case characters.\n     */\n    //% helper=stringToLowerCase\n    //% help=text/to-lower-case\n    toLowerCase(): string;\n\n    [index: number]: string;\n}\n\n/**\n  * Convert a string to a number.\n  * @param s A string to convert into a number. eg: 123\n  */\n//% shim=String_::toNumber\n//% help=text/parse-float\n//% blockId=\"string_parsefloat\" block=\"parse to number %text\" blockNamespace=\"text\"\n//% text.defl=\"123\"\ndeclare function parseFloat(text: string): number;\n\n/**\n * Returns a pseudorandom number between min and max included.\n * If both numbers are integral, the result is integral.\n * @param min the lower inclusive bound, eg: 0\n * @param max the upper inclusive bound, eg: 10\n */\n//% blockId=\"device_random\" block=\"pick random %min|to %limit\"\n//% blockNamespace=\"Math\"\n//% help=math/randint\n//% shim=Math_::randomRange\ndeclare function randint(min: number, max: number): number;\n\ninterface Object { }\ninterface Function { }\ninterface IArguments { }\ninterface RegExp { }\ntype TemplateStringsArray = Array<string>;\n\ntype uint8 = number;\ntype uint16 = number;\ntype uint32 = number;\ntype int8 = number;\ntype int16 = number;\ntype int32 = number;\n\n\ndeclare interface Boolean {\n    /**\n     * Returns a string representation of an object.\n     */\n    //% shim=numops::toString\n    toString(): string;\n}\n\n/**\n * Combine, split, and search text strings.\n*/\n//% blockNamespace=\"text\"\ndeclare namespace String {\n\n    /**\n     * Make a string from the given ASCII character code.\n     */\n    //% help=math/from-char-code\n    //% shim=String_::fromCharCode weight=1\n    //% blockNamespace=\"text\" blockId=\"stringFromCharCode\" block=\"text from char code %code\"\n    function fromCharCode(code: number): string;\n}\n\ndeclare interface Number {\n    /**\n     * Returns a string representation of a number.\n     */\n    //% shim=numops::toString\n    toString(): string;\n}\n\n/**\n * Add, remove, and replace items in lists.\n*/\n//% blockNamespace=\"Arrays\"\ndeclare namespace Array {\n    /**\n     * Check if a given object is an array.\n     */\n    //% shim=Array_::isArray\n    function isArray(obj: any): boolean;\n}\n\ndeclare namespace Object {\n    /**\n     * Return the field names in an object.\n     */\n    //% shim=pxtrt::keysOf\n    function keys(obj: any): string[];\n}\n\n/**\n * More complex operations with numbers.\n*/\ndeclare namespace Math {\n    /**\n     * Returns the value of a base expression taken to a specified power.\n     * @param x The base value of the expression.\n     * @param y The exponent value of the expression.\n     */\n    //% shim=Math_::pow\n    function pow(x: number, y: number): number;\n\n    /**\n     * Returns a pseudorandom number between 0 and 1.\n     */\n    //% shim=Math_::random\n    //% help=math/random\n    function random(): number;\n\n    /**\n     * Returns a pseudorandom number between min and max included.\n     * If both numbers are integral, the result is integral.\n     * @param min the lower inclusive bound, eg: 0\n     * @param max the upper inclusive bound, eg: 10\n     */\n    //% blockId=\"device_random_deprecated\" block=\"pick random %min|to %limit\"\n    //% help=math/random-range deprecated\n    //% shim=Math_::randomRange\n    function randomRange(min: number, max: number): number;\n\n    /**\n     * Returns the natural logarithm (base e) of a number.\n     * @param x A number\n     */\n    //% shim=Math_::log\n    function log(x: number): number;\n\n    /**\n     * Returns returns ``e^x``.\n     * @param x A number\n     */\n    //% shim=Math_::exp\n    function exp(x: number): number;\n\n    /**\n     * Returns the sine of a number.\n     * @param x An angle in radians\n     */\n    //% shim=Math_::sin\n    //% help=math/trigonometry\n    function sin(x: number): number;\n\n    /**\n     * Returns the cosine of a number.\n     * @param x An angle in radians\n     */\n    //% shim=Math_::cos\n    //% help=math/trigonometry\n    function cos(x: number): number;\n\n    /**\n     * Returns the tangent of a number.\n     * @param x An angle in radians\n     */\n    //% shim=Math_::tan\n    function tan(x: number): number;\n\n    /**\n     * Returns the arcsine (in radians) of a number\n     * @param x A number\n     */\n    //% shim=Math_::asin\n    function asin(x: number): number;\n\n    /**\n     * Returns the arccosine (in radians) of a number\n     * @param x A number\n     */\n    //% shim=Math_::acos\n    function acos(x: number): number;\n\n    /**\n     * Returns the arctangent (in radians) of a number\n     * @param x A number\n     */\n    //% shim=Math_::atan\n    function atan(x: number): number;\n\n    /**\n     * Returns the arctangent of the quotient of its arguments.\n     * @param y A number\n     * @param x A number\n     */\n    //% shim=Math_::atan2\n    function atan2(y: number, x: number): number;\n\n    /**\n     * Returns the square root of a number.\n     * @param x A numeric expression.\n     */\n    //% shim=Math_::sqrt\n    function sqrt(x: number): number;\n\n    /**\n     * Returns the smallest number greater than or equal to its numeric argument.\n     * @param x A numeric expression.\n     */\n    //% shim=Math_::ceil\n      //% help=math\n    function ceil(x: number): number;\n\n    /**\n      * Returns the greatest number less than or equal to its numeric argument.\n      * @param x A numeric expression.\n      */\n    //% shim=Math_::floor\n      //% help=math\n    function floor(x: number): number;\n\n    /**\n      * Returns the number with the decimal part truncated.\n      * @param x A numeric expression.\n      */\n    //% shim=Math_::trunc\n    //% help=math\n    function trunc(x: number): number;\n\n    /**\n      * Returns a supplied numeric expression rounded to the nearest number.\n      * @param x The value to be rounded to the nearest number.\n      */\n    //% shim=Math_::round\n    //% help=math\n    function round(x: number): number;\n\n    /**\n     * Returns the value of integer signed 32 bit multiplication of two numbers.\n     * @param x The first number\n     * @param y The second number\n     */\n    //% shim=Math_::imul\n    function imul(x: number, y: number): number;\n\n    /**\n     * Returns the value of integer signed 32 bit division of two numbers.\n     * @param x The first number\n     * @param y The second number\n     */\n    //% shim=Math_::idiv\n    function idiv(x: number, y: number): number;\n}\n\ndeclare namespace control {\n    //% shim=_control::_onCodeStart\n    export function _onCodeStart(arg: any): void;\n\n    //% shim=_control::_onCodeStop\n    export function _onCodeStop(arg: any): void;\n}",
            "pxt-helpers.ts": "type Action = () => void;\n\n/**\n * Constant representing Not-A-Number.\n */\nconst NaN = 0 / 0\n\n/**\n * Constant representing positive infinity.\n */\nconst Infinity = 1 / 0\n\nfunction isNaN(x: number) {\n    x = +x // convert to number\n    return x !== x\n}\n\nnamespace Number {\n    /**\n     * Check if a given value is of type Number and it is a NaN.\n     */\n    export function isNaN(x: any): boolean {\n        return typeof x == \"number\" && x !== x\n    }\n}\n\n/**\n * A dictionary from string key to string values\n */\ninterface StringMap {\n    [index: string]: string;\n}\n\n/**\n  * Convert a string to an integer.\n  * @param text A string to convert into an integral number. eg: \"123\"\n  * @param radix optional A value between 2 and 36 that specifies the base of the number in text.\n  * If this argument is not supplied, strings with a prefix of '0x' are considered hexadecimal.\n  * All other strings are considered decimal.\n  */\n//% help=text/parse-int\n//% blockId=\"string_parseint\" block=\"parse to integer %text\" blockNamespace=\"text\"\n//% text.defl=\"123\"\n//% blockHidden=1\nfunction parseInt(text: string, radix?: number): number {\n    // roughly based on https://www.ecma-international.org/ecma-262/5.1/#sec-15.1.2.2\n    // with some consideration for avoiding unnecessary slices where easy\n    if (!text || (radix != null && (radix < 2 || radix > 36)))\n        return NaN;\n\n    let start = 0;\n    while (start < text.length && helpers.isWhitespace(text.charCodeAt(start)))\n        ++start;\n\n    if (start === text.length)\n        return NaN;\n\n    const numberOffset = 48; // 0\n    const numCount = 10;\n    const letterOffset = 97; // a\n    const letterCount = 26;\n    const lowerCaseMask = 0x20;\n\n    let sign = 1;\n    switch (text.charAt(start)) {\n        case \"-\":\n            sign = -1;\n            // fallthrough\n        case \"+\":\n            ++start;\n    }\n\n    if ((!radix || radix == 16)\n            && \"0\" === text[start]\n            && (\"x\" === text[start + 1] || \"X\" === text[start + 1])) {\n        radix = 16;\n        start += 2;\n    } else if (!radix) {\n        radix = 10;\n    }\n\n    let output = 0;\n    let hasDigit = false;\n    for (let i = start; i < text.length; ++i) {\n        const code = text.charCodeAt(i) | lowerCaseMask;\n        let val: number = undefined;\n\n        if (code >= numberOffset && code < numberOffset + numCount)\n            val = code - numberOffset;\n        else if (code >= letterOffset && code < letterOffset + letterCount)\n            val = numCount + code - letterOffset;\n\n        if (val == undefined || val >= radix) {\n            if (!hasDigit) {\n                return NaN;\n            }\n            break;\n        }\n        hasDigit = true;\n        output = output * radix + val;\n    }\n\n    return sign * output;\n}\n\nnamespace helpers {\n    export function arrayFill<T>(O: T[], value: T, start?: number, end?: number) {\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\n        // Steps 3-5.\n        const len = O.length >>> 0;\n\n        // Steps 6-7.\n        const relativeStart = start === undefined ? 0 : start >> 0;\n\n        // Step 8.\n        let k = relativeStart < 0 ?\n            Math.max(len + relativeStart, 0) :\n            Math.min(relativeStart, len);\n\n        // Steps 9-10.\n        const relativeEnd = end === undefined ? len : end >> 0;\n\n        // Step 11.\n        const final = relativeEnd < 0 ?\n            Math.max(len + relativeEnd, 0) :\n            Math.min(relativeEnd, len);\n\n        // Step 12.\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n\n        // Step 13.\n        return O;\n    }\n\n    export function arraySplice<T>(arr: T[], start: number, len: number) {\n        if (start < 0) {\n            return;\n        }\n        for (let i = 0; i < len; ++i) {\n            arr.removeAt(start)\n        }\n    }\n\n    export function arrayReverse<T>(arr: T[]): void {\n        let len = arr.length;\n        for (let i = 0; i < len / 2; i++) {\n            swap(arr, i, len - i - 1);\n        }\n    }\n\n    export function arrayShift<T>(arr: T[]): T {\n        return arr.removeAt(0);\n    }\n\n    export function arrayJoin<T>(arr: T[], sep?: string): string {\n        if (sep === undefined || sep === null) {\n            sep = \",\";\n        }\n\n        let r = \"\";\n        let len = arr.length // caching this seems to match V8\n        for (let i = 0; i < len; ++i) {\n            if (i > 0 && sep)\n                r += sep;\n            r += (arr[i] === undefined || arr[i] === null) ? \"\" : arr[i];\n        }\n        return r;\n    }\n\n    /*TODO: Enable this multiple value unshift, after rest is enabled in our compiler.\n        export function arrayUnshift<T>(arr: T[], ...values: T[]) : number {\n            for(let i = values.length; i > 0; --i) {\n                arr.insertAt(0, values[i - 1]);\n            }\n            return arr.length;\n        }\n    */\n    export function arrayUnshift<T>(arr: T[], value: T): number {\n        arr.insertAt(0, value);\n        return arr.length;\n    }\n\n    function swap<T>(arr: T[], i: number, j: number): void {\n        let temp: T = arr[i];\n        arr[i] = arr[j];\n        arr[j] = temp;\n    }\n\n    function sortHelper<T>(arr: T[], callbackfn?: (value1: T, value2: T) => number): T[] {\n        if (arr.length <= 0 || !callbackfn) {\n            return arr;\n        }\n        let len = arr.length;\n        // simple selection sort.\n        for (let i = 0; i < len - 1; ++i) {\n            for (let j = i + 1; j < len; ++j) {\n                if (callbackfn(arr[i], arr[j]) > 0) {\n                    swap(arr, i, j);\n                }\n            }\n        }\n        return arr;\n    }\n\n    export function arraySort<T>(arr: T[], callbackfn?: (value1: T, value2: T) => number): T[] {\n        if (!callbackfn && arr.length > 1) {\n            callbackfn = (a, b) => {\n                // default is sort as if the element were a string, with null < undefined\n                const aIsUndef = a === undefined;\n                const bIsUndef = b === undefined;\n                if (aIsUndef && bIsUndef) return 0;\n                else if (aIsUndef) return 1;\n                else if (bIsUndef) return -1;\n\n                const aIsNull = a === null;\n                const bIsNull = b === null;\n                if (aIsNull && bIsNull) return 0;\n                else if (aIsNull) return 1;\n                else if (bIsNull) return -1;\n\n                return (a + \"\").compare(b + \"\");\n            }\n        }\n        return sortHelper(arr, callbackfn);\n    }\n\n    export function arrayMap<T, U>(arr: T[], callbackfn: (value: T, index: number) => U): U[] {\n        let res: U[] = []\n        let len = arr.length // caching this seems to match V8\n        for (let i = 0; i < len; ++i) {\n            res.push(callbackfn(arr[i], i))\n        }\n        return res\n    }\n\n    export function arraySome<T>(arr: T[], callbackfn: (value: T, index: number) => boolean): boolean {\n        let len = arr.length // caching this seems to match V8\n        for (let i = 0; i < len; ++i)\n            if (callbackfn(arr[i], i))\n                return true;\n        return false;\n    }\n\n    export function arrayEvery<T>(arr: T[], callbackfn: (value: T, index: number) => boolean): boolean {\n        let len = arr.length // caching this seems to match V8\n        for (let i = 0; i < len; ++i)\n            if (!callbackfn(arr[i], i))\n                return false;\n        return true;\n    }\n\n    export function arrayForEach<T>(arr: T[], callbackfn: (value: T, index: number) => void): void {\n        let len = arr.length // caching this seems to match V8\n        for (let i = 0; i < len; ++i) {\n            callbackfn(arr[i], i);\n        }\n    }\n\n    export function arrayFilter<T>(arr: T[], callbackfn: (value: T, index: number) => boolean): T[] {\n        let res: T[] = []\n        let len = arr.length\n        for (let i = 0; i < len; ++i) {\n            let v = arr[i] // need to cache\n            if (callbackfn(v, i)) res.push(v)\n        }\n        return res\n    }\n\n    export function arrayFind<T>(arr: T[], callbackfn: (value: T, index: number) => boolean): T {\n        let len = arr.length\n        for (let i = 0; i < len; ++i) {\n            let v = arr[i] // need to cache\n            if (callbackfn(v, i)) return v;\n        }\n        return undefined;\n    }\n\n    export function arrayReduce<T, U>(arr: T[], callbackfn: (previousValue: U, currentValue: T, currentIndex: number) => U, initialValue: U): U {\n        let len = arr.length\n        for (let i = 0; i < len; ++i) {\n            initialValue = callbackfn(initialValue, arr[i], i)\n        }\n        return initialValue\n    }\n\n    export function arrayConcat<T>(arr: T[], otherArr: T[]): T[] {\n        let out: T[] = [];\n        for (let value of arr) {\n            out.push(value);\n        }\n        for (let value of otherArr) {\n            out.push(value);\n        }\n        return out;\n    }\n\n    export function arraySlice<T>(arr: T[], start?: number, end?: number): T[] {\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n        const res: T[] = [];\n        const len = arr.length;\n\n        if (start === undefined)\n            start = 0;\n        else if (start < 0)\n            start = Math.max(len + start, 0);\n\n        if (start > len)\n            return res;\n\n        if (end === undefined)\n            end = len;\n        else if (end < 0)\n            end = len + end;\n\n        if (end > len)\n            end = len;\n\n        for (let i = start; i < end; ++i) {\n            res.push(arr[i]);\n        }\n        return res;\n    }\n\n    export function stringReplace(s: string, toReplace: string, replacer: string | ((sub: string) => string)) {\n        toReplace = toReplace + \"\";\n        const ind = s.indexOf(toReplace);\n        if (ind == -1)\n            return s;\n\n        const begin = s.slice(0, ind);\n        const end = s.slice(ind + toReplace.length);\n\n        if (typeof replacer == \"string\" || !replacer) {\n            return begin + replacer + end;\n        } else {\n            return begin + replacer(toReplace) + end;\n        }\n    }\n\n    export function stringReplaceAll(s: string, toReplace: string, replacer: string | ((sub: string) => string)) {\n        toReplace = toReplace + \"\";\n        const split = s.split(toReplace);\n        const empty = toReplace.isEmpty();\n\n        let output = (empty ? applyReplace(toReplace, replacer) : \"\");\n\n        if (split.length) {\n            output += split[0];\n        }\n\n        for (let i = 1; i < split.length; ++i) {\n            output += applyReplace(toReplace, replacer) + split[i];\n        }\n\n        if (!s.isEmpty() && empty) {\n            output += applyReplace(toReplace, replacer);\n        }\n\n        return output;\n\n        function applyReplace(r: string, replacer: string | ((sub: string) => string)): string {\n            if (typeof replacer == \"string\" || !replacer) {\n                return replacer as string;\n            } else {\n                return replacer(r);\n            }\n        }\n    }\n\n\n    export function stringSlice(s: string, start: number, end?: number): string {\n        const len = s.length;\n\n        if (start < 0) {\n            start = Math.max(len + start, 0);\n        }\n\n        if (end == null) {\n            end = len;\n        }\n\n        if (end < 0) {\n            end = len + end;\n        }\n\n        return s.substr(start, end - start);\n    }\n\n    // TODO move to PXT\n    // also note this doesn't handle unicode, but neither does JS (there's toLocaleLowerCase())\n    export function stringToLowerCase(s: string): string {\n        let r = \"\"\n        let prev = 0\n        for (let i = 0; i < s.length; i++) {\n            const c = s.charCodeAt(i)\n            if (65 <= c && c <= 90) {\n                r += s.slice(prev, i) + String.fromCharCode(c + 32)\n                prev = i + 1\n            }\n        }\n        r += s.slice(prev)\n        return r\n    }\n\n    export function stringSplit(S: string, separator?: string, limit?: number): string[] {\n        // https://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype.split\n        const A: string[] = [];\n        let lim = 0;\n        if (limit === undefined)\n            lim = (1 << 29) - 1; // spec says 1 << 53, leaving it at 29 for constant folding\n        else if (limit < 0)\n            lim = 0;\n        else\n            lim = limit | 0;\n        const s = S.length;\n        let p = 0;\n        const R = separator;\n        if (lim == 0)\n            return A;\n        if (separator === undefined) {\n            A[0] = S;\n            return A;\n        }\n        if (s == 0) {\n            let z = splitMatch(S, 0, R);\n            if (z > -1) return A;\n            A[0] = S;\n            return A;\n        }\n        let T: string;\n        let q = p;\n        while (q != s) {\n            let e = splitMatch(S, q, R);\n            if (e < 0) q++;\n            else {\n                if (e == p) q++;\n                else {\n                    T = stringSlice(S, p, q);\n                    A.push(T);\n                    if (A.length == lim) return A;\n                    p = e;\n                    q = p;\n                }\n            }\n        }\n        T = stringSlice(S, p, q);\n        A.push(T);\n        return A;\n    }\n\n    function splitMatch(S: string, q: number, R: string): number {\n        const r = R.length;\n        const s = S.length;\n        if (q + r > s) return -1;\n        for (let i = 0; i < r; ++i) {\n            if (S[q + i] != R[i])\n                return -1;\n        }\n        return q + r;\n    }\n\n    export function stringTrim(s: string): string {\n        let start = 0;\n        let end = s.length - 1;\n\n        while (start <= end && isWhitespace(s.charCodeAt(start)))\n            ++start;\n\n        while (end > start && isWhitespace(s.charCodeAt(end)))\n            --end;\n        return s.slice(start, end + 1);\n    }\n\n    export function isWhitespace(c: number): boolean {\n        // https://www.ecma-international.org/ecma-262/6.0/#sec-white-space\n        switch (c) {\n            case 0x0009:  // character tab\n            case 0x000B:  // line tab\n            case 0x000C:  // form feed\n            case 0x0020:  // space\n            case 0x00A0:  // no-break space\n            case 0xFEFF:  // zero width no break space\n            case 0x000A:  // line feed\n            case 0x000D:  // carriage return\n            case 0x2028:  // line separator\n            case 0x2029:  // paragraph separator\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    export function stringEmpty(S: string): boolean {\n        return !S;\n    }\n}\n\nnamespace Math {\n    export function clamp(min: number, max: number, value: number): number {\n        return Math.min(max, Math.max(min, value));\n    }\n\n    /**\n      * Returns the absolute value of a number (the value without regard to whether it is positive or negative).\n      * For example, the absolute value of -5 is the same as the absolute value of 5.\n      * @param x A numeric expression for which the absolute value is needed.\n      */\n    //% help=math/abs\n    export function abs(x: number): number {\n        return x < 0 ? -x : x;\n    }\n\n    /**\n      * Returns the sign of the x, indicating whether x is positive, negative or zero.\n      * @param x The numeric expression to test\n      */\n    export function sign(x: number): number {\n        if (x == 0) return 0;\n        if (x > 0) return 1;\n        return -1;\n    }\n\n    /**\n      * Returns the larger of two supplied numeric expressions.\n      */\n    //% help=math/max\n    export function max(a: number, b: number): number {\n        if (a >= b) return a;\n        return b;\n    }\n\n    /**\n      * Returns the smaller of two supplied numeric expressions.\n      */\n    //% help=math/min\n    export function min(a: number, b: number): number {\n        if (a <= b) return a;\n        return b;\n    }\n\n    /**\n     * Rounds ``x`` to a number with the given number of ``digits``\n     * @param x the number to round\n     * @param digits the number of resulting digits\n     */\n    //%\n    export function roundWithPrecision(x: number, digits: number): number {\n        digits = digits | 0;\n        // invalid digits input\n        if (digits <= 0) return Math.round(x);\n        if (x == 0) return 0;\n        let r = 0;\n        do {\n            const d = Math.pow(10, digits);\n            r = Math.round(x * d) / d;\n            digits++;\n        } while (r == 0 && digits < 21);\n        return r;\n    }\n}\n\n\n//% blockHidden=1\nnamespace __internal {\n    /**\n     * A shim to render a boolean as a down/up toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleDownUp block=\"%down\"\n    //% down.fieldEditor=toggledownup\n    //% down.fieldOptions.decompileLiterals=true\n    export function __downUp(down: boolean): boolean {\n        return down;\n    }\n\n    /**\n     * A shim to render a boolean as a up/down toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleUpDown block=\"%up\"\n    //% up.fieldEditor=toggleupdown\n    //% up.fieldOptions.decompileLiterals=true\n    export function __upDown(up: boolean): boolean {\n        return up;\n    }\n\n    /**\n     * A shim to render a boolean as a high/low toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleHighLow block=\"%high\"\n    //% high.fieldEditor=togglehighlow\n    //% high.fieldOptions.decompileLiterals=true\n    export function __highLow(high: boolean): boolean {\n        return high;\n    }\n\n    /**\n     * A shim to render a boolean as a on/off toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleOnOff block=\"%on\"\n    //% on.fieldEditor=toggleonoff\n    //% on.fieldOptions.decompileLiterals=true\n    export function __onOff(on: boolean): boolean {\n        return on;\n    }\n\n    /**\n     * A shim to render a boolean as a yes/no toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleYesNo block=\"%yes\"\n    //% yes.fieldEditor=toggleyesno\n    //% yes.fieldOptions.decompileLiterals=true\n    export function __yesNo(yes: boolean): boolean {\n        return yes;\n    }\n\n    /**\n     * A shim to render a boolean as a win/lose toggle\n     */\n    //% shim=TD_ID blockHidden=1\n    //% blockId=toggleWinLose block=\"%win\"\n    //% win.fieldEditor=togglewinlose\n    //% win.fieldOptions.decompileLiterals=true\n    export function __winLose(win: boolean): boolean {\n        return win;\n    }\n\n    /**\n     * Get the color wheel field editor\n     * @param color color, eg: #ff0000\n     */\n    //% blockId=colorNumberPicker block=\"%value\"\n    //% blockHidden=true\n    //% shim=TD_ID colorSecondary=\"#FFFFFF\"\n    //% value.fieldEditor=\"colornumber\" value.fieldOptions.decompileLiterals=true\n    //% value.defl='#ff0000'\n    //% value.fieldOptions.colours='[\"#ff0000\",\"#ff8000\",\"#ffff00\",\"#ff9da5\",\"#00ff00\",\"#b09eff\",\"#00ffff\",\"#007fff\",\"#65471f\",\"#0000ff\",\"#7f00ff\",\"#ff0080\",\"#ff00ff\",\"#ffffff\",\"#999999\",\"#000000\"]'\n    //% value.fieldOptions.columns=4 value.fieldOptions.className='rgbColorPicker'\n    export function __colorNumberPicker(value: number) {\n        return value;\n    }\n\n    /**\n     * Get the color wheel field editor\n     * @param value value between 0 to 255 to get a color value, eg: 10\n     */\n    //% blockId=colorWheelPicker block=\"%value\"\n    //% blockHidden=true\n    //% shim=TD_ID colorSecondary=\"#FFFFFF\"\n    //% value.fieldEditor=\"colorwheel\" value.fieldOptions.decompileLiterals=true\n    //% value.fieldOptions.sliderWidth='200'\n    //% value.fieldOptions.min=0 value.fieldOptions.max=255\n    export function __colorWheelPicker(value: number) {\n        return value;\n    }\n\n    /**\n    * Get the color wheel field editor using HSV values\n    * @param value value between 0 to 255 to get a color value, eg: 10\n    */\n    //% blockId=colorWheelHsvPicker block=\"%value\"\n    //% blockHidden=true\n    //% shim=TD_ID colorSecondary=\"#FFFFFF\"\n    //% value.fieldEditor=\"colorwheel\" value.fieldOptions.decompileLiterals=true\n    //% value.fieldOptions.sliderWidth='200'\n    //% value.fieldOptions.min=0 value.fieldOptions.max=255\n    //% value.fieldOptions.channel=hsvfast\n    export function __colorWheelHsvPicker(value: number) {\n        return value;\n    }\n\n    /**\n     * A speed picker\n     * @param speed the speed, eg: 50\n     */\n    //% blockId=speedPicker block=\"%speed\" shim=TD_ID\n    //% speed.fieldEditor=\"speed\" colorSecondary=\"#FFFFFF\"\n    //% weight=0 blockHidden=1 speed.fieldOptions.decompileLiterals=1\n    export function __speedPicker(speed: number): number {\n        return speed;\n    }\n\n    /**\n     * A turn ratio picker\n     * @param turnratio the turn ratio, eg: 0\n     */\n    //% blockId=turnRatioPicker block=\"%turnratio\" shim=TD_ID\n    //% turnratio.fieldEditor=\"turnratio\" colorSecondary=\"#FFFFFF\"\n    //% weight=0 blockHidden=1 turnRatio.fieldOptions.decompileLiterals=1\n    export function __turnRatioPicker(turnratio: number): number {\n        return turnratio;\n    }\n\n    /**\n     * A field editor that displays a protractor\n     */\n    //% blockId=protractorPicker block=\"%angle\"\n    //% shim=TD_ID\n    //% angle.fieldEditor=protractor\n    //% angle.fieldOptions.decompileLiterals=1\n    //% colorSecondary=\"#FFFFFF\"\n    //% blockHidden=1\n    export function __protractor(angle: number) {\n        return angle;\n    }\n\n    /**\n      * Get the time field editor\n      * @param ms time duration in milliseconds, eg: 500, 1000\n      */\n    //% blockId=timePicker block=\"%ms\"\n    //% blockHidden=true shim=TD_ID\n    //% colorSecondary=\"#FFFFFF\"\n    //% ms.fieldEditor=\"numberdropdown\" ms.fieldOptions.decompileLiterals=true\n    //% ms.fieldOptions.data='[[\"100 ms\", 100], [\"200 ms\", 200], [\"500 ms\", 500], [\"1 second\", 1000], [\"2 seconds\", 2000], [\"5 seconds\", 5000]]'\n    export function __timePicker(ms: number): number {\n        return ms;\n    }\n}",
            "pxt.cpp": "#include \"pxtbase.h\"\n\nusing namespace std;\n\nnamespace pxt {\n\n\nAction mkAction(int totallen, RefAction *act) {\n    check(getVTable(act)->classNo == BuiltInType::RefAction, PANIC_INVALID_BINARY_HEADER, 1);\n#ifdef PXT_VM\n    check(act->initialLen == totallen, PANIC_INVALID_BINARY_HEADER, 13);\n#endif\n\n    if (totallen == 0) {\n        return (TValue)act; // no closure needed\n    }\n\n    void *ptr = gcAllocate(sizeof(RefAction) + totallen * sizeof(void *));\n    RefAction *r = new (ptr) RefAction();\n    r->len = totallen;\n#ifdef PXT_VM\n    r->numArgs = act->numArgs;\n    r->initialLen = act->initialLen;\n    r->reserved = act->reserved;\n#endif\n    r->func = act->func;\n    memset(r->fields, 0, r->len * sizeof(void *));\n\n    MEMDBG(\"mkAction: start=%p => %p\", act, r);\n\n    return (Action)r;\n}\n\nRefRecord *mkClassInstance(VTable *vtable) {\n    intcheck(vtable->methods[0] == &RefRecord_destroy, PANIC_SIZE, 3);\n    // intcheck(vtable->methods[1] == &RefRecord_print, PANIC_SIZE, 4);\n\n    void *ptr = gcAllocate(vtable->numbytes);\n    RefRecord *r = new (ptr) RefRecord(vtable);\n    memset(r->fields, 0, vtable->numbytes - sizeof(RefRecord));\n    MEMDBG(\"mkClass: vt=%p => %p\", vtable, r);\n    return r;\n}\n\nTValue RefRecord::ld(int idx) {\n    // intcheck((reflen == 255 ? 0 : reflen) <= idx && idx < len, PANIC_OUT_OF_BOUNDS, 1);\n    return fields[idx];\n}\n\nTValue RefRecord::ldref(int idx) {\n    // DMESG(\"LD %p len=%d reflen=%d idx=%d\", this, len, reflen, idx);\n    // intcheck(0 <= idx && idx < reflen, PANIC_OUT_OF_BOUNDS, 2);\n    return fields[idx];\n}\n\nvoid RefRecord::st(int idx, TValue v) {\n    // intcheck((reflen == 255 ? 0 : reflen) <= idx && idx < len, PANIC_OUT_OF_BOUNDS, 3);\n    fields[idx] = v;\n}\n\nvoid RefRecord::stref(int idx, TValue v) {\n    // DMESG(\"ST %p len=%d reflen=%d idx=%d\", this, len, reflen, idx);\n    // intcheck(0 <= idx && idx < reflen, PANIC_OUT_OF_BOUNDS, 4);\n    fields[idx] = v;\n}\n\nvoid RefObject::destroyVT() {\n    ((RefObjectMethod)getVTable(this)->methods[0])(this);\n}\n\n//%\nvoid deleteRefObject(RefObject *obj) {\n    obj->destroyVT();\n}\n\nvoid RefObject::printVT() {\n    ((RefObjectMethod)getVTable(this)->methods[1])(this);\n}\n\nvoid RefRecord_destroy(RefRecord *) {\n}\n\nvoid RefRecord_print(RefRecord *r) {\n    DMESG(\"RefRecord %p size=%d bytes\", r, getVTable(r)->numbytes);\n}\n\nvoid Segment::set(unsigned i, TValue value) {\n    if (i < size) {\n        data[i] = value;\n    } else if (i < Segment::MaxSize) {\n        growByMin(i + 1);\n        data[i] = value;\n    } else {\n        return;\n    }\n    if (length <= i) {\n        length = i + 1;\n    }\n\n#ifdef DEBUG_BUILD\n    DMESG(\"In Segment::set\");\n    this->print();\n#endif\n\n    return;\n}\n\nstatic inline int growthFactor(int size) {\n    if (size == 0) {\n        return 4;\n    }\n    if (size < 64) {\n        return size * 2; // Double\n    }\n    if (size < 512) {\n        return size * 5 / 3; // Grow by 1.66 rate\n    }\n    // Grow by constant rate\n    if ((unsigned)size + 256 < Segment::MaxSize)\n        return size + 256;\n    else\n        return Segment::MaxSize;\n}\n\nvoid LLSegment::setLength(unsigned newLen) {\n    if (newLen > Segment::MaxSize)\n        return;\n\n    if (newLen > size) {\n        int newSize = growthFactor(size);\n        if (newSize < (int)newLen)\n            newSize = newLen;\n\n        // this will throw if unable to allocate\n        TValue *tmp = (TValue *)(xmalloc(newSize * sizeof(TValue)));\n\n        // Copy existing data\n        if (size) {\n            memcpy(tmp, data, size * sizeof(TValue));\n        }\n        // fill the rest with default value\n        memset(tmp + size, 0, (newSize - size) * sizeof(TValue));\n\n        // free older segment;\n        xfree(data);\n\n        data = tmp;\n        size = newSize;\n    } else if (newLen < length) {\n        memset(data + newLen, 0, (length - newLen) * sizeof(TValue));\n    }\n\n    length = newLen;\n}\n\nvoid LLSegment::set(unsigned idx, TValue v) {\n    if (idx >= Segment::MaxSize)\n        return;\n    if (idx >= length)\n        setLength(idx + 1);\n    data[idx] = v;\n}\n\nTValue LLSegment::pop() {\n    if (length > 0) {\n        --length;\n        TValue value = data[length];\n        data[length] = 0;\n        return value;\n    }\n    return 0;\n}\n\nvoid LLSegment::destroy() {\n    length = size = 0;\n    xfree(data);\n    data = nullptr;\n}\n\nvoid Segment::growByMin(ramint_t minSize) {\n    ramint_t newSize = max(minSize, (ramint_t)growthFactor(size));\n\n    if (size < newSize) {\n        // this will throw if unable to allocate\n        TValue *tmp = (TValue *)(gcAllocateArray(newSize * sizeof(TValue)));\n\n        // Copy existing data\n        if (size)\n            memcpy(tmp, data, size * sizeof(TValue));\n        // fill the rest with default value\n        memset(tmp + size, 0, (newSize - size) * sizeof(TValue));\n\n        data = tmp;\n        size = newSize;\n\n#ifdef DEBUG_BUILD\n        DMESG(\"growBy - after reallocation\");\n        this->print();\n#endif\n    }\n    // else { no shrinking yet; }\n    return;\n}\n\nvoid Segment::ensure(ramint_t newSize) {\n    if (newSize < size) {\n        return;\n    }\n    growByMin(newSize);\n}\n\nvoid Segment::setLength(unsigned newLength) {\n    if (newLength > size) {\n        ensure(newLength);\n    }\n    length = newLength;\n    return;\n}\n\nTValue Segment::pop() {\n#ifdef DEBUG_BUILD\n    DMESG(\"In Segment::pop\");\n    this->print();\n#endif\n\n    if (length > 0) {\n        --length;\n        TValue value = data[length];\n        data[length] = Segment::DefaultValue;\n        return value;\n    }\n    return Segment::DefaultValue;\n}\n\n// this function removes an element at index i and shifts the rest of the elements to\n// left to fill the gap\nTValue Segment::remove(unsigned i) {\n#ifdef DEBUG_BUILD\n    DMESG(\"In Segment::remove index:%d\", i);\n    this->print();\n#endif\n    if (i < length) {\n        // value to return\n        TValue ret = data[i];\n        if (i + 1 < length) {\n            // Move the rest of the elements to fill in the gap.\n            memmove(data + i, data + i + 1, (length - i - 1) * sizeof(void *));\n        }\n        length--;\n        data[length] = Segment::DefaultValue;\n#ifdef DEBUG_BUILD\n        DMESG(\"After Segment::remove index:%d\", i);\n        this->print();\n#endif\n        return ret;\n    }\n    return Segment::DefaultValue;\n}\n\n// this function inserts element value at index i by shifting the rest of the elements right.\nvoid Segment::insert(unsigned i, TValue value) {\n#ifdef DEBUG_BUILD\n    DMESG(\"In Segment::insert index:%d value:%d\", i, value);\n    this->print();\n#endif\n\n    if (i < length) {\n        ensure(length + 1);\n\n        // Move the rest of the elements to fill in the gap.\n        memmove(data + i + 1, data + i, (length - i) * sizeof(void *));\n\n        data[i] = value;\n        length++;\n    } else {\n        // This is insert beyond the length, just call set which will adjust the length\n        set(i, value);\n    }\n#ifdef DEBUG_BUILD\n    DMESG(\"After Segment::insert index:%d\", i);\n    this->print();\n#endif\n}\n\nvoid Segment::print() {\n    DMESG(\"Segment: %p, length: %d, size: %d\", data, (unsigned)length, (unsigned)size);\n    for (unsigned i = 0; i < size; i++) {\n        DMESG(\"-> %d\", (unsigned)(uintptr_t)data[i]);\n    }\n}\n\nvoid Segment::destroy() {\n#ifdef DEBUG_BUILD\n    DMESG(\"In Segment::destroy\");\n    this->print();\n#endif\n    length = size = 0;\n    data = nullptr;\n}\n\nPXT_VTABLE_CTOR(RefCollection) {}\n\nvoid RefCollection::destroy(RefCollection *t) {\n    t->head.destroy();\n}\n\nvoid RefCollection::print(RefCollection *t) {\n    DMESG(\"RefCollection %p size=%d\", t, t->head.getLength());\n    t->head.print();\n}\n\nPXT_VTABLE(RefAction, ValType::Function)\nRefAction::RefAction() : PXT_VTABLE_INIT(RefAction) {}\n\n// fields[] contain captured locals\nvoid RefAction::destroy(RefAction *t) {\n}\n\nvoid RefAction::print(RefAction *t) {\n#ifdef PXT_VM\n    DMESG(\"RefAction %p pc=%X size=%d\", t,\n          (const uint8_t *)t->func - (const uint8_t *)vmImg->dataStart, t->len);\n#else\n    DMESG(\"RefAction %p pc=%X size=%d\", t,\n          (const uint8_t *)t->func - (const uint8_t *)bytecode, t->len);\n#endif\n}\n\nPXT_VTABLE_CTOR(RefRefLocal) {\n    v = 0;\n}\n\nvoid RefRefLocal::print(RefRefLocal *t) {\n    DMESG(\"RefRefLocal %p v=%p\", t, (void *)t->v);\n}\n\nvoid RefRefLocal::destroy(RefRefLocal *t) {\n    decr(t->v);\n}\n\nPXT_VTABLE_CTOR(RefMap) {}\n\nvoid RefMap::destroy(RefMap *t) {\n    t->keys.destroy();\n    t->values.destroy();\n}\n\nint RefMap::findIdx(String key) {\n    auto len = keys.getLength();\n    auto data = (String *)keys.getData();\n\n    // fast path\n    for (unsigned i = 0; i < len; ++i) {\n        if (data[i] == key)\n            return i;\n    }\n\n    // slow path\n    auto keylen = key->getUTF8Size();\n    auto keydata = key->getUTF8Data();\n    for (unsigned i = 0; i < len; ++i) {\n        auto s = data[i];\n        if (s->getUTF8Size() == keylen && memcmp(keydata, s->getUTF8Data(), keylen) == 0)\n            return i;\n    }\n\n    return -1;\n}\n\nvoid RefMap::print(RefMap *t) {\n    DMESG(\"RefMap %p size=%d\", t, t->keys.getLength());\n}\n\nvoid debugMemLeaks() {}\n\nvoid error(PXT_PANIC code, int subcode) {\n    DMESG(\"Error: %d [%d]\", code, subcode);\n    target_panic(code);\n}\n\n#ifndef PXT_VM\nuint16_t *bytecode;\n#endif\nTValue *globals;\n\nvoid checkStr(bool cond, const char *msg) {\n    if (!cond) {\n        while (true) {\n            // uBit.display.scroll(msg, 100);\n            // uBit.sleep(100);\n        }\n    }\n}\n\n#ifdef PXT_VM\nint templateHash() {\n    return (int)vmImg->infoHeader->hexHash;\n}\n\nint programHash() {\n    return (int)vmImg->infoHeader->programHash;\n}\n\nint getNumGlobals() {\n    return (int)vmImg->infoHeader->allocGlobals;\n}\n\nString programName() {\n    return mkString((char *)vmImg->infoHeader->name);\n}\n#else\nint templateHash() {\n    return ((int *)bytecode)[4];\n}\n\nint programHash() {\n    return ((int *)bytecode)[6];\n}\n\nint getNumGlobals() {\n    return bytecode[16];\n}\n\nString programName() {\n    return ((String *)bytecode)[15];\n}\n#endif\n\n#ifndef PXT_VM\nvoid exec_binary(unsigned *pc) {\n    // XXX re-enable once the calibration code is fixed and [editor/embedded.ts]\n    // properly prepends a call to [internal_main].\n    // ::touch_develop::internal_main();\n\n    // unique group for radio based on source hash\n    // ::touch_develop::micro_bit::radioDefaultGroup = programHash();\n\n    unsigned ver = *pc++;\n    checkStr(ver == 0x4210, \":( Bad runtime version\");\n\n    bytecode = *((uint16_t **)pc++); // the actual bytecode is here\n    globals = (TValue *)app_alloc(sizeof(TValue) * getNumGlobals());\n    memset(globals, 0, sizeof(TValue) * getNumGlobals());\n\n    // can be any valid address, best in RAM for speed\n    globals[0] = (TValue)&globals;\n\n    // just compare the first word\n    // TODO\n    checkStr(((uint32_t *)bytecode)[0] == 0x923B8E70 && (unsigned)templateHash() == *pc,\n             \":( Failed partial flash\");\n\n    uintptr_t startptr = (uintptr_t)bytecode;\n\n    startptr += 64; // header\n\n    initPerfCounters();\n\n    initRuntime();\n\n    runAction0((Action)startptr);\n\n    pxt::releaseFiber();\n}\n\nvoid start() {\n    exec_binary((unsigned *)functionsAndBytecode);\n}\n#endif\n\n} // namespace pxt\n\nnamespace Array_ {\n//%\nbool isArray(TValue arr) {\n    auto vt = getAnyVTable(arr);\n    return vt && vt->classNo == BuiltInType::RefCollection;\n}\n} // namespace Array_\n\nnamespace pxtrt {\n//% expose\nRefCollection *keysOf(TValue v) {\n    auto r = NEW_GC(RefCollection);\n    MEMDBG(\"mkColl[keys]: => %p\", r);\n    if (getAnyVTable(v) != &RefMap_vtable)\n        return r;\n    auto rm = (RefMap *)v;\n    auto len = rm->keys.getLength();\n    if (!len)\n        return r;\n    registerGCObj(r);\n    r->setLength(len);\n    auto dst = r->getData();\n    memcpy(dst, rm->keys.getData(), len * sizeof(TValue));\n    unregisterGCObj(r);\n    return r;\n}\n//% expose\nTValue mapDeleteByString(RefMap *map, String key) {\n    if (getAnyVTable((TValue)map) != &RefMap_vtable)\n        target_panic(PANIC_DELETE_ON_CLASS);\n    int i = map->findIdx(key);\n    if (i >= 0) {\n        map->keys.remove(i);\n        map->values.remove(i);\n    }\n    return TAG_TRUE;\n}\n\n} // namespace pxtrt\n",
            "pxt.json": "{\n    \"name\": \"base\",\n    \"description\": \"The base library\",\n    \"dependencies\": {},\n    \"files\": [\n        \"README.md\",\n        \"pxt-core.d.ts\",\n        \"pxt.cpp\",\n        \"gc.cpp\",\n        \"configkeys.h\",\n        \"pxtbase.h\",\n        \"core.cpp\",\n        \"advmath.cpp\",\n        \"trig.cpp\",\n        \"pxt-helpers.ts\",\n        \"fixed.ts\",\n        \"buffer.cpp\",\n        \"buffer.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"loops.cpp\",\n        \"math.ts\",\n        \"ns.ts\",\n        \"control.cpp\",\n        \"control.ts\",\n        \"console.ts\",\n        \"json.ts\",\n        \"templates.ts\",\n        \"eventcontext.ts\",\n        \"pause.ts\",\n        \"forever.ts\",\n        \"utfdecoder.ts\",\n        \"scheduling.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"partial\": true,\n    \"yotta\": {\n        \"optionalConfig\": {\n            \"PXT_GC_CHECKS\": 0\n        },\n        \"userConfigs\": [\n            {\n                \"description\": \"(Diagnostics) Garbage Collection checks.\",\n                \"config\": {\n                    \"PXT_GC_CHECKS\": 1\n                }\n            }\n        ]\n    }\n}\n",
            "pxtbase.h": "#ifndef __PXTBASE_H\n#define __PXTBASE_H\n\n#pragma GCC diagnostic ignored \"-Wunused-parameter\"\n#pragma GCC diagnostic ignored \"-Wformat\"\n#pragma GCC diagnostic ignored \"-Warray-bounds\"\n\n// needed for gcc6; not sure why\n#undef min\n#undef max\n\n#define NOLOG(...)                                                                                 \\\n    do {                                                                                           \\\n    } while (0)\n\n#define MEMDBG NOLOG\n//#define MEMDBG DMESG\n#define MEMDBG2 NOLOG\n\n#include \"pxtconfig.h\"\n#include \"configkeys.h\"\n\n#ifndef PXT_UTF8\n#define PXT_UTF8 0\n#endif\n\n#if defined(PXT_VM)\n#include <stdint.h>\n#if UINTPTR_MAX == 0xffffffff\n#define PXT32 1\n#elif UINTPTR_MAX == 0xffffffffffffffff\n#define PXT64 1\n#else\n#error \"UINTPTR_MAX has invalid value\"\n#endif\n#endif\n\n#define intcheck(...) check(__VA_ARGS__)\n//#define intcheck(...) do {} while (0)\n\n#ifdef PXT_USE_FLOAT\n#define NUMBER float\n#else\n#define NUMBER double\n#endif\n\n#include <string.h>\n#include <stdint.h>\n#include <math.h>\n\n#ifdef POKY\nvoid *operator new(size_t size, void *ptr);\nvoid *operator new(size_t size);\n#else\n#include <new>\n#endif\n\n#include \"platform.h\"\n#include \"pxtcore.h\"\n\n#ifndef PXT_REGISTER_RESET\n#define PXT_REGISTER_RESET(fn) ((void)0)\n#endif\n\n#define PXT_REFCNT_FLASH 0xfffe\n\n#define CONCAT_1(a, b) a##b\n#define CONCAT_0(a, b) CONCAT_1(a, b)\n// already provided in some platforms, like mbedos\n#ifndef STATIC_ASSERT\n#define STATIC_ASSERT(e) enum { CONCAT_0(_static_assert_, __LINE__) = 1 / ((e) ? 1 : 0) };\n#endif\n\n#ifndef ramint_t\n// this type limits size of arrays\n#if defined(__linux__) || defined(PXT_VM)\n// TODO fix the inline array accesses to take note of this!\n#define ramint_t uint32_t\n#else\n#define ramint_t uint16_t\n#endif\n#endif\n\n#ifndef PXT_IN_ISR\n#define PXT_IN_ISR() (SCB->ICSR & SCB_ICSR_VECTACTIVE_Msk)\n#endif\n\n#ifdef POKY\ninline void *operator new(size_t, void *p) {\n    return p;\n}\ninline void *operator new[](size_t, void *p) {\n    return p;\n}\n#endif\n\nnamespace pxt {\n\ntemplate <typename T> inline const T &max(const T &a, const T &b) {\n    if (a < b)\n        return b;\n    return a;\n}\n\ntemplate <typename T> inline const T &min(const T &a, const T &b) {\n    if (a < b)\n        return a;\n    return b;\n}\n\ntemplate <typename T> inline void swap(T &a, T &b) {\n    T tmp = a;\n    a = b;\n    b = tmp;\n}\n\n//\n// Tagged values (assume 4 bytes for now, Cortex-M0)\n//\nstruct TValueStruct {};\ntypedef TValueStruct *TValue;\n\ntypedef TValue TNumber;\ntypedef TValue Action;\ntypedef TValue ImageLiteral;\n\n// To be implemented by the target\nextern \"C\" void target_panic(int error_code);\nextern \"C\" void target_reset();\nvoid sleep_ms(unsigned ms);\nvoid sleep_us(uint64_t us);\nvoid releaseFiber();\nuint64_t current_time_us();\nint current_time_ms();\nvoid initRuntime();\nvoid initSystemTimer();\nvoid sendSerial(const char *data, int len);\nvoid setSendToUART(void (*f)(const char *, int));\nuint64_t getLongSerialNumber();\nvoid registerWithDal(int id, int event, Action a, int flags = 16); // EVENT_LISTENER_DEFAULT_FLAGS\nvoid runInParallel(Action a);\nvoid runForever(Action a);\nvoid waitForEvent(int id, int event);\n//%\nunsigned afterProgramPage();\n//%\nvoid dumpDmesg();\nuint32_t hash_fnv1a(const void *data, unsigned len);\n\n// also defined DMESG macro\n// end\n\n#define TAGGED_SPECIAL(n) (TValue)(void *)((n << 2) | 2)\n#define TAG_FALSE TAGGED_SPECIAL(2) // 10\n#define TAG_TRUE TAGGED_SPECIAL(16) // 66\n#define TAG_UNDEFINED (TValue)0\n#define TAG_NULL TAGGED_SPECIAL(1) // 6\n#define TAG_NAN TAGGED_SPECIAL(3)  // 14\n#define TAG_NUMBER(n) (TNumber)(void *)(((uintptr_t)(uint32_t)(n) << 1) | 1)\n#define TAG_NON_VALUE TAGGED_SPECIAL(4) // 18; doesn't represent any JS value\n\n#ifdef PXT_VM\ninline bool isEncodedDouble(uint64_t v) {\n    return (v >> 48) != 0;\n}\n#endif\n\ninline bool isDouble(TValue v) {\n#ifdef PXT64\n    return ((uintptr_t)v >> 48) != 0;\n#else\n    (void)v;\n    return false;\n#endif\n}\n\ninline bool isPointer(TValue v) {\n    return !isDouble(v) && v != 0 && ((intptr_t)v & 3) == 0;\n}\n\ninline bool isTagged(TValue v) {\n    return (!isDouble(v) && ((intptr_t)v & 3)) || !v;\n}\n\ninline bool isInt(TValue v) {\n    return !isDouble(v) && ((intptr_t)v & 1);\n}\n\ninline bool isSpecial(TValue v) {\n    return !isDouble(v) && ((intptr_t)v & 2);\n}\n\ninline bool bothNumbers(TValue a, TValue b) {\n    return !isDouble(a) && !isDouble(b) && ((intptr_t)a & (intptr_t)b & 1);\n}\n\ninline int numValue(TValue n) {\n    return (int)((intptr_t)n >> 1);\n}\n\ninline bool canBeTagged(int v) {\n    (void)v;\n#ifdef PXT_BOX_DEBUG\n    return false;\n#elif defined(PXT64)\n    return true;\n#else\n    return (v << 1) >> 1 == v;\n#endif\n}\n\n// see https://anniecherkaev.com/the-secret-life-of-nan\n\n#define NanBoxingOffset 0x1000000000000LL\n\ntemplate <typename TO, typename FROM> TO bitwise_cast(FROM in) {\n    STATIC_ASSERT(sizeof(TO) == sizeof(FROM));\n    union {\n        FROM from;\n        TO to;\n    } u;\n    u.from = in;\n    return u.to;\n}\n\ninline double decodeDouble(uint64_t v) {\n    return bitwise_cast<double>(v - NanBoxingOffset);\n}\n\n#ifdef PXT64\nSTATIC_ASSERT(sizeof(void *) == 8);\ninline double doubleVal(TValue v) {\n    return bitwise_cast<double>((uint64_t)v - NanBoxingOffset);\n}\n\ninline TValue tvalueFromDouble(double d) {\n    return (TValue)(bitwise_cast<uint64_t>(d) + NanBoxingOffset);\n}\n#else\nSTATIC_ASSERT(sizeof(void *) == 4);\n#endif\n\n// keep in sym with sim/control.ts\ntypedef enum {\n    PANIC_CODAL_OOM = 20,\n    PANIC_GC_OOM = 21,\n    PANIC_GC_TOO_BIG_ALLOCATION = 22,\n    PANIC_CODAL_HEAP_ERROR = 30,\n    PANIC_CODAL_NULL_DEREFERENCE = 40,\n    PANIC_CODAL_USB_ERROR = 50,\n    PANIC_CODAL_HARDWARE_CONFIGURATION_ERROR = 90,\n\n    PANIC_INVALID_BINARY_HEADER = 901,\n    PANIC_OUT_OF_BOUNDS = 902,\n    PANIC_REF_DELETED = 903,\n    PANIC_SIZE = 904,\n    PANIC_INVALID_VTABLE = 905,\n    PANIC_INTERNAL_ERROR = 906,\n    PANIC_NO_SUCH_CONFIG = 907,\n    PANIC_NO_SUCH_PIN = 908,\n    PANIC_INVALID_ARGUMENT = 909,\n    PANIC_MEMORY_LIMIT_EXCEEDED = 910,\n    PANIC_SCREEN_ERROR = 911,\n    PANIC_MISSING_PROPERTY = 912,\n    PANIC_INVALID_IMAGE = 913,\n    PANIC_CALLED_FROM_ISR = 914,\n    PANIC_HEAP_DUMPED = 915,\n    PANIC_STACK_OVERFLOW = 916,\n    PANIC_BLOCKING_TO_STRING = 917,\n    PANIC_VM_ERROR = 918,\n    PANIC_SETTINGS_CLEARED = 920,\n    PANIC_SETTINGS_OVERLOAD = 921,\n    PANIC_SETTINGS_SECRET_MISSING = 922,\n    PANIC_DELETE_ON_CLASS = 923,\n    PANIC_OUT_OF_TIMERS = 924,\n\n    PANIC_CAST_FIRST = 980,\n    PANIC_CAST_FROM_UNDEFINED = 980,\n    PANIC_CAST_FROM_BOOLEAN = 981,\n    PANIC_CAST_FROM_NUMBER = 982,\n    PANIC_CAST_FROM_STRING = 983,\n    PANIC_CAST_FROM_OBJECT = 984,\n    PANIC_CAST_FROM_FUNCTION = 985,\n    PANIC_CAST_FROM_NULL = 989,\n\n    PANIC_UNHANDLED_EXCEPTION = 999,\n\n} PXT_PANIC;\n\nextern const uintptr_t functionsAndBytecode[];\nextern TValue *globals;\nextern uint16_t *bytecode;\nclass RefRecord;\n\n// Utility functions\n\ntypedef TValue (*RunActionType)(Action a, TValue arg0, TValue arg1, TValue arg2);\n\n#define asmRunAction3 ((RunActionType)(((uintptr_t *)bytecode)[12]))\n\nstatic inline TValue runAction3(Action a, TValue arg0, TValue arg1, TValue arg2) {\n    return asmRunAction3(a, arg0, arg1, 0);\n}\nstatic inline TValue runAction2(Action a, TValue arg0, TValue arg1) {\n    return asmRunAction3(a, arg0, arg1, 0);\n}\nstatic inline TValue runAction1(Action a, TValue arg0) {\n    return asmRunAction3(a, arg0, 0, 0);\n}\nstatic inline TValue runAction0(Action a) {\n    return asmRunAction3(a, 0, 0, 0);\n}\n\nclass RefAction;\nclass BoxedString;\nstruct VTable;\n\n//%\nAction mkAction(int totallen, RefAction *act);\n//% expose\nint templateHash();\n//% expose\nint programHash();\n//% expose\nBoxedString *programName();\n//% expose\nunsigned programSize();\n//%\nint getNumGlobals();\n//%\nRefRecord *mkClassInstance(VTable *vt);\n//%\nvoid debugMemLeaks();\n//%\nvoid anyPrint(TValue v);\n\n//%\nint getConfig(int key, int defl = -1);\n\n//%\nint toInt(TNumber v);\n//%\nunsigned toUInt(TNumber v);\n//%\nNUMBER toDouble(TNumber v);\n//%\nfloat toFloat(TNumber v);\n//%\nTNumber fromDouble(NUMBER r);\n//%\nTNumber fromFloat(float r);\n\n//%\nTNumber fromInt(int v);\n//%\nTNumber fromUInt(unsigned v);\n//%\nTValue fromBool(bool v);\n//%\nbool eq_bool(TValue a, TValue b);\n//%\nbool eqq_bool(TValue a, TValue b);\n\n//%\nvoid failedCast(TValue v);\n//%\nvoid missingProperty(TValue v);\n\nvoid error(PXT_PANIC code, int subcode = 0);\nvoid exec_binary(unsigned *pc);\nvoid start();\n\nstruct HandlerBinding {\n    HandlerBinding *next;\n    int source;\n    int value;\n    Action action;\n};\nHandlerBinding *findBinding(int source, int value);\nHandlerBinding *nextBinding(HandlerBinding *curr, int source, int value);\nvoid setBinding(int source, int value, Action act);\n\n// Legacy stuff; should no longer be used\n//%\nTValue incr(TValue e);\n//%\nvoid decr(TValue e);\n\ninline TValue incr(TValue e) {\n    return e;\n}\ninline void decr(TValue e) {}\n\nclass RefObject;\n\nstatic inline RefObject *incrRC(RefObject *r) {\n    return r;\n}\nstatic inline void decrRC(RefObject *) {\n}\n\ninline void *ptrOfLiteral(int offset) {\n    return &bytecode[offset];\n}\n\n// Checks if object is ref-counted, and has a custom PXT vtable in front\n// TODO\ninline bool isRefCounted(TValue e) {\n    return isPointer(e);\n}\n\ninline void check(int cond, PXT_PANIC code, int subcode = 0) {\n    if (!cond)\n        error(code, subcode);\n}\n\ninline void oops(int subcode = 0) {\n    target_panic(800 + subcode);\n}\n\nclass RefObject;\n\ntypedef void (*RefObjectMethod)(RefObject *self);\ntypedef unsigned (*RefObjectSizeMethod)(RefObject *self);\ntypedef void *PVoid;\ntypedef void **PPVoid;\n\ntypedef void *Object_;\n\n#define VTABLE_MAGIC 0xF9\n\nenum class ValType : uint8_t {\n    Undefined,\n    Boolean,\n    Number,\n    String,\n    Object,\n    Function,\n};\n\n// keep in sync with pxt-core (search for the type name)\nenum class BuiltInType : uint16_t {\n    BoxedString = 1,\n    BoxedNumber = 2,\n    BoxedBuffer = 3,\n    RefAction = 4,\n    RefImage = 5,\n    RefCollection = 6,\n    RefRefLocal = 7,\n    RefMap = 8,\n    RefMImage = 9,\n    MMap = 10, // linux, mostly ev3\n    User0 = 16,\n};\n\nstruct VTable {\n    uint16_t numbytes;\n    ValType objectType;\n    uint8_t magic;\n#ifdef PXT_VM\n    uint16_t ifaceHashEntries;\n    BuiltInType lastClassNo;\n#else\n    PVoid *ifaceTable;\n#endif\n    BuiltInType classNo;\n    uint16_t reserved;\n    uint32_t ifaceHashMult;\n\n    // we only use the first few methods here; pxt will generate more\n    PVoid methods[8];\n};\n\n//%\nextern const VTable string_inline_ascii_vt;\n#if PXT_UTF8\n//%\nextern const VTable string_inline_utf8_vt;\n//%\nextern const VTable string_cons_vt;\n//%\nextern const VTable string_skiplist16_vt;\n#endif\n//%\nextern const VTable buffer_vt;\n//%\nextern const VTable number_vt;\n//%\nextern const VTable RefAction_vtable;\n\n#define PXT_VTABLE_TO_INT(vt) ((uintptr_t)(vt))\n\n// allocate 1M of heap on iOS\n#define PXT_IOS_HEAP_ALLOC_BITS 20\n\n#ifdef PXT_IOS\nextern uint8_t *gcBase;\n#endif\n\ninline bool isReadOnly(TValue v) {\n#ifdef PXT64\n#ifdef PXT_IOS\n    return !isPointer(v) || (((uintptr_t)v - (uintptr_t)gcBase) >> PXT_IOS_HEAP_ALLOC_BITS) != 0;\n#else\n    return !isPointer(v) || !((uintptr_t)v >> 37);\n#endif\n#else\n    return isTagged(v) || !((uintptr_t)v >> 28);\n#endif\n}\n\n// A base abstract class for ref-counted objects.\nclass RefObject {\n  public:\n    uintptr_t vtable;\n\n    RefObject(const VTable *vt) {\n#if defined(PXT32) && defined(PXT_VM)\n        if ((uint32_t)vt & 0xf0000000)\n            target_panic(PANIC_INVALID_VTABLE);\n#endif\n        vtable = PXT_VTABLE_TO_INT(vt);\n    }\n\n    void destroyVT();\n    void printVT();\n\n    inline void ref() {}\n    inline void unref() {}\n    inline bool isReadOnly() { return pxt::isReadOnly((TValue)this); }\n};\n\nclass Segment {\n  private:\n    TValue *data;\n    ramint_t length;\n    ramint_t size;\n\n    // this just gives max value of ramint_t\n    void growByMin(ramint_t minSize);\n    void ensure(ramint_t newSize);\n\n  public:\n    static constexpr ramint_t MaxSize = (((1U << (8 * sizeof(ramint_t) - 1)) - 1) << 1) + 1;\n    static constexpr TValue DefaultValue = TAG_UNDEFINED; // == NULL\n\n    Segment() : data(nullptr), length(0), size(0) {}\n\n    TValue get(unsigned i) { return i < length ? data[i] : NULL; }\n    void set(unsigned i, TValue value);\n\n    unsigned getLength() { return length; };\n    void setLength(unsigned newLength);\n\n    void push(TValue value) { set(length, value); }\n    TValue pop();\n\n    TValue remove(unsigned i);\n    void insert(unsigned i, TValue value);\n\n    void destroy();\n\n    void print();\n\n    TValue *getData() { return data; }\n};\n\n// Low-Level segment using system malloc\nclass LLSegment {\n  private:\n    TValue *data;\n    ramint_t length;\n    ramint_t size;\n\n  public:\n    LLSegment() : data(nullptr), length(0), size(0) {}\n\n    void set(unsigned idx, TValue v);\n    void push(TValue value) { set(length, value); }\n    TValue pop();\n    void destroy();\n    void setLength(unsigned newLen);\n\n    TValue get(unsigned i) { return i < length ? data[i] : NULL; }\n    unsigned getLength() { return length; };\n    TValue *getData() { return data; }\n};\n\n// A ref-counted collection of either primitive or ref-counted objects (String, Image,\n// user-defined record, another collection)\nclass RefCollection : public RefObject {\n  public:\n    Segment head;\n\n    RefCollection();\n\n    static void destroy(RefCollection *coll);\n    static void scan(RefCollection *coll);\n    static unsigned gcsize(RefCollection *coll);\n    static void print(RefCollection *coll);\n\n    unsigned length() { return head.getLength(); }\n    void setLength(unsigned newLength) { head.setLength(newLength); }\n    TValue getAt(int i) { return head.get(i); }\n    TValue *getData() { return head.getData(); }\n};\n\nclass RefMap : public RefObject {\n  public:\n    Segment keys;\n    Segment values;\n\n    RefMap();\n    static void destroy(RefMap *map);\n    static void scan(RefMap *map);\n    static unsigned gcsize(RefMap *coll);\n    static void print(RefMap *map);\n    int findIdx(BoxedString *key);\n};\n\n// A ref-counted, user-defined JS object.\nclass RefRecord : public RefObject {\n  public:\n    // The object is allocated, so that there is space at the end for the fields.\n    TValue fields[];\n\n    RefRecord(VTable *v) : RefObject(v) {}\n\n    TValue ld(int idx);\n    TValue ldref(int idx);\n    void st(int idx, TValue v);\n    void stref(int idx, TValue v);\n};\n\nstatic inline VTable *getVTable(RefObject *r) {\n    return (VTable *)(r->vtable & ~1);\n}\n\nstatic inline VTable *getAnyVTable(TValue v) {\n    if (!isRefCounted(v))\n        return NULL;\n    auto vt = getVTable((RefObject *)v);\n    if (vt->magic == VTABLE_MAGIC)\n        return vt;\n    return NULL;\n}\n\n// these are needed when constructing vtables for user-defined classes\n//%\nvoid RefRecord_destroy(RefRecord *r);\n//%\nvoid RefRecord_print(RefRecord *r);\n//%\nvoid RefRecord_scan(RefRecord *r);\n//%\nunsigned RefRecord_gcsize(RefRecord *r);\n\ntypedef TValue (*ActionCB)(TValue *captured, TValue arg0, TValue arg1, TValue arg2);\n\n// Ref-counted function pointer.\nclass RefAction : public RefObject {\n  public:\n#if defined(PXT_VM) && defined(PXT32)\n    uint32_t _padding; // match binary format in .pxt64 files\n#endif\n    uint16_t len;\n    uint16_t numArgs;\n#ifdef PXT_VM\n    uint16_t initialLen;\n    uint16_t reserved;\n#endif\n    ActionCB func; // The function pointer\n    // fields[] contain captured locals\n    TValue fields[];\n\n    static void destroy(RefAction *act);\n    static void scan(RefAction *act);\n    static unsigned gcsize(RefAction *coll);\n    static void print(RefAction *act);\n\n    RefAction();\n\n    inline void stCore(int idx, TValue v) {\n        // DMESG(\"ST [%d] = %d \", idx, v); this->print();\n        intcheck(0 <= idx && idx < len, PANIC_OUT_OF_BOUNDS, 10);\n        intcheck(fields[idx] == 0, PANIC_OUT_OF_BOUNDS, 11); // only one assignment permitted\n        fields[idx] = v;\n    }\n};\n\n// These two are used to represent locals written from inside inline functions\nclass RefRefLocal : public RefObject {\n  public:\n    TValue v;\n    static void destroy(RefRefLocal *l);\n    static void scan(RefRefLocal *l);\n    static unsigned gcsize(RefRefLocal *l);\n    static void print(RefRefLocal *l);\n    RefRefLocal();\n};\n\ntypedef int color;\n\n// note: this is hardcoded in PXT (hexfile.ts)\n\nclass BoxedNumber : public RefObject {\n  public:\n    NUMBER num;\n    BoxedNumber() : RefObject(&number_vt) {}\n} __attribute__((packed));\n\nclass BoxedString : public RefObject {\n  public:\n    union {\n        struct {\n            uint16_t length;\n            char data[0];\n        } ascii;\n#if PXT_UTF8\n        struct {\n            uint16_t length;\n            char data[0];\n        } utf8;\n        struct {\n            BoxedString *left;\n            BoxedString *right;\n        } cons;\n        struct {\n            uint16_t size;\n            uint16_t length;\n            uint16_t *list;\n        } skip;\n#endif\n    };\n\n#if PXT_UTF8\n    uintptr_t runMethod(int idx) {\n        return ((uintptr_t(*)(BoxedString *))((VTable *)this->vtable)->methods[idx])(this);\n    }\n    const char *getUTF8Data() { return (const char *)runMethod(4); }\n    uint32_t getUTF8Size() { return (uint32_t)runMethod(5); }\n    // in characters\n    uint32_t getLength() { return (uint32_t)runMethod(6); }\n    const char *getUTF8DataAt(uint32_t pos) {\n        auto meth =\n            ((const char *(*)(BoxedString *, uint32_t))((VTable *)this->vtable)->methods[7]);\n        return meth(this, pos);\n    }\n#else\n    const char *getUTF8Data() { return ascii.data; }\n    uint32_t getUTF8Size() { return ascii.length; }\n    uint32_t getLength() { return ascii.length; }\n    const char *getUTF8DataAt(uint32_t pos) { return pos < ascii.length ? ascii.data + pos : NULL; }\n#endif\n\n    TNumber charCodeAt(int pos);\n\n    BoxedString(const VTable *vt) : RefObject(vt) {}\n};\n\n// cross version compatible way of accessing string data\n#ifndef PXT_STRING_DATA\n#define PXT_STRING_DATA(str) str->getUTF8Data()\n#endif\n\n// cross version compatible way of accessing string length\n#ifndef PXT_STRING_DATA_LENGTH\n#define PXT_STRING_DATA_LENGTH(str) str->getUTF8Size()\n#endif\n\nclass BoxedBuffer : public RefObject {\n  public:\n    // data needs to be word-aligned, so we use 32 bits for length\n    int length;\n#ifdef PXT_VM\n    // VM can be 64 bit and it compiles as such\n    int32_t _padding;\n#endif\n    uint8_t data[0];\n    BoxedBuffer() : RefObject(&buffer_vt) {}\n};\n\n// cross version compatible way of access data field\n#ifndef PXT_BUFFER_DATA\n#define PXT_BUFFER_DATA(buffer) buffer->data\n#endif\n\n// cross version compatible way of access data length\n#ifndef PXT_BUFFER_LENGTH\n#define PXT_BUFFER_LENGTH(buffer) buffer->length\n#endif\n\n#ifndef PXT_CREATE_BUFFER\n#define PXT_CREATE_BUFFER(data, len) pxt::mkBuffer(data, len)\n#endif\n\n// Legacy format:\n// the first byte of data indicates the format - currently 0xE1 or 0xE4 to 1 or 4 bit bitmaps\n// second byte indicates width in pixels\n// third byte indicates the height (which should also match the size of the buffer)\n// just like ordinary buffers, these can be layed out in flash\n\n// Current format:\n// 87 BB WW WW HH HH 00 00 DATA\n// that is: 0x87, 0x01 or 0x04 - bpp, width in little endian, height, 0x00, 0x00 followed by data\n// for 4 bpp images, rows are word-aligned (as in legacy)\n\n#define IMAGE_HEADER_MAGIC 0x87\n\nstruct ImageHeader {\n    uint8_t magic;\n    uint8_t bpp;\n    uint16_t width;\n    uint16_t height;\n    uint16_t padding;\n    uint8_t pixels[0];\n};\n\nclass RefImage : public RefObject {\n  public:\n    BoxedBuffer *buffer;\n\n    RefImage(BoxedBuffer *buf);\n    RefImage(uint32_t sz);\n\n    void setBuffer(BoxedBuffer *b);\n\n    uint8_t *data() { return buffer->data; }\n    int length() { return (int)buffer->length; }\n\n    ImageHeader *header() { return (ImageHeader *)buffer->data; }\n    int pixLength() { return length() - sizeof(ImageHeader); }\n\n    int width() { return header()->width; }\n    int height() { return header()->height; }\n    int wordHeight();\n    int bpp() { return header()->bpp; }\n\n    bool hasPadding() { return (height() & 0x7) != 0; }\n\n    uint8_t *pix() { return header()->pixels; }\n\n    int byteHeight() {\n        if (bpp() == 1)\n            return (height() + 7) >> 3;\n        else if (bpp() == 4)\n            return ((height() * 4 + 31) >> 5) << 2;\n        else {\n            oops(21);\n            return -1;\n        }\n    }\n\n    uint8_t *pix(int x, int y) {\n        uint8_t *d = &pix()[byteHeight() * x];\n        if (y) {\n            if (bpp() == 1)\n                d += y >> 3;\n            else if (bpp() == 4)\n                d += y >> 1;\n        }\n        return d;\n    }\n\n    uint8_t fillMask(color c);\n    bool inRange(int x, int y);\n    void clamp(int *x, int *y);\n    void makeWritable();\n\n    static void destroy(RefImage *t);\n    static void scan(RefImage *t);\n    static unsigned gcsize(RefImage *t);\n    static void print(RefImage *t);\n};\n\nRefImage *mkImage(int w, int h, int bpp);\n\ntypedef BoxedBuffer *Buffer;\ntypedef BoxedString *String;\ntypedef RefImage *Image_;\n\nuint32_t toRealUTF8(String str, uint8_t *dst);\n\n// keep in sync with github/pxt/pxtsim/libgeneric.ts\nenum class NumberFormat {\n    Int8LE = 1,\n    UInt8LE,\n    Int16LE,\n    UInt16LE,\n    Int32LE,\n    Int8BE,\n    UInt8BE,\n    Int16BE,\n    UInt16BE,\n    Int32BE,\n\n    UInt32LE,\n    UInt32BE,\n    Float32LE,\n    Float64LE,\n    Float32BE,\n    Float64BE,\n};\n\n// this will, unlike mkStringCore, UTF8-canonicalize the data\nString mkString(const char *data, int len = -1);\n// data can be NULL in both cases\nBuffer mkBuffer(const uint8_t *data, int len);\nString mkStringCore(const char *data, int len = -1);\n\nTNumber getNumberCore(uint8_t *buf, int size, NumberFormat format);\nvoid setNumberCore(uint8_t *buf, int size, NumberFormat format, TNumber value);\n\nvoid seedRandom(unsigned seed);\nvoid seedAddRandom(unsigned seed);\n// max is inclusive\nunsigned getRandom(unsigned max);\n\nValType valType(TValue v);\n\n// this is equivalent to JS `throw v`; it will leave\n// the current function(s), all the way until the nearest try block and\n// ignore all destructors (think longjmp())\nvoid throwValue(TValue v);\n\nvoid registerGC(TValue *root, int numwords = 1);\nvoid unregisterGC(TValue *root, int numwords = 1);\nvoid registerGCPtr(TValue ptr);\nvoid unregisterGCPtr(TValue ptr);\nstatic inline void registerGCObj(RefObject *ptr) {\n    registerGCPtr((TValue)ptr);\n}\nstatic inline void unregisterGCObj(RefObject *ptr) {\n    unregisterGCPtr((TValue)ptr);\n}\nvoid gc(int flags);\n\nstruct StackSegment {\n    void *top;\n    void *bottom;\n    StackSegment *next;\n};\n\n#define NUM_TRY_FRAME_REGS 3\nstruct TryFrame {\n    TryFrame *parent;\n    uintptr_t registers[NUM_TRY_FRAME_REGS];\n};\n\nstruct ThreadContext {\n    TValue *globals;\n    StackSegment stack;\n    TryFrame *tryFrame;\n    TValue thrownValue;\n#ifdef PXT_GC_THREAD_LIST\n    ThreadContext *next;\n    ThreadContext *prev;\n#endif\n};\n\n#ifdef PXT_GC_THREAD_LIST\nextern ThreadContext *threadContexts;\nvoid *threadAddressFor(ThreadContext *, void *sp);\n#endif\n\nvoid releaseThreadContext(ThreadContext *ctx);\nThreadContext *getThreadContext();\nvoid setThreadContext(ThreadContext *ctx);\n\n#ifndef PXT_GC_THREAD_LIST\nvoid gcProcessStacks(int flags);\n#endif\n\nvoid gcProcess(TValue v);\nvoid gcFreeze();\n#ifdef PXT_VM\nvoid gcStartup();\nvoid gcPreStartup();\nvoid *gcPrealloc(int numbytes);\nbool inGCPrealloc();\n#else\nstatic inline bool inGCPrealloc() {\n    return false;\n}\n#endif\n\nvoid coreReset();\nvoid gcReset();\nvoid systemReset();\n\nvoid *gcAllocate(int numbytes);\nvoid *gcAllocateArray(int numbytes);\nextern \"C\" void *app_alloc(int numbytes);\nextern \"C\" void *app_free(void *ptr);\nvoid gcPreAllocateBlock(uint32_t sz);\n\n#ifdef PXT64\n#define TOWORDS(bytes) (((bytes) + 7) >> 3)\n#else\n#define TOWORDS(bytes) (((bytes) + 3) >> 2)\n#endif\n\n#ifndef PXT_VM\n#define soft_panic target_panic\n#endif\n\nextern int debugFlags;\n\nenum class PerfCounters {\n    GC,\n};\n\n#ifdef PXT_PROFILE\n#ifndef PERF_NOW\n#error \"missing platform timer support\"\n#endif\n\nstruct PerfCounter {\n    uint32_t value;\n    uint32_t numstops;\n    uint32_t start;\n};\n\nextern struct PerfCounter *perfCounters;\n\nvoid initPerfCounters();\n//%\nvoid dumpPerfCounters();\n//%\nvoid startPerfCounter(PerfCounters n);\n//%\nvoid stopPerfCounter(PerfCounters n);\n#else\ninline void startPerfCounter(PerfCounters n) {}\ninline void stopPerfCounter(PerfCounters n) {}\ninline void initPerfCounters() {}\ninline void dumpPerfCounters() {}\n#endif\n\n#ifdef PXT_VM\nString mkInternalString(const char *str);\n#define PXT_DEF_STRING(name, val) String name = mkInternalString(val);\n#else\n#define PXT_DEF_STRING(name, val)                                                                  \\\n    static const char name[] __attribute__((aligned(4))) = \"@PXT@:\" val;\n#endif\n\n} // namespace pxt\n\nusing namespace pxt;\n\nnamespace numops {\n//%\nString toString(TValue v);\n//%\nint toBool(TValue v);\n//%\nint toBoolDecr(TValue v);\n} // namespace numops\n\nnamespace pxt {\ninline bool toBoolQuick(TValue v) {\n    if (v == TAG_TRUE)\n        return true;\n    if (v == TAG_FALSE || v == TAG_UNDEFINED || v == TAG_NULL)\n        return false;\n    return numops::toBool(v);\n}\n} // namespace pxt\n\nnamespace pxtrt {\n//%\nRefMap *mkMap();\n//%\nTValue mapGetByString(RefMap *map, String key);\n//%\nint lookupMapKey(String key);\n//%\nTValue mapGet(RefMap *map, unsigned key);\n//%\nvoid mapSetByString(RefMap *map, String key, TValue val);\n//%\nvoid mapSet(RefMap *map, unsigned key, TValue val);\n} // namespace pxtrt\n\nnamespace pins {\nBuffer createBuffer(int size);\n}\n\nnamespace String_ {\n//%\nint compare(String a, String b);\n} // namespace String_\n\nnamespace Array_ {\n//%\nRefCollection *mk();\n//%\nint length(RefCollection *c);\n//%\nvoid setLength(RefCollection *c, int newLength);\n//%\nvoid push(RefCollection *c, TValue x);\n//%\nTValue pop(RefCollection *c);\n//%\nTValue getAt(RefCollection *c, int x);\n//%\nvoid setAt(RefCollection *c, int x, TValue y);\n//%\nTValue removeAt(RefCollection *c, int x);\n//%\nvoid insertAt(RefCollection *c, int x, TValue value);\n//%\nint indexOf(RefCollection *c, TValue x, int start);\n//%\nbool removeElement(RefCollection *c, TValue x);\n} // namespace Array_\n\n#define NEW_GC(T, ...) new (gcAllocate(sizeof(T))) T(__VA_ARGS__)\n\n// The ARM Thumb generator in the JavaScript code is parsing\n// the hex file and looks for the magic numbers as present here.\n//\n// Then it fetches function pointer addresses from there.\n//\n// The vtable pointers are there, so that the ::emptyData for various types\n// can be patched with the right vtable.\n//\n#define PXT_SHIMS_BEGIN                                                                            \\\n    namespace pxt {                                                                                \\\n    const uintptr_t functionsAndBytecode[]                                                         \\\n        __attribute__((aligned(0x20))) = {0x08010801, 0x42424242, 0x08010801, 0x8de9d83e,\n\n#define PXT_SHIMS_END                                                                              \\\n    }                                                                                              \\\n    ;                                                                                              \\\n    }\n\n#if !defined(X86_64) && !defined(PXT_VM)\n#pragma GCC diagnostic ignored \"-Wpmf-conversions\"\n#endif\n\n#ifdef PXT_VM\n#define DEF_VTABLE(name, tp, valtype, ...)                                                         \\\n    const VTable name = {sizeof(tp), valtype, VTABLE_MAGIC, 0, BuiltInType::tp, BuiltInType::tp,   \\\n                         0,          0,       {__VA_ARGS__}};\n#else\n#define DEF_VTABLE(name, tp, valtype, ...)                                                         \\\n    const VTable name = {sizeof(tp), valtype, VTABLE_MAGIC, 0, BuiltInType::tp,                    \\\n                         0,          0,       {__VA_ARGS__}};\n#endif\n\n#define PXT_VTABLE(classname, valtp)                                                               \\\n    DEF_VTABLE(classname##_vtable, classname, valtp, (void *)&classname::destroy,                  \\\n               (void *)&classname::print, (void *)&classname::scan, (void *)&classname::gcsize)\n\n#define PXT_VTABLE_INIT(classname) RefObject(&classname##_vtable)\n\n#define PXT_VTABLE_CTOR(classname)                                                                 \\\n    PXT_VTABLE(classname, ValType::Object)                                                         \\\n    classname::classname() : PXT_VTABLE_INIT(classname)\n\n#define PXT_MAIN                                                                                   \\\n    int main() {                                                                                   \\\n        pxt::start();                                                                              \\\n        return 0;                                                                                  \\\n    }\n\n#define PXT_FNPTR(x) (uintptr_t)(void *)(x)\n\n#define PXT_ABI(...)\n\n#define JOIN(a, b) a##b\n/// Defines getClassName() function to fetch the singleton\n#define SINGLETON(ClassName)                                                                       \\\n    static ClassName *JOIN(inst, ClassName);                                                       \\\n    ClassName *JOIN(get, ClassName)() {                                                            \\\n        if (!JOIN(inst, ClassName))                                                                \\\n            JOIN(inst, ClassName) = new ClassName();                                               \\\n        return JOIN(inst, ClassName);                                                              \\\n    }\n\n/// Defines getClassName() function to fetch the singleton if PIN present\n#define SINGLETON_IF_PIN(ClassName, pin)                                                           \\\n    static ClassName *JOIN(inst, ClassName);                                                       \\\n    ClassName *JOIN(get, ClassName)() {                                                            \\\n        if (!JOIN(inst, ClassName) && LOOKUP_PIN(pin))                                             \\\n            JOIN(inst, ClassName) = new ClassName();                                               \\\n        return JOIN(inst, ClassName);                                                              \\\n    }\n\n#ifdef PXT_VM\n#include \"vm.h\"\n#endif\n\n#endif\n",
            "scheduling.ts": "/**\n * Calls a function with a fixed time delay between each call to that function.\n * @param func \n * @param delay \n */\n//%\nfunction setInterval(func: () => void, delay: number): number {\n    delay = Math.max(10, delay | 0);\n    return control.setInterval(func, delay, control.IntervalMode.Interval);\n}\n\n/**\n * Cancels repeated action which was set up using setInterval().\n * @param intervalId \n */\n//%\nfunction clearInterval(intervalId: number) {\n    control.clearInterval(intervalId, control.IntervalMode.Interval);\n}\n\n/**\n * Calls a function after specified delay.\n * @param func \n * @param delay \n */\n//%\nfunction setTimeout(func: () => void, delay: number): number {\n    return control.setInterval(func, delay, control.IntervalMode.Timeout);\n}\n\n/**\n * Clears the delay set by setTimeout().\n * @param intervalId \n */\n//%\nfunction clearTimeout(intervalId: number) {\n    control.clearInterval(intervalId, control.IntervalMode.Timeout);\n}\n\n/**\n * Calls a function as soon as possible.\n * @param func \n */\n//%\nfunction setImmediate(func: () => void): number {\n    return control.setInterval(func, 0, control.IntervalMode.Immediate);\n}\n\n/**\n * Cancels the immediate actions.\n * @param intervalId \n */\n//%\nfunction clearImmediate(intervalId: number) {\n    control.clearInterval(intervalId, control.IntervalMode.Immediate);\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\n\n\n\n    //% indexerGet=BufferMethods::getByte indexerSet=BufferMethods::setByte\ndeclare interface Buffer {\n    /**\n     * Reads an unsigned byte at a particular location\n     */\n    //% shim=BufferMethods::getUint8\n    getUint8(off: int32): int32;\n\n    /**\n     * Returns false when the buffer can be written to.\n     */\n    //% shim=BufferMethods::isReadOnly\n    isReadOnly(): boolean;\n\n    /**\n     * Writes an unsigned byte at a particular location\n     */\n    //% shim=BufferMethods::setUint8\n    setUint8(off: int32, v: int32): void;\n\n    /**\n     * Write a number in specified format in the buffer.\n     */\n    //% shim=BufferMethods::setNumber\n    setNumber(format: NumberFormat, offset: int32, value: number): void;\n\n    /**\n     * Read a number in specified format from the buffer.\n     */\n    //% shim=BufferMethods::getNumber\n    getNumber(format: NumberFormat, offset: int32): number;\n\n    /** Returns the length of a Buffer object. */\n    //% property shim=BufferMethods::length\n    length: int32;\n\n    /**\n     * Fill (a fragment) of the buffer with given value.\n     */\n    //% offset.defl=0 length.defl=-1 shim=BufferMethods::fill\n    fill(value: int32, offset?: int32, length?: int32): void;\n\n    /**\n     * Return a copy of a fragment of a buffer.\n     */\n    //% offset.defl=0 length.defl=-1 shim=BufferMethods::slice\n    slice(offset?: int32, length?: int32): Buffer;\n\n    /**\n     * Shift buffer left in place, with zero padding.\n     * @param offset number of bytes to shift; use negative value to shift right\n     * @param start start offset in buffer. Default is 0.\n     * @param length number of elements in buffer. If negative, length is set as the buffer length minus\n     * start. eg: -1\n     */\n    //% start.defl=0 length.defl=-1 shim=BufferMethods::shift\n    shift(offset: int32, start?: int32, length?: int32): void;\n\n    /**\n     * Convert a buffer to string assuming UTF8 encoding\n     */\n    //% shim=BufferMethods::toString\n    toString(): string;\n\n    /**\n     * Convert a buffer to its hexadecimal representation.\n     */\n    //% shim=BufferMethods::toHex\n    toHex(): string;\n\n    /**\n     * Rotate buffer left in place.\n     * @param offset number of bytes to shift; use negative value to shift right\n     * @param start start offset in buffer. Default is 0.\n     * @param length number of elements in buffer. If negative, length is set as the buffer length minus\n     * start. eg: -1\n     */\n    //% start.defl=0 length.defl=-1 shim=BufferMethods::rotate\n    rotate(offset: int32, start?: int32, length?: int32): void;\n\n    /**\n     * Write contents of `src` at `dstOffset` in current buffer.\n     */\n    //% shim=BufferMethods::write\n    write(dstOffset: int32, src: Buffer): void;\n}\ndeclare namespace control {\n\n    /**\n     * Create a new zero-initialized buffer.\n     * @param size number of bytes in the buffer\n     */\n    //% shim=control::createBuffer\n    function createBuffer(size: int32): Buffer;\n\n    /**\n     * Create a new buffer with UTF8-encoded string\n     * @param str the string to put in the buffer\n     */\n    //% shim=control::createBufferFromUTF8\n    function createBufferFromUTF8(str: string): Buffer;\n}\ndeclare namespace loops {\n\n    /**\n     * Repeats the code forever in the background. On each iteration, allows other codes to run.\n     * @param body code to execute\n     */\n    //% help=loops/forever weight=100 afterOnStart=true deprecated=true\n    //% blockId=forever_deprecated block=\"forever\" blockAllowMultiple=1 shim=loops::forever\n    function forever(a: () => void): void;\n\n    /**\n     * Pause for the specified time in milliseconds\n     * @param ms how long to pause for, eg: 100, 200, 500, 1000, 2000\n     */\n    //% help=loops/pause weight=99 deprecated=true\n    //% async block=\"pause %pause=timePicker|ms\"\n    //% blockId=device_pause_deprecated shim=loops::pause\n    function pause(ms: int32): void;\n}\ndeclare namespace control {\n\n    /**\n     * Gets the number of milliseconds elapsed since power on.\n     */\n    //% help=control/millis weight=50\n    //% blockId=control_running_time block=\"millis (ms)\" shim=control::millis\n    function millis(): int32;\n\n    /**\n     * Gets current time in microseconds. Overflows every ~18 minutes.\n     */\n    //% shim=control::micros\n    function micros(): int32;\n\n    /**\n     * Used internally\n     */\n    //% flags.defl=16 shim=control::internalOnEvent\n    function internalOnEvent(src: int32, value: int32, handler: () => void, flags?: int32): void;\n\n    /**\n     * Reset the device.\n     */\n    //% weight=30 async help=control/reset blockGap=8\n    //% blockId=\"control_reset\" block=\"reset\" shim=control::reset\n    function reset(): void;\n\n    /**\n     * Block the current fiber for the given microseconds\n     * @param micros number of micro-seconds to wait. eg: 4\n     */\n    //% help=control/wait-micros weight=29 async\n    //% blockId=\"control_wait_us\" block=\"wait (s)%micros\" shim=control::waitMicros\n    function waitMicros(micros: int32): void;\n\n    /**\n     * Run other code in the parallel.\n     */\n    //% help=control/run-in-parallel handlerStatement=1\n    //% blockId=\"control_run_in_parallel\" block=\"run in parallel\" blockGap=8 shim=control::runInParallel\n    function runInParallel(a: () => void): void;\n\n    /**\n     * Blocks the calling thread until the specified event is raised.\n     */\n    //% help=control/wait-for-event async\n    //% blockId=control_wait_for_event block=\"wait for event|from %src|with value %value\" shim=control::waitForEvent\n    function waitForEvent(src: int32, value: int32): void;\n\n    /**\n     * Derive a unique, consistent serial number of this device from internal data.\n     */\n    //% blockId=\"control_device_serial_number\" block=\"device serial number\" weight=9\n    //% help=control/device-serial-number shim=control::deviceSerialNumber\n    function deviceSerialNumber(): int32;\n\n    /**\n     * Derive a unique, consistent 64-bit serial number of this device from internal data.\n     */\n    //% blockId=\"control_device_long_serial_number\" block=\"device long serial number\" weight=9\n    //% help=control/device-long-serial-number shim=control::deviceLongSerialNumber\n    function deviceLongSerialNumber(): Buffer;\n\n    /**\n     *\n     */\n    //% shim=control::__log\n    function __log(prority: int32, text: string): void;\n\n    /**\n     * Dump internal information about a value.\n     */\n    //% shim=control::dmesgValue\n    function dmesgValue(v: any): void;\n\n    /**\n     * Force GC and dump basic information about heap.\n     */\n    //% shim=control::gc\n    function gc(): void;\n\n    /**\n     * Force GC and halt waiting for debugger to do a full heap dump.\n     */\n    //% shim=control::heapDump\n    function heapDump(): void;\n\n    /**\n     * Set flags used when connecting an external debugger.\n     */\n    //% shim=control::setDebugFlags\n    function setDebugFlags(flags: int32): void;\n\n    /**\n     * Record a heap snapshot to debug memory leaks.\n     */\n    //% shim=control::heapSnapshot\n    function heapSnapshot(): void;\n\n    /**\n     * Return true if profiling is enabled in the current build.\n     */\n    //% shim=control::profilingEnabled\n    function profilingEnabled(): boolean;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "templates.ts": "/**\n * Tagged hex literal converter\n */\n//% shim=@hex\nfunction hex(lits: any, ...args: any[]): Buffer { return null }\n",
            "test.ts": "let i = 1\nlet f = 0.5\nlet plus = i + f\nlet minus = i - f\n\nlet r = Math.random()\nlet ri = Math.randomRange(5, 10)\n\n",
            "trig.cpp": "#include \"pxtbase.h\"\n#include <limits.h>\n#include <stdlib.h>\n\nusing namespace std;\n\nnamespace Math_ {\n\n#define SINGLE(op) return fromDouble(::op(toDouble(x)));\n\n//%\nTNumber atan2(TNumber y, TNumber x) {\n    return fromDouble(::atan2(toDouble(y), toDouble(x)));\n}\n\n//%\nTNumber tan(TNumber x){SINGLE(tan)}\n\n//%\nTNumber sin(TNumber x){SINGLE(sin)}\n\n//%\nTNumber cos(TNumber x){SINGLE(cos)}\n\n//%\nTNumber atan(TNumber x){SINGLE(atan)}\n\n//%\nTNumber asin(TNumber x){SINGLE(asin)}\n\n//%\nTNumber acos(TNumber x){SINGLE(acos)}\n\n//%\nTNumber sqrt(TNumber x){SINGLE(sqrt)}\n\n}",
            "utfdecoder.ts": "class UTF8Decoder {\n    private buf: Buffer;\n\n    constructor() {\n        this.buf = undefined;\n    }\n\n    add(buf: Buffer) {\n        if (!buf || !buf.length) return;\n\n        if (!this.buf)\n            this.buf = buf;\n        else {\n            const b = control.createBuffer(this.buf.length + buf.length);\n            b.write(0, this.buf);\n            b.write(this.buf.length, buf);\n            this.buf = b;\n        }\n    }\n\n    decodeUntil(delimiter: number): string {\n        if (!this.buf) return undefined;\n        delimiter = delimiter | 0;\n        let i = 0;\n        for (; i < this.buf.length; ++i) {\n            const c = this.buf[i];\n            // skip multi-chars\n            if ((c & 0xe0) == 0xc0)\n                i += 1;\n            else if ((c & 0xf0) == 0xe0)\n                i += 2;\n            else if (c == delimiter) {\n                // found it\n                break;\n            }\n        }\n\n        if (i >= this.buf.length)\n            return undefined;\n        else {\n            const s = this.buf.slice(0, i).toString();\n            if (i + 1 == this.buf.length)\n                this.buf = undefined;\n            else\n                this.buf = this.buf.slice(i + 1);\n            return s;\n        }\n    }\n\n    decode(): string {\n        if (!this.buf) return \"\";\n\n        // scan the end of the buffer for partial characters\n        let length = 0;\n        for (let i = this.buf.length - 1; i >= 0; i--) {\n            const c = this.buf[i];\n            if ((c & 0x80) == 0) {\n                length = i + 1;\n                break;\n            }\n            else if ((c & 0xe0) == 0xc0) {\n                length = i + 2;\n                break;\n            }\n            else if ((c & 0xf0) == 0xe0) {\n                length = i + 3;\n                break;\n            }\n        }\n        // is last beyond the end?\n        if (length == this.buf.length) {\n            const s = this.buf.toString();\n            this.buf = undefined;\n            return s;\n        } else if (length == 0) { // data yet\n            return \"\";\n        } else {\n            const s = this.buf.slice(0, length).toString();\n            this.buf = this.buf.slice(length);\n            return s;\n        }\n    }\n}"
        },
        "core": {
            "README.md": "# core\n\nThe core library for Codal-based targets.\n\n",
            "codal.cpp": "#include \"pxt.h\"\n#include \"LowLevelTimer.h\"\nusing namespace codal;\n\nvoid cpu_clock_init(void);\n\nPXT_ABI(__aeabi_dadd)\nPXT_ABI(__aeabi_dcmplt)\nPXT_ABI(__aeabi_dcmpgt)\nPXT_ABI(__aeabi_dsub)\nPXT_ABI(__aeabi_ddiv)\nPXT_ABI(__aeabi_dmul)\n\n#define PXT_COMM_BASE 0x20001000 // 4k in\n\nnamespace pxt {\n\nvoid platform_init();\nvoid usb_init();\n\n// The first two word are used to tell the bootloader that a single reset should start the\n// bootloader and the MSD device, not us.\n// The rest is reserved for partial flashing checksums.\n__attribute__((section(\".binmeta\"))) __attribute__((used)) const uint32_t pxt_binmeta[] = {\n    0x87eeb07c, 0x87eeb07c, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff,\n    0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff,\n};\n\nEvent lastEvent;\nMessageBus devMessageBus;\ncodal::CodalDevice device;\n\nstruct FreeList {\n    FreeList *next;\n};\n\nstatic void commInit() {\n    int commSize = bytecode[20];\n    if (!commSize)\n        return;\n\n    FreeList *head = NULL;\n    void *commBase = (void *)PXT_COMM_BASE;\n    for (;;) {\n        void *p = xmalloc(4);\n        // assume 4 byte alloc header; if we're not hitting 8 byte alignment, try allocating 8\n        // bytes, not 4 without the volatile, gcc assumes 8 byte alignment on malloc()\n        volatile uintptr_t hp = (uintptr_t)p;\n        if (hp & 4) {\n            xfree(p);\n            p = xmalloc(8);\n        }\n        if (p == commBase) {\n            xfree(p);\n            // allocate the comm section; this is never freed\n            p = xmalloc(commSize);\n            if (p != commBase)\n                oops(10);\n            break;\n        }\n        if (p > commBase)\n            oops(11);\n        auto f = (FreeList *)p;\n        f->next = head;\n        head = f;\n    }\n    // free all the filler stuff\n    while (head) {\n        auto p = head;\n        head = head->next;\n        xfree(p);\n    }\n}\n\nstatic void initCodal() {\n    cpu_clock_init();\n\n    commInit();\n\n    // Bring up fiber scheduler.\n    scheduler_init(devMessageBus);\n\n    // We probably don't need that - components are initialized when one obtains\n    // the reference to it.\n    // devMessageBus.listen(DEVICE_ID_MESSAGE_BUS_LISTENER, DEVICE_EVT_ANY, this,\n    // &CircuitPlayground::onListenerRegisteredEvent);\n\n    for (int i = 0; i < DEVICE_COMPONENT_COUNT; i++) {\n        if (CodalComponent::components[i])\n            CodalComponent::components[i]->init();\n    }\n\n    usb_init();\n\n    auto led = LOOKUP_PIN(LED);\n    if (led) {\n        led->setDigitalValue(0);\n    }\n}\n\n// ---------------------------------------------------------------------------\n// An adapter for the API expected by the run-time.\n// ---------------------------------------------------------------------------\n\n// We have the invariant that if [dispatchEvent] is registered against the DAL\n// for a given event, then [handlersMap] contains a valid entry for that\n// event.\nvoid dispatchEvent(Event e) {\n    lastEvent = e;\n\n    auto curr = findBinding(e.source, e.value);\n    auto value = fromInt(e.value);\n    while (curr) {\n        runAction1(curr->action, value);\n        curr = nextBinding(curr->next, e.source, e.value);\n    }\n}\n\nvoid registerWithDal(int id, int event, Action a, int flags) {\n    // first time?\n    if (!findBinding(id, event)) {\n        devMessageBus.listen(id, event, dispatchEvent, flags);\n        if (event == 0) {\n            // we're registering for all events on given ID\n            // need to remove old listeners for specific events\n            auto curr = findBinding(id, -1);\n            while (curr) {\n                devMessageBus.ignore(id, curr->value, dispatchEvent);\n                curr = nextBinding(curr->next, id, -1);\n            }\n        }\n    }\n    setBinding(id, event, a);\n}\n\nvoid fiberDone(void *a) {\n    unregisterGCPtr((Action)a);\n    release_fiber();\n}\n\nvoid releaseFiber() {\n    release_fiber();\n}\n\nvoid sleep_ms(unsigned ms) {\n    fiber_sleep(ms);\n}\n\nvoid sleep_us(uint64_t us) {\n    target_wait_us(us);\n}\n\nvoid forever_stub(void *a) {\n    while (true) {\n        runAction0((Action)a);\n        fiber_sleep(20);\n    }\n}\n\nvoid runForever(Action a) {\n    if (a != 0) {\n        registerGCPtr(a);\n        create_fiber(forever_stub, (void *)a);\n    }\n}\n\nvoid runInParallel(Action a) {\n    if (a != 0) {\n        registerGCPtr(a);\n        create_fiber((void (*)(void *))runAction0, (void *)a, fiberDone);\n    }\n}\n\nvoid waitForEvent(int id, int event) {\n    fiber_wait_for_event(id, event);\n}\n\nvoid initRuntime() {\n    initSystemTimer();\n    initCodal();\n    platform_init();\n}\n\n//%\nunsigned afterProgramPage() {\n    unsigned ptr = (unsigned)&bytecode[0];\n    ptr += programSize();\n    ptr = (ptr + (PAGE_SIZE - 1)) & ~(PAGE_SIZE - 1);\n    return ptr;\n}\n\nuint64_t getLongSerialNumber() {\n    return device.getSerialNumber();\n}\n\nint current_time_ms() {\n    return system_timer_current_time();\n}\n\nuint64_t current_time_us() {\n    return system_timer_current_time_us();\n}\n\nThreadContext *getThreadContext() {\n    if (!currentFiber)\n        return NULL;\n    return (ThreadContext *)currentFiber->user_data;\n}\n\nvoid setThreadContext(ThreadContext *ctx) {\n    currentFiber->user_data = ctx;\n}\n\nstatic void *threadAddressFor(codal::Fiber *fib, void *sp) {\n    if (fib == currentFiber)\n        return sp;\n    return (uint8_t *)sp + ((uint8_t *)fib->stack_top - (uint8_t *)tcb_get_stack_base(fib->tcb));\n}\n\nvoid gcProcessStacks(int flags) {\n    // check scheduler is initialized\n    if (!currentFiber) {\n        // make sure we allocate something to at least initalize the memory allocator\n        void *volatile p = xmalloc(1);\n        xfree(p);\n        return;\n    }\n\n    int numFibers = codal::list_fibers(NULL);\n    codal::Fiber **fibers = (codal::Fiber **)xmalloc(sizeof(codal::Fiber *) * numFibers);\n    int num2 = codal::list_fibers(fibers);\n    if (numFibers != num2)\n        oops(12);\n    int cnt = 0;\n\n    for (int i = 0; i < numFibers; ++i) {\n        auto fib = fibers[i];\n        auto ctx = (ThreadContext *)fib->user_data;\n        if (!ctx)\n            continue;\n        gcProcess(ctx->thrownValue);\n        for (auto seg = &ctx->stack; seg; seg = seg->next) {\n            auto ptr = (TValue *)threadAddressFor(fib, seg->top);\n            auto end = (TValue *)threadAddressFor(fib, seg->bottom);\n            if (flags & 2)\n                DMESG(\"RS%d:%p/%d\", cnt++, ptr, end - ptr);\n            // VLOG(\"mark: %p - %p\", ptr, end);\n            while (ptr < end) {\n                gcProcess(*ptr++);\n            }\n        }\n    }\n    xfree(fibers);\n}\n\nLowLevelTimer *getJACDACTimer() {\n    static LowLevelTimer *jacdacTimer;\n    if (!jacdacTimer) {\n        jacdacTimer = allocateTimer();\n        jacdacTimer->setIRQPriority(1);\n    }\n    return jacdacTimer;\n}\nvoid initSystemTimer() {\n    new CODAL_TIMER(*allocateTimer());\n}\n\n} // namespace pxt\n",
            "control.cpp": "#include \"pxt.h\"\n\n#if defined(NRF52_SERIES)\n#define _estack __StackTop \n#endif\nextern uint32_t _estack;\n\nnamespace control {\n\n/**\n * Announce that an event happened to registered handlers.\n * @param src ID of the MicroBit Component that generated the event\n * @param value Component specific code indicating the cause of the event.\n */\n//% weight=21 blockGap=12 blockId=\"control_raise_event\"\n//% help=control/raise-event\n//% block=\"raise event|from %src|with value %value\" blockExternalInputs=1\nvoid raiseEvent(int src, int value) {\n    Event evt(src, value);\n}\n\n/**\n* Determine the version of system software currently running.\n*/\n//% blockId=\"control_device_dal_version\" block=\"device dal version\"\n//% help=control/device-dal-version\nString deviceDalVersion() {\n    return mkString(device.getVersion());\n}\n\n/**\n* Allocates the next user notification event\n*/\n//% help=control/allocate-notify-event\nint allocateNotifyEvent() {\n    return ::allocateNotifyEvent();\n}\n\n/** Write a message to DMESG debugging buffer. */\n//%\nvoid dmesg(String s) {\n    DMESG(\"# %s\", s->getUTF8Data());\n}\n\n/** Write a message and value (pointer) to DMESG debugging buffer. */\n//%\nvoid dmesgPtr(String str, Object_ ptr) {\n    DMESG(\"# %s: %p\", str->getUTF8Data(), ptr);\n}\n\n//%\nuint32_t _ramSize()\n{\n    return (uint32_t)&_estack & 0x1fffffff;\n}\n\n}\n",
            "dal.d.ts": "// Auto-generated. Do not edit.\ndeclare const enum DAL {\n    // /libraries/codal-core/inc/JACDAC/JACDAC.h\n    JD_VERSION = 5,\n    JD_SERIAL_MAX_BUFFERS = 10,\n    JD_SERIAL_RECEIVING = 2,\n    JD_SERIAL_TRANSMITTING = 4,\n    JD_SERIAL_TX_DRAIN_ENABLE = 8,\n    JD_SERIAL_BUS_RISE = 16,\n    JD_SERIAL_EVT_DATA_READY = 1,\n    JD_SERIAL_EVT_BUS_ERROR = 2,\n    JD_SERIAL_EVT_DRAIN = 3,\n    JD_SERIAL_EVT_RX_TIMEOUT = 4,\n    JD_SERIAL_EVT_BUS_CONNECTED = 5,\n    JD_SERIAL_EVT_BUS_DISCONNECTED = 6,\n    JD_SERIAL_HEADER_SIZE = 4,\n    JD_SERIAL_DATA_SIZE = 32,\n    JD_SERIAL_PACKET_SIZE = 36,\n    JD_SERIAL_MAXIMUM_BUFFERS = 10,\n    JD_SERIAL_DMA_TIMEOUT = 2,\n    JD_SERIAL_MAX_BAUD = 1000000,\n    JD_SERIAL_TX_MAX_BACKOFF = 4000,\n    JD_SERIAL_TX_MIN_BACKOFF = 1000,\n    Receiving = 0,\n    Transmitting = 1,\n    High = 2,\n    Low = 3,\n    Baud1M = 1,\n    Baud500K = 2,\n    Baud250K = 4,\n    Baud125K = 8,\n    // /libraries/codal-core/inc/JACDAC/JDAccelerometerDriver.h\n    JD_ACCEL_EVT_SEND_DATA = 1,\n    // /libraries/codal-core/inc/JACDAC/JDBridgeDriver.h\n    JD_BRIDGE_HISTORY_SIZE = 8,\n    // /libraries/codal-core/inc/JACDAC/JDClasses.h\n    STATIC_CLASS_START = 0,\n    STATIC_CLASS_END = 16777215,\n    DYNAMIC_CLASS_END = 4294967295,\n    JD_DRIVER_CLASS_CODAL_START = 0,\n    JD_DRIVER_CLASS_CODAL_END = 2000,\n    JD_DRIVER_CLASS_MAKECODE_START = 2000,\n    JD_DRIVER_CLASS_MAKECODE_END = 4000,\n    JD_DRIVER_CLASS_CONTROL = 0,\n    JD_DRIVER_CLASS_JOYSTICK = 1,\n    JD_DRIVER_CLASS_MESSAGE_BUS = 2,\n    JD_DRIVER_CLASS_BRIDGE = 3,\n    JD_DRIVER_CLASS_BUTTON = 4,\n    JD_DRIVER_CLASS_PIN = 5,\n    JD_DRIVER_CLASS_RELIABILITY_TESTER = 6,\n    JD_DRIVER_CLASS_ACCELEROMETER = 7,\n    JD_DRIVER_CLASS_CAPTOUCH_BUTTON = 8,\n    // /libraries/codal-core/inc/JACDAC/JDMessageBusDriver.h\n    JD_MESSAGEBUS_TYPE_EVENT = 1,\n    JD_MESSAGEBUS_TYPE_LISTEN = 2,\n    // /libraries/codal-core/inc/JACDAC/JDPinDriver.h\n    SetDigital = 0,\n    SetAnalog = 1,\n    SetServo = 2,\n    // /libraries/codal-core/inc/JACDAC/JDProtocol.h\n    JD_DRIVER_EVT_CONNECTED = 65520,\n    JD_DRIVER_EVT_DISCONNECTED = 65521,\n    JD_DRIVER_EVT_PAIRED = 65522,\n    JD_DRIVER_EVT_UNPAIRED = 65523,\n    JD_DRIVER_EVT_PAIR_REJECTED = 65524,\n    JD_DRIVER_EVT_PAIRING_RESPONSE = 65525,\n    JD_DRIVER_EVT_ERROR = 65526,\n    JD_DEVICE_FLAGS_LOCAL = 32768,\n    JD_DEVICE_FLAGS_REMOTE = 16384,\n    JD_DEVICE_FLAGS_BROADCAST = 8192,\n    JD_DEVICE_FLAGS_PAIR = 4096,\n    JD_DEVICE_DRIVER_MODE_MSK = 61440,\n    JD_DEVICE_FLAGS_PAIRABLE = 2048,\n    JD_DEVICE_FLAGS_PAIRED = 1024,\n    JD_DEVICE_FLAGS_PAIRING = 512,\n    JD_DEVICE_FLAGS_INITIALISED = 128,\n    JD_DEVICE_FLAGS_INITIALISING = 64,\n    JD_DEVICE_FLAGS_CP_SEEN = 32,\n    JD_DEVICE_ERROR_MSK = 15,\n    JD_LOGIC_DRIVER_MAX_FILTERS = 20,\n    JD_LOGIC_DRIVER_TIMEOUT = 254,\n    JD_LOGIC_ADDRESS_ALLOC_TIME = 254,\n    JD_LOGIC_DRIVER_CTRLPACKET_TIME = 112,\n    JD_LOGIC_DRIVER_EVT_CHANGED = 2,\n    CONTROL_JD_FLAGS_RESERVED = 32768,\n    CONTROL_JD_FLAGS_PAIRING_MODE = 16384,\n    CONTROL_JD_FLAGS_PAIRABLE = 8192,\n    CONTROL_JD_FLAGS_PAIRED = 4096,\n    CONTROL_JD_FLAGS_CONFLICT = 2048,\n    CONTROL_JD_FLAGS_UNCERTAIN = 1024,\n    CONTROL_JD_FLAGS_NACK = 512,\n    CONTROL_JD_FLAGS_ACK = 256,\n    CONTROL_JD_TYPE_HELLO = 1,\n    CONTROL_JD_TYPE_PAIRING_REQUEST = 2,\n    CONTROL_JD_TYPE_ERROR = 3,\n    CONTROL_JD_TYPE_PANIC = 255,\n    JD_PROTOCOL_EVT_SEND_CONTROL = 1,\n    JD_PROTOCOL_DRIVER_ARRAY_SIZE = 20,\n    CONTROL_PACKET_ERROR_NAME_LENGTH = 6,\n    VirtualDriver = 16384,\n    PairedDriver = 12288,\n    HostDriver = 32768,\n    PairableHostDriver = 34816,\n    BroadcastDriver = 40960,\n    SnifferDriver = 24576,\n    DRIVER_OK = 0,\n    DRIVER_CALIBRATION_IN_PROGRESS = 1,\n    DRIVER_CALIBRATION_REQUIRED = 2,\n    DRIVER_NO_RESOURCES = 3,\n    DRIVER_BUSY = 4,\n    DRIVER_COMMS_ERROR = 5,\n    DRIVER_INVALID_STATE = 6,\n    DRIVER_PERIPHERAL_MALFUNCTION = 7,\n    // /libraries/codal-core/inc/JACDAC/JDReliabilityTester.h\n    RELIABILITY_TEST_FINISHED = 7,\n    RELIABILITY_STATUS_TEST_IN_PROGRESS = 2,\n    RELIABILITY_STATUS_TEST_READY = 4,\n    RELIABILITY_STATUS_TEST_FINISHED = 8,\n    // /libraries/codal-core/inc/core/CodalComponent.h\n    DEVICE_ID_BUTTON_A = 1,\n    DEVICE_ID_BUTTON_B = 2,\n    DEVICE_ID_BUTTON_AB = 3,\n    DEVICE_ID_BUTTON_RESET = 4,\n    DEVICE_ID_ACCELEROMETER = 5,\n    DEVICE_ID_COMPASS = 6,\n    DEVICE_ID_DISPLAY = 7,\n    DEVICE_ID_THERMOMETER = 8,\n    DEVICE_ID_RADIO = 9,\n    DEVICE_ID_RADIO_DATA_READY = 10,\n    DEVICE_ID_MULTIBUTTON_ATTACH = 11,\n    DEVICE_ID_SERIAL = 12,\n    DEVICE_ID_GESTURE = 13,\n    DEVICE_ID_SYSTEM_TIMER = 14,\n    DEVICE_ID_SCHEDULER = 15,\n    DEVICE_ID_COMPONENT = 16,\n    DEVICE_ID_LIGHT_SENSOR = 17,\n    DEVICE_ID_TOUCH_SENSOR = 18,\n    DEVICE_ID_SYSTEM_DAC = 19,\n    DEVICE_ID_SYSTEM_MICROPHONE = 20,\n    DEVICE_ID_SYSTEM_LEVEL_DETECTOR = 21,\n    DEVICE_ID_SYSTEM_LEVEL_DETECTOR_SPL = 22,\n    DEVICE_ID_MSC = 23,\n    DEVICE_ID_SPI = 24,\n    DEVICE_ID_DISTANCE = 25,\n    DEVICE_ID_GYROSCOPE = 26,\n    DEVICE_ID_HUMIDITY = 27,\n    DEVICE_ID_PRESSURE = 28,\n    DEVICE_ID_JACDAC0 = 29,\n    DEVICE_ID_JACDAC1 = 30,\n    DEVICE_ID_JACDAC_PROTOCOL = 31,\n    DEVICE_ID_JACKROUTER = 32,\n    DEVICE_ID_GAME_ENGINE = 33,\n    DEVICE_ID_GAME_STATE_MANAGER = 34,\n    DEVICE_ID_SPRITE = 35,\n    DEVICE_ID_SINGLE_WIRE_SERIAL = 36,\n    DEVICE_ID_IO_P0 = 100,\n    DEVICE_ID_MESSAGE_BUS_LISTENER = 1021,\n    DEVICE_ID_NOTIFY_ONE = 1022,\n    DEVICE_ID_NOTIFY = 1023,\n    DEVICE_ID_BUTTON_UP = 2000,\n    DEVICE_ID_BUTTON_DOWN = 2001,\n    DEVICE_ID_BUTTON_LEFT = 2002,\n    DEVICE_ID_BUTTON_RIGHT = 2003,\n    DEVICE_ID_JD_DYNAMIC_ID = 3000,\n    DEVICE_COMPONENT_RUNNING = 4096,\n    DEVICE_COMPONENT_STATUS_SYSTEM_TICK = 8192,\n    DEVICE_COMPONENT_STATUS_IDLE_TICK = 16384,\n    DEVICE_COMPONENT_LISTENERS_CONFIGURED = 1,\n    DEVICE_COMPONENT_EVT_SYSTEM_TICK = 1,\n    // /libraries/codal-core/inc/core/CodalFiber.h\n    DEVICE_SCHEDULER_RUNNING = 1,\n    DEVICE_SCHEDULER_IDLE = 2,\n    DEVICE_FIBER_FLAG_FOB = 1,\n    DEVICE_FIBER_FLAG_PARENT = 2,\n    DEVICE_FIBER_FLAG_CHILD = 4,\n    DEVICE_FIBER_FLAG_DO_NOT_PAGE = 8,\n    DEVICE_SCHEDULER_EVT_TICK = 1,\n    DEVICE_SCHEDULER_EVT_IDLE = 2,\n    // /libraries/codal-core/inc/core/CodalListener.h\n    MESSAGE_BUS_LISTENER_PARAMETERISED = 1,\n    MESSAGE_BUS_LISTENER_METHOD = 2,\n    MESSAGE_BUS_LISTENER_BUSY = 4,\n    MESSAGE_BUS_LISTENER_REENTRANT = 8,\n    MESSAGE_BUS_LISTENER_QUEUE_IF_BUSY = 16,\n    MESSAGE_BUS_LISTENER_DROP_IF_BUSY = 32,\n    MESSAGE_BUS_LISTENER_NONBLOCKING = 64,\n    MESSAGE_BUS_LISTENER_URGENT = 128,\n    MESSAGE_BUS_LISTENER_DELETING = 32768,\n    MESSAGE_BUS_LISTENER_IMMEDIATE = 192,\n    // /libraries/codal-core/inc/core/ErrorNo.h\n    DEVICE_OK = 0,\n    DEVICE_INVALID_PARAMETER = -1001,\n    DEVICE_NOT_SUPPORTED = -1002,\n    DEVICE_CALIBRATION_IN_PROGRESS = -1003,\n    DEVICE_CALIBRATION_REQUIRED = -1004,\n    DEVICE_NO_RESOURCES = -1005,\n    DEVICE_BUSY = -1006,\n    DEVICE_CANCELLED = -1007,\n    DEVICE_I2C_ERROR = -1010,\n    DEVICE_SERIAL_IN_USE = -1011,\n    DEVICE_NO_DATA = -1012,\n    DEVICE_NOT_IMPLEMENTED = -1013,\n    DEVICE_SPI_ERROR = -1014,\n    DEVICE_INVALID_STATE = -1015,\n    DEVICE_OOM = 20,\n    DEVICE_HEAP_ERROR = 30,\n    DEVICE_NULL_DEREFERENCE = 40,\n    DEVICE_USB_ERROR = 50,\n    DEVICE_HARDWARE_CONFIGURATION_ERROR = 90,\n    // /libraries/codal-core/inc/core/NotifyEvents.h\n    DISPLAY_EVT_FREE = 1,\n    CODAL_SERIAL_EVT_TX_EMPTY = 2,\n    BLE_EVT_SERIAL_TX_EMPTY = 3,\n    ARCADE_PLAYER_JOIN_RESULT = 4,\n    DEVICE_NOTIFY_USER_EVENT_BASE = 1024,\n    // /libraries/codal-core/inc/driver-models/AbstractButton.h\n    DEVICE_BUTTON_EVT_DOWN = 1,\n    DEVICE_BUTTON_EVT_UP = 2,\n    DEVICE_BUTTON_EVT_CLICK = 3,\n    DEVICE_BUTTON_EVT_LONG_CLICK = 4,\n    DEVICE_BUTTON_EVT_HOLD = 5,\n    DEVICE_BUTTON_EVT_DOUBLE_CLICK = 6,\n    DEVICE_BUTTON_LONG_CLICK_TIME = 1000,\n    DEVICE_BUTTON_HOLD_TIME = 1500,\n    DEVICE_BUTTON_STATE = 1,\n    DEVICE_BUTTON_STATE_HOLD_TRIGGERED = 2,\n    DEVICE_BUTTON_STATE_CLICK = 4,\n    DEVICE_BUTTON_STATE_LONG_CLICK = 8,\n    DEVICE_BUTTON_SIGMA_MIN = 0,\n    DEVICE_BUTTON_SIGMA_MAX = 12,\n    DEVICE_BUTTON_SIGMA_THRESH_HI = 8,\n    DEVICE_BUTTON_SIGMA_THRESH_LO = 2,\n    DEVICE_BUTTON_DOUBLE_CLICK_THRESH = 50,\n    DEVICE_BUTTON_SIMPLE_EVENTS = 0,\n    DEVICE_BUTTON_ALL_EVENTS = 1,\n    ACTIVE_LOW = 0,\n    ACTIVE_HIGH = 1,\n    // /libraries/codal-core/inc/driver-models/Accelerometer.h\n    ACCELEROMETER_IMU_DATA_VALID = 2,\n    ACCELEROMETER_EVT_DATA_UPDATE = 1,\n    ACCELEROMETER_EVT_NONE = 0,\n    ACCELEROMETER_EVT_TILT_UP = 1,\n    ACCELEROMETER_EVT_TILT_DOWN = 2,\n    ACCELEROMETER_EVT_TILT_LEFT = 3,\n    ACCELEROMETER_EVT_TILT_RIGHT = 4,\n    ACCELEROMETER_EVT_FACE_UP = 5,\n    ACCELEROMETER_EVT_FACE_DOWN = 6,\n    ACCELEROMETER_EVT_FREEFALL = 7,\n    ACCELEROMETER_EVT_3G = 8,\n    ACCELEROMETER_EVT_6G = 9,\n    ACCELEROMETER_EVT_8G = 10,\n    ACCELEROMETER_EVT_SHAKE = 11,\n    ACCELEROMETER_EVT_2G = 12,\n    ACCELEROMETER_REST_TOLERANCE = 200,\n    ACCELEROMETER_TILT_TOLERANCE = 200,\n    ACCELEROMETER_FREEFALL_TOLERANCE = 400,\n    ACCELEROMETER_SHAKE_TOLERANCE = 400,\n    ACCELEROMETER_2G_TOLERANCE = 2048,\n    ACCELEROMETER_3G_TOLERANCE = 3072,\n    ACCELEROMETER_6G_TOLERANCE = 6144,\n    ACCELEROMETER_8G_TOLERANCE = 8192,\n    ACCELEROMETER_GESTURE_DAMPING = 5,\n    ACCELEROMETER_SHAKE_DAMPING = 10,\n    ACCELEROMETER_SHAKE_RTX = 30,\n    ACCELEROMETER_SHAKE_COUNT_THRESHOLD = 4,\n    // /libraries/codal-core/inc/driver-models/Compass.h\n    COMPASS_STATUS_RUNNING = 1,\n    COMPASS_STATUS_CALIBRATED = 2,\n    COMPASS_STATUS_CALIBRATING = 4,\n    COMPASS_STATUS_ADDED_TO_IDLE = 8,\n    COMPASS_EVT_DATA_UPDATE = 1,\n    COMPASS_EVT_CONFIG_NEEDED = 2,\n    COMPASS_EVT_CALIBRATE = 3,\n    COMPASS_EVT_CALIBRATION_NEEDED = 4,\n    // /libraries/codal-core/inc/driver-models/Gyroscope.h\n    GYROSCOPE_IMU_DATA_VALID = 2,\n    GYROSCOPE_EVT_DATA_UPDATE = 1,\n    // /libraries/codal-core/inc/driver-models/LowLevelTimer.h\n    TimerModeTimer = 0,\n    TimerModeCounter = 1,\n    TimerModeAlternateFunction = 2,\n    BitMode8 = 0,\n    BitMode16 = 1,\n    BitMode24 = 2,\n    BitMode32 = 3,\n    // /libraries/codal-core/inc/driver-models/Pin.h\n    IO_STATUS_DIGITAL_IN = 1,\n    IO_STATUS_DIGITAL_OUT = 2,\n    IO_STATUS_ANALOG_IN = 4,\n    IO_STATUS_ANALOG_OUT = 8,\n    IO_STATUS_TOUCH_IN = 16,\n    IO_STATUS_EVENT_ON_EDGE = 32,\n    IO_STATUS_EVENT_PULSE_ON_EDGE = 64,\n    DEVICE_PIN_MAX_OUTPUT = 1023,\n    DEVICE_PIN_MAX_SERVO_RANGE = 180,\n    DEVICE_PIN_DEFAULT_SERVO_RANGE = 2000,\n    DEVICE_PIN_DEFAULT_SERVO_CENTER = 1500,\n    DEVICE_PIN_EVENT_NONE = 0,\n    DEVICE_PIN_EVENT_ON_EDGE = 1,\n    DEVICE_PIN_EVENT_ON_PULSE = 2,\n    DEVICE_PIN_EVENT_ON_TOUCH = 3,\n    DEVICE_PIN_EVT_RISE = 2,\n    DEVICE_PIN_EVT_FALL = 3,\n    DEVICE_PIN_EVT_PULSE_HI = 4,\n    DEVICE_PIN_EVT_PULSE_LO = 5,\n    PIN_CAPABILITY_DIGITAL = 1,\n    PIN_CAPABILITY_ANALOG = 2,\n    PIN_CAPABILITY_AD = 3,\n    PIN_CAPABILITY_ALL = 3,\n    None = 0,\n    Down = 1,\n    Up = 2,\n    // /libraries/codal-core/inc/driver-models/Radio.h\n    RADIO_EVT_DATA_READY = 2,\n    // /libraries/codal-core/inc/driver-models/SPIFlash.h\n    SPIFLASH_PAGE_SIZE = 256,\n    SPIFLASH_SMALL_ROW_PAGES = 16,\n    SPIFLASH_BIG_ROW_PAGES = 256,\n    // /libraries/codal-core/inc/driver-models/Sensor.h\n    SENSOR_THRESHOLD_LOW = 1,\n    SENSOR_THRESHOLD_HIGH = 2,\n    SENSOR_UPDATE_NEEDED = 3,\n    SENSOR_INITIALISED = 1,\n    SENSOR_HIGH_THRESHOLD_PASSED = 2,\n    SENSOR_LOW_THRESHOLD_PASSED = 4,\n    SENSOR_LOW_THRESHOLD_ENABLED = 8,\n    SENSOR_HIGH_THRESHOLD_ENABLED = 16,\n    SENSOR_DEFAULT_SENSITIVITY = 868,\n    SENSOR_DEFAULT_SAMPLE_PERIOD = 500,\n    // /libraries/codal-core/inc/driver-models/Serial.h\n    CODAL_SERIAL_DEFAULT_BAUD_RATE = 115200,\n    CODAL_SERIAL_DEFAULT_BUFFER_SIZE = 20,\n    CODAL_SERIAL_EVT_DELIM_MATCH = 1,\n    CODAL_SERIAL_EVT_HEAD_MATCH = 2,\n    CODAL_SERIAL_EVT_RX_FULL = 3,\n    CODAL_SERIAL_EVT_DATA_RECEIVED = 4,\n    CODAL_SERIAL_STATUS_RX_IN_USE = 1,\n    CODAL_SERIAL_STATUS_TX_IN_USE = 2,\n    CODAL_SERIAL_STATUS_RX_BUFF_INIT = 4,\n    CODAL_SERIAL_STATUS_TX_BUFF_INIT = 8,\n    CODAL_SERIAL_STATUS_RXD = 16,\n    ASYNC = 0,\n    SYNC_SPINWAIT = 1,\n    SYNC_SLEEP = 2,\n    RxInterrupt = 0,\n    TxInterrupt = 1,\n    // /libraries/codal-core/inc/driver-models/SingleWireSerial.h\n    SWS_EVT_DATA_RECEIVED = 1,\n    SWS_EVT_DATA_SENT = 2,\n    SWS_EVT_ERROR = 3,\n    SWS_EVT_DATA_DROPPED = 4,\n    SingleWireRx = 0,\n    SingleWireTx = 1,\n    SingleWireDisconnected = 2,\n    // /libraries/codal-core/inc/driver-models/Timer.h\n    CODAL_TIMER_DEFAULT_EVENT_LIST_SIZE = 10,\n    // /libraries/codal-core/inc/drivers/AnalogSensor.h\n    ANALOG_THRESHOLD_LOW = 1,\n    ANALOG_THRESHOLD_HIGH = 2,\n    ANALOG_SENSOR_UPDATE_NEEDED = 3,\n    ANALOG_SENSOR_INITIALISED = 1,\n    ANALOG_SENSOR_HIGH_THRESHOLD_PASSED = 2,\n    ANALOG_SENSOR_LOW_THRESHOLD_PASSED = 4,\n    ANALOG_SENSOR_LOW_THRESHOLD_ENABLED = 8,\n    ANALOG_SENSOR_HIGH_THRESHOLD_ENABLED = 16,\n    // /libraries/codal-core/inc/drivers/AnimatedDisplay.h\n    DISPLAY_EVT_ANIMATION_COMPLETE = 1,\n    DISPLAY_DEFAULT_AUTOCLEAR = 1,\n    DISPLAY_SPACING = 1,\n    DISPLAY_ANIMATE_DEFAULT_POS = -255,\n    DISPLAY_DEFAULT_SCROLL_SPEED = 120,\n    DISPLAY_DEFAULT_SCROLL_STRIDE = -1,\n    DISPLAY_DEFAULT_PRINT_SPEED = 400,\n    ANIMATION_MODE_NONE = 0,\n    ANIMATION_MODE_STOPPED = 1,\n    ANIMATION_MODE_SCROLL_TEXT = 2,\n    ANIMATION_MODE_PRINT_TEXT = 3,\n    ANIMATION_MODE_SCROLL_IMAGE = 4,\n    ANIMATION_MODE_ANIMATE_IMAGE = 5,\n    ANIMATION_MODE_ANIMATE_IMAGE_WITH_CLEAR = 6,\n    ANIMATION_MODE_PRINT_CHARACTER = 7,\n    // /libraries/codal-core/inc/drivers/FAT.h\n    FAT_RESERVED_SECTORS = 1,\n    FAT_ROOT_DIR_SECTORS = 4,\n    // /libraries/codal-core/inc/drivers/HID.h\n    HID_REQUEST_GET_REPORT = 1,\n    HID_REQUEST_GET_IDLE = 2,\n    HID_REQUEST_GET_PROTOCOL = 3,\n    HID_REQUEST_SET_REPORT = 9,\n    HID_REQUEST_SET_IDLE = 10,\n    HID_REQUEST_SET_PROTOCOL = 11,\n    // /libraries/codal-core/inc/drivers/HIDKeyboard.h\n    HID_KEYBOARD_NUM_REPORTS = 3,\n    HID_KEYBOARD_REPORT_GENERIC = 1,\n    HID_KEYBOARD_REPORT_CONSUMER = 2,\n    HID_KEYBOARD_KEYSTATE_SIZE_GENERIC = 8,\n    HID_KEYBOARD_KEYSTATE_SIZE_CONSUMER = 2,\n    HID_KEYBOARD_MODIFIER_OFFSET = 2,\n    HID_KEYBOARD_DELAY_DEFAULT = 10,\n    PressKey = 0,\n    ReleaseKey = 1,\n    // /libraries/codal-core/inc/drivers/JackRouter.h\n    AllDown = 1,\n    HeadPhones = 2,\n    Buzzer = 3,\n    BuzzerAndSerial = 4,\n    // /libraries/codal-core/inc/drivers/KeyMap.h\n    KEYMAP_ALL_KEYS_UP_Val = 1,\n    KEYMAP_ALL_KEYS_UP_POS = 28,\n    KEYMAP_NORMAL_KEY_Val = 0,\n    KEYMAP_MODIFIER_KEY_Val = 1,\n    KEYMAP_MODIFIER_POS = 29,\n    KEYMAP_MEDIA_KEY_Val = 1,\n    KEYMAP_MEDIA_POS = 30,\n    KEYMAP_KEY_UP_Val = 0,\n    KEYMAP_KEY_DOWN_Val = 1,\n    KEYMAP_KEY_DOWN_POS = 31,\n    // /libraries/codal-core/inc/drivers/LEDMatrix.h\n    LED_MATRIX_GREYSCALE_BIT_DEPTH = 8,\n    LED_MATRIX_EVT_LIGHT_SENSE = 2,\n    LED_MATRIX_EVT_FRAME_TIMEOUT = 3,\n    LED_MATRIX_MINIMUM_BRIGHTNESS = 1,\n    LED_MATRIX_MAXIMUM_BRIGHTNESS = 255,\n    LED_MATRIX_DEFAULT_BRIGHTNESS = 255,\n    DISPLAY_MODE_BLACK_AND_WHITE = 0,\n    DISPLAY_MODE_GREYSCALE = 1,\n    DISPLAY_MODE_BLACK_AND_WHITE_LIGHT_SENSE = 2,\n    MATRIX_DISPLAY_ROTATION_0 = 0,\n    MATRIX_DISPLAY_ROTATION_90 = 1,\n    MATRIX_DISPLAY_ROTATION_180 = 2,\n    MATRIX_DISPLAY_ROTATION_270 = 3,\n    NO_CONN = 0,\n    // /libraries/codal-core/inc/drivers/MAG3110.h\n    MAG3110_DEFAULT_ADDR = 29,\n    MAG_DR_STATUS = 0,\n    MAG_OUT_X_MSB = 1,\n    MAG_OUT_X_LSB = 2,\n    MAG_OUT_Y_MSB = 3,\n    MAG_OUT_Y_LSB = 4,\n    MAG_OUT_Z_MSB = 5,\n    MAG_OUT_Z_LSB = 6,\n    MAG_WHOAMI = 7,\n    MAG_SYSMOD = 8,\n    MAG_OFF_X_MSB = 9,\n    MAG_OFF_X_LSB = 10,\n    MAG_OFF_Y_MSB = 11,\n    MAG_OFF_Y_LSB = 12,\n    MAG_OFF_Z_MSB = 13,\n    MAG_OFF_Z_LSB = 14,\n    MAG_DIE_TEMP = 15,\n    MAG_CTRL_REG1 = 16,\n    MAG_CTRL_REG2 = 17,\n    MAG3110_SAMPLE_RATES = 11,\n    MAG3110_WHOAMI_VAL = 196,\n    // /libraries/codal-core/inc/drivers/MMA8453.h\n    MMA8453_DEFAULT_ADDR = 56,\n    MMA8453_WHOAMI_VAL = 58,\n    // /libraries/codal-core/inc/drivers/MMA8653.h\n    MICROBIT_ACCEL_PITCH_ROLL_VALID = 2,\n    MICROBIT_ACCEL_ADDED_TO_IDLE = 4,\n    MMA8653_DEFAULT_ADDR = 58,\n    MMA8653_STATUS = 0,\n    MMA8653_OUT_X_MSB = 1,\n    MMA8653_WHOAMI = 13,\n    MMA8653_XYZ_DATA_CFG = 14,\n    MMA8653_CTRL_REG1 = 42,\n    MMA8653_CTRL_REG2 = 43,\n    MMA8653_CTRL_REG3 = 44,\n    MMA8653_CTRL_REG4 = 45,\n    MMA8653_CTRL_REG5 = 46,\n    MMA8653_WHOAMI_VAL = 90,\n    MMA8653_SAMPLE_RANGES = 3,\n    MMA8653_SAMPLE_RATES = 8,\n    // /libraries/codal-core/inc/drivers/MPU6050.h\n    MPU6050_DEFAULT_ADDR = 104,\n    MPU6050_WHOAMI = 117,\n    MPU6050_WHOAMI_VAL = 52,\n    // /libraries/codal-core/inc/drivers/MultiButton.h\n    MULTI_BUTTON_STATE_1 = 1,\n    MULTI_BUTTON_STATE_2 = 2,\n    MULTI_BUTTON_HOLD_TRIGGERED_1 = 4,\n    MULTI_BUTTON_HOLD_TRIGGERED_2 = 8,\n    MULTI_BUTTON_SUPRESSED_1 = 16,\n    MULTI_BUTTON_SUPRESSED_2 = 32,\n    MULTI_BUTTON_ATTACHED = 64,\n    // /libraries/codal-core/inc/drivers/ST7735.h\n    MADCTL_MY = 128,\n    MADCTL_MX = 64,\n    MADCTL_MV = 32,\n    MADCTL_ML = 16,\n    MADCTL_RGB = 0,\n    MADCTL_BGR = 8,\n    MADCTL_MH = 4,\n    // /libraries/codal-core/inc/drivers/TouchButton.h\n    TOUCH_BUTTON_CALIBRATION_PERIOD = 10,\n    TOUCH_BUTTON_CALIBRATION_LINEAR_OFFSET = 2,\n    TOUCH_BUTTON_CALIBRATION_PERCENTAGE_OFFSET = 5,\n    TOUCH_BUTTON_CALIBRATING = 16,\n    // /libraries/codal-core/inc/drivers/TouchSensor.h\n    TOUCH_SENSOR_MAX_BUTTONS = 10,\n    TOUCH_SENSOR_SAMPLE_PERIOD = 50,\n    TOUCH_SENSE_SAMPLE_MAX = 1000,\n    TOUCH_SENSOR_UPDATE_NEEDED = 1,\n    // /libraries/codal-core/inc/drivers/USB_HID_Keys.h\n    KEY_MOD_LCTRL = 1,\n    KEY_MOD_LSHIFT = 2,\n    KEY_MOD_LALT = 4,\n    KEY_MOD_LMETA = 8,\n    KEY_MOD_RCTRL = 16,\n    KEY_MOD_RSHIFT = 32,\n    KEY_MOD_RALT = 64,\n    KEY_MOD_RMETA = 128,\n    KEY_NONE = 0,\n    KEY_ERR_OVF = 1,\n    KEY_A = 4,\n    KEY_B = 5,\n    KEY_C = 6,\n    KEY_D = 7,\n    KEY_E = 8,\n    KEY_F = 9,\n    KEY_G = 10,\n    KEY_H = 11,\n    KEY_I = 12,\n    KEY_J = 13,\n    KEY_K = 14,\n    KEY_L = 15,\n    KEY_M = 16,\n    KEY_N = 17,\n    KEY_O = 18,\n    KEY_P = 19,\n    KEY_Q = 20,\n    KEY_R = 21,\n    KEY_S = 22,\n    KEY_T = 23,\n    KEY_U = 24,\n    KEY_V = 25,\n    KEY_W = 26,\n    KEY_X = 27,\n    KEY_Y = 28,\n    KEY_Z = 29,\n    KEY_1 = 30,\n    KEY_2 = 31,\n    KEY_3 = 32,\n    KEY_4 = 33,\n    KEY_5 = 34,\n    KEY_6 = 35,\n    KEY_7 = 36,\n    KEY_8 = 37,\n    KEY_9 = 38,\n    KEY_0 = 39,\n    KEY_ENTER = 40,\n    KEY_ESC = 41,\n    KEY_BACKSPACE = 42,\n    KEY_TAB = 43,\n    KEY_SPACE = 44,\n    KEY_MINUS = 45,\n    KEY_EQUAL = 46,\n    KEY_LEFTBRACE = 47,\n    KEY_RIGHTBRACE = 48,\n    KEY_BACKSLASH = 49,\n    KEY_HASHTILDE = 50,\n    KEY_SEMICOLON = 51,\n    KEY_APOSTROPHE = 52,\n    KEY_GRAVE = 53,\n    KEY_COMMA = 54,\n    KEY_DOT = 55,\n    KEY_SLASH = 56,\n    KEY_CAPSLOCK = 57,\n    KEY_F1 = 58,\n    KEY_F2 = 59,\n    KEY_F3 = 60,\n    KEY_F4 = 61,\n    KEY_F5 = 62,\n    KEY_F6 = 63,\n    KEY_F7 = 64,\n    KEY_F8 = 65,\n    KEY_F9 = 66,\n    KEY_F10 = 67,\n    KEY_F11 = 68,\n    KEY_F12 = 69,\n    KEY_SYSRQ = 70,\n    KEY_SCROLLLOCK = 71,\n    KEY_PAUSE = 72,\n    KEY_INSERT = 73,\n    KEY_HOME = 74,\n    KEY_PAGEUP = 75,\n    KEY_DELETE = 76,\n    KEY_END = 77,\n    KEY_PAGEDOWN = 78,\n    KEY_RIGHT = 79,\n    KEY_LEFT = 80,\n    KEY_DOWN = 81,\n    KEY_UP = 82,\n    KEY_NUMLOCK = 83,\n    KEY_KPSLASH = 84,\n    KEY_KPASTERISK = 85,\n    KEY_KPMINUS = 86,\n    KEY_KPPLUS = 87,\n    KEY_KPENTER = 88,\n    KEY_KP1 = 89,\n    KEY_KP2 = 90,\n    KEY_KP3 = 91,\n    KEY_KP4 = 92,\n    KEY_KP5 = 93,\n    KEY_KP6 = 94,\n    KEY_KP7 = 95,\n    KEY_KP8 = 96,\n    KEY_KP9 = 97,\n    KEY_KP0 = 98,\n    KEY_KPDOT = 99,\n    KEY_102ND = 100,\n    KEY_COMPOSE = 101,\n    KEY_POWER = 102,\n    KEY_KPEQUAL = 103,\n    KEY_F13 = 104,\n    KEY_F14 = 105,\n    KEY_F15 = 106,\n    KEY_F16 = 107,\n    KEY_F17 = 108,\n    KEY_F18 = 109,\n    KEY_F19 = 110,\n    KEY_F20 = 111,\n    KEY_F21 = 112,\n    KEY_F22 = 113,\n    KEY_F23 = 114,\n    KEY_F24 = 115,\n    KEY_OPEN = 116,\n    KEY_HELP = 117,\n    KEY_PROPS = 118,\n    KEY_FRONT = 119,\n    KEY_STOP = 120,\n    KEY_AGAIN = 121,\n    KEY_UNDO = 122,\n    KEY_CUT = 123,\n    KEY_COPY = 124,\n    KEY_PASTE = 125,\n    KEY_FIND = 126,\n    KEY_MUTE = 127,\n    KEY_VOLUMEUP = 128,\n    KEY_VOLUMEDOWN = 129,\n    KEY_KPCOMMA = 133,\n    KEY_RO = 135,\n    KEY_KATAKANAHIRAGANA = 136,\n    KEY_YEN = 137,\n    KEY_HENKAN = 138,\n    KEY_MUHENKAN = 139,\n    KEY_KPJPCOMMA = 140,\n    KEY_HANGEUL = 144,\n    KEY_HANJA = 145,\n    KEY_KATAKANA = 146,\n    KEY_HIRAGANA = 147,\n    KEY_ZENKAKUHANKAKU = 148,\n    KEY_KPLEFTPAREN = 182,\n    KEY_KPRIGHTPAREN = 183,\n    KEY_LEFTCTRL = 224,\n    KEY_LEFTSHIFT = 225,\n    KEY_LEFTALT = 226,\n    KEY_LEFTMETA = 227,\n    KEY_RIGHTCTRL = 228,\n    KEY_RIGHTSHIFT = 229,\n    KEY_RIGHTALT = 230,\n    KEY_RIGHTMETA = 231,\n    KEY_MEDIA_PLAYPAUSE = 232,\n    KEY_MEDIA_STOPCD = 233,\n    KEY_MEDIA_PREVIOUSSONG = 234,\n    KEY_MEDIA_NEXTSONG = 235,\n    KEY_MEDIA_EJECTCD = 236,\n    KEY_MEDIA_VOLUMEUP = 237,\n    KEY_MEDIA_VOLUMEDOWN = 238,\n    KEY_MEDIA_MUTE = 239,\n    KEY_MEDIA_WWW = 240,\n    KEY_MEDIA_BACK = 241,\n    KEY_MEDIA_FORWARD = 242,\n    KEY_MEDIA_STOP = 243,\n    KEY_MEDIA_FIND = 244,\n    KEY_MEDIA_SCROLLUP = 245,\n    KEY_MEDIA_SCROLLDOWN = 246,\n    KEY_MEDIA_EDIT = 247,\n    KEY_MEDIA_SLEEP = 248,\n    KEY_MEDIA_COFFEE = 249,\n    KEY_MEDIA_REFRESH = 250,\n    KEY_MEDIA_CALC = 251,\n    // /libraries/codal-core/inc/drivers/uf2format.h\n    UF2FORMAT_H = 1,\n    APP_START_ADDRESS = 8192,\n    UF2_FLAG_NOFLASH = 1,\n    // /libraries/codal-core/inc/streams/DataStream.h\n    DATASTREAM_MAXIMUM_BUFFERS = 1,\n    // /libraries/codal-core/inc/streams/LevelDetector.h\n    LEVEL_THRESHOLD_LOW = 1,\n    LEVEL_THRESHOLD_HIGH = 2,\n    LEVEL_DETECTOR_INITIALISED = 1,\n    LEVEL_DETECTOR_HIGH_THRESHOLD_PASSED = 2,\n    LEVEL_DETECTOR_LOW_THRESHOLD_PASSED = 4,\n    LEVEL_DETECTOR_DEFAULT_WINDOW_SIZE = 128,\n    // /libraries/codal-core/inc/streams/LevelDetectorSPL.h\n    LEVEL_DETECTOR_SPL_INITIALISED = 1,\n    LEVEL_DETECTOR_SPL_HIGH_THRESHOLD_PASSED = 2,\n    LEVEL_DETECTOR_SPL_LOW_THRESHOLD_PASSED = 4,\n    LEVEL_DETECTOR_SPL_DEFAULT_WINDOW_SIZE = 128,\n    // /libraries/codal-core/inc/streams/Synthesizer.h\n    SYNTHESIZER_SAMPLE_RATE = 44100,\n    TONE_WIDTH = 1024,\n    // /libraries/codal-core/inc/types/BitmapFont.h\n    BITMAP_FONT_WIDTH = 5,\n    BITMAP_FONT_HEIGHT = 5,\n    BITMAP_FONT_ASCII_START = 32,\n    BITMAP_FONT_ASCII_END = 126,\n    // /libraries/codal-core/inc/types/CoordinateSystem.h\n    COORDINATE_SPACE_ROTATED_0 = 0,\n    COORDINATE_SPACE_ROTATED_90 = 1,\n    COORDINATE_SPACE_ROTATED_180 = 2,\n    COORDINATE_SPACE_ROTATED_270 = 3,\n    RAW = 0,\n    SIMPLE_CARTESIAN = 1,\n    NORTH_EAST_DOWN = 2,\n    NORTH_EAST_UP = 3,\n    // /libraries/codal-core/inc/types/Event.h\n    DEVICE_ID_ANY = 0,\n    DEVICE_EVT_ANY = 0,\n    CREATE_ONLY = 0,\n    CREATE_AND_FIRE = 1,\n    DEVICE_EVENT_DEFAULT_LAUNCH_MODE = 1,\n    // /libraries/codal-core/inc/types/RefCounted.h\n    REF_TAG_STRING = 1,\n    REF_TAG_BUFFER = 2,\n    REF_TAG_IMAGE = 3,\n    REF_TAG_USER = 32,\n    // /pxtapp/accelerometer/axis.h\n    ACC_SYSTEM = 3,\n    ACC_ROTATION = 0,\n    // /pxtapp/configkeys.h\n    CFG_PIN_NAME_MSK = 65535,\n    CFG_PIN_CONFIG_MSK = 4294901760,\n    CFG_PIN_CONFIG_ACTIVE_LO = 65536,\n    CFG_MAGIC0 = 513675505,\n    CFG_MAGIC1 = 539130489,\n    CFG_PIN_ACCELEROMETER_INT = 1,\n    CFG_PIN_ACCELEROMETER_SCL = 2,\n    CFG_PIN_ACCELEROMETER_SDA = 3,\n    CFG_PIN_BTN_A = 4,\n    CFG_PIN_BTN_B = 5,\n    CFG_PIN_BTN_SLIDE = 6,\n    CFG_PIN_DOTSTAR_CLOCK = 7,\n    CFG_PIN_DOTSTAR_DATA = 8,\n    CFG_PIN_FLASH_CS = 9,\n    CFG_PIN_FLASH_MISO = 10,\n    CFG_PIN_FLASH_MOSI = 11,\n    CFG_PIN_FLASH_SCK = 12,\n    CFG_PIN_LED = 13,\n    CFG_PIN_LIGHT = 14,\n    CFG_PIN_MICROPHONE = 15,\n    CFG_PIN_MIC_CLOCK = 16,\n    CFG_PIN_MIC_DATA = 17,\n    CFG_PIN_MISO = 18,\n    CFG_PIN_MOSI = 19,\n    CFG_PIN_NEOPIXEL = 20,\n    CFG_PIN_RX = 21,\n    CFG_PIN_RXLED = 22,\n    CFG_PIN_SCK = 23,\n    CFG_PIN_SCL = 24,\n    CFG_PIN_SDA = 25,\n    CFG_PIN_SPEAKER_AMP = 26,\n    CFG_PIN_TEMPERATURE = 27,\n    CFG_PIN_TX = 28,\n    CFG_PIN_TXLED = 29,\n    CFG_PIN_IR_OUT = 30,\n    CFG_PIN_IR_IN = 31,\n    CFG_PIN_DISPLAY_SCK = 32,\n    CFG_PIN_DISPLAY_MISO = 33,\n    CFG_PIN_DISPLAY_MOSI = 34,\n    CFG_PIN_DISPLAY_CS = 35,\n    CFG_PIN_DISPLAY_DC = 36,\n    CFG_DISPLAY_WIDTH = 37,\n    CFG_DISPLAY_HEIGHT = 38,\n    CFG_DISPLAY_CFG0 = 39,\n    CFG_DISPLAY_CFG1 = 40,\n    CFG_DISPLAY_CFG2 = 41,\n    CFG_DISPLAY_CFG3 = 42,\n    CFG_PIN_DISPLAY_RST = 43,\n    CFG_PIN_DISPLAY_BL = 44,\n    CFG_PIN_SERVO_1 = 45,\n    CFG_PIN_SERVO_2 = 46,\n    CFG_PIN_BTN_LEFT = 47,\n    CFG_PIN_BTN_RIGHT = 48,\n    CFG_PIN_BTN_UP = 49,\n    CFG_PIN_BTN_DOWN = 50,\n    CFG_PIN_BTN_MENU = 51,\n    CFG_PIN_LED_R = 52,\n    CFG_PIN_LED_G = 53,\n    CFG_PIN_LED_B = 54,\n    CFG_PIN_LED1 = 55,\n    CFG_PIN_LED2 = 56,\n    CFG_PIN_LED3 = 57,\n    CFG_PIN_LED4 = 58,\n    CFG_SPEAKER_VOLUME = 59,\n    CFG_PIN_JACK_TX = 60,\n    CFG_PIN_JACK_SENSE = 61,\n    CFG_PIN_JACK_HPEN = 62,\n    CFG_PIN_JACK_BZEN = 63,\n    CFG_PIN_JACK_PWREN = 64,\n    CFG_PIN_JACK_SND = 65,\n    CFG_PIN_JACK_BUSLED = 66,\n    CFG_PIN_JACK_COMMLED = 67,\n    CFG_PIN_BTN_SOFT_RESET = 69,\n    CFG_ACCELEROMETER_TYPE = 70,\n    CFG_PIN_BTNMX_LATCH = 71,\n    CFG_PIN_BTNMX_CLOCK = 72,\n    CFG_PIN_BTNMX_DATA = 73,\n    CFG_PIN_BTN_MENU2 = 74,\n    CFG_PIN_BATTSENSE = 75,\n    CFG_PIN_VIBRATION = 76,\n    CFG_PIN_PWREN = 77,\n    ACCELEROMETER_TYPE_LIS3DH = 50,\n    ACCELEROMETER_TYPE_MMA8453 = 56,\n    ACCELEROMETER_TYPE_FXOS8700 = 60,\n    ACCELEROMETER_TYPE_MMA8653 = 58,\n    ACCELEROMETER_TYPE_MSA300 = 76,\n    ACCELEROMETER_TYPE_MPU6050 = 104,\n    CFG_PIN_A0 = 100,\n    CFG_PIN_A1 = 101,\n    CFG_PIN_A2 = 102,\n    CFG_PIN_A3 = 103,\n    CFG_PIN_A4 = 104,\n    CFG_PIN_A5 = 105,\n    CFG_PIN_A6 = 106,\n    CFG_PIN_A7 = 107,\n    CFG_PIN_A8 = 108,\n    CFG_PIN_A9 = 109,\n    CFG_PIN_A10 = 110,\n    CFG_PIN_A11 = 111,\n    CFG_PIN_A12 = 112,\n    CFG_PIN_A13 = 113,\n    CFG_PIN_A14 = 114,\n    CFG_PIN_A15 = 115,\n    CFG_PIN_A16 = 116,\n    CFG_PIN_A17 = 117,\n    CFG_PIN_A18 = 118,\n    CFG_PIN_A19 = 119,\n    CFG_PIN_A20 = 120,\n    CFG_PIN_A21 = 121,\n    CFG_PIN_A22 = 122,\n    CFG_PIN_A23 = 123,\n    CFG_PIN_A24 = 124,\n    CFG_PIN_A25 = 125,\n    CFG_PIN_A26 = 126,\n    CFG_PIN_A27 = 127,\n    CFG_PIN_A28 = 128,\n    CFG_PIN_A29 = 129,\n    CFG_PIN_A30 = 130,\n    CFG_PIN_A31 = 131,\n    CFG_PIN_D0 = 150,\n    CFG_PIN_D1 = 151,\n    CFG_PIN_D2 = 152,\n    CFG_PIN_D3 = 153,\n    CFG_PIN_D4 = 154,\n    CFG_PIN_D5 = 155,\n    CFG_PIN_D6 = 156,\n    CFG_PIN_D7 = 157,\n    CFG_PIN_D8 = 158,\n    CFG_PIN_D9 = 159,\n    CFG_PIN_D10 = 160,\n    CFG_PIN_D11 = 161,\n    CFG_PIN_D12 = 162,\n    CFG_PIN_D13 = 163,\n    CFG_PIN_D14 = 164,\n    CFG_PIN_D15 = 165,\n    CFG_PIN_D16 = 166,\n    CFG_PIN_D17 = 167,\n    CFG_PIN_D18 = 168,\n    CFG_PIN_D19 = 169,\n    CFG_PIN_D20 = 170,\n    CFG_PIN_D21 = 171,\n    CFG_PIN_D22 = 172,\n    CFG_PIN_D23 = 173,\n    CFG_PIN_D24 = 174,\n    CFG_PIN_D25 = 175,\n    CFG_PIN_D26 = 176,\n    CFG_PIN_D27 = 177,\n    CFG_PIN_D28 = 178,\n    CFG_PIN_D29 = 179,\n    CFG_PIN_D30 = 180,\n    CFG_PIN_D31 = 181,\n    CFG_NUM_NEOPIXELS = 200,\n    CFG_NUM_DOTSTARS = 201,\n    CFG_DEFAULT_BUTTON_MODE = 202,\n    CFG_SWD_ENABLED = 203,\n    CFG_FLASH_BYTES = 204,\n    CFG_RAM_BYTES = 205,\n    CFG_SYSTEM_HEAP_BYTES = 206,\n    CFG_LOW_MEM_SIMULATION_KB = 207,\n    CFG_BOOTLOADER_BOARD_ID = 208,\n    CFG_UF2_FAMILY = 209,\n    CFG_PINS_PORT_SIZE = 210,\n    CFG_BOOTLOADER_PROTECTION = 211,\n    CFG_POWER_DEEPSLEEP_TIMEOUT = 212,\n    CFG_ANALOG_BUTTON_THRESHOLD = 213,\n    CFG_PIN_B0 = 300,\n    CFG_PIN_B1 = 301,\n    CFG_PIN_B2 = 302,\n    CFG_PIN_B3 = 303,\n    CFG_PIN_B4 = 304,\n    CFG_PIN_B5 = 305,\n    CFG_PIN_B6 = 306,\n    CFG_PIN_B7 = 307,\n    CFG_PIN_B8 = 308,\n    CFG_PIN_B9 = 309,\n    CFG_PIN_B10 = 310,\n    CFG_PIN_B11 = 311,\n    CFG_PIN_B12 = 312,\n    CFG_PIN_B13 = 313,\n    CFG_PIN_B14 = 314,\n    CFG_PIN_B15 = 315,\n    CFG_PIN_B16 = 316,\n    CFG_PIN_B17 = 317,\n    CFG_PIN_B18 = 318,\n    CFG_PIN_B19 = 319,\n    CFG_PIN_B20 = 320,\n    CFG_PIN_B21 = 321,\n    CFG_PIN_B22 = 322,\n    CFG_PIN_B23 = 323,\n    CFG_PIN_B24 = 324,\n    CFG_PIN_B25 = 325,\n    CFG_PIN_B26 = 326,\n    CFG_PIN_B27 = 327,\n    CFG_PIN_B28 = 328,\n    CFG_PIN_B29 = 329,\n    CFG_PIN_B30 = 330,\n    CFG_PIN_B31 = 331,\n    CFG_PIN_C0 = 350,\n    CFG_PIN_C1 = 351,\n    CFG_PIN_C2 = 352,\n    CFG_PIN_C3 = 353,\n    CFG_PIN_C4 = 354,\n    CFG_PIN_C5 = 355,\n    CFG_PIN_C6 = 356,\n    CFG_PIN_C7 = 357,\n    CFG_PIN_C8 = 358,\n    CFG_PIN_C9 = 359,\n    CFG_PIN_C10 = 360,\n    CFG_PIN_C11 = 361,\n    CFG_PIN_C12 = 362,\n    CFG_PIN_C13 = 363,\n    CFG_PIN_C14 = 364,\n    CFG_PIN_C15 = 365,\n    CFG_PIN_C16 = 366,\n    CFG_PIN_C17 = 367,\n    CFG_PIN_C18 = 368,\n    CFG_PIN_C19 = 369,\n    CFG_PIN_C20 = 370,\n    CFG_PIN_C21 = 371,\n    CFG_PIN_C22 = 372,\n    CFG_PIN_C23 = 373,\n    CFG_PIN_C24 = 374,\n    CFG_PIN_C25 = 375,\n    CFG_PIN_C26 = 376,\n    CFG_PIN_C27 = 377,\n    CFG_PIN_C28 = 378,\n    CFG_PIN_C29 = 379,\n    CFG_PIN_C30 = 380,\n    CFG_PIN_C31 = 381,\n    CFG_PIN_P0 = 400,\n    CFG_PIN_P1 = 401,\n    CFG_PIN_P2 = 402,\n    CFG_PIN_P3 = 403,\n    CFG_PIN_P4 = 404,\n    CFG_PIN_P5 = 405,\n    CFG_PIN_P6 = 406,\n    CFG_PIN_P7 = 407,\n    CFG_PIN_P8 = 408,\n    CFG_PIN_P9 = 409,\n    CFG_PIN_P10 = 410,\n    CFG_PIN_P11 = 411,\n    CFG_PIN_P12 = 412,\n    CFG_PIN_P13 = 413,\n    CFG_PIN_P14 = 414,\n    CFG_PIN_P15 = 415,\n    CFG_PIN_P16 = 416,\n    CFG_PIN_P17 = 417,\n    CFG_PIN_P18 = 418,\n    CFG_PIN_P19 = 419,\n    CFG_PIN_P20 = 420,\n    CFG_PIN_LORA_MISO = 1001,\n    CFG_PIN_LORA_MOSI = 1002,\n    CFG_PIN_LORA_SCK = 1003,\n    CFG_PIN_LORA_CS = 1004,\n    CFG_PIN_LORA_BOOT = 1005,\n    CFG_PIN_LORA_RESET = 1006,\n    CFG_PIN_IRRXLED = 1007,\n    CFG_PIN_IRTXLED = 1008,\n    CFG_PIN_LCD_RESET = 1009,\n    CFG_PIN_LCD_ENABLE = 1010,\n    CFG_PIN_LCD_DATALINE4 = 1011,\n    CFG_PIN_LCD_DATALINE5 = 1012,\n    CFG_PIN_LCD_DATALINE6 = 1013,\n    CFG_PIN_LCD_DATALINE7 = 1014,\n    CFG_NUM_LCD_COLUMNS = 1015,\n    CFG_NUM_LCD_ROWS = 1016,\n    // /pxtapp/hf2dbg.h\n    HF2DBG_H = 1,\n    // /pxtapp/mixer---samd/melody.h\n    SW_TRIANGLE = 1,\n    SW_SAWTOOTH = 2,\n    SW_SINE = 3,\n    SW_NOISE = 4,\n    SW_REAL_NOISE = 5,\n    SW_SQUARE_10 = 11,\n    SW_SQUARE_50 = 15,\n    CODAL = 1,\n    MAX_SOUNDS = 5,\n    Waiting = 0,\n    Playing = 1,\n    Done = 2,\n    // /pxtapp/pins.h\n    BUTTON_ACTIVE_HIGH_PULL_DOWN = 17,\n    BUTTON_ACTIVE_HIGH_PULL_UP = 33,\n    BUTTON_ACTIVE_HIGH_PULL_NONE = 49,\n    BUTTON_ACTIVE_LOW_PULL_DOWN = 16,\n    BUTTON_ACTIVE_LOW_PULL_UP = 32,\n    BUTTON_ACTIVE_LOW_PULL_NONE = 48,\n    // /pxtapp/platform.h\n    PAGE_SIZE = 512,\n    DEV_NUM_PINS = 64,\n    PXT_74HC165 = 1,\n    IMAGE_BITS = 4,\n    PA00 = 0,\n    PA01 = 1,\n    PA02 = 2,\n    PA03 = 3,\n    PA04 = 4,\n    PA05 = 5,\n    PA06 = 6,\n    PA07 = 7,\n    PA08 = 8,\n    PA09 = 9,\n    PA10 = 10,\n    PA11 = 11,\n    PA12 = 12,\n    PA13 = 13,\n    PA14 = 14,\n    PA15 = 15,\n    PA16 = 16,\n    PA17 = 17,\n    PA18 = 18,\n    PA19 = 19,\n    PA20 = 20,\n    PA21 = 21,\n    PA22 = 22,\n    PA23 = 23,\n    PA24 = 24,\n    PA25 = 25,\n    PA26 = 26,\n    PA27 = 27,\n    PA28 = 28,\n    PA29 = 29,\n    PA30 = 30,\n    PA31 = 31,\n    PB00 = 32,\n    PB01 = 33,\n    PB02 = 34,\n    PB03 = 35,\n    PB04 = 36,\n    PB05 = 37,\n    PB06 = 38,\n    PB07 = 39,\n    PB08 = 40,\n    PB09 = 41,\n    PB10 = 42,\n    PB11 = 43,\n    PB12 = 44,\n    PB13 = 45,\n    PB14 = 46,\n    PB15 = 47,\n    PB16 = 48,\n    PB17 = 49,\n    PB18 = 50,\n    PB19 = 51,\n    PB20 = 52,\n    PB21 = 53,\n    PB22 = 54,\n    PB23 = 55,\n    PB24 = 56,\n    PB25 = 57,\n    PB26 = 58,\n    PB27 = 59,\n    PB28 = 60,\n    PB29 = 61,\n    PB30 = 62,\n    PB31 = 63,\n    // /pxtapp/pxt.h\n    DEVICE_ID_BUTTON_SLIDE = 3000,\n    DEVICE_ID_MICROPHONE = 3001,\n    DEVICE_ID_FIRST_BUTTON = 4000,\n    DEVICE_ID_FIRST_TOUCHBUTTON = 4100,\n    // /pxtapp/pxtbase.h\n    PXT_REFCNT_FLASH = 65534,\n    VTABLE_MAGIC = 249,\n    Undefined = 0,\n    Boolean = 1,\n    Number = 2,\n    String = 3,\n    Object = 4,\n    Function = 5,\n    BoxedString = 1,\n    BoxedNumber = 2,\n    BoxedBuffer = 3,\n    RefAction = 4,\n    RefImage = 5,\n    RefCollection = 6,\n    RefRefLocal = 7,\n    RefMap = 8,\n    RefMImage = 9,\n    User0 = 16,\n    Int8LE = 1,\n    UInt8LE = 2,\n    Int16LE = 3,\n    UInt16LE = 4,\n    Int32LE = 5,\n    Int8BE = 6,\n    UInt8BE = 7,\n    Int16BE = 8,\n    UInt16BE = 9,\n    Int32BE = 10,\n    UInt32LE = 11,\n    UInt32BE = 12,\n    Float32LE = 13,\n    Float64LE = 14,\n    Float32BE = 15,\n    Float64BE = 16,\n    GC = 0,\n    // /pxtapp/pxtconfig.h\n    PXT_GC = 1,\n    PXT_UF2_FAMILY = 1760373640,\n    // /pxtapp/storage/SNORFS.h\n    DEVICE_FLASH_ERROR = 950,\n    // /pxtapp/thermometer/target_temperature.h\n    TEMPERATURE_NOMINAL_VALUE = 25,\n    TEMPERATURE_NOMINAL_READING = 10000,\n    TEMPERATURE_BETA = 3380,\n    TEMPERATURE_SERIES_RESISTOR = 10000,\n    // /pxtapp/uf2format.h\n    BOOTLOADER_START = 0,\n    // /pxtapp/uf2hid.h\n    UF2_HID_H = 1,\n}\n",
            "dmac.cpp": "#include \"dmac.h\"\n\nnamespace pxt {\n\n#ifdef CODAL_DMAC\nSINGLETON(WDMAC);\n#endif\n\n}",
            "dmac.h": "#ifndef __DMAC_H\n#define __DMAC_H\n\n#include \"pxt.h\"\n\nnamespace pxt {\n\n#ifdef CODAL_DMAC\nclass WDMAC {\n  public:\n    CODAL_DMAC dmac;\n\n    WDMAC() {}\n};\n\nWDMAC* getWDMAC();\n#endif\n\n}\n\n#endif",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum PulseValue {\n    //% block=high\n    High = 4,  // DEVICE_PIN_EVT_PULSE_HI\n    //% block=low\n    Low = 5,  // DEVICE_PIN_EVT_PULSE_LO\n    }\n\n\n    declare const enum PinEvent {\n    //% block=\"pulse high\"\n    PulseHigh = 4,  // DEVICE_PIN_EVT_PULSE_HI\n    //% block=\"pulse low\"\n    PulseLow = 5,  // DEVICE_PIN_EVT_PULSE_LO\n    //% block=\"rise\"\n    Rise = 2,  // DEVICE_PIN_EVT_RISE\n    //% block=\"fall\"\n    Fall = 3,  // DEVICE_PIN_EVT_FALL\n    }\n\n\n    declare const enum PinPullMode {\n    //% block=\"down\"\n    PullDown = 0,\n    //% block=\"up\"\n    PullUp = 1,\n    //% block=\"none\"\n    PullNone = 2,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "hf2.cpp": "#include \"pxt.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#ifndef USB_HANDOVER\n#define USB_HANDOVER 1\n#endif\n\n#if USB_HANDOVER\n#define UF2_DEFINE_HANDOVER 1\n#endif\n\n#include \"uf2format.h\"\n\nstatic void *stackCopy;\nstatic uint32_t stackSize;\n//#define LOG DMESG\n#define LOG(...) ((void)0)\n\n//#define LOG DMESG\n#define LOG(...) ((void)0)\n\nstatic volatile bool resume = false;\n\nusing namespace codal;\n\n#ifdef HF2_HID\nstatic const char hidDescriptor[] = {\n    0x06, 0x97, 0xFF, // usage page vendor 0x97 (usage 0xff97 0x0001)\n    0x09, 0x01,       // usage 1\n    0xA1, 0x01,       // collection - application\n    0x15, 0x00,       // logical min 0\n    0x26, 0xFF, 0x00, // logical max 255\n    0x75, 8,          // report size 8\n    0x95, 64,         // report count 64\n    0x09, 0x01,       // usage 1\n    0x81, 0x02,       // input: data, variable, absolute\n    0x95, 64,         // report count 64\n    0x09, 0x01,       // usage 1\n    0x91, 0x02,       // output: data, variable, absolute\n    0x95, 1,          // report count 1\n    0x09, 0x01,       // usage 1\n    0xB1, 0x02,       // feature: data, variable, absolute\n    0xC0,             // end\n};\n\nstatic const HIDReportDescriptor reportDesc = {\n    9,\n    0x21,                  // HID\n    0x100,                 // hidbcd 1.00\n    0x00,                  // country code\n    0x01,                  // num desc\n    0x22,                  // report desc type\n    sizeof(hidDescriptor), // size of 0x22\n};\n\nstatic const InterfaceInfo ifaceInfoHID = {\n   &reportDesc,\n    sizeof(reportDesc),\n    1,\n    {\n        2,    // numEndpoints\n        0x03, /// class code - HID\n        0x00, // subclass\n        0x00, // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {USB_EP_TYPE_INTERRUPT, 1},\n    {USB_EP_TYPE_INTERRUPT, 1},\n};\n#endif\n\nstatic const InterfaceInfo ifaceInfo = {\n    NULL,\n    0,\n    0,\n    {\n        0,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        42,   // subclass\n        1,    // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {0, 0},\n    {0, 0},\n};\n\nstatic const InterfaceInfo ifaceInfoEP = {\n    NULL,\n    0,\n    2,\n    {\n        2,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        42,   // subclass\n        1,    // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {USB_EP_TYPE_BULK, 0},\n    {USB_EP_TYPE_BULK, 0},\n};\n\nint HF2::stdRequest(UsbEndpointIn &ctrl, USBSetup &setup)\n{\n#ifdef HF2_HID\n    if (!useHID)\n        return DEVICE_NOT_SUPPORTED;\n    if (setup.bRequest == USB_REQ_GET_DESCRIPTOR)\n    {\n        if (setup.wValueH == 0x21)\n        {\n            InterfaceDescriptor tmp;\n            fillInterfaceInfo(&tmp);\n            return ctrl.write(&tmp, sizeof(tmp));\n        }\n        else if (setup.wValueH == 0x22)\n        {\n            return ctrl.write(hidDescriptor, sizeof(hidDescriptor));\n        }\n    }\n#endif\n    return DEVICE_NOT_SUPPORTED;\n}\n\n// same as in microbit\n#define CTRL_GET_REPORT 0x01\n#define CTRL_SET_REPORT 0x09\n#define CTRL_OUT_REPORT_H 0x2\n#define CTRL_IN_REPORT_H 0x1\n\nvoid HF2::prepBuffer(uint8_t *buf) {\n    memset(buf, 0, 64);\n    target_disable_irq();\n    if (dataToSendLength) {\n        if (dataToSendPrepend) {\n            dataToSendPrepend = false;\n            buf[0] = HF2_FLAG_CMDPKT_BODY | 4;\n            memcpy(buf + 1, pkt.buf, 4);\n        } else {\n            int flag = dataToSendFlag;\n            int s = 63;\n            if (dataToSendLength <= 63) {\n                s = dataToSendLength;\n            } else {\n                if (flag == HF2_FLAG_CMDPKT_LAST)\n                    flag = HF2_FLAG_CMDPKT_BODY;\n            }\n\n            buf[0] = flag | s;\n            memcpy(buf + 1, dataToSend, s);\n            dataToSend += s;\n            dataToSendLength -= s;\n        }\n    }\n    target_enable_irq();\n}\n\nvoid HF2::pokeSend() {\n    if (!allocateEP || !CodalUSB::usbInstance->isInitialised())\n        return;\n\n    uint8_t buf[64];\n    for (;;) {\n        prepBuffer(buf);\n        if (!buf[0])\n            break;\n        in->write(buf, sizeof(buf));\n    }\n}\n\nint HF2::classRequest(UsbEndpointIn &ctrl, USBSetup &setup) {\n    if (allocateEP)\n        return DEVICE_NOT_SUPPORTED;\n\n    if ((setup.bmRequestType & USB_REQ_DIRECTION) == USB_REQ_HOSTTODEVICE) {\n        if (setup.bRequest != CTRL_SET_REPORT || setup.wValueL != 0 ||\n            setup.wValueH != CTRL_OUT_REPORT_H)\n            return DEVICE_NOT_SUPPORTED;\n        if (setup.wLength > 64)\n            return DEVICE_NOT_SUPPORTED;\n        ctrlWaiting = true;\n        CodalUSB::usbInstance->ctrlOut->startRead();\n        ctrl.wLength = 0; // pretend we're done\n    } else {\n        if (setup.bRequest != CTRL_GET_REPORT || setup.wValueL != 0 ||\n            setup.wValueH != CTRL_IN_REPORT_H)\n            return DEVICE_NOT_SUPPORTED;\n        if (setup.wLength != 64)\n            return DEVICE_NOT_SUPPORTED;\n\n        uint8_t buf[64];\n        prepBuffer(buf);\n        ctrl.write(buf, sizeof(buf));\n    }\n\n    return DEVICE_OK;\n}\n\nconst InterfaceInfo *HF2::getInterfaceInfo() {\n#ifdef HF2_HID\n    if (useHID)\n        return &ifaceInfoHID;\n#endif\n    return allocateEP ? &ifaceInfoEP : &ifaceInfo;\n}\n\nint HF2::sendSerial(const void *data, int size, int isError) {\n    if (!gotSomePacket)\n        return DEVICE_OK;\n\n    for (;;) {\n        pokeSend();\n\n        while (dataToSendLength) {\n            fiber_sleep(5);\n            pokeSend();\n        }\n\n        if (size < 0)\n            break;\n\n        target_disable_irq();\n        // there could be a race\n        if (!dataToSendLength) {\n            dataToSend = (const uint8_t *)data;\n            dataToSendPrepend = false;\n            dataToSendFlag = isError ? HF2_FLAG_SERIAL_ERR : HF2_FLAG_SERIAL_OUT;\n            dataToSendLength = size;\n            size = -1;\n        }\n        target_enable_irq();\n    }\n\n    return 0;\n}\n\n// Recieve HF2 message\n// Does not block. Will store intermediate data in pkt.\n// `serial` flag is cleared if we got a command message.\nint HF2::recv() {\n    uint8_t buf[64];\n    int len;\n\n    if (allocateEP)\n        len = out->read(buf, sizeof(buf));\n    else\n        len = CodalUSB::usbInstance->ctrlOut->read(buf, sizeof(buf));\n    // DMESG(\"HF2 read: %d\", len);\n\n    if (len <= 0)\n        return len;\n\n    if (!allocateEP)\n        CodalUSB::usbInstance->ctrlIn->write(\"\", 0);\n\n    uint8_t tag = buf[0];\n    // serial packets not allowed when in middle of command packet\n    usb_assert(pkt.size == 0 || !(tag & HF2_FLAG_SERIAL_OUT));\n    int size = tag & HF2_SIZE_MASK;\n    usb_assert(pkt.size + size <= (int)sizeof(pkt.buf));\n    memcpy(pkt.buf + pkt.size, buf + 1, size);\n    pkt.size += size;\n    tag &= HF2_FLAG_MASK;\n    if (tag != HF2_FLAG_CMDPKT_BODY) {\n        if (tag == HF2_FLAG_CMDPKT_LAST)\n            pkt.serial = 0;\n        else if (tag == HF2_FLAG_SERIAL_OUT)\n            pkt.serial = 1;\n        else\n            pkt.serial = 2;\n        int sz = pkt.size;\n        pkt.size = 0;\n        return sz;\n    }\n    return 0;\n}\n\nint HF2::sendResponse(int size) {\n    dataToSend = pkt.buf;\n    dataToSendPrepend = false;\n    dataToSendFlag = HF2_FLAG_CMDPKT_LAST;\n    dataToSendLength = 4 + size;\n    pokeSend();\n    return 0;\n}\n\nint HF2::sendResponseWithData(const void *data, int size) {\n    if (dataToSendLength)\n        oops(90);\n    if (size <= (int)sizeof(pkt.buf) - 4) {\n        memcpy(pkt.resp.data8, data, size);\n        return sendResponse(size);\n    } else {\n        dataToSend = (const uint8_t *)data;\n        dataToSendPrepend = true;\n        dataToSendFlag = HF2_FLAG_CMDPKT_LAST;\n        dataToSendLength = size;\n        pokeSend();\n        return 0;\n    }\n}\n\nstatic void copy_words(void *dst0, const void *src0, uint32_t n_words) {\n    uint32_t *dst = (uint32_t *)dst0;\n    const uint32_t *src = (const uint32_t *)src0;\n    while (n_words--)\n        *dst++ = *src++;\n}\n\n#ifndef QUICK_BOOT\n#ifdef SAMD21\n#define DBL_TAP_PTR ((volatile uint32_t *)(HMCRAMC0_ADDR + HMCRAMC0_SIZE - 4))\n#endif\n#ifdef SAMD51\n#define DBL_TAP_PTR ((volatile uint32_t *)(HSRAM_ADDR + HSRAM_SIZE - 4))\n#endif\n#define DBL_TAP_MAGIC_QUICK_BOOT 0xf02669ef\n#define QUICK_BOOT(v) *DBL_TAP_PTR = v ? DBL_TAP_MAGIC_QUICK_BOOT : 0\n#endif\n\nint HF2::endpointRequest() {\n    if (!allocateEP && !ctrlWaiting)\n        return 0;\n\n    int sz = recv();\n\n    if (!sz)\n        return 0;\n\n    uint32_t tmp;\n\n    if (pkt.serial) {\n        // TODO raise some event?\n        return 0;\n    }\n\n    LOG(\"HF2 sz=%d CMD=%x\", sz, pkt.buf32[0]);\n\n    // one has to be careful dealing with these, as they share memory\n    HF2_Command *cmd = &pkt.cmd;\n    HF2_Response *resp = &pkt.resp;\n\n    uint32_t cmdId = cmd->command_id;\n    resp->tag = cmd->tag;\n    resp->status16 = HF2_STATUS_OK;\n\n#define checkDataSize(str, add) usb_assert(sz == 8 + (int)sizeof(cmd->str) + (int)(add))\n\n    gotSomePacket = true;\n\n    switch (cmdId) {\n    case HF2_CMD_INFO:\n        return sendResponseWithData(uf2_info(), strlen(uf2_info()));\n\n    case HF2_CMD_BININFO:\n        resp->bininfo.mode = HF2_MODE_USERSPACE;\n        resp->bininfo.flash_page_size = 0;\n        resp->bininfo.flash_num_pages = 0;\n        resp->bininfo.max_message_size = sizeof(pkt.buf);\n        resp->bininfo.uf2_family = PXT_UF2_FAMILY;\n        return sendResponse(sizeof(resp->bininfo));\n\n    case HF2_DBG_RESTART:\n        *HF2_DBG_MAGIC_PTR = HF2_DBG_MAGIC_START;\n        target_reset();\n        break;\n\n    case HF2_CMD_RESET_INTO_APP:\n        QUICK_BOOT(1);\n        NVIC_SystemReset();\n        break;\n    case HF2_CMD_RESET_INTO_BOOTLOADER:\n        QUICK_BOOT(0);\n        NVIC_SystemReset();\n        break;\n\n#if USB_HANDOVER\n    case HF2_CMD_START_FLASH:\n        sendResponse(0);\n        hf2_handover(in->ep);\n        usb_assert(0); // should not be reached\n        break;\n#endif\n\n    case HF2_CMD_WRITE_WORDS:\n        checkDataSize(write_words, cmd->write_words.num_words << 2);\n        copy_words((void *)cmd->write_words.target_addr, cmd->write_words.words,\n                   cmd->write_words.num_words);\n        break;\n\n    case HF2_CMD_READ_WORDS:\n        checkDataSize(read_words, 0);\n        tmp = cmd->read_words.num_words;\n        usb_assert(tmp <= sizeof(pkt.buf) / 4 - 1);\n        copy_words(resp->data32, (void *)cmd->read_words.target_addr, tmp);\n        return sendResponse(tmp << 2);\n\n    case HF2_CMD_DMESG:\n#if DEVICE_DMESG_BUFFER_SIZE > 0\n        return sendResponseWithData(codalLogStore.buffer, codalLogStore.ptr);\n#else\n        break;\n#endif\n\n    case HF2_DBG_GET_GLOBAL_STATE: {\n        HF2_GLOBAL_STATE_Result gstate = {\n            .num_globals = (uint32_t)getNumGlobals(), //\n            .globals_addr = (uint32_t)globals,\n        };\n        return sendResponseWithData(&gstate, sizeof(gstate));\n    }\n\n    case HF2_DBG_RESUME:\n        globals[0] = (TValue)cmd->data32[0];\n        resume = true;\n        return sendResponse(0);\n\n    case HF2_DBG_GET_STACK:\n        return sendResponseWithData(stackCopy, stackSize);\n\n    default:\n        // command not understood\n        resp->status16 = HF2_STATUS_INVALID_CMD;\n        break;\n    }\n\n    return sendResponse(0);\n}\n\nHF2::HF2(HF2_Buffer &p) : gotSomePacket(false), ctrlWaiting(false), pkt(p), allocateEP(true), useHID(false) {}\n\n\nstatic const InterfaceInfo dummyIfaceInfo = {\n    NULL,\n    0,\n    0,\n    {\n        0,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        0xff,   // subclass\n        0xff,    // protocol\n        0x00, // string\n        0x00, // alt\n    },\n    {0, 0},\n    {0, 0},\n};\n\n\nconst InterfaceInfo *DummyIface::getInterfaceInfo() {\n    return &dummyIfaceInfo;\n}\n\n//\n//\n// Debugger\n//\n//\n\nstruct ExceptionContext {\n    uint32_t excReturn; // 0xFFFFFFF9\n    uint32_t r0;\n    uint32_t r1;\n    uint32_t r2;\n    uint32_t r3;\n    uint32_t r12;\n    uint32_t lr;\n    uint32_t faultInstrAddr;\n    uint32_t psr;\n};\n\nstruct Paused_Data {\n    uint32_t pc;\n};\nstatic Paused_Data pausedData;\n\nvoid bkptPaused() {\n\n// waiting for https://github.com/lancaster-university/codal/pull/14\n#ifdef DEVICE_GROUP_ID_USER\n    // the loop below counts as \"system\" task, and we don't want to pause ourselves\n    fiber_set_group(DEVICE_GROUP_ID_SYSTEM);\n    // pause everyone else\n    fiber_pause_group(DEVICE_GROUP_ID_USER);\n#endif\n\n    while (!resume) {\n        // DMESG(\"BKPT\");\n        hf2.pkt.resp.eventId = HF2_EV_DBG_PAUSED;\n        hf2.sendResponseWithData(&pausedData, sizeof(pausedData));\n        // TODO use an event\n        for (int i = 0; i < 20; ++i) {\n            if (resume)\n                break;\n            fiber_sleep(50);\n        }\n    }\n\n    if (stackCopy) {\n        xfree(stackCopy);\n        stackCopy = NULL;\n    }\n\n#ifdef DEVICE_GROUP_ID_USER\n    fiber_resume_group(DEVICE_GROUP_ID_USER);\n    // go back to user mode\n    fiber_set_group(DEVICE_GROUP_ID_USER);\n#endif\n\n    resume = false;\n}\n\nextern \"C\" void handleHardFault(ExceptionContext *ectx) {\n    auto instr = (uint16_t *)ectx->faultInstrAddr;\n\n    DMESG(\"FLT %p\", instr);\n\n    if (ectx->faultInstrAddr & 0x80000000) {\n        ectx->faultInstrAddr &= ~0x80000000;\n        // switch to step-over mode\n        globals[0] = (TValue)3;\n        return;\n    }\n\n    DMESG(\"BB %p %p %p lr=%p r0=%p\", instr[-1], instr[0], instr[1], ectx->lr, ectx->r0);\n\n    if (instr[0] == 0x6840) {\n        // ldr r0, [r0, #4] -- entry breakpoint\n        ectx->faultInstrAddr += 2;\n        // we're being ask for step-over mode\n        if (ectx->r0 == 3) {\n            // switch to debugger-attached-no-stepping mode\n            globals[0] = (TValue)0;\n            ectx->lr |= 0x80000000;\n        }\n        return;\n    }\n\n    if (instr[0] == 0x6800) {\n        // ldr r0, [r0, #0]\n        ectx->lr = ectx->faultInstrAddr + 3; // next instruction + thumb mode\n        pausedData.pc = ectx->faultInstrAddr + 2;\n        void *ssp = (void *)(ectx + 1);\n        stackSize = DEVICE_STACK_BASE - (uint32_t)ssp;\n        if (stackCopy)\n            xfree(stackCopy);\n        stackCopy = xmalloc(stackSize);\n        memcpy(stackCopy, ssp, stackSize);\n        ectx->faultInstrAddr = ((uint32_t)(&bkptPaused) & (~1U));\n        return;\n    }\n\n    while (1) {\n    }\n}\n\nextern \"C\" void HardFault_Handler(void) {\n    asm(\"push {lr}; mov r0, sp; bl handleHardFault; pop {pc}\");\n}\n\n#endif",
            "hf2.h": "#ifndef DEVICE_HF2_H\n#define DEVICE_HF2_H\n\n#if CONFIG_ENABLED(DEVICE_USB)\n\n#include \"HID.h\"\n#include \"uf2hid.h\"\n\n#define HF2_BUF_SIZE 256\n\ntypedef struct {\n    uint16_t size;\n    uint8_t serial;\n    union {\n        uint8_t buf[HF2_BUF_SIZE];\n        uint32_t buf32[HF2_BUF_SIZE / 4];\n        uint16_t buf16[HF2_BUF_SIZE / 2];\n        HF2_Command cmd;\n        HF2_Response resp;\n    };\n} HF2_Buffer;\n\nclass HF2 : public CodalUSBInterface {\n    void prepBuffer(uint8_t *buf);\n    void pokeSend();\n\n    const uint8_t *dataToSend;\n    volatile uint32_t dataToSendLength;\n    bool dataToSendPrepend;\n    uint8_t dataToSendFlag;\n\n    bool gotSomePacket;\n    bool ctrlWaiting;\n\n  public:\n    HF2_Buffer &pkt;\n\n    bool allocateEP;\n    bool useHID;\n\n    int sendResponse(int size);\n    int recv();\n    int sendResponseWithData(const void *data, int size);\n\n    HF2(HF2_Buffer &pkt);\n    virtual int endpointRequest();\n    virtual int classRequest(UsbEndpointIn &ctrl, USBSetup &setup);\n    virtual int stdRequest(UsbEndpointIn &ctrl, USBSetup &setup);\n    virtual const InterfaceInfo *getInterfaceInfo();\n    int sendSerial(const void *data, int size, int isError = 0);\n\n    virtual bool enableWebUSB() { return !useHID; }\n};\n\nclass DummyIface : public CodalUSBInterface {\n  public:\n    virtual const InterfaceInfo *getInterfaceInfo();\n};\n\n#endif\n\n#endif\n",
            "hf2dbg.h": "#ifndef HF2DBG_H\n#define HF2DBG_H 1\n\n// we use a location at the top of the stack to store a magic value\n// which causes us to stop at the very first break point in the program\n#define HF2_DBG_MAGIC_PTR ((uint32_t *)(DEVICE_STACK_BASE - (DEVICE_STACK_SIZE - 4)))\n#define HF2_DBG_MAGIC_START 0xf0ebac7f\n\n#define HF2_DBG_GET_GLOBAL_STATE 0x53fc66e0\nstruct HF2_GLOBAL_STATE_Result {\n    uint32_t num_globals;\n    uint32_t globals_addr;\n};\n\n#define HF2_DBG_RESTART 0x1120bd93\n#define HF2_DBG_RESUME 0x27a55931\n#define HF2_EV_DBG_PAUSED 0x3692f9fd\n#define HF2_DBG_GET_STACK 0x70901510\n\n#endif\n",
            "i2c.cpp": "#include \"pxt.h\"\n#include \"ErrorNo.h\"\n#include \"CodalDmesg.h\"\n#include \"configkeys.h\"\n\n#ifdef CODAL_I2C\n\nnamespace pins {\n\nclass CodalI2CProxy {\nprivate:\n  DevicePin* sda;\n  DevicePin* scl;\n  CODAL_I2C i2c;\npublic:\n  CodalI2CProxy* next;\npublic:\n  CodalI2CProxy(DevicePin* _sda, DevicePin* _scl)\n    : sda(_sda)\n    , scl(_scl)\n    , i2c(*_sda, *_scl) \n    , next(NULL)\n  {\n\n  }\n\n  CODAL_I2C* getI2C() {\n    return &(this->i2c);\n  }\n  \n  bool matchPins(DevicePin* sda, DevicePin* scl) {\n      return this->sda == sda && this->scl == scl;\n  }\n\n  Buffer readBuffer(int address, int size, bool repeat = false)\n  {\n    Buffer buf = mkBuffer(NULL, size);\n    int status = this->i2c.read(address << 1, buf->data, size, repeat);\n    if (status != ErrorCode::DEVICE_OK) {\n      buf = 0;\n    }\n    return buf;\n  }\n\n  int writeBuffer(int address, Buffer buf, bool repeat = false)\n  {\n    return this->i2c.write(address << 1, buf->data, buf->length, repeat);\n  }\n};\n\n}\n\nnamespace I2CMethods {\n/**\n  * Read `size` bytes from a 7-bit I2C `address`.\n  */\n//%\nBuffer readBuffer(I2C_ i2c, int address, int size, bool repeat = false)\n{\n  return i2c->readBuffer(address, size, repeat);\n}\n\n/**\n  * Write bytes to a 7-bit I2C `address`.\n  */\n//%\nint writeBuffer(I2C_ i2c, int address, Buffer buf, bool repeat = false)\n{\n  return i2c->writeBuffer(address, buf, repeat);\n}\n\n}\n\nnamespace pins {\n\nstatic I2C_ i2cs(NULL);\n/**\n* Opens a Serial communication driver\n*/\n//% help=pins/create-i2c\n//% parts=i2c\nI2C_ createI2C(DigitalInOutPin sda, DigitalInOutPin scl) {\n  // pick up defaults\n  if (!sda || !scl) {\n    DMESG(\"i2c: lookup default pins\");\n    sda = LOOKUP_PIN(SDA);\n    scl = LOOKUP_PIN(SCL);\n  }\n\n  // lookup existing devices\n  auto dev = i2cs;\n  while(dev) {\n    if (dev->matchPins(sda, scl)) {\n      DMESG(\"i2c: found existing i2c\");\n      return dev;\n    }\n    dev = dev->next;\n  }\n\n  // allocate new one\n  DMESG(\"i2c: mounting on new device\");\n  auto ser = new CodalI2CProxy(sda, scl);\n  // push in list\n  ser->next = i2cs;\n  i2cs = ser;\n  return ser;\n}\n\n}\n\nnamespace pxt {\n  CODAL_I2C* getI2C(DigitalInOutPin sda, DigitalInOutPin scl) {\n    auto i2c = pins::createI2C(sda, scl);\n    return i2c->getI2C();\n  }\n}\n\n#endif",
            "i2c.ts": "namespace pins {\n    /**\n     * Read one number from an I2C address.\n     */\n    //% help=pins/i2c-read-number weight=5 group=\"i2c\" inlineInputMode=\"external\"\n    //% blockId=pins_i2c_readnumber block=\"i2c read number at address %address|of format %format|repeated %repeated\"\n    export function i2cReadNumber(address: number, format: NumberFormat, repeated?: boolean): number {\n        const buf = pins.i2cReadBuffer(address, pins.sizeOf(format), repeated)\n        if (!buf)\n            return undefined\n        return buf.getNumber(format, 0)\n    }\n\n    /**\n     * Write one number to an I2C address.\n     */\n    //% help=pins/i2c-write-number weight=4 group=\"i2c\"\n    //% blockId=i2c_writenumber block=\"i2c write number|at address %address|with value %value|of format %format|repeated %repeated\"\n    export function i2cWriteNumber(address: number, value: number, format?: NumberFormat, repeated?: boolean): void {\n        if (format == undefined)\n            format = NumberFormat.UInt8LE;\n        const buf = control.createBuffer(pins.sizeOf(format))\n        buf.setNumber(format, 0, value)\n        pins.i2cWriteBuffer(address, buf, repeated)\n    }\n\n    /**\n     * Write a value in a I2C register.\n     * @param address I2c address of the device\n     * @param register register index\n     * @param value value to write\n     * @param valueFormat format of the value, default is UInt8LE\n     */\n    //% weight=3 group=\"i2c\"\n    //% help=pins/i2c-write-register\n    //% blockId=i2c_writereg block=\"i2c write register|at address $address|at register $register|value $value\"\n    export function i2cWriteRegister(address: number, register: number, value: number, valueFormat?: NumberFormat): void {\n        if (valueFormat === undefined)\n            valueFormat = NumberFormat.UInt8LE;\n        const valueSize = pins.sizeOf(valueFormat);\n        const buf = control.createBuffer(1 + valueSize);\n        buf.setNumber(NumberFormat.UInt8LE, 0, register);\n        buf.setNumber(valueFormat, 1, value);\n        pins.i2cWriteBuffer(address, buf);\n    }\n\n    /**\n     * Read the value from a I2C register.\n     * @param address I2c address of the device\n     * @param register register index\n     * @param valueFormat format of the value, default is UInt8LE\n     */\n    //% weight=3 group=\"i2c\"\n    //% help=pins/i2c-read-register\n    //% blockId=i2c_readreg block=\"i2c read register|at address $address|at register $register\"\n    export function i2cReadRegister(address: number, register: number, valueFormat?: NumberFormat): number {\n        if (valueFormat === undefined)\n            valueFormat = NumberFormat.UInt8LE;\n        pins.i2cWriteNumber(address, register, NumberFormat.UInt8LE);\n        return pins.i2cReadNumber(address, valueFormat);\n    }\n\n    /**\n     * Read `size` bytes from a 7-bit I2C `address`.\n     */\n    //%\n    export function i2cReadBuffer(address: number, size: number, repeat: boolean = false): Buffer {\n        return pins.i2c().readBuffer(address, size, repeat);\n    }\n\n    /**\n     * Write bytes to a 7-bit I2C `address`.\n     */\n    //%\n    export function i2cWriteBuffer(address: number, buf: Buffer, repeat: boolean = false): number {\n        return pins.i2c().writeBuffer(address, buf, repeat);\n    }\n\n    let _i2c: I2C;\n    /**\n     * Gets the default I2C bus\n     */\n    //%\n    export function i2c() {\n        if (!_i2c) {\n            const sda = pins.pinByCfg(DAL.CFG_PIN_SDA);\n            const scl = pins.pinByCfg(DAL.CFG_PIN_SCL);\n            _i2c = pins.createI2C(sda, scl);    \n        }\n        return _i2c;        \n    }\n\n    export class I2CDevice {\n        public address: number;\n        private _hasError: boolean;\n        constructor(address: number) {\n            this.address = address\n        }\n        public readInto(buf: Buffer, repeat = false, start = 0, end: number = null) {\n            if (end === null)\n                end = buf.length\n            if (start >= end)\n                return\n            let res = i2cReadBuffer(this.address, end - start, repeat)\n            if (!res) {\n                this._hasError = true\n                return\n            }\n            buf.write(start, res)\n        }\n        public write(buf: Buffer, repeat = false) {\n            let res = i2cWriteBuffer(this.address, buf, repeat)\n            if (res) {\n                this._hasError = true\n            }\n        }\n        public begin(): I2CDevice {\n            this._hasError = false;\n            return this;\n        }\n        public end() {\n        }\n        public ok() {\n            return !this._hasError\n        }\n    }\n}\n",
            "keyvaluestorage.cpp": "#include \"pxt.h\"\n#include \"KeyValueStorage.h\"\n\nnamespace pxt {\n\nclass WKeyValueStorage {\n#ifdef CODAL_NVMCONTROLLER\n    CODAL_NVMCONTROLLER controller;\n#else\n    NVMController controller;\n#endif\n    KeyValueStorage storage;\n  public:\n\n    WKeyValueStorage()\n    : controller()\n    , storage(controller) {\n    }\n\n    bool isSupported() {\n#ifdef CODAL_NVMCONTROLLER\n      return true;\n#else\n      return false;\n#endif\n    }\n\n    int put(String key, Buffer data) {\n#ifdef CODAL_NVMCONTROLLER\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        return storage.put(mkey, data->data, data->length);\n#else\n        return -1;\n#endif\n    }\n\n    Buffer get(String key) {\n#ifdef CODAL_NVMCONTROLLER\n        Buffer buf = NULL;\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        auto entry = storage.get(mkey);\n        if (entry) {\n          buf = mkBuffer(entry->value, sizeof(entry->value));\n          free(entry);\n        }\n        return buf;\n#else\n        return NULL;\n#endif\n    }\n\n    void remove(String key) {\n#ifdef CODAL_NVMCONTROLLER\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        storage.remove(mkey);\n#endif\n    }\n\n    void clear() {\n#ifdef CODAL_NVMCONTROLLER\n        storage.wipe();\n#endif\n    }\n};\nSINGLETON(WKeyValueStorage);\n\n}\n\nnamespace configStorage {\n  /**\n  * Puts an entry in the device storage. Key may have up to 16 characters (bytes).\n  * @param key the identifier (max 16 characters)\n  * @param value the data (max 32 characters)\n  */\n  //%\n  void setBuffer(String key, Buffer value) {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->put(key, value);\n  }\n\n  /**\n  * Gets an entry from the device storage. Key may have up to 16 characters (bytes).\n  * @param key the identifier (max 16 characters)\n  */\n  //%\n  Buffer getBuffer(String key) {\n    auto kvm = pxt::getWKeyValueStorage();\n    return kvm->get(key);\n  }\n\n  /**\n  * Removes the key from local storage\n  * @param key the identifier (max 16 characters)\n  */\n  //%\n  void removeItem(String key) {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->remove(key);\n  }\n\n  /**\n  * Clears the local storage\n  */\n  //%\n  void clear() {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->clear();\n  }\n}\n",
            "keyvaluestorage.ts": "namespace configStorage {\n    /**\n     * Stores the value at the key entry\n     * @param key identifier of the key (max 16 characters)\n     * @param value identifier of the value (max 32 characters)\n     */\n    export function setItem(key: string, value: string) {\n        if (value == null)\n            configStorage.removeItem(key);\n        else\n        {\n            let idx = 0;\n            let buf = control.createBuffer(value.length + 1);\n            buf[idx++] = value.length;\n            let valBuf = control.createBufferFromUTF8(value);\n\n            for (let i = 0; i < valBuf.length; i++)\n                buf[idx++] = valBuf[i];\n\n            configStorage.setBuffer(key, buf);\n        }\n    }\n\n    /**\n     * Retrieves the value at the key entry\n     * @param key identifier of the key (max 16 characters)\n     */\n    export function getItem(key: string): string {\n        const buf = configStorage.getBuffer(key);\n\n        if (!buf)\n            return undefined;\n\n        let idx = 0;\n        let count = buf[idx++];\n        const retBuf = control.createBuffer(count);\n\n        for (let i = 0; i < count; i++)\n            retBuf[i] = buf[idx++];\n\n        return retBuf.toString();\n    }\n}\n",
            "leveldetector.ts": "namespace pins {\n    export class LevelDetector {\n        public id: number;\n        public min: number;\n        public max: number;\n        public lowThreshold: number;\n        public highThreshold: number;\n        private transition: number;\n        private transitionMs: number;\n        private _level: number;\n        private _state: number;\n        public onHigh: () => void;\n        public onLow: () => void;\n        public onNeutral: () => void;\n        public transitionWindow: number;\n        // minimum duration (ms) between events\n        public transitionInterval: number;\n\n        static LEVEL_THRESHOLD_NEUTRAL = 0;\n\n        constructor(id: number,\n            min: number, max: number,\n            lowThreshold: number, highThreshold: number) {\n            this.id = id;\n            this.min = min;\n            this.max = max;\n            this.lowThreshold = lowThreshold;\n            this.highThreshold = highThreshold;\n            this.transitionWindow = 4;\n            this.transitionInterval = 0;\n\n            this.onHigh = () => control.raiseEvent(this.id, DAL.LEVEL_THRESHOLD_HIGH);\n            this.onLow = () => control.raiseEvent(this.id, DAL.LEVEL_THRESHOLD_LOW);\n            this.onNeutral = undefined;\n\n            this.reset();\n        }\n\n        reset() {\n            this.transition = 0;\n            this.transitionMs = 0;\n            this._level = Math.ceil((this.highThreshold - this.lowThreshold) / 2);\n            this._state = LevelDetector.LEVEL_THRESHOLD_NEUTRAL;\n        }\n\n        get level(): number {\n            return this._level;\n        }\n\n        set level(level: number) {\n            this._level = this.clampValue(level);\n\n            if (this._level >= this.highThreshold) {\n                this.setState(DAL.LEVEL_THRESHOLD_HIGH);\n            }\n            else if (this._level <= this.lowThreshold) {\n                this.setState(DAL.LEVEL_THRESHOLD_LOW);\n            }\n            else {\n                this.setState(LevelDetector.LEVEL_THRESHOLD_NEUTRAL);\n            }\n        }\n\n        public setLowThreshold(value: number) {\n            this.lowThreshold = this.clampValue(value);\n            this.reset();\n        }\n\n        public setHighThreshold(value: number) {\n            this.highThreshold = this.clampValue(value);\n            this.reset();\n        }\n\n        private clampValue(value: number) {\n            if (value < this.min) {\n                return this.min;\n            }\n            else if (value > this.max) {\n                return this.max;\n            }\n            return value;\n        }\n\n        private setState(state: number) {\n            // not enough samples to change\n            if (this._state === state \n                || (this.transition++ < this.transitionWindow)\n                || (control.millis() - this.transitionMs) < this.transitionInterval) {\n                return;\n            }\n\n            this.transition = 0;\n            this.transitionMs = control.millis();\n            this._state = state;\n            switch (state) {\n                case DAL.LEVEL_THRESHOLD_HIGH:\n                    if (this.onHigh) this.onHigh();\n                    break;\n                case DAL.LEVEL_THRESHOLD_LOW:\n                    if (this.onLow) this.onLow();\n                    break;\n                case LevelDetector.LEVEL_THRESHOLD_NEUTRAL:\n                    if (this.onNeutral) this.onNeutral();\n                    break;\n            }\n        }\n    }\n}",
            "light.cpp": "#include \"light.h\"\n\n#if defined(NRF52_SERIES)\n#define SPI_SUPPORTED 0\n#else\n#define SPI_SUPPORTED 1\n#endif\n\n#if defined(SAMD21) || defined(SAMD51) || defined(STM32F4) || defined(NRF52_SERIES)\n#include \"neopixel.h\"\n#define BITBANG_SUPPORTED 1\n#else\n#define BITBANG_SUPPORTED 0\n#endif\n\n#define NEOPIXEL_MIN_LENGTH_FOR_SPI 24\n#define DOTSTAR_MIN_LENGTH_FOR_SPI 24\n\n#define LIGHTMODE_RGB 1\n#define LIGHTMODE_RGBW 2\n#define LIGHTMODE_RGB_RGB 3\n#define LIGHTMODE_DOTSTAR 4\n\nnamespace light {\nbool isValidMOSIPin(DigitalInOutPin pin) {\n    if (!pin)\n        return false;\n\n#if SAMD51\n    return ZSPI::isValidMOSIPin(*pin);\n#else\n    // TODO: support for SPI neopixels\n    // default SPI pins supported for now\n    return pin == LOOKUP_PIN(MOSI);\n#endif\n\n}\n\n// SPI\nvoid spiNeopixelSendBuffer(DevicePin* pin, const uint8_t *data, unsigned size) {\n    int32_t iptr = 0, optr = 100;\n    uint32_t len = optr + size * 3 + optr;\n    uint8_t *expBuf = new uint8_t[len];\n    memset(expBuf, 0, len);\n    uint8_t imask = 0x80;\n    uint8_t omask = 0x80;\n\n#define WR(k)                                                                                      \\\n    if (k)                                                                                         \\\n        expBuf[optr] |= omask;                                                                     \\\n    omask >>= 1;                                                                                   \\\n    if (!omask) {                                                                                  \\\n        omask = 0x80;                                                                              \\\n        optr++;                                                                                    \\\n    }\n\n    while (iptr < (int)size) {\n        WR(1);\n        WR(data[iptr] & imask);\n        imask >>= 1;\n        if (!imask) {\n            imask = 0x80;\n            iptr++;\n        }\n        WR(0);\n    }\n\n    auto spi = pxt::getSPI(pin, NULL, NULL);\n    spi->setFrequency(2400000);\n    spi->transfer(expBuf, len, NULL, 0);\n    delete expBuf;\n}\n\nvoid neopixelSendData(DevicePin* pin, int mode, const uint8_t* data, unsigned length) {\n    if (!pin || !length) return;\n\n#if BITBANG_SUPPORTED\n    if (SPI_SUPPORTED && length > NEOPIXEL_MIN_LENGTH_FOR_SPI && isValidMOSIPin(pin))\n        spiNeopixelSendBuffer(pin, data, length);\n    else\n        neopixel_send_buffer(*pin, data, length);\n #else\n     if (isValidMOSIPin(pin)) {\n         spiNeopixelSendBuffer(pin, data, length);\n     }\n #endif\n}\n\nvoid bitBangDotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    // first frame of zeroes\n    data->setDigitalValue(0);\n    for (unsigned i = 0; i < 32; ++i) {\n        clk->setDigitalValue(1);\n        clk->setDigitalValue(0);\n    }\n\n    // data stream\n    for (unsigned i = 0; i < length; ++i) {\n        auto x = buf[i];\n        for (uint8_t j = 0x80; j != 0; j >>= 1) {\n            data->setDigitalValue(x & j ? 1 : 0);\n            clk->setDigitalValue(1);\n            clk->setDigitalValue(0);\n        }\n    }\n    // https://cpldcpu.wordpress.com/2016/12/13/sk9822-a-clone-of-the-apa102/\n    // reset frame\n    //data->setDigitalValue(0);\n    //for (unsigned i = 0; i < 32 ; ++i) {\n    //    clk->setDigitalValue(1);\n    //    clk->setDigitalValue(0);\n    //}\n\n    // https://cpldcpu.wordpress.com/2014/11/30/understanding-the-apa102-superled/\n    data->setDigitalValue(1);\n    unsigned n = 32;\n    for (unsigned i = 0; i < n; ++i) {\n        clk->setDigitalValue(1);\n        clk->setDigitalValue(0);\n    }\n}\n\nstatic uint8_t ZERO_FRAME[4];\nstatic uint8_t ONE_FRAME[] = {1,1,1,1};\nvoid spiDotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    auto spi = pxt::getSPI(data, NULL, clk);\n\n    spi->transfer(ZERO_FRAME, sizeof(ZERO_FRAME), NULL, 0); // initial frame\n    spi->transfer(buf, length, NULL, 0);\n    spi->transfer(ZERO_FRAME, sizeof(ZERO_FRAME), NULL, 0); // reset frame\n    for(unsigned i = 0; i < length >> 3; i += 32)\n        spi->transfer(ONE_FRAME, sizeof(ONE_FRAME), NULL, 0); // final frame\n}\n\nvoid dotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    if (!data || !clk || !buf || !length) return;\n\n    if (length > DOTSTAR_MIN_LENGTH_FOR_SPI && isValidMOSIPin(data))\n        spiDotStarSendData(data, clk, mode, buf, length);\n    else\n        bitBangDotStarSendData(data, clk, mode, buf, length);\n}\n\nvoid sendBuffer(DevicePin* data, DevicePin* clk, int mode, Buffer buf) {\n    if (!data || !buf || !buf->length) return;\n\n    if (mode == LIGHTMODE_DOTSTAR)\n        light::dotStarSendData(data, clk, mode, buf->data, buf->length);\n    else\n        light::neopixelSendData(data, mode, buf->data, buf->length);\n}\n\n\nvoid clear() {\n    auto neopix = LOOKUP_PIN(NEOPIXEL);\n    auto neonum = getConfig(CFG_NUM_NEOPIXELS, 0);\n    if (neopix && neonum >= 0) {\n        auto n = 3 * neonum;\n        uint8_t off[n];\n        memset(off, 0, sizeof(off));\n        light::neopixelSendData(neopix, 0x100, off, sizeof(off));\n    }\n\n    auto data = LOOKUP_PIN(DOTSTAR_DATA);\n    auto clk = LOOKUP_PIN(DOTSTAR_CLOCK);\n    auto dsnum = getConfig(CFG_NUM_DOTSTARS, 0);\n    if (data && clk && dsnum > 0) {\n        auto n = 4 * dsnum;\n        uint8_t off[n];\n        memset(off, 0, sizeof(off));\n        for(int i = 0; i < n; i += 4)\n            off[i] = 0xe0;\n        bitBangDotStarSendData(data, clk, 0x100, off, sizeof(off));\n    }\n}\n\n} // namespace pxt\n",
            "light.h": "#ifndef __PXT_LIGHT_H\n#define __PXT_LIGHT_H\n\n#include \"pxt.h\"\n\nnamespace light {\n    /**\n    * Clear onboard neopixels\n    */\n    void clear();\n\n    /**\n    * Send a programmable light buffer to the specified digital pin\n    * @param data The pin that the lights are connected to\n    * @param clk the clock line if any\n    * @param mode the color encoding mode\n    * @param buf The buffer to send to the pin\n    */\n    //%\n    void sendBuffer(DigitalInOutPin data, DigitalInOutPin clk, int mode, Buffer buf);\n\n    void neopixelSendData(DevicePin* pin, int mode, const uint8_t* data, unsigned length);\n}\n\n#endif",
            "ns.ts": "/**\n * Events and data from sensors.\n */\n//% color=\"#B4009E\" weight=98 icon=\"\\uf192\"\n//% groups='[\"other\", \"More\"]'\nnamespace input {\n}\n\n/**\n * Servos\n */\n//% color=\"#03AA74\" weight=88 icon=\"\\uf021\"\nnamespace servos {\n\n}\n\n/**\n * A Joint Asynchronous Communications, Device Agnostic Control.\n */\n//% color=\"#E79251\" weight=1 icon=\"\\uf185\"\n//% groups='[\"Broadcast\", \"Console\", \"Control\"]'\n//% blockGap=8\nnamespace jacdac {\n\n}",
            "pins.cpp": "#include \"pxt.h\"\n\nnamespace pxt {\nstatic DevicePin **pinPtrs;\nstatic uint8_t numPinPtrs;\nstatic uint8_t pinPos[DEV_NUM_PINS];\n\n//%\nDevicePin *getPin(int id) {\n\n    id &= CFG_PIN_NAME_MSK;\n\n    if (id >= DEV_NUM_PINS)\n        target_panic(PANIC_NO_SUCH_PIN);\n\n    // we could use lookupComponent() here - it would be slightly slower\n\n    int ptr = pinPos[id];\n    if (ptr == 0) {\n        pinPtrs = (DevicePin **)realloc(pinPtrs, (numPinPtrs + 1) * sizeof(void *));\n        bool isAnalog = IS_ANALOG_PIN(id);\n        // GCTODO\n        pinPtrs[numPinPtrs++] =\n            new DevicePin(DEVICE_ID_IO_P0 + id, (PinName)id,\n                          isAnalog ? PIN_CAPABILITY_AD : PIN_CAPABILITY_DIGITAL);\n        ptr = numPinPtrs;\n        pinPos[id] = ptr;\n    }\n    return pinPtrs[ptr - 1];\n}\n\n//%\nDevicePin *getPinCfg(int key) {\n    return getPin(getConfig(key));\n}\n\nvoid linkPin(int from, int to) {\n    if (from < 0 || from >= DEV_NUM_PINS)\n        target_panic(PANIC_NO_SUCH_PIN);\n    getPin(to);\n    pinPos[from] = pinPos[to];\n}\n\n//%\nDevicePin *lookupPin(int pinName) {\n    if (pinName < 0 || pinName == 0xff)\n        return NULL;\n    pinName &= CFG_PIN_NAME_MSK;\n    return getPin(pinName);\n}\n\n//%\nDevicePin *lookupPinCfg(int key) {\n    return lookupPin(getConfig(key));\n}\n\nCodalComponent *lookupComponent(int id) {\n    for (int i = 0; i < DEVICE_COMPONENT_COUNT; ++i) {\n        if (CodalComponent::components[i] && CodalComponent::components[i]->id == id)\n            return CodalComponent::components[i];\n    }\n    return NULL;\n}\n\n} // namespace pxt\n\nnamespace pins {\n/**\n* Get a pin by configuration id (DAL.CFG_PIN...)\n*/\n//%\nDigitalInOutPin pinByCfg(int key) {\n    return pxt::lookupPinCfg(key);\n}\n\n/**\n * Create a new zero-initialized buffer.\n * @param size number of bytes in the buffer\n */\n//%\nBuffer createBuffer(int size) {\n    return mkBuffer(NULL, size);\n}\n\n/**\n * Get the duration of the last pulse in microseconds. This function should be called from a\n * ``onPulsed`` handler.\n */\n//% help=pins/pulse-duration blockGap=8\n//% blockId=pins_pulse_duration block=\"pulse duration (s)\"\n//% weight=19\nint pulseDuration() {\n    return pxt::lastEvent.timestamp;\n}\n} // namespace pins\n",
            "pins.h": "#ifndef __PXT_PINS_H\n#define __PXT_PINS_H\n\n#define BUTTON_ACTIVE_HIGH_PULL_DOWN (ACTIVE_HIGH | 0x10)\n#define BUTTON_ACTIVE_HIGH_PULL_UP (ACTIVE_HIGH | 0x20)\n#define BUTTON_ACTIVE_HIGH_PULL_NONE (ACTIVE_HIGH | 0x30)\n#define BUTTON_ACTIVE_LOW_PULL_DOWN (ACTIVE_LOW | 0x10)\n#define BUTTON_ACTIVE_LOW_PULL_UP (ACTIVE_LOW | 0x20)\n#define BUTTON_ACTIVE_LOW_PULL_NONE (ACTIVE_LOW | 0x30)\n\n#define PIN(name) ((PinName)pxt::getConfig(CFG_PIN_##name, -1))\n#define LOOKUP_PIN(name) pxt::lookupPin(PIN(name))\n\n// these can be overridden in platform.h\n#ifndef CODAL_PIN\n#define CODAL_PIN CODAL_MBED::Pin\n#endif\n\n#ifndef CODAL_TIMER\n#define CODAL_TIMER CODAL_MBED::Timer\n#endif\n\n#ifndef CODAL_SPI\n#define CODAL_SPI CODAL_MBED::SPI\n#endif\n\n#ifndef CODAL_SERIAL\n#define CODAL_SERIAL CODAL_MBED::Serial\n#endif\n\n#ifndef IS_ANALOG_PIN\n#define IS_ANALOG_PIN(id) ((DEV_ANALOG_PINS >> (id)) & 1)\n#endif\n\ntypedef CODAL_PIN DevicePin;\n\ntypedef DevicePin *DigitalInOutPin;\ntypedef DevicePin *AnalogInOutPin;\ntypedef DevicePin *AnalogInPin;\ntypedef DevicePin *AnalogOutPin;\ntypedef DevicePin *PwmPin;\ntypedef DevicePin *PwmOnlyPin;\ntypedef Button *Button_;\n\nnamespace pxt {\nDevicePin *getPin(int id);\nDevicePin *getPinCfg(int key);\nDevicePin *lookupPin(int pinName);\nDevicePin *lookupPinCfg(int key);\nvoid linkPin(int from, int to);\nCodalComponent *lookupComponent(int id);\n}\n\n#define PINOP(op) name->op\n\n#endif\n",
            "pins.ts": "//% noRefCounting fixedInstances\ninterface DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogInPin extends DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogOutPin extends DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogInOutPin extends AnalogInPin, AnalogOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface PwmOnlyPin extends DigitalInOutPin, AnalogOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface PwmPin extends PwmOnlyPin, AnalogInOutPin {\n}\n\n/**\n * Control currents in Pins for analog/digital signals, servos, i2c, ...\n */\n//% color=#A80000 weight=85 icon=\"\\uf140\" advanced=true\n//% groups='[\"other\", \"Servo\", \"i2c\"]'\nnamespace pins {\n}",
            "pinsAnalog.cpp": "#include \"pxt.h\"\n\nnamespace AnalogInPinMethods {\n\n/**\n * Read the connector value as analog, that is, as a value comprised between 0 and 1023.\n * @param name pin to write to\n */\n//% help=pins/analog-read weight=53\n//% blockId=device_get_analog_pin block=\"analog read|pin %name\" blockGap=\"8\"\n//% blockNamespace=pins\n//% parts=\"photocell\" trackArgs=0\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nint analogRead(AnalogInPin name) {\n    return PINOP(getAnalogValue());\n}\n}\n\nnamespace AnalogOutPinMethods {\nvoid analogWrite(AnalogOutPin name, int value) __attribute__ ((weak));\n\n/**\n * Set the connector value as analog. Value must be comprised between 0 and 1023.\n * @param name pin name to write to\n * @param value value to write to the pin between ``0`` and ``1023``. eg:1023,0\n */\n//% help=pins/analog-write weight=52\n//% blockId=device_set_analog_pin block=\"analog write|pin %name|to %value\" blockGap=8\n//% blockNamespace=pins\n//% parts=\"analogled\" trackArgs=0\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% value.min=0 value.max=1023\nvoid analogWrite(AnalogOutPin name, int value) {\n    PINOP(setAnalogValue(value));\n}\n}",
            "pinsDigital.cpp": "#include \"pxt.h\"\n\nenum class PulseValue {\n    //% block=high\n    High = DEVICE_PIN_EVT_PULSE_HI,\n    //% block=low\n    Low = DEVICE_PIN_EVT_PULSE_LO\n};\n\nenum class PinEvent {\n    //% block=\"pulse high\"\n    PulseHigh = DEVICE_PIN_EVT_PULSE_HI,\n    //% block=\"pulse low\"\n    PulseLow = DEVICE_PIN_EVT_PULSE_LO,\n    //% block=\"rise\"\n    Rise = DEVICE_PIN_EVT_RISE,\n    //% block=\"fall\"\n    Fall = DEVICE_PIN_EVT_FALL,\n};\n\nenum class PinPullMode {\n    //% block=\"down\"\n    PullDown = 0,\n    //% block=\"up\"\n    PullUp = 1,\n    //% block=\"none\"\n    PullNone = 2\n};\n\nnamespace DigitalInOutPinMethods {\n/**\n * Read a pin or connector as either 0 or 1\n * @param name pin to read from\n */\n//% help=pins/digital-read weight=61\n//% blockId=device_get_digital_pin block=\"digital read|pin %name\" blockGap=8\n//% parts=\"slideswitch\" trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nbool digitalRead(DigitalInOutPin name) {\n    return PINOP(getDigitalValue()) != 0;\n}\n\n/**\n     * Set a pin or connector value to either 0 or 1.\n    * @param name pin to write to\n    * @param value value to set on the pin\n    */\n//% help=pins/digital-write weight=60\n//% blockId=device_set_digital_pin block=\"digital write|pin %name|to %value=toggleHighLow\"\n//% parts=\"led\" trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid digitalWrite(DigitalInOutPin name, bool value) {\n    PINOP(setDigitalValue(value));\n}\n\n/**\n* Make this pin a digital input, and create events where the timestamp is the duration\n* that this pin was either ``high`` or ``low``.\n*/\n//% help=pins/on-pulsed weight=16 blockGap=8\n//% blockId=pins_on_pulsed block=\"on|pin %pin|pulsed %pulse\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\n//% parts=\"slideswitch\" trackArgs=0\n//% deprecated=1 hidden=1\nvoid onPulsed(DigitalInOutPin pin, PulseValue pulse, Action body) {\n    pin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n    registerWithDal(pin->id, (int)pulse, body);\n}\n\n/**\n* Register code to run when a pin event occurs. \n*/\n//% help=pins/on-event weight=20 blockGap=8\n//% blockId=pinsonevent block=\"on|pin %pin|%event\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\n//% parts=\"slideswitch\" trackArgs=0\nvoid onEvent(DigitalInOutPin pin, PinEvent event, Action body) {\n    switch(event) {\n        case PinEvent::PulseHigh:\n        case PinEvent::PulseLow:\n            pin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n            registerWithDal(pin->id, (int)event, body);\n            break;\n        case PinEvent::Rise:\n        case PinEvent::Fall:\n            pin->eventOn(DEVICE_PIN_EVENT_ON_EDGE);\n            registerWithDal(pin->id, (int)event, body);\n            break;    \n    }    \n}\n\n/**\n* Return the duration of a pulse in microseconds\n* @param name the pin which measures the pulse\n* @param value the value of the pulse (default high)\n* @param maximum duration in micro-seconds\n*/\n//% blockId=\"pins_pulse_in\" block=\"pulse in (s)|pin %name|pulsed %high||timeout %maxDuration (s)\"\n//% weight=18 blockGap=8\n//% help=\"pins/pulse-in\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\nint pulseIn(DigitalInOutPin pin, PulseValue value, int maxDuration = 2000000) {\n    int pulse = PulseValue::High == value ? 1 : 0;\n    uint64_t tick = system_timer_current_time_us();\n    uint64_t maxd = (uint64_t)maxDuration;\n    while (pin->getDigitalValue() != pulse) {\n        if (system_timer_current_time_us() - tick > maxd)\n            return 0;\n    }\n\n    uint64_t start = system_timer_current_time_us();\n    while (pin->getDigitalValue() == pulse) {\n        if (system_timer_current_time_us() - tick > maxd)\n            return 0;\n    }\n    uint64_t end = system_timer_current_time_us();\n    return end - start;\n}\n\n/**\n* Set the pull direction of this pin.\n* @param name pin to set the pull mode on\n* @param pull one of the mbed pull configurations: PullUp, PullDown, PullNone\n*/\n//% help=pins/set-pull weight=17 blockGap=8\n//% blockId=device_set_pull block=\"set pull|pin %pin|to %pull\"\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid setPull(DigitalInOutPin name, PinPullMode pull) {\n    PullMode m = pull == PinPullMode::PullDown ? PullMode::Down : pull == PinPullMode::PullUp\n                                                                        ? PullMode::Up\n                                                                        : PullMode::None;\n    PINOP(setPull(m));\n}\n\n}",
            "pinsPWM.cpp": "#include \"pxt.h\"\n\nnamespace PwmPinMethods {\n}\n\nnamespace PwmOnlyPinMethods {\n\n/**\n * Set the Pulse-width modulation (PWM) period of the analog output. The period is in\n * **microseconds** or `1/1000` milliseconds.\n * If this pin is not configured as an analog output (using `analog write pin`), the operation has\n * no effect.\n * @param name analog pin to set period to\n * @param micros period in micro seconds. eg:20000\n */\n//% help=pins/analog-set-period weight=51\n//% blockId=device_set_analog_period block=\"analog set period|pin %pin|to (s)%period\"\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid analogSetPeriod(PwmOnlyPin name, int period) {\n    PINOP(setAnalogPeriodUs(period));\n}\n\n/**\n * Write a value to the servo to control the rotation of the shaft. On a standard servo, this will\n * set the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous\n * rotation servo, this will set the speed of the servo (with ``0`` being full-speed in one\n * direction, ``180`` being full speed in the other, and a value near ``90`` being no movement).\n * @param name pin to write to\n * @param value angle or rotation speed\n */\n//% help=pins/servo-write weight=41 group=\"Servo\"\n//% blockId=device_set_servo_pin block=\"servo write|pin %name|to %value=protractorPicker\" blockGap=8\n//% parts=microservo trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% value.defl=90\nvoid servoWrite(PwmOnlyPin name, int value) {\n    PINOP(setServoValue(value));\n}\n\n/**\n * Set the pin for PWM analog output, make the period be 20 ms, and set the pulse width.\n * The pulse width is based on the value it is given **microseconds** or `1/1000` milliseconds.\n * @param name pin name\n * @param duration pulse duration in micro seconds, eg:1500\n */\n//% help=pins/servo-set-pulse weight=40 group=\"Servo\" blockGap=8\n//% blockId=device_set_servo_pulse block=\"servo set pulse|pin %value|to (s) %duration\"\n//% parts=microservo blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid servoSetPulse(PwmOnlyPin name, int duration) {\n    PINOP(setServoPulseUs(duration));\n}\n\n/**\n* Indicates if the servo is running continuously\n*/\n//% blockHidden=1\nvoid servoSetContinuous(PwmOnlyPin name, bool continuous) {\n    // used by simulator\n}\n\n}",
            "pinscompat.ts": "// filled in by microbit",
            "platform.cpp": "#include \"pxt.h\"\n#include \"light.h\"\n\nnamespace pxt {\n\nCODAL_TIMER devTimer;\n\nstatic void initRandomSeed() {\n    int seed = 0xC0DA1;\n    auto pinTemp = LOOKUP_PIN(TEMPERATURE);\n    if (pinTemp)\n        seed *= pinTemp->getAnalogValue();\n    auto pinLight = LOOKUP_PIN(LIGHT);\n    if (pinLight)\n        seed *= pinLight->getAnalogValue();\n    seedRandom(seed);\n}\n\nstatic void remapSwdPin(int pinCfg, int fallback) {\n    int pinName = getConfig(pinCfg);\n    if (pinName == PA30 || pinName == PA31) {\n        if (getConfig(CFG_SWD_ENABLED, 0)) {\n            linkPin(pinName, fallback);\n        } else {\n            PORT->Group[pinName / 32].PINCFG[pinName % 32].reg = (uint8_t)PORT_PINCFG_INEN;\n        }\n    }\n}\n\nstatic void initSwdPins() {\n    remapSwdPin(CFG_PIN_NEOPIXEL, PIN(D0));\n    remapSwdPin(CFG_PIN_RXLED, PIN(D1));\n    remapSwdPin(CFG_PIN_SPEAKER_AMP, PIN(D2));\n}\n\nvoid platform_init() {\n    initSwdPins();\n    initRandomSeed();\n    light::clear();\n\n    if (*HF2_DBG_MAGIC_PTR == HF2_DBG_MAGIC_START) {\n        *HF2_DBG_MAGIC_PTR = 0;\n        // this will cause alignment fault at the first breakpoint\n        globals[0] = (TValue)1;\n    }\n}\n\n} // namespace pxt\n",
            "platform.h": "#ifndef __PXT_PLATFORM_H\n#define __PXT_PLATFORM_H\n\n// This is specific for SAMD21, to be replaced in other Codal targets.\n\n#include \"CapTouchButton.h\"\n#include \"Image.h\"\n#include \"MbedTimer.h\"\n#include \"MbedI2C.h\"\n#include \"MbedPin.h\"\n#include \"MbedSPI.h\"\n#include \"MbedSerial.h\"\n#include \"MultiButton.h\"\n#include \"CPlayI2C.h\"\n\n#include \"SAMD21DMAC.h\"\n\n// Analog Pins, all SAMD21: PA02-PA11 PB00-PB09 (some pins not connected)\n// 2 ports times 32 pins in each\n#define DEV_NUM_PINS 64\n// pins marked with AIN and PTC in the data sheet\n#define DEV_ANALOG_PINS 0x3ff00000ffcULL\n\n#define PAGE_SIZE 256\n\n#define CODAL_DMAC SAMD21DMAC\n\n// this is codal::_mbed for both mbed and mbedos now\n#define CODAL_MBED codal::_mbed\n\n#define CODAL_I2C codal::CPlayI2C\n\n#ifndef IMAGE_BITS\n#define IMAGE_BITS 1\n#endif\n\n#ifdef JUST_FOR_DAL_D_TS_CPP_WILL_IGNORE\n#define PA00 0\n#define PA01 1\n#define PA02 2\n#define PA03 3\n#define PA04 4\n#define PA05 5\n#define PA06 6\n#define PA07 7\n#define PA08 8\n#define PA09 9\n#define PA10 10\n#define PA11 11\n#define PA12 12\n#define PA13 13\n#define PA14 14\n#define PA15 15\n#define PA16 16\n#define PA17 17\n#define PA18 18\n#define PA19 19\n#define PA20 20\n#define PA21 21\n#define PA22 22\n#define PA23 23\n#define PA24 24\n#define PA25 25\n#define PA26 26\n#define PA27 27\n#define PA28 28\n#define PA29 29\n#define PA30 30\n#define PA31 31\n#define PB00 32\n#define PB01 33\n#define PB02 34\n#define PB03 35\n#define PB04 36\n#define PB05 37\n#define PB06 38\n#define PB07 39\n#define PB08 40\n#define PB09 41\n#define PB10 42\n#define PB11 43\n#define PB12 44\n#define PB13 45\n#define PB14 46\n#define PB15 47\n#define PB16 48\n#define PB17 49\n#define PB18 50\n#define PB19 51\n#define PB20 52\n#define PB21 53\n#define PB22 54\n#define PB23 55\n#define PB24 56\n#define PB25 57\n#define PB26 58\n#define PB27 59\n#define PB28 60\n#define PB29 61\n#define PB30 62\n#define PB31 63\n#endif\n\n#endif\n",
            "pxt.h": "#ifndef __PXT_H\n#define __PXT_H\n\n#include \"pxtbase.h\"\n\n#include \"CodalConfig.h\"\n#include \"CodalHeapAllocator.h\"\n#include \"CodalDevice.h\"\n#include \"CodalDmesg.h\"\n#include \"ErrorNo.h\"\n#include \"Timer.h\"\n#include \"Matrix4.h\"\n#include \"CodalCompat.h\"\n#include \"CodalComponent.h\"\n#include \"ManagedType.h\"\n#include \"Event.h\"\n#include \"NotifyEvents.h\"\n#include \"Button.h\"\n#include \"CodalFiber.h\"\n#include \"MessageBus.h\"\n\nusing namespace codal;\n\n// codal::ManagedString compat\n#define MSTR(s) codal::ManagedString((s)->data, (s)->length)\n#define PSTR(s) mkString((s).toCharArray(), (s).length())\n\n#include \"pins.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#include \"hf2.h\"\n#include \"hf2dbg.h\"\n#if CONFIG_ENABLED(DEVICE_MOUSE)\n#include \"HIDMouse.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\n#include \"HIDKeyboard.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\n#include \"HIDJoystick.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n#include \"USBJACDAC.h\"\n#endif\n#endif\n\nnamespace pxt {\n\n#if CONFIG_ENABLED(DEVICE_USB)\nextern CodalUSB usb;\nextern HF2 hf2;\n#if CONFIG_ENABLED(DEVICE_MOUSE)\nextern USBHIDMouse mouse;\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\nextern USBHIDKeyboard keyboard;\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\nextern USBHIDJoystick joystick;\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\nextern USBJACDAC *jacdacDebug;\n#endif\n#endif\n\n// Utility functions\nextern Event lastEvent;\nextern CODAL_TIMER devTimer;\nextern MessageBus devMessageBus;\nextern codal::CodalDevice device;\n\nvoid set_usb_strings(const char *uf2_info);\n\n} // namespace pxt\n\nnamespace pins {\nclass CodalSPIProxy;\nclass CodalI2CProxy;\n} // namespace pins\n\ntypedef pins::CodalI2CProxy* I2C_;\ntypedef pins::CodalSPIProxy* SPI_;\n\nnamespace pxt {\ncodal::LowLevelTimer *allocateTimer();\n\n#ifdef CODAL_I2C\nCODAL_I2C* getI2C(DigitalInOutPin sda, DigitalInOutPin scl);\n#endif\nCODAL_SPI* getSPI(DigitalInOutPin mosi, DigitalInOutPin miso, DigitalInOutPin sck);\n#ifdef CODAL_JACDAC_WIRE_SERIAL\nLowLevelTimer* getJACDACTimer();\n#endif\nclass PressureButton;\nuint32_t readButtonMultiplexer(int bits);\n}\n\nnamespace serial {\nclass CodalSerialDeviceProxy;\n}\n\ntypedef serial::CodalSerialDeviceProxy* SerialDevice;\n\nnamespace jacdac {\nclass JDProxyDriver;\n} // namespace network\n\ntypedef jacdac::JDProxyDriver* JacDacDriverStatus;\n\n#define DEVICE_ID_BUTTON_SLIDE 3000\n#define DEVICE_ID_MICROPHONE 3001\n#define DEVICE_ID_FIRST_BUTTON 4000\n#define DEVICE_ID_FIRST_TOUCHBUTTON 4100\n\n#endif\n",
            "pxt.json": "{\n    \"name\": \"core\",\n    \"description\": \"The core library for Codal-based targets\",\n    \"dependencies\": {\n        \"base\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"dal.d.ts\",\n        \"codal.cpp\",\n        \"usb.cpp\",\n        \"pxt.h\",\n        \"platform.h\",\n        \"platform.cpp\",\n        \"pxtcore.h\",\n        \"pins.h\",\n        \"pins.cpp\",\n        \"pinsAnalog.cpp\",\n        \"pinsDigital.cpp\",\n        \"pinsPWM.cpp\",\n        \"pins.ts\",\n        \"pinscompat.ts\",\n        \"control.cpp\",\n        \"i2c.cpp\",\n        \"i2c.ts\",\n        \"spi.cpp\",\n        \"spi.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"hf2.cpp\",\n        \"hf2.h\",\n        \"hf2dbg.h\",\n        \"uf2format.h\",\n        \"uf2hid.h\",\n        \"ns.ts\",\n        \"dmac.cpp\",\n        \"dmac.h\",\n        \"timer.ts\",\n        \"light.cpp\",\n        \"light.h\",\n        \"keyvaluestorage.cpp\",\n        \"keyvaluestorage.ts\",\n        \"leveldetector.ts\",\n        \"pxtparts.json\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"yotta\": {\n        \"config\": {\n            \"codal\": {\n                \"component_count\": 64,\n                \"dmesg_buffer_size\": 1024\n            }\n        }\n    },\n    \"dalDTS\": {\n        \"includeDirs\": [\n            \"libraries/codal-core/inc\",\n            \"pxtapp\"\n        ],\n        \"excludePrefix\": [\n            \"USB_\",\n            \"REQUEST_\",\n            \"LIS3DH_\",\n            \"FXOS8700_\",\n            \"HF2_\",\n            \"PXT_REF_TAG_\",\n            \"MS_\",\n            \"SCSI_\"\n        ]\n    }\n}\n",
            "pxtcore.h": "#ifndef __PXTCORE_H\n#define __PXTCORE_H\n\n#include \"CodalDmesg.h\"\n#include \"CodalHeapAllocator.h\"\n\n#define itoa(a, b) codal::itoa(a, b)\n\n#define GC_GET_HEAP_SIZE() device_heap_size(0)\n#define GC_STACK_BASE DEVICE_STACK_BASE\n#define xmalloc device_malloc\n#define xfree device_free\n\n#define GC_MAX_ALLOC_SIZE (16 * 1024)\n\n#endif\n",
            "pxtparts.json": "{\n    \"neopixel\": {\n        \"simulationBehavior\": \"neopixel\",\n        \"visual\": {\n            \"builtIn\": \"neopixel\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 19,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 28,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 3,\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"light.createStrip,light.createNeoPixelStrip\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"pin\"\n                },\n                {\n                    \"partParameter\": \"mode\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"dotstar\": {\n        \"simulationBehavior\": \"dotstar\",\n        \"visual\": {\n            \"builtIn\": \"dotstar\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 17,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 24,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 31,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 4,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 1\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"light.createAPA102Strip\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"dataPin\"\n                },\n                {\n                    \"pinInstantiationIdx\": 1,\n                    \"partParameter\": \"clkPin\"\n                },\n                {\n                    \"partParameter\": \"mode\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1, 2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    3\n                ]\n            }\n        ]\n    },\n    \"pixels\": {\n        \"simulationBehavior\": \"pixels\",\n        \"visual\": { \n            \"builtIn\": \"pixels\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 17,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 24,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 31,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 4,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"MOSI\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"SCK\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"singleton\"\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1, 2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    3\n                ]\n            }\n        ]\n    },    \n    \"buttons\": {\n        \"simulationBehavior\": \"buttons\",\n        \"visual\": {\n            \"builtIn\": \"buttons\",\n            \"width\": 75,\n            \"height\": 45,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 30,\n                    \"y\": 45\n                }\n            ]\n        },\n        \"numberOfPins\": 2,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"Button.onEvent,Button.isPressed,Button.wasPressed\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"button\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"slideswitch\": {\n        \"numberOfPins\": 3,\n        \"simulationBehavior\": \"slideswitch\",\n        \"visual\": {\n            \"builtIn\": \"slideswitch\",\n            \"width\": 100,\n            \"height\": 100,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 30,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 45,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"DigitalInOutPin.digitalRead,DigitalInOutPin.onPulsed,DigitalInOutPin.onEvent\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"pin\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"microservo\": {\n        \"simulationBehavior\": \"microservo\",\n        \"visual\": {\n            \"builtIn\": \"microservo\",\n            \"width\": 74.85,\n            \"height\": 200,\n            \"pinDistance\": 10,\n            \"pinLocations\": [\n                {\n                    \"x\": 30,\n                    \"y\": 5\n                },\n                {\n                    \"x\": 37,\n                    \"y\": 5\n                },\n                {\n                    \"x\": 45,\n                    \"y\": 5\n                }\n            ]\n        },\n        \"numberOfPins\": 3,\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"PwmOnlyPin.servoWrite,servos.Servo.setAngle,servos.Servo.run,servos.Servo.setPulse\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"led\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"builtIn\": \"led\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"led\",\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"DigitalInOutPin.digitalWrite\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"analogled\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"builtIn\": \"led\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"led\",\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"AnalogOutPin.analogWrite\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"photocell\": {\n        \"numberOfPins\": 3,\n        \"visual\": {\n            \"builtIn\": \"photocell\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 15,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"photocell\",\n        \"pinDefinitions\": [\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"AnalogInPin.analogRead\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    }\n}",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace light {\n\n    /**\n     * Send a programmable light buffer to the specified digital pin\n     * @param data The pin that the lights are connected to\n     * @param clk the clock line if any\n     * @param mode the color encoding mode\n     * @param buf The buffer to send to the pin\n     */\n    //% shim=light::sendBuffer\n    function sendBuffer(data: DigitalInOutPin, clk: DigitalInOutPin, mode: int32, buf: Buffer): void;\n}\ndeclare namespace control {\n\n    /**\n     * Determines if the USB has been enumerated.\n     */\n    //% shim=control::isUSBInitialized\n    function isUSBInitialized(): boolean;\n}\ndeclare namespace pins {\n\n    /**\n     * Get a pin by configuration id (DAL.CFG_PIN...)\n     */\n    //% shim=pins::pinByCfg\n    function pinByCfg(key: int32): DigitalInOutPin;\n\n    /**\n     * Create a new zero-initialized buffer.\n     * @param size number of bytes in the buffer\n     */\n    //% shim=pins::createBuffer\n    function createBuffer(size: int32): Buffer;\n\n    /**\n     * Get the duration of the last pulse in microseconds. This function should be called from a\n     * ``onPulsed`` handler.\n     */\n    //% help=pins/pulse-duration blockGap=8\n    //% blockId=pins_pulse_duration block=\"pulse duration (s)\"\n    //% weight=19 shim=pins::pulseDuration\n    function pulseDuration(): int32;\n}\n\n\ndeclare interface AnalogInPin {\n    /**\n     * Read the connector value as analog, that is, as a value comprised between 0 and 1023.\n     * @param name pin to write to\n     */\n    //% help=pins/analog-read weight=53\n    //% blockId=device_get_analog_pin block=\"analog read|pin %name\" blockGap=\"8\"\n    //% blockNamespace=pins\n    //% parts=\"photocell\" trackArgs=0\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=AnalogInPinMethods::analogRead\n    analogRead(): int32;\n}\n\n\ndeclare interface AnalogOutPin {\n    /**\n     * Set the connector value as analog. Value must be comprised between 0 and 1023.\n     * @param name pin name to write to\n     * @param value value to write to the pin between ``0`` and ``1023``. eg:1023,0\n     */\n    //% help=pins/analog-write weight=52\n    //% blockId=device_set_analog_pin block=\"analog write|pin %name|to %value\" blockGap=8\n    //% blockNamespace=pins\n    //% parts=\"analogled\" trackArgs=0\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% value.min=0 value.max=1023 shim=AnalogOutPinMethods::analogWrite\n    analogWrite(value: int32): void;\n}\n\n\ndeclare interface DigitalInOutPin {\n    /**\n     * Read a pin or connector as either 0 or 1\n     * @param name pin to read from\n     */\n    //% help=pins/digital-read weight=61\n    //% blockId=device_get_digital_pin block=\"digital read|pin %name\" blockGap=8\n    //% parts=\"slideswitch\" trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::digitalRead\n    digitalRead(): boolean;\n\n    /**\n     * Set a pin or connector value to either 0 or 1.\n     * @param name pin to write to\n     * @param value value to set on the pin\n     */\n    //% help=pins/digital-write weight=60\n    //% blockId=device_set_digital_pin block=\"digital write|pin %name|to %value=toggleHighLow\"\n    //% parts=\"led\" trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::digitalWrite\n    digitalWrite(value: boolean): void;\n\n    /**\n     * Make this pin a digital input, and create events where the timestamp is the duration\n     * that this pin was either ``high`` or ``low``.\n     */\n    //% help=pins/on-pulsed weight=16 blockGap=8\n    //% blockId=pins_on_pulsed block=\"on|pin %pin|pulsed %pulse\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4\n    //% parts=\"slideswitch\" trackArgs=0\n    //% deprecated=1 hidden=1 shim=DigitalInOutPinMethods::onPulsed\n    onPulsed(pulse: PulseValue, body: () => void): void;\n\n    /**\n     * Register code to run when a pin event occurs. \n     */\n    //% help=pins/on-event weight=20 blockGap=8\n    //% blockId=pinsonevent block=\"on|pin %pin|%event\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4\n    //% parts=\"slideswitch\" trackArgs=0 shim=DigitalInOutPinMethods::onEvent\n    onEvent(event: PinEvent, body: () => void): void;\n\n    /**\n     * Return the duration of a pulse in microseconds\n     * @param name the pin which measures the pulse\n     * @param value the value of the pulse (default high)\n     * @param maximum duration in micro-seconds\n     */\n    //% blockId=\"pins_pulse_in\" block=\"pulse in (s)|pin %name|pulsed %high||timeout %maxDuration (s)\"\n    //% weight=18 blockGap=8\n    //% help=\"pins/pulse-in\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4 maxDuration.defl=2000000 shim=DigitalInOutPinMethods::pulseIn\n    pulseIn(value: PulseValue, maxDuration?: int32): int32;\n\n    /**\n     * Set the pull direction of this pin.\n     * @param name pin to set the pull mode on\n     * @param pull one of the mbed pull configurations: PullUp, PullDown, PullNone\n     */\n    //% help=pins/set-pull weight=17 blockGap=8\n    //% blockId=device_set_pull block=\"set pull|pin %pin|to %pull\"\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::setPull\n    setPull(pull: PinPullMode): void;\n}\n\n\ndeclare interface PwmPin {}\n\n\ndeclare interface PwmOnlyPin {\n    /**\n     * Set the Pulse-width modulation (PWM) period of the analog output. The period is in\n     * **microseconds** or `1/1000` milliseconds.\n     * If this pin is not configured as an analog output (using `analog write pin`), the operation has\n     * no effect.\n     * @param name analog pin to set period to\n     * @param micros period in micro seconds. eg:20000\n     */\n    //% help=pins/analog-set-period weight=51\n    //% blockId=device_set_analog_period block=\"analog set period|pin %pin|to (s)%period\"\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=PwmOnlyPinMethods::analogSetPeriod\n    analogSetPeriod(period: int32): void;\n\n    /**\n     * Write a value to the servo to control the rotation of the shaft. On a standard servo, this will\n     * set the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous\n     * rotation servo, this will set the speed of the servo (with ``0`` being full-speed in one\n     * direction, ``180`` being full speed in the other, and a value near ``90`` being no movement).\n     * @param name pin to write to\n     * @param value angle or rotation speed\n     */\n    //% help=pins/servo-write weight=41 group=\"Servo\"\n    //% blockId=device_set_servo_pin block=\"servo write|pin %name|to %value=protractorPicker\" blockGap=8\n    //% parts=microservo trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% value.defl=90 shim=PwmOnlyPinMethods::servoWrite\n    servoWrite(value?: int32): void;\n\n    /**\n     * Set the pin for PWM analog output, make the period be 20 ms, and set the pulse width.\n     * The pulse width is based on the value it is given **microseconds** or `1/1000` milliseconds.\n     * @param name pin name\n     * @param duration pulse duration in micro seconds, eg:1500\n     */\n    //% help=pins/servo-set-pulse weight=40 group=\"Servo\" blockGap=8\n    //% blockId=device_set_servo_pulse block=\"servo set pulse|pin %value|to (s) %duration\"\n    //% parts=microservo blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=PwmOnlyPinMethods::servoSetPulse\n    servoSetPulse(duration: int32): void;\n\n    /**\n     * Indicates if the servo is running continuously\n     */\n    //% blockHidden=1 shim=PwmOnlyPinMethods::servoSetContinuous\n    servoSetContinuous(continuous: boolean): void;\n}\ndeclare namespace control {\n\n    /**\n     * Announce that an event happened to registered handlers.\n     * @param src ID of the MicroBit Component that generated the event\n     * @param value Component specific code indicating the cause of the event.\n     */\n    //% weight=21 blockGap=12 blockId=\"control_raise_event\"\n    //% help=control/raise-event\n    //% block=\"raise event|from %src|with value %value\" blockExternalInputs=1 shim=control::raiseEvent\n    function raiseEvent(src: int32, value: int32): void;\n\n    /**\n     * Determine the version of system software currently running.\n     */\n    //% blockId=\"control_device_dal_version\" block=\"device dal version\"\n    //% help=control/device-dal-version shim=control::deviceDalVersion\n    function deviceDalVersion(): string;\n\n    /**\n     * Allocates the next user notification event\n     */\n    //% help=control/allocate-notify-event shim=control::allocateNotifyEvent\n    function allocateNotifyEvent(): int32;\n\n    /** Write a message to DMESG debugging buffer. */\n    //% shim=control::dmesg\n    function dmesg(s: string): void;\n\n    /** Write a message and value (pointer) to DMESG debugging buffer. */\n    //% shim=control::dmesgPtr\n    function dmesgPtr(str: string, ptr: Object): void;\n}\n\n\ndeclare interface I2C {\n    /**\n     * Read `size` bytes from a 7-bit I2C `address`.\n     */\n    //% repeat.defl=0 shim=I2CMethods::readBuffer\n    readBuffer(address: int32, size: int32, repeat?: boolean): Buffer;\n\n    /**\n     * Write bytes to a 7-bit I2C `address`.\n     */\n    //% repeat.defl=0 shim=I2CMethods::writeBuffer\n    writeBuffer(address: int32, buf: Buffer, repeat?: boolean): int32;\n}\ndeclare namespace pins {\n\n    /**\n     * Opens a Serial communication driver\n     */\n    //% help=pins/create-i2c\n    //% parts=i2c shim=pins::createI2C\n    function createI2C(sda: DigitalInOutPin, scl: DigitalInOutPin): I2C;\n}\ndeclare namespace pins {\n\n    /**\n     * Opens a SPI driver\n     */\n    //% help=pins/create-spi\n    //% parts=spi shim=pins::createSPI\n    function createSPI(mosiPin: DigitalInOutPin, misoPin: DigitalInOutPin, sckPin: DigitalInOutPin): SPI;\n}\n\n\ndeclare interface SPI {\n    /**\n     * Write to the SPI bus\n     */\n    //% shim=SPIMethods::write\n    write(value: int32): int32;\n\n    /**\n     * Transfer buffers over the SPI bus\n     */\n    //% argsNullable shim=SPIMethods::transfer\n    transfer(command: Buffer, response: Buffer): void;\n\n    /**\n     * Sets the SPI clock frequency\n     */\n    //% shim=SPIMethods::setFrequency\n    setFrequency(frequency: int32): void;\n\n    /**\n     * Sets the SPI bus mode\n     */\n    //% shim=SPIMethods::setMode\n    setMode(mode: int32): void;\n}\ndeclare namespace configStorage {\n\n    /**\n     * Puts an entry in the device storage. Key may have up to 16 characters (bytes).\n     * @param key the identifier (max 16 characters)\n     * @param value the data (max 32 characters)\n     */\n    //% shim=configStorage::setBuffer\n    function setBuffer(key: string, value: Buffer): void;\n\n    /**\n     * Gets an entry from the device storage. Key may have up to 16 characters (bytes).\n     * @param key the identifier (max 16 characters)\n     */\n    //% shim=configStorage::getBuffer\n    function getBuffer(key: string): Buffer;\n\n    /**\n     * Removes the key from local storage\n     * @param key the identifier (max 16 characters)\n     */\n    //% shim=configStorage::removeItem\n    function removeItem(key: string): void;\n\n    /**\n     * Clears the local storage\n     */\n    //% shim=configStorage::clear\n    function clear(): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "spi.cpp": "#include \"pxt.h\"\n#include \"ErrorNo.h\"\n\nnamespace pins {\n\nclass CodalSPIProxy {\nprivate:\n    DevicePin* mosi; \n    DevicePin* miso; \n    DevicePin* sck;\n    CODAL_SPI spi;\npublic:\n    CodalSPIProxy* next;\n\npublic:\n    CodalSPIProxy(DevicePin* _mosi, DevicePin* _miso, DevicePin* _sck)\n        : mosi(_mosi)\n        , miso(_miso)\n        , sck(_sck)\n        , spi(*_mosi, *_miso, *_sck) \n        , next(NULL)\n    {\n    }\n\n    CODAL_SPI* getSPI() {\n        return &spi;\n    }\n\n    bool matchPins(DevicePin* mosi, DevicePin* miso, DevicePin* sck) {\n        return this->mosi == mosi && this->miso == miso && this->sck == sck;\n    }\n\n    int write(int value) {\n        return spi.write(value);\n    }\n\n    void transfer(Buffer command, Buffer response) {\n        auto cdata = NULL == command ? NULL : command->data;\n        auto clength = NULL == command ? 0 : command->length;\n        auto rdata = NULL == response ? NULL : response->data;\n        auto rlength = NULL == response ? 0 : response->length;\n        spi.transfer(cdata, clength, rdata, rlength);\n    }\n\n    void setFrequency(int frequency) {\n        spi.setFrequency(frequency);\n    }\n\n    void setMode(int mode) {\n        spi.setMode(mode);\n    }\n};\n\nSPI_ spis(NULL);\n\n/**\n* Opens a SPI driver\n*/\n//% help=pins/create-spi\n//% parts=spi\nSPI_ createSPI(DigitalInOutPin mosiPin, DigitalInOutPin misoPin, DigitalInOutPin sckPin) {\n  auto dev = spis;\n  while(dev) {\n    if (dev->matchPins(mosiPin, misoPin, sckPin))\n      return dev;\n    dev = dev->next;\n  }\n\n  auto ser = new CodalSPIProxy(mosiPin, misoPin, sckPin);\n  ser->next = spis;\n  spis = ser;\n  return ser;\n}\n\n}\n\nnamespace pxt {\n\nCODAL_SPI* getSPI(DigitalInOutPin mosiPin, DigitalInOutPin misoPin, DigitalInOutPin sckPin) {\n    auto spi = pins::createSPI(mosiPin, misoPin, sckPin);\n    return spi->getSPI();\n}\n\n}\n\nnamespace SPIMethods {\n\n/**\n* Write to the SPI bus\n*/\n//%\nint write(SPI_ device, int value) {\n    return device->write(value);\n}\n\n/**\n* Transfer buffers over the SPI bus\n*/\n//% argsNullable\nvoid transfer(SPI_ device, Buffer command, Buffer response) {\n    if (!device)\n        target_panic(PANIC_CAST_FROM_NULL);\n    if (!command && !response)\n        return;\n    device->transfer(command, response);\n}\n\n/**\n* Sets the SPI clock frequency\n*/\n//%\nvoid setFrequency(SPI_ device, int frequency) {\n    device->setFrequency(frequency);\n}\n\n/**\n* Sets the SPI bus mode\n*/\n//%\nvoid setMode(SPI_ device, int mode) {\n    device->setMode(mode);\n}\n\n}\n",
            "spi.ts": "namespace pins {\n\n    let _spi: SPI;\n    /**\n    * Gets the default SPI driver\n    */\n    //%\n    export function spi() {\n        if (!_spi) {\n            const mosi = pins.pinByCfg(DAL.CFG_PIN_MOSI);\n            const miso = pins.pinByCfg(DAL.CFG_PIN_MISO);\n            const sck = pins.pinByCfg(DAL.CFG_PIN_SCK);\n            _spi = pins.createSPI(mosi, miso, sck);\n        }\n        return _spi;\n    }\n\n    /**\n     * Write to the SPI slave and return the response\n     * @param value Data to be sent to the SPI slave\n     */\n    //% help=pins/spi-write weight=5 advanced=true\n    //% blockId=spi_write block=\"spi write %value\"\n    export function spiWrite(value: number) {\n        return spi().write(value);\n    }\n\n    /**\n     * Write a given command to SPI bus, and at the same time read the response.\n     */\n    //% help=pins/spi-transfer weight=4 advanced=true\n    //% blockId=spi_transfer block=\"spi transfer %command into %response\"\n    export function spiTransfer(command: Buffer, response: Buffer) {\n        spi().transfer(command, response);\n    }\n\n    /**\n     * Set the SPI frequency\n     * @param frequency the clock frequency, eg: 1000000\n     */\n    //% help=pins/spi-frequency weight=4 advanced=true\n    //% blockId=spi_frequency block=\"spi frequency %frequency\"\n    export function spiFrequency(frequency: number) {\n        spi().setFrequency(frequency);\n    }\n\n    /**\n     * Set the SPI signal mode\n     * @param mode the mode, eg: 3\n     */\n    //% help=pins/spi-mode weight=3 advanced=true\n    //% blockId=spi_mode block=\"spi mode %mode\"\n    export function spiMode(mode: number) {\n        spi().setMode(mode);\n    }\n}",
            "test.ts": "let i = 1\nlet f = 0.5\nlet plus = i + f\nlet minus = i - f\n\nlet r = Math.random()\nlet ri = Math.randomRange(5, 10)\n\n",
            "timer.ts": "namespace control {\n    /**\n     * A timer\n     */\n    //% fixedInstances\n    export class Timer {\n        start: number;\n\n        constructor() {\n            this.start = control.millis();\n        }\n\n        /**\n         * Gets the elapsed time in millis since the last reset\n         */\n        //% blockId=timerMillis block=\"%timer|millis\"\n        millis(): number {\n            return control.millis() - this.start;\n        }\n\n        /**\n         * Gets the elapsed time in seconds since the last reset\n         */\n        //% blockId=timerSeconds block=\"%timer|seconds\"\n        seconds(): number {\n            return this.millis() / 1000;\n        }\n\n        /**\n         * Resets the timer\n         */\n        //% blockId=timerRest block=\"%timer|reset\"\n        reset() {\n            this.start = control.millis();\n        }\n\n        /**\n         * Pauses until the timer reaches the given amount of milliseconds\n         * @param ms how long to pause for, eg: 5, 100, 200, 500, 1000, 2000\n         */\n        //% blockId=timerPauseUntil block=\"%timer|pause until (ms) %ms\"\n        pauseUntil(ms: number) {\n            const remaining = this.millis() - ms;\n            pause(Math.max(0, remaining));\n        }\n    }\n\n    //% whenUsed fixedInstance block=\"timer 1\"\n    export const timer1 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 2\"\n    export const timer2 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 3\"\n    export const timer3 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 4\"\n    export const timer4 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 5\"\n    export const timer5 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 6\"\n    export const timer6 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 7\"\n    export const timer7 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 8\"\n    export const timer8 = new Timer();\n}",
            "uf2format.h": "#ifndef UF2FORMAT_H\n#define UF2FORMAT_H 1\n\n#include <stdint.h>\n#include <stdbool.h>\n\n// All entries are little endian.\n\n#ifndef BOOTLOADER_START\n#define BOOTLOADER_START 0x0\n#endif\n\n#ifndef BOOTLOADER_END\n#define BOOTLOADER_END 0x2000\n#endif\n\n#ifndef UF2_BINFO\n#define UF2_BINFO ((UF2_BInfo *)(BOOTLOADER_END - sizeof(UF2_BInfo)))\n#endif\n\n#ifndef UF2_INFO_TXT\n#define UF2_INFO_TXT UF2_BINFO->info_uf2\n#endif\n\n\n#define UF2_MAGIC_START0 0x0A324655UL // \"UF2\\n\"\n#define UF2_MAGIC_START1 0x9E5D5157UL // Randomly selected\n#define UF2_MAGIC_END 0x0AB16F30UL    // Ditto\n\n// If set, the block is \"comment\" and should not be flashed to the device\n#define UF2_FLAG_NOFLASH 0x00000001\n\ntypedef struct {\n    // 32 byte header\n    uint32_t magicStart0;\n    uint32_t magicStart1;\n    uint32_t flags;\n    uint32_t targetAddr;\n    uint32_t payloadSize;\n    uint32_t blockNo;\n    uint32_t numBlocks;\n    uint32_t reserved;\n\n    // raw data;\n    uint8_t data[476];\n\n    // store magic also at the end to limit damage from partial block reads\n    uint32_t magicEnd;\n} UF2_Block;\n\ntypedef struct {\n    uint8_t version;\n    uint8_t ep_in;\n    uint8_t ep_out;\n    uint8_t reserved0;\n    uint32_t cbw_tag;\n    uint32_t blocks_remaining;\n    uint8_t *buffer;\n} UF2_HandoverArgs;\n\ntypedef void (*UF2_MSC_Handover_Handler)(UF2_HandoverArgs *handover);\ntypedef void (*UF2_HID_Handover_Handler)(int ep);\n\n// this is required to be exactly 16 bytes long by the linker script\ntypedef struct {\n    void *reserved0;\n    UF2_HID_Handover_Handler handoverHID;\n    UF2_MSC_Handover_Handler handoverMSC;\n    const char *info_uf2;\n} UF2_BInfo;\n\nstatic inline bool is_uf2_block(void *data) {\n    UF2_Block *bl = (UF2_Block *)data;\n    return bl->magicStart0 == UF2_MAGIC_START0 && bl->magicStart1 == UF2_MAGIC_START1 &&\n           bl->magicEnd == UF2_MAGIC_END;\n}\n\nstatic inline bool in_uf2_bootloader_space(const void *addr) {\n    return (BOOTLOADER_START + 0x100) <= (uint32_t)addr && (uint32_t)addr < (BOOTLOADER_END);\n}\n\nstatic inline const char *uf2_info(void) {\n    if (in_uf2_bootloader_space(UF2_INFO_TXT))\n        return UF2_INFO_TXT;\n    return \"N/A\";\n}\n\n#ifdef UF2_DEFINE_HANDOVER\nstatic inline void hf2_handover(uint8_t ep) {\n    const char *board_info = UF2_BINFO->info_uf2;\n    UF2_HID_Handover_Handler fn = UF2_BINFO->handoverHID;\n\n    if (in_uf2_bootloader_space(board_info) && in_uf2_bootloader_space((const void *)fn) &&\n        ((uint32_t)fn & 1)) {\n        // Pass control to bootloader; never returns\n        fn(ep & 0xf);\n    }\n}\n\nstatic inline void check_uf2_handover(uint8_t *buffer, uint32_t blocks_remaining, uint8_t ep_in,\n                                      uint8_t ep_out, uint32_t cbw_tag) {\n    if (!is_uf2_block(buffer))\n        return;\n\n    const char *board_info = UF2_BINFO->info_uf2;\n    UF2_MSC_Handover_Handler fn = UF2_BINFO->handoverMSC;\n\n    if (in_uf2_bootloader_space(board_info) && in_uf2_bootloader_space((const void *)fn) &&\n        ((uint32_t)fn & 1)) {\n        UF2_HandoverArgs hand = {\n            1, ep_in, ep_out, 0, cbw_tag, blocks_remaining, buffer,\n        };\n        // Pass control to bootloader; never returns\n        fn(&hand);\n    }\n}\n#endif\n\n#endif\n",
            "uf2hid.h": "#ifndef UF2_HID_H\n#define UF2_HID_H 1\n\n#define HF2_CMD_BININFO 0x0001\n// no arguments\n#define HF2_MODE_BOOTLOADER 0x01\n#define HF2_MODE_USERSPACE 0x02\nstruct HF2_BININFO_Result {\n    uint32_t mode;\n    uint32_t flash_page_size;\n    uint32_t flash_num_pages;\n    uint32_t max_message_size;\n    uint32_t uf2_family;\n};\n\n#define HF2_CMD_INFO 0x0002\n// no arguments\n// results is utf8 character array\n\n#define HF2_CMD_RESET_INTO_APP 0x0003\n// no arguments, no result\n\n#define HF2_CMD_RESET_INTO_BOOTLOADER 0x0004\n// no arguments, no result\n\n#define HF2_CMD_START_FLASH 0x0005\n// no arguments, no result\n\n#define HF2_CMD_WRITE_FLASH_PAGE 0x0006\nstruct HF2_WRITE_FLASH_PAGE_Command {\n    uint32_t target_addr;\n    uint32_t data[0];\n};\n// no result\n\n#define HF2_CMD_CHKSUM_PAGES 0x0007\nstruct HF2_CHKSUM_PAGES_Command {\n    uint32_t target_addr;\n    uint32_t num_pages;\n};\nstruct HF2_CHKSUM_PAGES_Result {\n    uint16_t chksums[0 /* num_pages */];\n};\n\n#define HF2_CMD_READ_WORDS 0x0008\nstruct HF2_READ_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n};\nstruct HF2_READ_WORDS_Result {\n    uint32_t words[0 /* num_words */];\n};\n\n#define HF2_CMD_WRITE_WORDS 0x0009\nstruct HF2_WRITE_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n    uint32_t words[0 /* num_words */];\n};\n// no result\n\n#define HF2_CMD_DMESG 0x0010\n// no arguments\n// results is utf8 character array\n\ntypedef struct {\n    uint32_t command_id;\n    uint16_t tag;\n    uint8_t reserved0;\n    uint8_t reserved1;\n\n    union {\n        struct HF2_WRITE_FLASH_PAGE_Command write_flash_page;\n        struct HF2_WRITE_WORDS_Command write_words;\n        struct HF2_READ_WORDS_Command read_words;\n        struct HF2_CHKSUM_PAGES_Command chksum_pages;\n        uint8_t data8[0];\n        uint16_t data16[0];\n        uint32_t data32[0];\n    };\n} HF2_Command;\n\ntypedef struct {\n    union {\n        uint32_t eventId;\n        struct {\n            uint16_t tag;\n            union {\n                struct {\n                    uint8_t status;\n                    uint8_t status_info;\n                };\n                uint16_t status16;\n            };\n        };\n    };\n    union {\n        struct HF2_BININFO_Result bininfo;\n        uint8_t data8[0];\n        uint16_t data16[0];\n        uint32_t data32[0];\n    };\n} HF2_Response;\n\n#define HF2_FLAG_SERIAL_OUT 0x80\n#define HF2_FLAG_SERIAL_ERR 0xC0\n#define HF2_FLAG_CMDPKT_LAST 0x40\n#define HF2_FLAG_CMDPKT_BODY 0x00\n#define HF2_FLAG_MASK 0xC0\n#define HF2_SIZE_MASK 63\n\n#define HF2_STATUS_OK 0x00\n#define HF2_STATUS_INVALID_CMD 0x01\n\n#endif\n",
            "usb.cpp": "#include \"pxt.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#include \"uf2format.h\"\n\nnamespace pxt {\nCodalUSB usb;\n\n// share the buffer; we will crash anyway if someone talks to us over both at the same time\nHF2_Buffer hf2buf;\nHF2 hf2(hf2buf);\n#ifdef HF2_HID\nHF2 hf2hid(hf2buf);\n#endif\nDummyIface dummyIface;\n\n#if CONFIG_ENABLED(DEVICE_MOUSE)\nUSBHIDMouse mouse;\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\nUSBHIDKeyboard keyboard;\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\nUSBHIDJoystick joystick;\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\nUSBJACDAC *jacdacDebug;\n#endif\n\nstatic const DeviceDescriptor device_desc = {\n    0x12,   // bLength\n    0x01,   // bDescriptorType\n    0x0210, // bcdUSBL\n\n    // Class etc specified per-interface\n    0x00, 0x00, 0x00,\n\n    0x40, // bMaxPacketSize0\n    USB_DEFAULT_VID, USB_DEFAULT_PID,\n    0x4202, // bcdDevice - leave unchanged for the HF2 to work\n    0x01,   // iManufacturer\n    0x02,   // iProduct\n    0x03,   // SerialNumber\n    0x01    // bNumConfigs\n};\n\nstatic void start_usb() {\n    // start USB with a delay, so that user code can add new interfaces if needed\n    // (eg USB HID keyboard, or MSC)\n    fiber_sleep(100);\n    usb.start();\n}\n\nvoid platform_usb_init() __attribute__((weak));\nvoid platform_usb_init() {}\n\nvoid set_usb_strings(const char *uf2_info) {\n    static const char *string_descriptors[3];\n    static char serial[12];\n    itoa(target_get_serial() & 0x7fffffff, serial);\n\n    auto model = strstr(uf2_info, \"Model: \");\n    if (model) {\n        model += 7;\n        auto end = model;\n        while (*end && *end != '\\n' && *end != '\\r')\n            end++;\n        auto len = end - model;\n        auto dev = (char *)app_alloc(len + 10);\n        memcpy(dev, model, len);\n        strcpy(dev + len, \" (app)\");\n        // try to split into manufacturer and\n        auto sep = strstr(dev, \" / \");\n        if (sep) {\n            *sep = '\\0';\n            string_descriptors[0] = dev;\n            string_descriptors[1] = sep + 3;\n        } else {\n            string_descriptors[0] = dev;\n            string_descriptors[1] = dev;\n        }\n    }\n\n    string_descriptors[2] = serial;\n    usb.stringDescriptors = string_descriptors;\n}\n\nvoid usb_init() {\n    usb.deviceDescriptor = &device_desc;\n    set_usb_strings(UF2_INFO_TXT);\n\n    platform_usb_init();\n\n#ifdef STM32F4\n    // let's not waste EPs on the HF2 - it will run on CONTROL pipe instead\n    // this doesn't seem to currently work on SAMD, so only do it on STM, which\n    // has very few EPs\n    hf2.allocateEP = false;\n#endif\n    usb.add(hf2);\n\n#ifdef HF2_HID\n    hf2hid.useHID = true;\n    usb.add(hf2hid);\n#else\n    // the WINUSB descriptors don't seem to work if there's only one interface\n    // so we add a dummy interface\n    usb.add(dummyIface);\n#endif\n\n\n#if CONFIG_ENABLED(DEVICE_MOUSE)\n    usb.add(mouse);\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\n    usb.add(keyboard);\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\n    usb.add(joystick);\n#endif\n    // USBJACDAC ctor does a bunch of stuff, which we don't want in a static initializer\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n    usb.add(*(jacdacDebug = new USBJACDAC()));\n#endif\n\n    create_fiber(start_usb);\n}\n\n} // namespace pxt\n\n#else\nnamespace pxt {\nvoid usb_init() {}\n} // namespace pxt\n#endif\n\nnamespace control {\n/**\n * Determines if the USB has been enumerated.\n */\n//%\nbool isUSBInitialized() {\n#if CONFIG_ENABLED(DEVICE_USB)\n    return pxt::usb.isInitialised();\n#else\n    return false;\n#endif\n}\n}\n\nnamespace pxt {\nstatic void (*pSendToUART)(const char *data, int len) = NULL;\nvoid setSendToUART(void (*f)(const char *, int)) {\n    pSendToUART = f;\n}\n\nvoid sendSerial(const char *data, int len) {\n#if CONFIG_ENABLED(DEVICE_USB)\n    hf2.sendSerial(data, len);\n#if HF2_HID\n    hf2hid.sendSerial(data, len);\n#endif\n#endif\n    if (pSendToUART)\n        pSendToUART(data, len);\n}\n\nvoid dumpDmesg() {\n    sendSerial(\"\\nDMESG:\\n\", 8);\n    sendSerial(codalLogStore.buffer, codalLogStore.ptr);\n    sendSerial(\"\\n\\n\", 2);\n}\n} // namespace pxt\n"
        },
        "buttons": {
            "README.md": "# buttons\n\nA library to handle 2 buttons A and B.\n",
            "buttons.cpp": "#include \"pxt.h\"\n\n/*\n\nThese button events need CODAL work.\n\n    // % block=\"double click\"\n    DoubleClick = DEVICE_BUTTON_EVT_DOUBLE_CLICK,\n\n    // % block=\"hold\"\n    Hold = DEVICE_BUTTON_EVT_HOLD\n\n*/\n\n/**\n * User interaction on buttons\n */\nenum class ButtonEvent {\n    //% block=\"click\"\n    Click = DEVICE_BUTTON_EVT_CLICK,\n    //% block=\"long click\"\n    LongClick = DEVICE_BUTTON_EVT_LONG_CLICK,\n    //% block=\"up\"\n    Up = DEVICE_BUTTON_EVT_UP,\n    //% block=\"down\"\n    Down = DEVICE_BUTTON_EVT_DOWN\n};\n\nnamespace pxt {\n//%\nButton *getButtonByPin(int pin, int flags) {\n    unsigned highflags = (unsigned)pin >> 16;\n    if (highflags & 0xff)\n        flags = highflags & 0xff;\n\n    pin &= 0xffff;\n\n    auto cpid = DEVICE_ID_FIRST_BUTTON + pin;\n    auto btn = (Button *)lookupComponent(cpid);\n    if (btn == NULL) {\n        auto pull = PullMode::None;\n        if ((flags & 0xf0) == 0x10)\n            pull = PullMode::Down;\n        else if ((flags & 0xf0) == 0x20)\n            pull = PullMode::Up;\n        else if ((flags & 0xf0) == 0x30)\n            pull = PullMode::None;\n        else\n            oops(3);\n        // GCTODO\n        btn = new Button(*lookupPin(pin), cpid, DEVICE_BUTTON_ALL_EVENTS,\n                                 (ButtonPolarity)(flags & 0xf), pull);\n    }\n    return btn;\n}\n\n//%\nButton *getButtonByPinCfg(int key, int flags) {\n    int pin = getConfig(key);\n    if (pin == -1)\n        target_panic(PANIC_NO_SUCH_CONFIG);\n    return getButtonByPin(pin, flags);\n}\n\nMultiButton *getMultiButton(int id, int pinA, int pinB, int flags) {\n    auto btn = (MultiButton *)lookupComponent(id);\n    if (btn == NULL) {\n        auto bA = getButtonByPin(pinA, flags);\n        auto bB = getButtonByPin(pinB, flags);\n        // GCTODO\n        btn = new MultiButton(bA->id, bB->id, id);\n\n        // A user has registered to receive events from the buttonAB multibutton.\n        // Disable click events from being generated by ButtonA and ButtonB, and defer the\n        // control of this to the multibutton handler.\n        //\n        // This way, buttons look independent unless a buttonAB is requested, at which\n        // point button A+B clicks can be correclty handled without breaking\n        // causal ordering.\n        bA->setEventConfiguration(DEVICE_BUTTON_SIMPLE_EVENTS);\n        bB->setEventConfiguration(DEVICE_BUTTON_SIMPLE_EVENTS);\n        btn->setEventConfiguration(DEVICE_BUTTON_ALL_EVENTS);\n    }\n    return btn;\n}\n\n// This is for A, B, and AB\n//%\nAbstractButton *getButton(int id) {\n    int pa = getConfig(CFG_PIN_BTN_A);\n    int pb = getConfig(CFG_PIN_BTN_B);\n    int flags = getConfig(CFG_DEFAULT_BUTTON_MODE, BUTTON_ACTIVE_LOW_PULL_UP);\n    if (id == 0)\n        return getButtonByPin(pa, flags);\n    else if (id == 1)\n        return getButtonByPin(pb, flags);\n    else if (id == 2)\n        return getMultiButton(DEVICE_ID_BUTTON_AB, pa, pb, flags);\n    else {\n        target_panic(PANIC_INVALID_ARGUMENT);\n        return NULL;\n    }\n}\n\n} // namespace pxt\n\nnamespace DigitalInOutPinMethods {\n\n/**\n * Get the push button (connected to GND) for given pin\n */\n//%\nButton_ pushButton(DigitalInOutPin pin) {\n    return pxt::getButtonByPin(pin->name, BUTTON_ACTIVE_LOW_PULL_UP);\n}\n\n} // namespace DigitalInOutPinMethods\n\n//% noRefCounting fixedInstances\nnamespace ButtonMethods {\n/**\n * Do something when a button (`A`, `B` or both `A` + `B`) is clicked, double clicked, etc...\n * @param button the button that needs to be clicked or used\n * @param event the kind of button gesture that needs to be detected\n * @param body code to run when the event is raised\n */\n//% help=input/button/on-event\n//% blockId=buttonEvent block=\"on %button|%event\"\n//% blockNamespace=input\n//% button.fieldEditor=\"gridpicker\"\n//% button.fieldOptions.width=220\n//% button.fieldOptions.columns=3\n//% weight=96 blockGap=12\n//% trackArgs=0\nvoid onEvent(Button_ button, ButtonEvent ev, Action body) {\n    registerWithDal(button->id, (int)ev, body);\n}\n\n/**\n * Check if a button is pressed or not.\n * @param button the button to query the request\n */\n//% help=input/button/is-pressed\n//% block=\"%button|is pressed\"\n//% blockId=buttonIsPressed\n//% blockNamespace=input\n//% button.fieldEditor=\"gridpicker\"\n//% button.fieldOptions.width=220\n//% button.fieldOptions.columns=3\n//% weight=50 blockGap=8\n//% trackArgs=0\nbool isPressed(Button_ button) {\n    return button->isPressed();\n}\n\n/**\n * See if the button was pressed again since the last time you checked.\n * @param button the button to query the request\n */\n//% help=input/button/was-pressed\n//% block=\"%button|was pressed\"\n//% blockId=buttonWasPressed\n//% blockNamespace=input\n//% button.fieldEditor=\"gridpicker\"\n//% button.fieldOptions.width=220\n//% button.fieldOptions.columns=3\n//% group=\"More\" weight=46 blockGap=8\n//% trackArgs=0\nbool wasPressed(Button_ button) {\n    return button->wasPressed();\n}\n\n/**\n * Gets the component identifier for the button\n */\n//%\nint id(Button_ button) {\n    return button->id;\n}\n\n} // namespace ButtonMethods\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    /**\n     * User interaction on buttons\n     */\n\n    declare const enum ButtonEvent {\n    //% block=\"click\"\n    Click = 3,  // DEVICE_BUTTON_EVT_CLICK\n    //% block=\"long click\"\n    LongClick = 4,  // DEVICE_BUTTON_EVT_LONG_CLICK\n    //% block=\"up\"\n    Up = 2,  // DEVICE_BUTTON_EVT_UP\n    //% block=\"down\"\n    Down = 1,  // DEVICE_BUTTON_EVT_DOWN\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "jacdac.ts": "namespace jacdac {\n    export class ButtonService extends SensorHost {\n        private button: Button;\n        constructor(name: string, button: Button) {\n            super(name, jacdac.BUTTON_DEVICE_CLASS);\n            this.button = button;\n            jacdac.BUTTON_EVENTS.forEach((ev, j) => {\n                control.onEvent(this.button.id(), ev, () => {\n                    this.raiseHostEvent(ev);\n                })\n            })\n        }\n\n        serializeState() {\n            const buf = control.createBuffer(1);\n            buf.setNumber(NumberFormat.UInt8LE, 0, this.button.isPressed() ? 0xff : 0);\n            return buf;\n        }\n    }\n\n    /**\n     * Connects the events of the button to the controller button\n     * @param controllerButton \n     * @param button \n     */\n    //% blockId=jdattachctrlbtn block=\"jacdac attach $button to controller $controllerButton\"\n    //% group=\"Controller\"\n    export function attachButtonToController(button: Button, controllerButton: JDControllerButton) {\n        button.onEvent(ButtonEvent.Up, () => jacdac.controllerClient.setIsPressed(controllerButton, false));\n        button.onEvent(ButtonEvent.Down, () => jacdac.controllerClient.setIsPressed(controllerButton, true));\n        jacdac.controllerClient.start();\n    }\n}",
            "pxt.json": "{\n    \"name\": \"buttons\",\n    \"description\": \"Button A and B drivers\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"buttons.cpp\",\n        \"jacdac.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\n\n\ndeclare interface DigitalInOutPin {\n    /**\n     * Get the push button (connected to GND) for given pin\n     */\n    //% shim=DigitalInOutPinMethods::pushButton\n    pushButton(): Button;\n}\n\n\n\n    //% noRefCounting fixedInstances\ndeclare interface Button {\n    /**\n     * Do something when a button (`A`, `B` or both `A` + `B`) is clicked, double clicked, etc...\n     * @param button the button that needs to be clicked or used\n     * @param event the kind of button gesture that needs to be detected\n     * @param body code to run when the event is raised\n     */\n    //% help=input/button/on-event\n    //% blockId=buttonEvent block=\"on %button|%event\"\n    //% blockNamespace=input\n    //% button.fieldEditor=\"gridpicker\"\n    //% button.fieldOptions.width=220\n    //% button.fieldOptions.columns=3\n    //% weight=96 blockGap=12\n    //% trackArgs=0 shim=ButtonMethods::onEvent\n    onEvent(ev: ButtonEvent, body: () => void): void;\n\n    /**\n     * Check if a button is pressed or not.\n     * @param button the button to query the request\n     */\n    //% help=input/button/is-pressed\n    //% block=\"%button|is pressed\"\n    //% blockId=buttonIsPressed\n    //% blockNamespace=input\n    //% button.fieldEditor=\"gridpicker\"\n    //% button.fieldOptions.width=220\n    //% button.fieldOptions.columns=3\n    //% weight=50 blockGap=8\n    //% trackArgs=0 shim=ButtonMethods::isPressed\n    isPressed(): boolean;\n\n    /**\n     * See if the button was pressed again since the last time you checked.\n     * @param button the button to query the request\n     */\n    //% help=input/button/was-pressed\n    //% block=\"%button|was pressed\"\n    //% blockId=buttonWasPressed\n    //% blockNamespace=input\n    //% button.fieldEditor=\"gridpicker\"\n    //% button.fieldOptions.width=220\n    //% button.fieldOptions.columns=3\n    //% group=\"More\" weight=46 blockGap=8\n    //% trackArgs=0 shim=ButtonMethods::wasPressed\n    wasPressed(): boolean;\n\n    /**\n     * Gets the component identifier for the button\n     */\n    //% shim=ButtonMethods::id\n    id(): int32;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": ""
        },
        "accelerometer": {
            "README.md": "# accelerometer\n\nThe accelerometer library.\n\n",
            "accelerometer.cpp": "#include \"pxt.h\"\n#include \"axis.h\"\n#include \"Pin.h\"\n#include \"I2C.h\"\n#include \"CoordinateSystem.h\"\n#include \"Accelerometer.h\"\n\nenum class Dimension {\n    //% block=x\n    X = 0,\n    //% block=y\n    Y = 1,\n    //% block=z\n    Z = 2,\n    //% block=strength\n    Strength = 3,\n};\n\nenum class Rotation {\n    //% block=pitch\n    Pitch = 0,\n    //% block=roll\n    Roll = 1,\n};\n\nenum class AcceleratorRange {\n    /**\n     * The accelerator measures forces up to 1 gravity\n     */\n    //%  block=\"1g\"\n    OneG = 1,\n    /**\n     * The accelerator measures forces up to 2 gravity\n     */\n    //%  block=\"2g\"\n    TwoG = 2,\n    /**\n     * The accelerator measures forces up to 4 gravity\n     */\n    //% block=\"4g\"\n    FourG = 4,\n    /**\n     * The accelerator measures forces up to 8 gravity\n     */\n    //% block=\"8g\"\n    EightG = 8\n};\n\nenum class Gesture {\n    /**\n     * Raised when shaken\n     */\n    //% block=shake\n    Shake = ACCELEROMETER_EVT_SHAKE,\n    /**\n     * Raised when the device tilts up\n     */\n    //% block=\"tilt up\"\n    TiltUp = ACCELEROMETER_EVT_TILT_UP,\n    /**\n     * Raised when the device tilts down\n     */\n    //% block=\"tilt down\"\n    TiltDown = ACCELEROMETER_EVT_TILT_DOWN,\n    /**\n     * Raised when the screen is pointing left\n     */\n    //% block=\"tilt left\"\n    TiltLeft = ACCELEROMETER_EVT_TILT_LEFT,\n    /**\n     * Raised when the screen is pointing right\n     */\n    //% block=\"tilt right\"\n    TiltRight = ACCELEROMETER_EVT_TILT_RIGHT,\n    /**\n     * Raised when the screen faces up\n     */\n    //% block=\"face up\"\n    FaceUp = ACCELEROMETER_EVT_FACE_UP,\n    /**\n     * Raised when the screen is pointing up and the board is horizontal\n     */\n    //% block=\"face down\"\n    FaceDown = ACCELEROMETER_EVT_FACE_DOWN,\n    /**\n     * Raised when the board is falling!\n     */\n    //% block=\"free fall\"\n    FreeFall = ACCELEROMETER_EVT_FREEFALL,\n    /**\n     * Raised when a 2G shock is detected\n     */\n    //% block=\"2g (step)\"\n    TwoG = ACCELEROMETER_EVT_2G,\n    /**\n     * Raised when a 3G shock is detected\n     */\n    //% block=\"3g\"\n    ThreeG = ACCELEROMETER_EVT_3G,\n    /**\n     * Raised when a 6G shock is detected\n     */\n    //% block=\"6g\"\n    SixG = ACCELEROMETER_EVT_6G,\n    /**\n     * Raised when a 8G shock is detected\n     */\n    //% block=\"8g\"\n    EightG = ACCELEROMETER_EVT_8G\n};\n\n// defined in accelhw.cpp\nnamespace pxt {\ncodal::Accelerometer *getAccelerometer();\n\nvoid initAccelRandom() {\n    auto acc = getAccelerometer();\n    if (!acc) return;\n\n    for (int i = 0; i < 10; ++i) {\n        acc->requestUpdate();\n        if (acc->getY())\n            break;\n        fiber_sleep(5);\n    }\n    int x = acc->getX(), y = acc->getY(), z = acc->getZ();\n    DMESG(\"random seed from accel %d,%d,%d\", x, y, z);\n    seedAddRandom(x);\n    seedAddRandom(y);\n    seedAddRandom(z);\n}\n\n} // namespace pxt\n\nnamespace input {\n/**\n * Do something when a gesture happens (like shaking the board).\n * @param gesture the type of gesture to track, eg: Gesture.Shake\n * @param body code to run when gesture is raised\n */\n//% help=input/on-gesture\n//% blockId=device_gesture_event block=\"on |%NAME\"\n//% parts=\"accelerometer\"\n//% gesture.fieldEditor=\"gridpicker\"\n//% gesture.fieldOptions.width=220\n//% gesture.fieldOptions.columns=3\n//% weight=92 blockGap=12\nvoid onGesture(Gesture gesture, Action body) {\n    auto acc = getAccelerometer();\n    if (!acc) return;\n\n    acc->requestUpdate();\n    int gi = (int)gesture;\n    if (gi == ACCELEROMETER_EVT_3G && acc->getRange() < 3)\n        acc->setRange(4);\n    else if ((gi == ACCELEROMETER_EVT_6G || gi == ACCELEROMETER_EVT_8G) && acc->getRange() < 6)\n        acc->setRange(8);\n    registerWithDal(DEVICE_ID_GESTURE, gi, body);\n}\n\n/**\n * Get the acceleration value in milli-gravitys (when the board is laying flat with the screen up,\n * x=0, y=0 and z=-1023)\n * @param dimension TODO\n */\n//% help=input/acceleration\n//% blockId=device_acceleration block=\"acceleration (mg)|%NAME\"\n//% parts=\"accelerometer\"\n//% dimension.fieldEditor=\"gridpicker\"\n//% dimension.fieldOptions.width=180\n//% dimension.fieldOptions.columns=2\n//% weight=42 blockGap=8\nint acceleration(Dimension dimension) {\n    auto acc = getAccelerometer();\n    if (!acc) return 0;\n\n    acc->requestUpdate();\n    switch (dimension) {\n    case Dimension::X:\n        return acc->getX();\n    case Dimension::Y:\n        return acc->getY();\n    case Dimension::Z:\n        return acc->getZ();\n    case Dimension::Strength:\n        float x = acc->getX();\n        float y = acc->getY();\n        float z = acc->getZ();\n        return (int)sqrtf(x * x + y * y + z * z);\n    }\n    return 0;\n}\n\n/**\n * Get the temperature in Celsius or Fahrenheit degrees.\n */\n//% blockId=device_temperature block=\"temperature in c\"\n//% parts=\"accelerometer\"\n//% weight=26\nint temperature() {\n    auto acc = getAccelerometer();\n    if (!acc) return 0;\n    //acc->requestUpdate();\n    return acc->getTemperature();\n    // auto thermo = getWTemp();\n    // // default to 21 if not present\n    // int value = (NULL != thermo) ? thermo->sensor.getValue() : 21;\n    // if (unit == TemperatureUnit::Celsius) return value;\n    // else return (value * 18) / 10 + 32;\n}\n\n/**\n * The pitch or roll of the device, rotation along the ``x-axis`` or ``y-axis``, in degrees.\n * @param kind TODO\n */\n//% help=input/rotation\n//% blockId=device_get_rotation block=\"rotation ()|%NAME\"\n//% parts=\"accelerometer\"\n//% group=\"More\" weight=38\nint rotation(Rotation kind) {\n    auto acc = getAccelerometer();\n    if (!acc) return 0;\n\n    acc->requestUpdate();\n    switch (kind) {\n    case Rotation::Pitch:\n        return acc->getPitch();\n    case Rotation::Roll:\n        return acc->getRoll();\n    }\n    return 0;\n}\n\n/**\n * Sets the accelerometer sample range in gravities.\n * @param range a value describe the maximum strengh of acceleration measured\n */\n//% help=input/set-accelerometer-range\n//% blockId=device_set_accelerometer_range block=\"set accelerometer|range %range\"\n//% weight=5\n//% parts=\"accelerometer\"\n//% group=\"More\" weight=15 blockGap=8\nvoid setAccelerometerRange(AcceleratorRange range) {\n    auto acc = getAccelerometer();\n    if (!acc) return;\n\n    acc->setRange((int)range);\n}\n\n} // namespace input\n",
            "accelhw.cpp": "// This supports a few different accelerometers.\n// If desired, overrides PXT_SUPPORT_* in platform.h (note that only LIS3DH is on by default).\n// Then accelerometer can be changed with config.ACCELEROMETER_TYPE in TypeScript.\n// This file can be overridden alltogether by a target if a different accelerometer is desired.\n\n#include \"pxt.h\"\n#include \"axis.h\"\n#include \"Pin.h\"\n#include \"I2C.h\"\n#include \"CoordinateSystem.h\"\n#include \"CodalDmesg.h\"\n\n#ifndef PXT_DEFAULT_ACCELEROMETER\n#define PXT_DEFAULT_ACCELEROMETER -1\n#endif\n\n#ifndef PXT_SUPPORT_LIS3DH\n#define PXT_SUPPORT_LIS3DH 1\n#endif\n#if PXT_SUPPORT_LIS3DH\n#include \"LIS3DH.h\"\n#endif\n\n#ifndef PXT_SUPPORT_MMA8653\n#define PXT_SUPPORT_MMA8653 0\n#endif\n#if PXT_SUPPORT_MMA8653\n#include \"MMA8653.h\"\n#endif\n\n#ifndef PXT_SUPPORT_MMA8453\n#define PXT_SUPPORT_MMA8453 0\n#endif\n#if PXT_SUPPORT_MMA8453\n#include \"MMA8453.h\"\n#endif\n\n#ifndef PXT_SUPPORT_FXOS8700\n#define PXT_SUPPORT_FXOS8700 0\n#endif\n#if PXT_SUPPORT_FXOS8700\n#include \"FXOS8700Accelerometer.h\"\n#endif\n\n#ifndef PXT_SUPPORT_MSA300\n#define PXT_SUPPORT_MSA300 0\n#endif\n#if PXT_SUPPORT_MSA300\n#include \"MSA300.h\"\n#endif\n\n#ifndef PXT_SUPPORT_MPU6050\n#define PXT_SUPPORT_MPU6050 0\n#endif\n#if PXT_SUPPORT_MPU6050\n#include \"MPU6050.h\"\n#endif\n\n#if defined(CODAL_ACCELEROMETER)\n#error \"please define PXT_SUPPORT_*\"\n#endif\n\nnamespace pxt {\n\n    /*\nRAW,                            0x000000\nSIMPLE_CARTESIAN,               0x000001\nNORTH_EAST_DOWN,                0x000002\nNORTH_EAST_UP                   0x000003\n\nCOORDINATE_SPACE_ROTATED_0      0x000000\nCOORDINATE_SPACE_ROTATED_90     0x000010\nCOORDINATE_SPACE_ROTATED_180    0x000020\nCOORDINATE_SPACE_ROTATED_270    0x000030\n\nNOT_UPSIDE_DOWN                 0x000000\nUPSIDE_DOWN                     0x000100\n    */\n\nstatic CoordinateSpace boardCoordinateSpace() {\n    int defaultSpace = ((int)ACC_SYSTEM) | ((int)ACC_ROTATION << 4) | (ACC_UPSIDEDOWN ? 0x100 : 0x000);\n#if defined(STM32F4) && PXT_SUPPORT_MPU6050\n    // meowbit\n    if (getConfig(CFG_ACCELEROMETER_TYPE, -1) == ACCELEROMETER_TYPE_MPU6050)\n        defaultSpace = 0x33 | 0x100; // ACC_UPSIDEDOWN\n#endif\n    int space = getConfig(CFG_ACCELEROMETER_SPACE, defaultSpace);\n    DMESG(\"coordinate space: %d / %d, %s\", space & 0xf, (space >> 4) & 0xf, space & 0x100 ? \"upside\" : \"normal\");\n    return CoordinateSpace((CoordinateSystem)(space & 0xf), !!(space & 0x100), (space >> 4) & 0xf);\n}\n\n// Wrapper classes\nclass WAccel {\n    CoordinateSpace space;\n\t\t\n  public:\n    Accelerometer *acc;\n    WAccel() \n    : space(boardCoordinateSpace())\n    , acc(NULL) {\n        DMESG(\"acc: mounting\");\n        auto sda = LOOKUP_PIN(ACCELEROMETER_SDA);\n        auto scl = LOOKUP_PIN(ACCELEROMETER_SCL);\n        if (NULL == sda || NULL == scl) { // use default i2c instead\n            DMESG(\"acc: using SDA, SCL\");\n            sda = LOOKUP_PIN(SDA);\n            scl = LOOKUP_PIN(SCL);\n        }\n        codal::I2C* i2c = pxt::getI2C(sda, scl);\n        if (NULL == i2c) {\n            DMESG(\"acc: no i2c available\");\n            return;\n        }\n\t\t\n        int accType = getConfig(CFG_ACCELEROMETER_TYPE, PXT_DEFAULT_ACCELEROMETER);\n        acc = instantiateAccelerometer(accType, i2c);\n        if (NULL == acc) {\n            int accDetect = detectAccelerometer(i2c);\n            if (accDetect < 0) {\n                DMESG(\"acc: not detected\");\n            } else {\n                DMESG(\"acc: detected %d\", accDetect);\n                acc = instantiateAccelerometer(accDetect, i2c);\n            }\n        }\n\n        if (NULL == acc) {\n            // the accelerometer might be damaged or incorrectly configured,\n            // in doubt, we just ignore it            \n            if (LOOKUP_PIN(ACCELEROMETER_SDA))\n                DMESG(\"acc: damaged accelereomter or invalid ACCELEROMETER_TYPE\");\n            else\n                DMESG(\"acc: invalid ACCELEROMETER_TYPE\");\n            // acc is already NULL, do nothing\n        }\n        else {\n            // acc->init(); - doesn't do anything\n            acc->configure();\n            acc->requestUpdate();\n            DMESG(\"acc: mounted\");\n        }\n    }\n\nprivate:\n\n\tint detectAccelerometer(codal::I2C* i2c){\n\t\tuint8_t data;\n\t\tint result;\n\n#if PXT_SUPPORT_LIS3DH\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_LIS3DH, LIS3DH_WHOAMI, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_LIS3DH;\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_LIS3DH_ALT, LIS3DH_WHOAMI, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_LIS3DH_ALT;\n#endif\n\t\t\t\n#if PXT_SUPPORT_MMA8453\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_MMA8453, MMA8653_WHOAMI/*MMA8453 is similar to MMA8653*/ , &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_MMA8453;\n#endif\n\n#if PXT_SUPPORT_FXOS8700\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_FXOS8700, FXOS8700_WHO_AM_I, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_FXOS8700;\n#endif\n\t\t\n#if PXT_SUPPORT_MMA8653\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_MMA8653,  MMA8653_WHOAMI, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_MMA8653;\t\n#endif\n\t\t\n#if PXT_SUPPORT_MSA300\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_MSA300, MSA300_WHOAMI, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_MSA300;\t\n#endif\n\t\t\t\n#if PXT_SUPPORT_MPU6050\n\t\tresult = i2c->readRegister(ACCELEROMETER_TYPE_MPU6050, MPU6050_WHOAMI, &data, 1);\n\t\tif (result ==0)\n\t\t\treturn ACCELEROMETER_TYPE_MPU6050;\t\n#endif \n\n\t\treturn -1;\n\t}\n\n    codal::Accelerometer* instantiateAccelerometer(int accType, codal::I2C* i2c) {\n        switch (accType) {\n#if PXT_SUPPORT_LIS3DH\n        case ACCELEROMETER_TYPE_LIS3DH:\n        case ACCELEROMETER_TYPE_LIS3DH_ALT:\n            return new LIS3DH(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT), space, accType);\n#endif\n#if PXT_SUPPORT_MSA300\n        case ACCELEROMETER_TYPE_MSA300:\n            return new MSA300(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT), space);\n#endif\n#if PXT_SUPPORT_FXOS8700\n        case ACCELEROMETER_TYPE_FXOS8700: {\n            // TODO: singleton when exposing gyro\n            auto fox = new FXOS8700(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT));\n            return new FXOS8700Accelerometer(*fox, space);\n        }\n#endif\n#if PXT_SUPPORT_MMA8653\n        case ACCELEROMETER_TYPE_MMA8653:\n            return new MMA8653(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT), space);\n#endif\n#if PXT_SUPPORT_MMA8453\n        case ACCELEROMETER_TYPE_MMA8453:\n            return new MMA8453(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT), space);\n#endif\n#if PXT_SUPPORT_MPU6050\n        case ACCELEROMETER_TYPE_MPU6050:\n            return new MPU6050(*i2c, *LOOKUP_PIN(ACCELEROMETER_INT), space);\n#endif\n        default:\n            return NULL;\n        }\n    }\n\n};\n\nSINGLETON_IF_PIN(WAccel, ACCELEROMETER_INT);\n\ncodal::Accelerometer *getAccelerometer() {\n    auto wacc = getWAccel();\n    return wacc ? wacc->acc : NULL;\n}\n\n} // namespace pxt\n",
            "axis.h": "// Override in target to change inversion of axis\n\n#define ACC_SYSTEM NORTH_EAST_UP\n#define ACC_UPSIDEDOWN false\n#define ACC_ROTATION COORDINATE_SPACE_ROTATED_0\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum Dimension {\n    //% block=x\n    X = 0,\n    //% block=y\n    Y = 1,\n    //% block=z\n    Z = 2,\n    //% block=strength\n    Strength = 3,\n    }\n\n\n    declare const enum Rotation {\n    //% block=pitch\n    Pitch = 0,\n    //% block=roll\n    Roll = 1,\n    }\n\n\n    declare const enum AcceleratorRange {\n    /**\n     * The accelerator measures forces up to 1 gravity\n     */\n    //%  block=\"1g\"\n    OneG = 1,\n    /**\n     * The accelerator measures forces up to 2 gravity\n     */\n    //%  block=\"2g\"\n    TwoG = 2,\n    /**\n     * The accelerator measures forces up to 4 gravity\n     */\n    //% block=\"4g\"\n    FourG = 4,\n    /**\n     * The accelerator measures forces up to 8 gravity\n     */\n    //% block=\"8g\"\n    EightG = 8,\n    }\n\n\n    declare const enum Gesture {\n    /**\n     * Raised when shaken\n     */\n    //% block=shake\n    Shake = 11,  // ACCELEROMETER_EVT_SHAKE\n    /**\n     * Raised when the device tilts up\n     */\n    //% block=\"tilt up\"\n    TiltUp = 1,  // ACCELEROMETER_EVT_TILT_UP\n    /**\n     * Raised when the device tilts down\n     */\n    //% block=\"tilt down\"\n    TiltDown = 2,  // ACCELEROMETER_EVT_TILT_DOWN\n    /**\n     * Raised when the screen is pointing left\n     */\n    //% block=\"tilt left\"\n    TiltLeft = 3,  // ACCELEROMETER_EVT_TILT_LEFT\n    /**\n     * Raised when the screen is pointing right\n     */\n    //% block=\"tilt right\"\n    TiltRight = 4,  // ACCELEROMETER_EVT_TILT_RIGHT\n    /**\n     * Raised when the screen faces up\n     */\n    //% block=\"face up\"\n    FaceUp = 5,  // ACCELEROMETER_EVT_FACE_UP\n    /**\n     * Raised when the screen is pointing up and the board is horizontal\n     */\n    //% block=\"face down\"\n    FaceDown = 6,  // ACCELEROMETER_EVT_FACE_DOWN\n    /**\n     * Raised when the board is falling!\n     */\n    //% block=\"free fall\"\n    FreeFall = 7,  // ACCELEROMETER_EVT_FREEFALL\n    /**\n     * Raised when a 2G shock is detected\n     */\n    //% block=\"2g (step)\"\n    TwoG = 12,  // ACCELEROMETER_EVT_2G\n    /**\n     * Raised when a 3G shock is detected\n     */\n    //% block=\"3g\"\n    ThreeG = 8,  // ACCELEROMETER_EVT_3G\n    /**\n     * Raised when a 6G shock is detected\n     */\n    //% block=\"6g\"\n    SixG = 9,  // ACCELEROMETER_EVT_6G\n    /**\n     * Raised when a 8G shock is detected\n     */\n    //% block=\"8g\"\n    EightG = 10,  // ACCELEROMETER_EVT_8G\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "gesture.ts": "namespace input {\n    /**\n     * Registers a custom gesture recognizer\n     * @param id \n     * @param update true if gesture detected\n     * @param handler \n     */\n    export function onCustomGesture(\n        id: number, \n        update: () => boolean, \n        handler: () => void) {\n        if (!update || !handler) return;\n\n        input.acceleration(Dimension.X); // turn on accelerometer\n        const evid = DAL.ACCELEROMETER_EVT_2G + 1 + (id | 0);\n        control.onEvent(DAL.DEVICE_ID_GESTURE, evid, handler);\n        let sigma = 0;\n        control.onIdle(function() {\n            if (sigma > 0) {\n                sigma--;\n            } else if(update()) {\n                sigma = 6;\n                control.raiseEvent(DAL.DEVICE_ID_GESTURE, evid);\n            }\n        })\n    }\n}",
            "jacdac.ts": "namespace jacdac {\n    export class AccelerometerService extends jacdac.SensorHost {\n        constructor(name: string) {\n            super(\"acc\", jacdac.ACCELEROMETER_DEVICE_CLASS);\n            // TODO: catch all event\n            input.onGesture(Gesture.Shake, () => this.raiseHostEvent(JDGesture.Shake));\n            input.onGesture(Gesture.TiltUp, () => this.raiseHostEvent(JDGesture.TiltUp));\n            input.onGesture(Gesture.TiltDown, () => this.raiseHostEvent(JDGesture.TiltDown));\n            input.onGesture(Gesture.TiltLeft, () => this.raiseHostEvent(JDGesture.TiltLeft));\n            input.onGesture(Gesture.TiltRight, () => this.raiseHostEvent(JDGesture.TiltRight));\n            input.onGesture(Gesture.FaceUp, () => this.raiseHostEvent(JDGesture.FaceUp));\n            input.onGesture(Gesture.FaceDown, () => this.raiseHostEvent(JDGesture.FaceDown));\n            input.onGesture(Gesture.FreeFall, () => this.raiseHostEvent(JDGesture.FreeFall));\n            input.onGesture(Gesture.ThreeG, () => this.raiseHostEvent(JDGesture.ThreeG));\n            input.onGesture(Gesture.SixG, () => this.raiseHostEvent(JDGesture.SixG));\n            input.onGesture(Gesture.EightG, () => this.raiseHostEvent(JDGesture.EightG));\n            input.onGesture(Gesture.TwoG, () => this.raiseHostEvent(JDGesture.TwoG));\n        }\n\n        raiseCustomGestureEvent(id: number) {\n            this.raiseHostEvent(JDGesture.TwoG + 1 + (id | 0));\n        }\n\n        protected serializeState(): Buffer {\n            const buf = control.createBuffer(6);\n            buf.setNumber(NumberFormat.Int16LE, 0, input.acceleration(Dimension.X));\n            buf.setNumber(NumberFormat.Int16LE, 2, input.acceleration(Dimension.Y));\n            buf.setNumber(NumberFormat.Int16LE, 4, input.acceleration(Dimension.Z));\n            return buf;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"accelerometer service\"\n    export const accelerometerService = new AccelerometerService(\"acc\");\n}",
            "ns.ts": "\n//% color=\"#B4009E\" weight=98 icon=\"\\uf192\"\nnamespace input {\n}",
            "part.svg": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n   xmlns:cc=\"http://creativecommons.org/ns#\"\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n   width=\"92.834999\"\n   height=\"48.351559\"\n   y=\"0\"\n   x=\"0\"\n   viewBox=\"0 0 92.834999 48.351559\"\n   id=\"svg4493\"\n   version=\"1.1\"\n   sodipodi:docname=\"part.svg\"\n   inkscape:version=\"0.92.1 r15371\">\n  <metadata\n     id=\"metadata4514\">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about=\"\">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id=\"defs4512\" />\n  <sodipodi:namedview\n     pagecolor=\"#ffffff\"\n     bordercolor=\"#666666\"\n     borderopacity=\"1\"\n     objecttolerance=\"10\"\n     gridtolerance=\"10\"\n     guidetolerance=\"10\"\n     inkscape:pageopacity=\"0\"\n     inkscape:pageshadow=\"2\"\n     inkscape:window-width=\"1600\"\n     inkscape:window-height=\"837\"\n     id=\"namedview4510\"\n     showgrid=\"false\"\n     inkscape:zoom=\"8.2495794\"\n     inkscape:cx=\"42.339269\"\n     inkscape:cy=\"33.871495\"\n     inkscape:window-x=\"-8\"\n     inkscape:window-y=\"-8\"\n     inkscape:window-maximized=\"1\"\n     inkscape:current-layer=\"svg4493\"\n     fit-margin-top=\"0\"\n     fit-margin-left=\"0\"\n     fit-margin-right=\"0\"\n     fit-margin-bottom=\"0\"\n     units=\"px\"\n     inkscape:measure-start=\"-5.21239,56.8514\"\n     inkscape:measure-end=\"23.6376,42.184\" />\n  <rect\n     rx=\"1.1604376\"\n     y=\"0.048351564\"\n     height=\"48.254856\"\n     width=\"92.738297\"\n     id=\"rect5038\"\n     x=\"0.048351564\"\n     style=\"fill:#5a86c2;stroke:#8e8e8e;stroke-width:0.09670313\" />\n  <text\n     id=\"text5094\"\n     y=\"40.50362\"\n     x=\"4.5252295\"\n     style=\"font-weight:400;font-size:13.53218174px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.37589398\"\n     font-weight=\"400\"\n     font-size=\"14.4\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\"\n     transform=\"scale(0.99296988,1.0070799)\">\n    <tspan\n       y=\"40.50362\"\n       x=\"4.5252295\"\n       id=\"tspan5092\"\n       style=\"font-size:10.02383709px;stroke-width:0.37589398\">ACCELEROMETER</tspan>\n  </text>\n  <rect\n     rx=\"0.78499681\"\n     y=\"32.338985\"\n     x=\"77.394577\"\n     height=\"10.968015\"\n     width=\"11.303953\"\n     id=\"rect5096\"\n     style=\"stroke:#000000;stroke-width:0.3893353\" />\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.9231954\"\n     cx=\"-9.2452202\"\n     id=\"ACCELEROMETER_INT\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-6\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5\"\n     y=\"-7.1094813\"\n     x=\"10.925499\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       y=\"-7.1094813\"\n       x=\"10.925499\"\n       id=\"tspan5098-2-4\"\n       style=\"stroke-width:0.32272473\">INT</tspan>\n  </text>\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.9231954\"\n     cx=\"-39.334583\"\n     id=\"SDA\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-3\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5-4\"\n     y=\"-37.301361\"\n     x=\"11.108133\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       id=\"tspan5156\"\n       y=\"-37.301361\"\n       x=\"11.108133\"\n       style=\"stroke-width:0.32272473\">SDA</tspan>\n  </text>\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.9231954\"\n     cx=\"-70.055618\"\n     id=\"VCC\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-1\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5-4-9\"\n     y=\"-68.672005\"\n     x=\"11.428495\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       id=\"tspan5156-5\"\n       y=\"-68.672005\"\n       x=\"11.428495\"\n       style=\"stroke-width:0.32272473\">VCC</tspan>\n  </text>\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.9231954\"\n     cx=\"-85.100304\"\n     id=\"GND\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-0\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5-4-9-3\"\n     y=\"-83.929306\"\n     x=\"11.242865\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       id=\"tspan5156-5-7\"\n       y=\"-83.929306\"\n       x=\"11.242865\"\n       style=\"stroke-width:0.32272473\">GND</tspan>\n  </text>\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.9231954\"\n     cx=\"-24.289902\"\n     id=\"SCL\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-6-2\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5-47\"\n     y=\"-22.366781\"\n     x=\"11.108133\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       y=\"-22.366781\"\n       x=\"11.108133\"\n       id=\"tspan5098-2-4-5\"\n       style=\"stroke-width:0.32272473\">SCL</tspan>\n  </text>\n  <ellipse\n     style=\"fill:#ffffff;stroke:#000000;stroke-width:0.32272443\"\n     cy=\"-5.5968285\"\n     cx=\"-54.547421\"\n     id=\"SDO\"\n     transform=\"scale(-1)\"\n     rx=\"3.23646\"\n     ry=\"3.218055\"\n     inkscape:label=\"#path5042-7-3\" />\n  <text\n     transform=\"matrix(0,1.0070833,-0.99296652,0,0,0)\"\n     id=\"text5100-8-5-4-4\"\n     y=\"-52.621964\"\n     x=\"10.784061\"\n     style=\"font-weight:400;font-size:6.13176918px;line-height:1.25;font-family:consolas;-inkscape-font-specification:consolas;letter-spacing:0;word-spacing:0;fill:#ffffff;stroke-width:0.32272473\"\n     font-weight=\"400\"\n     font-size=\"1.9\"\n     letter-spacing=\"0\"\n     word-spacing=\"0\">\n    <tspan\n       id=\"tspan5156-4\"\n       y=\"-52.621964\"\n       x=\"10.784061\"\n       style=\"stroke-width:0.32272473\">SDO</tspan>\n  </text>\n</svg>\n",
            "pxt.json": "{\n    \"name\": \"accelerometer\",\n    \"description\": \"The accelerometer library\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"accelerometer.cpp\",\n        \"accelhw.cpp\",\n        \"axis.h\",\n        \"gesture.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"ns.ts\",\n        \"pxtparts.json\",\n        \"part.svg\",\n        \"jacdac.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"yotta\": {\n        \"optionalConfig\": {\n            \"PXT_SUPPORT_LIS3DH\": 1,\n            \"PXT_SUPPORT_MMA8653\": 1,\n            \"PXT_SUPPORT_MMA8453\": 1,\n            \"PXT_SUPPORT_FXOS8700\": 1,\n            \"PXT_SUPPORT_MPU6050\": 1\n        },\n        \"userConfigs\": [\n            {\n                \"description\": \"Support for LIS3DH accelerometer.\",\n                \"config\": {\n                    \"PXT_SUPPORT_LIS3DH\": 1\n                }\n            },\n            {\n                \"description\": \"Support for MMA8653 accelerometer.\",\n                \"config\": {\n                    \"PXT_SUPPORT_MMA8653\": 1\n                }\n            },\n            {\n                \"description\": \"Support for MMA8453 accelerometer.\",\n                \"config\": {\n                    \"PXT_SUPPORT_MMA8453\": 1\n                }\n            },\n            {\n                \"description\": \"Support for FXOS8700 accelerometer.\",\n                \"config\": {\n                    \"PXT_SUPPORT_FXOS8700\": 1\n                }\n            },\n            {\n                \"description\": \"Support for MPU6050 accelerometer.\",\n                \"config\": {\n                    \"PXT_SUPPORT_MPU6050\": 1\n                }\n            }\n        ]\n    }\n}\n",
            "pxtparts.json": "{\n  \"accelerometer\": {\n    \"visual\": {\n      \"image\": \"part.svg\",\n      \"width\": 92.83499908447266,\n      \"height\": 48.351558685302734,\n      \"pinDistance\": 15,\n      \"pinLocations\": [\n        {\n          \"x\": 6.009125520265597,\n          \"y\": 2.705139350474586\n        },\n        {\n          \"x\": 36.0982164424424,\n          \"y\": 2.705139350474586\n        },\n        {\n          \"x\": 66.81896669097237,\n          \"y\": 2.705139350474586\n        },\n        {\n          \"x\": 81.86351733614008,\n          \"y\": 2.705139350474586\n        },\n        {\n          \"x\": 21.053670981354,\n          \"y\": 2.705139350474586\n        },\n        {\n          \"x\": 51.31091788377569,\n          \"y\": 2.378772674719472\n        }\n      ]\n    },\n    \"numberOfPins\": 6,\n    \"instantiation\": {\n      \"kind\": \"singleton\"\n    },\n    \"pinDefinitions\": [\n      {\n        \"target\": \"ACCELEROMETER_INT\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      },\n      {\n        \"target\": \"SDA\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      },\n      {\n        \"target\": \"threeVolt\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      },\n      {\n        \"target\": \"ground\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      },\n      {\n        \"target\": \"SCL\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      },\n      {\n        \"target\": \"threeVolt\",\n        \"style\": \"male\",\n        \"orientation\": \"-Z\"\n      }\n    ],\n    \"assembly\": [\n      {\n        \"pinIndices\": [\n          0,\n          1,\n          2,\n          3,\n          4,\n          5\n        ]\n      }\n    ]\n  }\n}",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace input {\n\n    /**\n     * Do something when a gesture happens (like shaking the board).\n     * @param gesture the type of gesture to track, eg: Gesture.Shake\n     * @param body code to run when gesture is raised\n     */\n    //% help=input/on-gesture\n    //% blockId=device_gesture_event block=\"on |%NAME\"\n    //% parts=\"accelerometer\"\n    //% gesture.fieldEditor=\"gridpicker\"\n    //% gesture.fieldOptions.width=220\n    //% gesture.fieldOptions.columns=3\n    //% weight=92 blockGap=12 shim=input::onGesture\n    function onGesture(gesture: Gesture, body: () => void): void;\n\n    /**\n     * Get the acceleration value in milli-gravitys (when the board is laying flat with the screen up,\n     * x=0, y=0 and z=-1023)\n     * @param dimension TODO\n     */\n    //% help=input/acceleration\n    //% blockId=device_acceleration block=\"acceleration (mg)|%NAME\"\n    //% parts=\"accelerometer\"\n    //% dimension.fieldEditor=\"gridpicker\"\n    //% dimension.fieldOptions.width=180\n    //% dimension.fieldOptions.columns=2\n    //% weight=42 blockGap=8 shim=input::acceleration\n    function acceleration(dimension: Dimension): int32;\n\n    /**\n     * Get the temperature in Celsius or Fahrenheit degrees.\n     */\n    //% blockId=device_temperature block=\"temperature in c\"\n    //% parts=\"accelerometer\"\n    //% weight=26 shim=input::temperature\n    function temperature(): int32;\n\n    /**\n     * The pitch or roll of the device, rotation along the ``x-axis`` or ``y-axis``, in degrees.\n     * @param kind TODO\n     */\n    //% help=input/rotation\n    //% blockId=device_get_rotation block=\"rotation ()|%NAME\"\n    //% parts=\"accelerometer\"\n    //% group=\"More\" weight=38 shim=input::rotation\n    function rotation(kind: Rotation): int32;\n\n    /**\n     * Sets the accelerometer sample range in gravities.\n     * @param range a value describe the maximum strengh of acceleration measured\n     */\n    //% help=input/set-accelerometer-range\n    //% blockId=device_set_accelerometer_range block=\"set accelerometer|range %range\"\n    //% weight=5\n    //% parts=\"accelerometer\"\n    //% group=\"More\" weight=15 blockGap=8 shim=input::setAccelerometerRange\n    function setAccelerometerRange(range: AcceleratorRange): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": ""
        },
        "music": {
            "README.md": "# music\n\nThe music library.\n\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum SoundOutputDestination {\n    //% block=\"pin\"\n    Pin = 1,\n    //% block=\"speaker\"\n    Speaker = 0,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "headphone.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"142\" height=\"180\" viewBox=\"0 0 142 180\"><rect ry=\".3\" rx=\"1\" y=\"58.615\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><rect ry=\".3\" rx=\"1\" y=\"32.043\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><path d=\"M.346 7.296c-.394.39-.31 4.797-.18 4.898l13.404 10.18c.117.12.337 4.76.73 4.368l5.506-5.56.01.01 6.51-6.444c.39-.392-4.25-.614-4.366-.73L11.777.612c-.1-.132-4.51-.215-4.898.18L4.087 3.636l-.01-.01-3.73 3.67z\" fill=\"#b3b3b3\"/><rect ry=\"6.85\" rx=\"4.571\" y=\"84.758\" x=\"-20.128\" height=\"75.571\" width=\"39.643\" transform=\"rotate(-45)\"/><rect ry=\".374\" rx=\"1.038\" y=\"29.442\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"55.939\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"82.392\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\"2.317\" rx=\"2.183\" y=\"158.876\" x=\"-9.774\" height=\"25.568\" width=\"18.935\" transform=\"rotate(-45)\"/><path d=\"M128.588 128.82s14.97 11.165 7.547 26.35c-8.426 17.24-25.57 20.653-25.57 20.653\" fill=\"none\" stroke=\"#000\" stroke-width=\"6.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>",
            "jacdac.ts": "namespace jacdac {\n    //% fixedInstances\n    export class MusicService extends Host {\n        constructor() {\n            super(\"mus\", jacdac.MUSIC_DEVICE_CLASS);\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const cmd: JDMusicCommand = data[0];\n            switch(cmd) {\n                case JDMusicCommand.PlayTone:\n                    const freq = data.getNumber(NumberFormat.UInt32LE, 1);\n                    const duration = data.getNumber(NumberFormat.UInt32LE, 5);\n                    music.playTone(freq, duration);\n                    break;\n            }\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"music service\"\n    export const musicService = new MusicService();\n}",
            "melodies.ts": "/*\nThe MIT License (MIT)\n\nCopyright (c) 2013-2016 The MicroPython-on-micro:bit Developers, as listed\nin the accompanying AUTHORS file\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\n// Melodies from file microbitmusictunes.c https://github.com/bbcmicrobit/MicroPython\n\nenum Sounds {\n    //% block=\"power up\"\n    PowerUp,\n    //% block=\"power down\"\n    PowerDown,\n    //% block=\"jump up\"\n    JumpUp,\n    //% block=\"jump down\"\n    JumpDown,\n    //% block=\"ba ding\"\n    BaDing,\n    //% block=\"wawawawaa\"\n    Wawawawaa,\n    //% block=\"magic wand\"\n    MagicWand,\n    //% block=\"siren\"\n    Siren,\n    //% block=\"pew pew\"\n    PewPew\n}\n\nnamespace music {\n    let _soundQueue: control.AnimationQueue;\n\n    /**\n     * Get the melody string for a built-in melody.\n     * @param name the note name, eg: Note.C\n     */\n    //% help=music/sounds\n    //% blockId=music_sounds block=\"%name\"\n    //% blockHidden=true\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=285\n    //% name.fieldOptions.columns=3\n    export function sounds(name: Sounds): string {\n        switch (name) {\n            case Sounds.BaDing:\n                return 'b5:1 e6:3';\n            case Sounds.Wawawawaa:\n                return 'e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8';\n            case Sounds.JumpUp:\n                return 'c5:1 d e f g';\n            case Sounds.JumpDown:\n                return 'g5:1 f e d c';\n            case Sounds.PowerUp:\n                return 'g4:1 c5 e g:2 e:1 g:3';\n            case Sounds.PowerDown:\n                return 'g5:1 d# c g4:2 b:1 c5:3';\n            case Sounds.MagicWand:\n                return 'F#6:1-300 G# A# B C7# D# F F# G# A# B:6'; //A#7:1-200 A:1 A#7:1 A:1 A#7:2\n            case Sounds.Siren:\n                return 'a4 d5 a4 d5 a4 d5';\n            case Sounds.PewPew:\n                return '!1200,200^50';\n            default:\n                return '';\n        }\n    }\n\n    function soundQueue(): control.AnimationQueue {\n        if (!_soundQueue) _soundQueue = new control.AnimationQueue();\n        return _soundQueue;\n    }\n\n    /**\n     * Start playing a sound and don't wait for it to finish.\n     * Notes are expressed as a string of characters with this format: NOTE[octave][:duration]\n     * @param sound the melody to play\n     */\n    //% help=music/play-sound\n    //% blockId=music_play_sound block=\"play sound %sound=music_sounds\"\n    //% parts=\"headphone\"\n    //% weight=95 blockGap=8\n    export function playSound(sound: string) {\n        const queue = soundQueue();\n        const melody = new Melody(sound);\n        control.runInParallel(() => {\n            queue.cancel();\n            queue.runUntilDone(() => melody.playNextNote());\n        })\n        pause(1);\n    }\n\n\n    /**\n     * Play a sound and wait until the sound is done.\n     * Notes are expressed as a string of characters with this format: NOTE[octave][:duration]\n     * @param sound the melody to play\n     */\n    //% help=music/play-sound-until-done\n    //% blockId=music_play_sound_until_done block=\"play sound %sound=music_sounds|until done\"\n    //% parts=\"headphone\"\n    //% weight=94 blockGap=8\n    export function playSoundUntilDone(sound: string) {\n        const queue = soundQueue();\n        const melody = new Melody(sound);\n        queue.runUntilDone(() => melody.playNextNote());\n    }\n\n    /**\n     * Stop all sounds from playing.\n     */\n    //% help=music/stop-all-sounds\n    //% blockId=music_stop_all_sounds block=\"stop all sounds\"\n    //% weight=93\n    export function stopAllSounds() {\n        const queue = soundQueue();\n        queue.cancel();\n        music.rest(1);\n    }\n\n    class Melody {\n        static freqTable: number[];\n        notes: string;\n        duration: number;\n        octave: number;\n        pos: number;\n        tempo: number;\n\n        constructor(notes: string) {\n            this.notes = notes;\n            this.duration = 4; //Default duration (Crotchet)\n            this.octave = 4; //Middle octave\n            this.pos = 0;\n            this.tempo = 120; // default tempo\n            // TODO: use HEX literal\n            if (!Melody.freqTable)\n                Melody.freqTable = [31, 33, 35, 37, 39, 41, 44, 46, 49, 52, 55, 58, 62, 65, 69, 73, 78, 82, 87, 92, 98, 104, 110, 117, 123, 131, 139, 147, 156, 165, 175, 185, 196, 208, 220, 233, 247, 262, 277, 294, 311, 330, 349, 370, 392, 415, 440, 466, 494, 523, 554, 587, 622, 659, 698, 740, 784, 831, 880, 932, 988, 1047, 1109, 1175, 1245, 1319, 1397, 1480, 1568, 1661, 1760, 1865, 1976, 2093, 2217, 2349, 2489, 2637, 2794, 2960, 3136, 3322, 3520, 3729, 3951, 4186, 4435, 4699, 4978, 5274, 5588, 5920, 6272, 6645, 7040, 7459, 7902]\n        }\n\n        hasNextNote() {\n            return this.pos < this.notes.length;\n        }\n\n        scanNextNote(): string {\n            // eat space\n            while (this.pos < this.notes.length) {\n                const c = this.notes[this.pos];\n                if (c != ' ' && c != '\\r' && c != '\\n' && c != '\\t')\n                    break;\n                this.pos++;\n            }\n\n            // read note\n            let note = \"\";\n            while (this.pos < this.notes.length) {\n                const c = this.notes[this.pos];\n                if (c == ' ' || c == '\\r' || c == '\\n' || c == '\\t')\n                    break;\n                note += c;\n                this.pos++;\n            }\n            return note;\n        }\n\n        playNextNote(): boolean {\n            let currNote = this.scanNextNote();\n            if (!currNote)\n                return false;\n\n            enum Token {\n                Note = 0,\n                Octave = 1,\n                Beat = 2,\n                Tempo = 3\n            }\n\n            let note: number = 0;\n            let isrest: boolean = false;\n            let token: string = \"\";\n            let tokenKind = Token.Note;\n            const consumeToken = () => {\n                if (token && tokenKind != Token.Note) {\n                    const d = parseInt(token);\n                    switch (tokenKind) {\n                        case Token.Octave: this.octave = d; break;\n                        case Token.Beat: this.duration = Math.max(1, Math.min(16, d)); break;\n                        case Token.Tempo: this.tempo = Math.max(1, d); break;\n                    }\n                    token = \"\";\n                }\n            }\n            for (let i = 0; i < currNote.length; i++) {\n                let noteChar = currNote.charAt(i);\n                switch (noteChar) {\n                    case 'c': case 'C': note = 1; break;\n                    case 'd': case 'D': note = 3; break;\n                    case 'e': case 'E': note = 5; break;\n                    case 'f': case 'F': note = 6; break;\n                    case 'g': case 'G': note = 8; break;\n                    case 'a': case 'A': note = 10; break;\n                    case 'b': case 'B': note = 12; break;\n                    case 'r': case 'R': isrest = true; break;\n                    case '#': note++; break;\n                    case 'b': note--; break;\n                    case ':':\n                        consumeToken();\n                        tokenKind = Token.Beat;\n                        break;\n                    case '-':\n                        consumeToken();\n                        tokenKind = Token.Tempo;\n                        break;\n                    default:\n                        if(tokenKind == Token.Note)\n                            tokenKind = Token.Octave;\n                        token += noteChar;\n                        break;\n                }\n            }\n            consumeToken();\n            let beat = 15000 / this.tempo;\n            if (isrest) {\n                music.rest(this.duration * beat)\n            } else {\n                const keyNumber = note + (12 * (this.octave - 1));\n                const frequency = Melody.freqTable[keyNumber] || 0;\n                music.playTone(frequency, this.duration * beat);\n            }\n\n            return this.hasNextNote();\n        }\n    }\n}",
            "music.cpp": "#include \"pxt.h\"\n\n#include \"dmac.h\"\n#include \"SAMDDAC.h\"\n#include \"Synthesizer.h\"\n#include \"CodalConfig.h\"\n\n#define NOTE_PAUSE 20\nclass WSynthesizer {\n  public:\n    Synthesizer synth;\n    CODAL_DAC dac;\n\n    WSynthesizer()\n        // DAC always on PA02 on SAMD21\n        : dac(*lookupPin(PA02), synth.output) {\n        synth.setSampleRate(dac.getSampleRate());\n        synth.setVolume(64);\n        synth.setTone(Synthesizer::SquareWaveTone);\n        this->setAmp(true);\n    }\n\n    // turns on/off the speaker amp\n    void setAmp(bool on) {\n        // turn off speaker as needed\n        auto pinAmp = LOOKUP_PIN(SPEAKER_AMP);\n        if (pinAmp) {\n            pinAmp->setDigitalValue(on ? 1 : 0);\n        }\n    }\n};\nSINGLETON(WSynthesizer);\n\nenum class SoundOutputDestination {\n    //% block=\"pin\"\n    Pin = 1,\n    //% block=\"speaker\"\n    Speaker = 0,\n};\n\n\n// override analogWrite for PA02 to use DAC\nnamespace AnalogOutPinMethods {\nvoid analogWrite(AnalogOutPin name, int value) {\n    if (name->name == PA02) {\n        auto pinAmp = LOOKUP_PIN(SPEAKER_AMP);\n        if (pinAmp) pinAmp->setDigitalValue(0);\n        getWSynthesizer()->dac.setValue(value);\n    } else\n        name->setAnalogValue(value);\n}\n}\n\nnamespace music {\n\nBuffer tone; // empty buffer to hold custom tone\n\n/**\n* This function is deprecated.\n*/\n//% help=music/set-tone\n//% weight=1 group=\"Tones\"\n//% deprecated blockHidden=1\n//% blockId=music_set_tone block=\"set tone %buffer\"\nvoid setTone(Buffer buffer) {\n    if (!buffer) return;\n\n    if (buffer->length != TONE_WIDTH * sizeof(uint16_t))\n        return; // invalid length\n\n    if (!tone)\n        registerGC((TValue*)&tone);\n    tone = buffer; // keep a reference to the buffer\n\n    auto synth = &getWSynthesizer()->synth;\n    synth->setTone((const uint16_t*)tone->data);\n}\n\n/**\n* Turn the on-board speaker on or off.\n* @param out the destination for sounds generated by the synthesizer\n*/\n// weight=2\n// blockId=music_set_output block=\"set output %out\"\n// parts=\"speaker\" blockGap=8 advanced=true\nvoid setOutput(SoundOutputDestination out) {\n    getWSynthesizer()->setAmp(out == SoundOutputDestination::Speaker);\n}\n\n/**\n* Set the output volume of the sound synthesizer.\n* @param volume the volume 0...256, eg: 128\n*/\n//% blockId=synth_set_volume block=\"set volume %volume\"\n//% parts=\"speaker\"\n//% volume.min=0 volume.max=256\n//% help=music/set-volume\n//% weight=70\n//% group=\"Volume\"\nvoid setVolume(int volume) {\n    auto synth = &getWSynthesizer()->synth;\n    synth->setVolume(max(0, min(1024, volume * 4)));\n}\n\n/**\n* Play a tone through the speaker for some amount of time.\n* @param frequency pitch of the tone to play in Hertz (Hz), eg: Note.C\n* @param ms tone duration in milliseconds (ms), eg: BeatFraction.Half\n*/\n//% help=music/play-tone\n//% blockId=music_play_note block=\"play tone|at %note=device_note|for %duration=device_beat\"\n//% parts=\"headphone\" async\n//% blockNamespace=music\n//% weight=76 blockGap=8\n//% group=\"Tone\"\nvoid playTone(int frequency, int ms) {\n    auto synth = &getWSynthesizer()->synth;\n\n    if (frequency <= 0) {\n        synth->setFrequency(0, max(1, ms));\n    } else {\n        if (ms > 0) {\n            int d = max(1, ms - NOTE_PAUSE); // allow for short rest\n            int r = max(1, ms - d);\n            synth->setFrequency((float) frequency, d);\n            synth->setFrequency(0, r);\n        } else {\n            // ring\n            synth->setFrequency((float) frequency);\n        }\n    }\n    fiber_sleep(1);\n}\n\n}",
            "music.ts": "enum Note {\n    //% blockIdentity=music.noteFrequency enumval=262\n    C = 262,\n    //% block=C#\n    //% blockIdentity=music.noteFrequency enumval=277\n    CSharp = 277,\n    //% blockIdentity=music.noteFrequency enumval=294\n    D = 294,\n    //% blockIdentity=music.noteFrequency enumval=311\n    Eb = 311,\n    //% blockIdentity=music.noteFrequency enumval=330\n    E = 330,\n    //% blockIdentity=music.noteFrequency enumval=349\n    F = 349,\n    //% block=F#\n    //% blockIdentity=music.noteFrequency enumval=370\n    FSharp = 370,\n    //% blockIdentity=music.noteFrequency enumval=392\n    G = 392,\n    //% block=G#\n    //% blockIdentity=music.noteFrequency enumval=415\n    GSharp = 415,\n    //% blockIdentity=music.noteFrequency enumval=440\n    A = 440,\n    //% blockIdentity=music.noteFrequency enumval=466\n    Bb = 466,\n    //% blockIdentity=music.noteFrequency enumval=494\n    B = 494,\n    //% blockIdentity=music.noteFrequency enumval=131\n    C3 = 131,\n    //% block=C#3\n    //% blockIdentity=music.noteFrequency enumval=139\n    CSharp3 = 139,\n    //% blockIdentity=music.noteFrequency enumval=147\n    D3 = 147,\n    //% blockIdentity=music.noteFrequency enumval=156\n    Eb3 = 156,\n    //% blockIdentity=music.noteFrequency enumval=165\n    E3 = 165,\n    //% blockIdentity=music.noteFrequency enumval=175\n    F3 = 175,\n    //% block=F#3\n    //% blockIdentity=music.noteFrequency enumval=185\n    FSharp3 = 185,\n    //% blockIdentity=music.noteFrequency enumval=196\n    G3 = 196,\n    //% block=G#3\n    //% blockIdentity=music.noteFrequency enumval=208\n    GSharp3 = 208,\n    //% blockIdentity=music.noteFrequency enumval=220\n    A3 = 220,\n    //% blockIdentity=music.noteFrequency enumval=233\n    Bb3 = 233,\n    //% blockIdentity=music.noteFrequency enumval=247\n    B3 = 247,\n    //% blockIdentity=music.noteFrequency enumval=262\n    C4 = 262,\n    //% block=C#4\n    //% blockIdentity=music.noteFrequency enumval=277\n    CSharp4 = 277,\n    //% blockIdentity=music.noteFrequency enumval=294\n    D4 = 294,\n    //% blockIdentity=music.noteFrequency enumval=311\n    Eb4 = 311,\n    //% blockIdentity=music.noteFrequency enumval=330\n    E4 = 330,\n    //% blockIdentity=music.noteFrequency enumval=349\n    F4 = 349,\n    //% block=F#4\n    //% blockIdentity=music.noteFrequency enumval=370\n    FSharp4 = 370,\n    //% blockIdentity=music.noteFrequency enumval=392\n    G4 = 392,\n    //% block=G#4\n    //% blockIdentity=music.noteFrequency enumval=415\n    GSharp4 = 415,\n    //% blockIdentity=music.noteFrequency enumval=440\n    A4 = 440,\n    //% blockIdentity=music.noteFrequency enumval=466\n    Bb4 = 466,\n    //% blockIdentity=music.noteFrequency enumval=494\n    B4 = 494,\n    //% blockIdentity=music.noteFrequency enumval=523\n    C5 = 523,\n    //% block=C#5\n    //% blockIdentity=music.noteFrequency enumval=555\n    CSharp5 = 555,\n    //% blockIdentity=music.noteFrequency enumval=587\n    D5 = 587,\n    //% blockIdentity=music.noteFrequency enumval=622\n    Eb5 = 622,\n    //% blockIdentity=music.noteFrequency enumval=659\n    E5 = 659,\n    //% blockIdentity=music.noteFrequency enumval=698\n    F5 = 698,\n    //% block=F#5\n    //% blockIdentity=music.noteFrequency enumval=740\n    FSharp5 = 740,\n    //% blockIdentity=music.noteFrequency enumval=784\n    G5 = 784,\n    //% block=G#5\n    //% blockIdentity=music.noteFrequency enumval=831\n    GSharp5 = 831,\n    //% blockIdentity=music.noteFrequency enumval=880\n    A5 = 880,\n    //% blockIdentity=music.noteFrequency enumval=932\n    Bb5 = 932,\n    //% blockIdentity=music.noteFrequency enumval=988\n    B5 = 988,\n}\n\nenum BeatFraction {\n    //% block=1\n    Whole = 1,\n    //% block=\"1/2\"\n    Half = 2,\n    //% block=\"1/4\"\n    Quarter = 4,\n    //% block=\"1/8\"\n    Eighth = 8,\n    //% block=\"1/16\"\n    Sixteenth = 16,\n    //% block=\"2\"\n    Double = 32,\n    //% block=\"4\",\n    Breve = 64\n}\n\nnamespace music {\n\n    let beatsPerMinute: number;\n\n    /**\n    * Play a tone.\n    * @param frequency pitch of the tone to play in Hertz (Hz), eg: Note.C\n    */\n    //% help=music/ring-tone\n    //% blockId=music_ring block=\"ring tone|at %note=device_note\"\n    //% parts=\"headphone\" trackArgs=0\n    //% blockNamespace=music inBasicCategory=true\n    //% weight=75 blockGap=8\n    //% group=\"Tone\"\n    export function ringTone(frequency: number) {\n        playTone(frequency, 0);\n    }\n\n    /**\n    * Rest, or play silence, for some time (in milleseconds).\n    * @param ms rest duration in milliseconds (ms), eg: BeatFraction.Half\n    */\n    //% help=music/rest\n    //% blockId=music_rest block=\"rest|for %duration=device_beat\"\n    //% parts=\"headphone\" trackArgs=0\n    //% blockNamespace=music\n    //% weight=74\n    //% group=\"Tone\"\n    export function rest(ms: number) {\n        playTone(0, Math.max(ms, 20));\n    }\n\n    function init() {\n        if (!beatsPerMinute) beatsPerMinute = 120;\n    }\n\n    /**\n     * Return the duration of a beat in milliseconds (the beat fraction).\n     * @param fraction the fraction of the current whole note, eg: BeatFraction.Half\n     */\n    //% help=music/beat\n    //% blockId=device_beat block=\"%fraction|beat\"\n    //% weight=9 blockGap=8\n    //% group=\"Tempo\"\n    export function beat(fraction?: BeatFraction): number {\n        init();\n        if (fraction == null) fraction = BeatFraction.Whole;\n        let beat = 60000 / beatsPerMinute;\n        switch (fraction) {\n            case BeatFraction.Half: beat /= 2; break;\n            case BeatFraction.Quarter: beat /= 4; break;\n            case BeatFraction.Eighth: beat /= 8; break;\n            case BeatFraction.Sixteenth: beat /= 16; break;\n            case BeatFraction.Double: beat *= 2; break;\n            case BeatFraction.Breve: beat *= 4; break;\n        }\n        return beat >> 0;\n    }\n\n    /**\n     * Return the tempo in beats per minute (bpm).\n     * Tempo is the speed (bpm = beats per minute) at which notes play. The larger the tempo value, the faster the notes will play.\n     */\n    //% help=music/tempo\n    //% blockId=device_tempo block=\"tempo (bpm)\"\n    //% weight=64\n    //% group=\"Tempo\"\n    export function tempo(): number {\n        init();\n        return beatsPerMinute;\n    }\n\n    /**\n     * Change the tempo up or down by some amount of beats per minute (bpm).\n     * @param bpm The change in beats per minute to the tempo, eg: 20\n     */\n    //% help=music/change-tempo-by weight=37\n    //% blockId=device_change_tempo block=\"change tempo by %value|(bpm)\"\n    //% weight=66 blockGap=8\n    //% group=\"Tempo\"\n    export function changeTempoBy(bpm: number): void {\n        init();\n        setTempo(beatsPerMinute + bpm);\n    }\n\n    /**\n     * Set the tempo a number of beats per minute (bpm).\n     * @param bpm The new tempo in beats per minute, eg: 120\n     */\n    //% help=music/set-tempo\n    //% blockId=device_set_tempo block=\"set tempo to %value|(bpm)\"\n    //% bpm.min=4 bpm.max=400\n    //% weight=65 blockGap=8\n    //% group=\"Tempo\"\n    export function setTempo(bpm: number): void {\n        init();\n        if (bpm > 0) {\n            beatsPerMinute = Math.max(1, bpm >> 0);\n        }\n    }\n}\n",
            "ns.ts": "\n/**\n * Generation of music tones.\n */\n//% color=#E30FC0 weight=90 icon=\"\\uf025\"\n//% blockGap=8\n//% groups='[\"Sounds\", \"Melody\", \"Tone\",  \"Volume\", \"Tempo\"]'\nnamespace music {\n}",
            "piano.ts": "namespace music {\n    /**\n     * Get the frequency of a note.\n     * @param name the note name, eg: Note.C\n     */\n    //% weight=1 help=music/note-frequency\n    //% blockId=device_note block=\"%note\"\n    //% shim=TD_ID\n    //% color=\"#FFFFFF\" colorSecondary=\"#FFFFFF\" colorTertiary=\"#D83B01\"\n    //% note.fieldEditor=\"note\" note.defl=\"262\"\n    //% note.fieldOptions.decompileLiterals=true\n    //% useEnumVal=1\n    //% weight=10 blockGap=8\n    //% group=\"Tone\"\n    export function noteFrequency(name: Note): number {\n        return name;\n    }\n}",
            "pxt.json": "{\n    \"name\": \"music\",\n    \"description\": \"The music library\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"music.cpp\",\n        \"enums.d.ts\",\n        \"shims.d.ts\",\n        \"melodies.ts\",\n        \"music.ts\",\n        \"piano.ts\",\n        \"ns.ts\",\n        \"headphone.svg\",\n        \"jacdac.ts\",\n        \"pxtparts.json\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"hidden\": true\n}\n",
            "pxtparts.json": "{\n    \"headphone\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"image\": \"headphone.svg\",\n            \"width\": 142,\n            \"height\": 180,\n            \"pinDistance\": 20,\n            \"pinLocations\": [\n                {\n                    \"x\": 17,\n                    \"y\": 11\n                },\n                {\n                    \"x\": 55,\n                    \"y\": 50\n                }\n            ]\n        },\n        \"pinDefinitions\": [\n            {\n                \"target\": \"A0\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"singleton\"\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    }\n}",
            "shims.d.ts": "// Auto-generated. Do not edit.\n\n\ndeclare interface AnalogOutPin {}\ndeclare namespace music {\n\n    /**\n     * This function is deprecated.\n     */\n    //% help=music/set-tone\n    //% weight=1 group=\"Tones\"\n    //% deprecated blockHidden=1\n    //% blockId=music_set_tone block=\"set tone %buffer\" shim=music::setTone\n    function setTone(buffer: Buffer): void;\n\n    /**\n     * Set the output volume of the sound synthesizer.\n     * @param volume the volume 0...256, eg: 128\n     */\n    //% blockId=synth_set_volume block=\"set volume %volume\"\n    //% parts=\"speaker\"\n    //% volume.min=0 volume.max=256\n    //% help=music/set-volume\n    //% weight=70\n    //% group=\"Volume\" shim=music::setVolume\n    function setVolume(volume: int32): void;\n\n    /**\n     * Play a tone through the speaker for some amount of time.\n     * @param frequency pitch of the tone to play in Hertz (Hz), eg: Note.C\n     * @param ms tone duration in milliseconds (ms), eg: BeatFraction.Half\n     */\n    //% help=music/play-tone\n    //% blockId=music_play_note block=\"play tone|at %note=device_note|for %duration=device_beat\"\n    //% parts=\"headphone\" async\n    //% blockNamespace=music\n    //% weight=76 blockGap=8\n    //% group=\"Tone\" shim=music::playTone\n    function playTone(frequency: int32, ms: int32): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": "for(let i = 1000; i > 0; i -= 50)\n    music.playTone(440, i)\n\nfor(let i = 0; i < 1000; i += 20)\n    music.playTone(440, i)\n"
        },
        "lightsensor": {
            "README.md": "# lightsensor\n\nThe lightsensor library.\n\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum LightCondition {\n    //% block=\"dark\"\n    Dark = 1,  // SENSOR_THRESHOLD_LOW\n    //% block=\"bright\"\n    Bright = 2,  // SENSOR_THRESHOLD_HIGH\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "jacdac.ts": "namespace jacdac {\n    //% fixedInstances\n    export class LightSensorService extends jacdac.SensorHost {\n        constructor(name: string) {\n            super(name, jacdac.LIGHT_SENSOR_DEVICE_CLASS);\n            input.onLightConditionChanged(LightCondition.Bright, () => this.raiseHostEvent(LightCondition.Bright));\n            input.onLightConditionChanged(LightCondition.Dark, () => this.raiseHostEvent(LightCondition.Dark));\n        }\n\n        protected serializeState(): Buffer {\n            const buf = control.createBuffer(1);\n            buf.setNumber(NumberFormat.UInt8LE, 0, input.lightLevel());\n            return buf;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"light sensor service\"\n    export const lightSensorService = new LightSensorService(\"lis\");\n}",
            "lightsensor.cpp": "#include \"pxt.h\"\n#include \"AnalogSensor.h\"\n\n#ifdef CODAL_LIGHT_SENSOR_HEADER\n#include CODAL_LIGHT_SENSOR_HEADER\n#endif\n\n\n#ifndef CODAL_LIGHT_SENSOR\n#define CODAL_LIGHT_SENSOR AnalogSensor\n#endif\n\n#ifndef LIGHTSENSOR_SENSITIVITY\n#define LIGHTSENSOR_SENSITIVITY 868 // codal has 912 now\n#endif\n\n#ifndef LIGHTSENSOR_LOW_THRESHOLD\n#define LIGHTSENSOR_LOW_THRESHOLD 128\n#endif\n\n#ifndef LIGHTSENSOR_HIGH_THRESHOLD\n#define LIGHTSENSOR_HIGH_THRESHOLD 896\n#endif\n\nenum class LightCondition {\n    //% block=\"dark\"\n    Dark = SENSOR_THRESHOLD_LOW,\n    //% block=\"bright\"\n    Bright = SENSOR_THRESHOLD_HIGH\n};\n\nnamespace pxt {\n\nclass WLight {\n  public:\n    CODAL_LIGHT_SENSOR sensor;\n    WLight()\n        : sensor(*LOOKUP_PIN(LIGHT), DEVICE_ID_LIGHT_SENSOR) //\n    {\n        sensor.init();\n        sensor.setPeriod(50);\n        sensor.setSensitivity(LIGHTSENSOR_SENSITIVITY); \n        sensor.setLowThreshold(LIGHTSENSOR_LOW_THRESHOLD);\n        sensor.setHighThreshold(LIGHTSENSOR_HIGH_THRESHOLD);\n    }\n};\nSINGLETON_IF_PIN(WLight, LIGHT);\n\n}\n\nnamespace input {\n\n/**\n* Register an event that runs when light conditions (darker or brighter) change.\n* @param condition the condition that event triggers on\n*/\n//% help=input/on-light-condition-changed\n//% blockId=input_on_light_condition_changed block=\"on light %condition\"\n//% parts=\"lightsensor\"\n//% weight=84 blockGap=12\nvoid onLightConditionChanged(LightCondition condition, Action handler) {\n    auto wlight = getWLight();\n    if (NULL == wlight) return;    \n    auto sensor = wlight->sensor;\n\n    sensor.updateSample();\n    registerWithDal(sensor.id, (int)condition, handler);\n}\n\n/**\n * Read the light level applied to the LED screen in a range from 0 (dark) to 255 (bright).\n */\n//% help=input/light-level\n//% blockId=device_get_light_level block=\"light level\"\n//% parts=\"lightsensor\"\n//% weight=30 blockGap=8\nint lightLevel() {\n    auto wlight = getWLight();\n    if (NULL == wlight) return 127;\n    auto sensor = wlight->sensor;\n    // 0...1023\n    int value = sensor.getValue();\n    return value / 4;\n}\n\n/**\n* Set the threshold value for the light condition event.\n*/\n//% help=input/set-light-threshold\n//% blockId=lightsensor_set_threshold block=\"set %condition| light threshold to %value\"\n//% parts=\"lightsensor\"\n//% value.min=1 value.max=255\n//% group=\"More\" weight=13 blockGap=8\nvoid setLightThreshold(LightCondition condition, int value) {\n    auto wlight = getWLight();\n    if (NULL == wlight) return;\n    auto sensor = wlight->sensor;\n\n    int v = value * 4;\n    if (condition == LightCondition::Dark)\n        sensor.setLowThreshold(v);\n    else\n        sensor.setHighThreshold(v);\n}\n}\n",
            "ns.ts": "\n//% color=\"#B4009E\" weight=98 icon=\"\\uf192\"\nnamespace input {\n}",
            "pxt.json": "{\n    \"name\": \"lightsensor\",\n    \"description\": \"Onboard light level sensor\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"lightsensor.cpp\",\n        \"jacdac.ts\",\n        \"ns.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace input {\n\n    /**\n     * Register an event that runs when light conditions (darker or brighter) change.\n     * @param condition the condition that event triggers on\n     */\n    //% help=input/on-light-condition-changed\n    //% blockId=input_on_light_condition_changed block=\"on light %condition\"\n    //% parts=\"lightsensor\"\n    //% weight=84 blockGap=12 shim=input::onLightConditionChanged\n    function onLightConditionChanged(condition: LightCondition, handler: () => void): void;\n\n    /**\n     * Read the light level applied to the LED screen in a range from 0 (dark) to 255 (bright).\n     */\n    //% help=input/light-level\n    //% blockId=device_get_light_level block=\"light level\"\n    //% parts=\"lightsensor\"\n    //% weight=30 blockGap=8 shim=input::lightLevel\n    function lightLevel(): int32;\n\n    /**\n     * Set the threshold value for the light condition event.\n     */\n    //% help=input/set-light-threshold\n    //% blockId=lightsensor_set_threshold block=\"set %condition| light threshold to %value\"\n    //% parts=\"lightsensor\"\n    //% value.min=1 value.max=255\n    //% group=\"More\" weight=13 blockGap=8 shim=input::setLightThreshold\n    function setLightThreshold(condition: LightCondition, value: int32): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": "for(let i = 0; i < 100; ++i) {\n    pause(500)\n    console.log(`light=${input.lightLevel()}`);\n}"
        },
        "color": {
            "README.md": "# Colors\n\nColor manipulation",
            "colorbuffer.ts": "namespace color {\n    export enum ColorBufferLayout {\n        /**\n         * 24bit RGB color\n         */\n        RGB,\n        /**\n         * 32bit RGB color with alpha\n         */\n        ARGB\n    }\n\n    /**\n     * A buffer of colors\n     */\n    export class ColorBuffer {\n        layout: ColorBufferLayout;\n        buf: Buffer;\n\n        constructor(length: number, layout?: ColorBufferLayout) {\n            this.layout = layout || ColorBufferLayout.RGB;\n            this.buf = control.createBuffer((length | 0) * this.stride);\n        }\n\n        static fromBuffer(buffer: Buffer, layout: ColorBufferLayout) {\n            const b = new ColorBuffer(0, layout);\n            b.buf = buffer.slice();\n            return b;\n        }\n\n        get stride() {\n            return this.layout == ColorBufferLayout.RGB ? 3 : 4;\n        }\n\n        get length() {\n            return Math.idiv(this.buf.length, this.stride);\n        }\n\n        color(index: number): number {\n            index = index | 0;\n            if (index < 0 || index >= this.length)\n                return -1;\n\n            const s = this.stride;\n            const start = index * s;\n            let c = 0;\n            for (let i = 0; i < s; ++i)\n                c = (c << 8) | (this.buf[start + i] & 0xff);\n            return c;\n        }\n\n        setColor(index: number, color: number) {\n            index = index | 0;\n            if (index < 0 || index >= this.length) return;\n\n            const s = this.stride;\n            const start = index * s;\n            for (let i = s - 1; i >= 0; --i) {\n                this.buf[start + i] = color & 0xff;\n                color = color >> 8;\n            }\n        }\n\n        slice(start?: number, length?: number): ColorBuffer {\n            start = start | 0;\n            if (start < 0)\n                start = this.length - start;\n\n            if (length == undefined)\n                length = this.length;\n            length = Math.min(length, this.length - start);\n\n            const output = new ColorBuffer(length, this.layout);\n            for (let i = 0; i < length; ++i) {\n                output.setColor(i, this.color(start + i));\n            }\n\n            return output;\n        }\n\n        /**\n         * Writes the content of the src color buffer starting at the start dstOffset in the current buffer\n         * @param dstOffset\n         * @param src\n         */\n        write(dstOffset: number, src: ColorBuffer): void {\n            if (this.layout == src.layout) {\n                const d = (dstOffset | 0) * this.stride;\n                this.buf.write(d, src.buf);\n            } else {\n                // different color layout\n                const n = Math.min(src.length, this.length - dstOffset);\n                for (let i = 0; i < n; ++i)\n                    this.setColor(dstOffset + i, src.color(i));\n            }\n        }\n    }\n\n    /**\n     * Converts an array of colors into a color buffer\n     */\n    export function createBuffer(colors: number[], layout?: ColorBufferLayout): color.ColorBuffer {\n        const p = new ColorBuffer(colors.length, layout);\n        const n = colors.length;\n        for (let i = 0; i < n; i++) {\n            p.setColor(i, colors[i]);\n        }\n        return p;\n    }\n}",
            "colors.ts": "/**\n * Well known colors\n */\nconst enum Colors {\n    //% block=red\n    Red = 0xFF0000,\n    //% block=orange\n    Orange = 0xFF7F00,\n    //% block=yellow\n    Yellow = 0xFFFF00,\n    //% block=green\n    Green = 0x00FF00,\n    //% block=blue\n    Blue = 0x0000FF,\n    //% block=indigo\n    Indigo = 0x4b0082,\n    //% block=violet\n    Violet = 0x8a2be2,\n    //% block=purple\n    Purple = 0xA033E5,\n    //% block=pink\n    Pink = 0xFF007F,\n    //% block=white\n    White = 0xFFFFFF,\n    //% block=black\n    Black = 0x000000\n}\n\n/**\n * Well known color hues\n */\nconst enum ColorHues {\n    //% block=red\n    Red = 0,\n    //% block=orange\n    Orange = 29,\n    //% block=yellow\n    Yellow = 43,\n    //% block=green\n    Green = 86,\n    //% block=aqua\n    Aqua = 125,\n    //% block=blue\n    Blue = 170,\n    //% block=purple\n    Purple = 191,\n    //% block=magenta\n    Magenta = 213,\n    //% block=pink\n    Pink = 234\n}\n\n/**\n * Color manipulation\n */\n//% advanced=1\nnamespace color {\n    /**\n     * Converts red, green, blue channels into a RGB color\n     * @param red value of the red channel between 0 and 255. eg: 255\n     * @param green value of the green channel between 0 and 255. eg: 255\n     * @param blue value of the blue channel between 0 and 255. eg: 255\n     */\n    //% blockId=\"colorsrgb\" block=\"red %red|green %green|blue %blue\"\n    //% red.min=0 red.max=255 green.min=0 green.max=255 blue.min=0 blue.max=255\n    //% help=\"colors/rgb\"\n    //% weight=19 blockGap=8\n    //% blockHidden=true\n    export function rgb(red: number, green: number, blue: number): number {\n        return ((red & 0xFF) << 16) | ((green & 0xFF) << 8) | (blue & 0xFF);\n    }\n\n    export function argb(alpha: number, red: number, green: number, blue: number): number {\n        return ((alpha & 0xFF) << 24) | ((red & 0xFF) << 16) | ((green & 0xFF) << 8) | (blue & 0xFF);\n    }\n\n    /**\n    * Get the RGB value of a known color\n    */\n    //% blockId=colorscolors block=\"%color\"\n    //% help=\"colors/well-known\"\n    //% shim=TD_ID\n    //% weight=20 blockGap=8\n    //% blockHidden=true\n    export function wellKnown(color: Colors): number {\n        return color;\n    }\n\n    /**\n     * Convert an HSV (hue, saturation, value) color to RGB\n     * @param hue value of the hue channel between 0 and 255. eg: 255\n     * @param sat value of the saturation channel between 0 and 255. eg: 255\n     * @param val value of the value channel between 0 and 255. eg: 255\n     */\n\n    //% blockId=\"colorshsv\" block=\"hue %hue|sat %sat|val %val\"\n    //% hue.min=0 hue.max=255 sat.min=0 sat.max=255 val.min=0 val.max=255\n    //% help=\"colors/hsv\"\n    //% weight=17\n    //% blockHidden=true\n    export function hsv(hue: number, sat: number = 255, val: number = 255): number {\n        let h = (hue % 255) >> 0;\n        if (h < 0) h += 255;\n        // scale down to 0..192\n        h = (h * 192 / 255) >> 0;\n\n        //reference: based on FastLED's hsv2rgb rainbow algorithm [https://github.com/FastLED/FastLED](MIT)\n        const invsat = 255 - sat;\n        const brightness_floor = ((val * invsat) / 255) >> 0;\n        const color_amplitude = val - brightness_floor;\n        const section = (h / 0x40) >> 0; // [0..2]\n        const offset = (h % 0x40) >> 0; // [0..63]\n\n        const rampup = offset;\n        const rampdown = (0x40 - 1) - offset;\n\n        const rampup_amp_adj = ((rampup * color_amplitude) / (255 / 4)) >> 0;\n        const rampdown_amp_adj = ((rampdown * color_amplitude) / (255 / 4)) >> 0;\n\n        const rampup_adj_with_floor = (rampup_amp_adj + brightness_floor);\n        const rampdown_adj_with_floor = (rampdown_amp_adj + brightness_floor);\n\n        let r: number;\n        let g: number;\n        let b: number;\n        if (section) {\n            if (section == 1) {\n                // section 1: 0x40..0x7F\n                r = brightness_floor;\n                g = rampdown_adj_with_floor;\n                b = rampup_adj_with_floor;\n            } else {\n                // section 2; 0x80..0xBF\n                r = rampup_adj_with_floor;\n                g = brightness_floor;\n                b = rampdown_adj_with_floor;\n            }\n        } else {\n            // section 0: 0x00..0x3F\n            r = rampdown_adj_with_floor;\n            g = rampup_adj_with_floor;\n            b = brightness_floor;\n        }\n        return rgb(r, g, b);\n    }\n\n    /**\n     * Fade the color by the brightness\n     * @param color color to fade\n     * @param brightness the amount of brightness to apply to the color, eg: 128\n     */\n    //% blockId=\"colorsfade\" block=\"fade %color=neopixel_colors|by %brightness\"\n    //% brightness.min=0 brightness.max=255\n    //% help=\"light/fade\"\n    //% group=\"Color\" weight=18 blockGap=8\n    //% blockHidden=true\n    export function fade(color: number, brightness: number): number {\n        brightness = Math.max(0, Math.min(255, brightness >> 0));\n        if (brightness < 255) {\n            let red = unpackR(color);\n            let green = unpackG(color);\n            let blue = unpackB(color);\n\n            red = (red * brightness) >> 8;\n            green = (green * brightness) >> 8;\n            blue = (blue * brightness) >> 8;\n\n            color = rgb(red, green, blue);\n        }\n        return color;\n    }\n\n    export function blend(color: number, alpha: number, otherColor: number) {\n        alpha = Math.max(0, Math.min(0xff, alpha | 0));\n        const malpha = 0xff - alpha;\n        const r = (unpackR(color) * malpha + unpackR(otherColor) * alpha) >> 8;\n        const g = (unpackG(color) * malpha + unpackG(otherColor) * alpha) >> 8;\n        const b = (unpackB(color) * malpha + unpackB(otherColor) * alpha) >> 8;\n        return rgb(r, g, b);\n    }\n\n    export function gradient(startColor: number, endColor: number, steps: number): ColorBuffer {\n        steps = Math.max(2, steps | 0);\n        const b = new ColorBuffer(steps);\n        b.setColor(0, startColor);\n        b.setColor(b.length - 1, endColor);\n        for (let i = 1; i < steps - 1; ++i) {\n            const alpha = Math.idiv(0xff * i, steps);\n            const c = blend(startColor, alpha, endColor);\n            b.setColor(i, c);\n        }\n        return b;\n    }\n\n    export function unpackR(rgb: number): number {\n        return (rgb >> 16) & 0xFF;\n    }\n    export function unpackG(rgb: number): number {\n        return (rgb >> 8) & 0xFF;\n    }\n    export function unpackB(rgb: number): number {\n        return (rgb >> 0) & 0xFF;\n    }\n\n    export function parseColor(color: string): number {\n        switch (color) {\n            case \"RED\":\n            case \"red\":\n                return Colors.Red;\n            case \"GREEN\":\n            case \"green\":\n                return Colors.Green;\n            case \"BLUE\":\n            case \"blue\":\n                return Colors.Blue;\n            case \"WHITE\":\n            case \"white\":\n                return Colors.White;\n            case \"ORANGE\":\n            case \"orange\":\n                return Colors.Orange;\n            case \"PURPLE\":\n            case \"purple\":\n                return Colors.Purple;\n            case \"YELLOW\":\n            case \"yellow\":\n                return Colors.Yellow;\n            case \"PINK\":\n            case \"pink\":\n                return Colors.Pink;\n            default:\n                return parseInt(color) || 0;\n        }\n    }\n}",
            "pxt.json": "{\n    \"name\": \"color\",\n    \"description\": \"Color manipulation\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"colors.ts\",\n        \"colorbuffer.ts\",\n        \"README.md\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"weight\": 1\n}\n"
        },
        "light": {
            "README.md": "# neopixel\n\nThe neopixel library.\n\n",
            "animations.jres": "{\n  \"*\": {\n    \"namespace\": \"light\",\n    \"dataEncoding\": \"base64\"\n  },\n  \"rainbowAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABZcSURBVHic7Z15nFTVsce/1ctMz8IywzIMM7KLaFwQRBYVSSSguOCGWzQaY4xb0GdUfC/GJdGYpy/uGBVRgxqNihjNiyv6VJBNSdh3EBl2Zh9m6Z7uen+c23dmcLr73p7RgaF/f/Xtz6mqc2/dc+45VXWqIIUUUvj+IW3dgeagqj2A8UBfoDtQDBQBH4nIhu9QbnfgVEtuHlAKbAVmi8ia70puu4CqDlfVj1Q1rLHxL1U9q5XlDlXVdxPIXaaq56vqfvPC7xcdUVUf8BBwA1af6koilK8KEiqL4OvgoUM/H5mFvsZk7wCXikhFC+R6gPuBW6NyI6WVhFZ/TaS0Ak92Jr4++Xh79WhM9gFwkYiUJiu3tdDmyrMU93dgAkDxV3Wse7qSkn/VoZGmbTse6mfAzzuQPzYj2vPlwMkiUpKEXC/wGnAuQGjpeiqfmknwy1UQaSrY16+ArJ+dScb4keARgLXASSKyy63c1sT+oLwngOs1AmumVrDhhcqENPljMzjmnhy8AQH4CDhNROpdyn0QuAVVqqa9RdW0t0A1Lk366GPpfO+1SGYAYA5wiogE3chtTbSp8lT1JOAzgFWPlLPxxSrHtN1GBRj2aBfEA8A1IvK0C7nDgAWAVD0zi6pnZjmWm3b8D8h9/BbwegFuFpGHHRO3MjxtJdjC/QB7FtS5UhzA7i9q2fyaTXOXqgZckN8HSHDJOjPiXCC4cAV7X3w3evkbVc12xaAV0WbKU9W+wAkAa55Mbs2xblolkaAC5AOnOJTbI9q26s9vJJwqm0PVC/9Aq2sBugCnuWbQSmjLkTcBoGZ7mLLlyX02gmUR9iyqa8LPAU4FPJHicoKLVyclV6uqqZu3zK3cVkdbKq8/QNmKln3vGym+vxu5oZWbIOJ+1EURWmHbCpzKbXW0pfK6AQRLIonaxUUj+jw3ciOlSW8PAYgU2/RO5bY62lJ55QC+7JYteP0d7FsocyNXsjNbJFc6ZrmV2+poS+UVAWT39beISVYf2+pS5JBkK4CvT36L5Daidyq31dGWyvsYoNMgP4E8b1IMxCd0P9HeIXzsRq6vX8G+Zi/n8AjpJw12K7fV0ZbKWwR8g8CAKzokxaDX2ZmkdfYA1AH/cEIjIsuBNQDZV5yRlNyMCSfg7Z4LUI8x7bUJ2kx5IqLA7wEOOTeTLkPTXdFnFvgYeF3H6OWTIrLbBfnvADLOOJH0kUe5kuvNy6XD5Aujl9NFpM2mzbY2j3kxNsIRwfIIi24spmxZ4q1DZoGXYY91Jdt877YAg90Ypy1vwmxgjFZVU3rzwwQXJ3bXebvnkvPYr/ENOARghyV3p1O5rY2klaeqg4DjgB6AF9gGLBWRJS755GPsjIdEgsq6ZyvZ9HIV4dpv78HEA4VnZTLoV52i0+VeYLSILE6i/10tuf00VM/e599h70vvRi0nTeERMk4dRYebLsKT2wmgFviRiMxzKbM3MArzzDIxi6fVwEIRcb1ncqU8VfUDVwE3AQNjNPsamAo8ISLNPIlm+R6C+XYcCxCqiLBrTi3lK0PUlYRJy/GS3ddH3kmBxoubIuAcEfnSzT3sIzcfmAUMB4hUVhP8YgmhFRsJF1fg6ZSFr08+6aOH4O3RJUq2AzhPRL5wKEOAC4DbgCExmu0EpgMPiEh5svcTrxOHq+rKxq7l7WWqSzar/vtr1aKSb3meN6nqUBf8M1X1t6paEcebraoaVNWpqtqtle4roKpTVLU0gdyQqj5j2Uad8s5X1TlNuFTvVN2xUCPb5qqWrVONNHHe71FVx7ZSRyNPVU/ErOY6heph1pfw9pfKN8VN2+V3htOHCBcMh0AaANXAJBH5p4sbzgHOwBh8+9AQS7IF47t7S0S2OuXnQm4n4HSMrTIaw1Juyf3YkvuNC34DMd/VQjSCrn8dXfEs7FnatGFGd2TA+cjgyZCeAxAGrhWRaYlkJFSeGuv/QqDrtlL4z1eUTQnWdfmd4Y8XC327A1AJjLKW6AcFrBdwPjCQ2hIiH10JOxJ8HgO5yCnTkfxRYLYgE0Tkw3gkTpT3ITB2dyX8cpqyJ7GjG4AOAXjqKuEQ86n4ChhmbQ/aPVT1aeBqQlVE3jkDSlY5I/T48Ux4A3qMALMAPFREqmM2T9CJscBYgN/NdK44gMpauOt1jYaDDMV8tNs9rOnySgCd9xvnigOIhIjM/gWEqgB6AjfGa55ok34FwPz1sGSz8z5EsX4nfNQwWV7hnsMBiUsBH2Vr0XWvuaeu2YUutyM6rojXNKby1GxkJwB8tCz52a4R7Q9VtWWm/AMDZwDohrf4VvibQ+j6N6M/B1ojuVnEG3ndgByA5VuS6gMAyxpo0zGrx/aOQwHYuTB5DuXrodY2GCWlPNvJWOIuNqgJ9tZBbci+bJkfZj+HmmCkbACtcWNqbQbVttUt5r4ynvJslWWkJd8HrwfSGgKdXSx5DkjUYPZp4G/hFyLN9rTEHDrxlLcDUICC3OT7UJATDTIGLEdoe4WIhDGmLqRjv+QZ+TIh0574tsVqFlN51v5iEcCogck7H0Y2zNgbvgvLyH6IzwDoNS5pBlI4Bjx+MBaqRbHaJdoqzAI4cwhkuXO3AeD3wnnDbcU7D0s+sDELQPpMgA69k2IgR10X/fmeiNTEapdIeU8BJZ0y4fpx7kfflWOEHp0A8wa1WVj494w3gdV4/MiJD4C4C/GQQZdB3jAwn6w/xGsbV3kiUgbcAXDGEPjpaOedOPs4uOQE+/I+EYk5d7cnWAde/gOISMEY5MQHweNLRGZoe41DRt0fvXxeRL6K294JU1WdjmXy+WQlTH1f2RUj7DEnC64+RTj9WPuvtzD+r5YFaB5gUNXfAPcC6Pa56NzboWxt84392cjgycjRv8I6ObMIc3Qt5pQJzpXnw0x7NwAE62HeOli0QdlZDuEI5HWC4/oJowY22Vq8BPzCqVO2vUFVp2CmPg8aRrd+CltmQ8VmCNdAVk/oMRLpc1rUHQTG7XVhMmcOE3VmkqpuSOC0VFUtUtWftarwAxSq+kNVXezgmZWo6i3WQHEE16sQVU0DzgQmYrwFBZgYliJgKWaa/Hs8V8bBBstOPA44GxPD0hMTw1KEiWF5G5i5PxyVTiGFFFJIIYUUUkghhSRgLXlT+A7h5hnHi2Hxq+oFqvpXNdHPtUBIVbep6mxVvVFV2+xIb3uAqmao6uWq+qaqblHVOqBOVbeqyYV2jap2dsv0bFVd58AqUKmqd1kb9xRcQFWvsCxRiVCsqjc3NyJlH4YejC1uCkAoEmLuzi9YuHshW6u3E47UkxvIZXDuMZycfzJd0m0X++cY43MLAzfaP6wX/Ung5+aPvRB+B+o/Bv0GUJB88J4Mvokg9jN+B/iJiNihJPsqz+TjAubu/IInVj7Jzprmj5+le9OZ1Pd8Lj/0MrzGZ7UYk0wtZRaLA1WdAVwGQP0rUHcXaIz8c9IB0qaA/3osVc0GTo3mWbOVp6qTMFnweG3j6zy9ehpK4njNYd2O496hv8Nv3PYzROTy5G+tfUNVfwU8BkDwTgg+5ozQNwkCT2MtUR4QkSlgKU9V0zHntHt/tuNz7ln8e0eKi+LUwvHcdvQtYLy/w0UkZtzFwQo1h082ADmEnoW6W9wxSLsZ0u4ECAKHi8jG6EfwYqB3XbiOx1dOdaU4gPeK3mdZ6XIwL8Pt7np10OCXQA66B4J3u6cOPgaRtQBpwK+hYatwDsAn2z+luLa4eeIEeGPTzOjP8aqakRST9o2zAQjNAE0mirkeQs9ELyaqqkSVdwLAgl0Lku7Zot1fEtYwQBbW8eQUDKwV5jAAwh8kz6j+/eivAqCvR02eylyArdXJh1XWhmsprrM99wXJ97BdIp/oLBfZlDwXLcKknAGgwANkEE3KHW5ZBr66sB2qcjCcBnKDRp+RuDFFCaCgtvIyPZjEZybzZ6BLLKqEEIQu6Tb9QRHm5wI77F+SZMosAMkCsRMHbfdYR43XAByVc2TSfPt37Eemzx5wqQISjWDFvxoFekcmz8hj0wYBe6vwDsCPev4QjyTnOBhbMDb6c4mbrAkHEUxuNN+FCZrFgd8+Gf6JiFRFNTUDqO+d3YvTCse75tkjI4+Jvc6MXk5PvnftGs8B4B0FPvfPGM8x4Du/CS8PgIisA54FuP6I6zi04wDHPAPeAPcMvZt0bzrARsBxivyDCVaqK5NKPv1J8PRxQdwFAn/BUtci4HVo6s+bAqwMeAP8afiDHN9tWEKe3QPdeGTEQ1Fl12Gs3m1WJOIAwLVAEdIFMt4Db+JnjGcgZLwfVXY58NNoSpR9vQr9gQ+Bvory+Y45vPn1LJaXriDS6HB8YVYh4wvHcV6fcwh4A2AUd7mI/K1VbrEdQ1WPBd4F8iACoVehfjqEF0Njs6TnB+C/DPxXYixiVALnishH8Zh3VdUPGnsDq0JVurFik64qXaXFtcX7Ogs3q+qo7/KG2xtUtZeqzm/yFCMlquFlquF/qUZ27fuMV6mq862Aqp6uqp+qan0MD+9aVb1V3VUSScGCqoqqXqSqC1Q1EuMZL1UTCtHs+QUn6au6Acdj4uszMOfKV4qIi9Q+KcSDqvak4dyHD5OsbpmIbGzTjqWQQgoppJBCCimkkEIKByJaVBRDTdr5wcAgTJbAKowjdl7qfHUDLEPGSOAQoCuwB1PCYP73bgtW1c6qep/GjrUPqTGxjfleO7afQVUPU9WX1ZzpaA5lqvqcqvb5vjo0UU3+fwsR1fBm1foFquGVqpFvlUV4XVWTq/R0gEJVPap6r/USq6pqMBzUzZXf6IqSFbqlaovWR5pYHWvV1HZwNRO6rWgyGZNMx4MWQ+hRCL0B2jhkxQ/eEyDtBvDa3vXlwNi2rLvzfcGyQ76OFae5sXITL6//K/N3LaAm3BB8lO3PZlT3kVw64BIKswqjf88AfuY0W5Rj5anq2cBMwEP4Y6i9EjRB0UbfeZD+BEgGwFxM/Z127e9T1anAdYry0vqXeWHdDDRORWif+Ljm8Ks5t8850b/uFZHfOpHlNH1VLrAeyCE8G2ouxNRtcADvyZAxE2Nv5U4R+b0zwgMPqnoqxlfH06un8beNzrO7X3XYlVzS/2IwTr2RIpIwAtpptNHtQA6624w4p4oDCH8KwQeiV7eqqZ7V7mB9r+4HmLdrvivFAUxf+zzLSpaBGVB/dEKTUHlqDlyaY1vBh0CTKDIVfDx6Bq0DMMk9gwMCQ4DBivLM6mddE6sq09bYsVtjVDVhnmMnI2840B0iUD8zYePmUQP1dlXQ5Gp97v84A2B9+Xo2VyVRQQRYXrqC7dV2fO6Z8dqCM+UdBkBkQ+wTnE4QtgshDUqeyX6Nw4DoUbeksax0WRN+8eBEeSY+W1u4ytft0V/ttbZCPtD4sE1SaHTErmeitk6UZ21OWnjkTrKjv/a2jNF+i2qAdE8SmdQbIcNnP+eEh/icKM/swD29HTaPAenTlF/7wzaAgqyEAyYuembaE9P2eO3A2nwlwFxAka6CdyiEkzxu3hDiPSdRUzU1ZM8CRmCCctIxN7MCc67iq9auxacmZjWaALYQ86ZuxySAfVtElsYhB3NfVw3rehxe8UYPmrpCwBvgmNxjopefJ2rvdJM+DxhB/SyoTSL7sOdIyPwMa+SOi1WR0Voe3wtclKBvi4HbRGS2+858S+YRmP3ZWQmazrFkNluC0tq/bgP8Dy79E+8Wvee6Lxf0m8Q1g64GM2XmJUqL4lR5ZwF/B4WaCyActxrmPkiDjHfAOxxM+dIRzY0ay/z2IlYhpZqdYXbPraVme5hwrRLI89JlaDqdBvkb9/pPwBSrDIxrqOoVmNoR6QBbS2HhethVrtRHIK+TMKQv9Otuk0SAO4E/xLiHqcB1xXUlXDPnWleLl56ZPXnqhKlk+7PBlDK4IxGNG9vmh8BYtAJqz4WwkwrXaRB4AnwXgDHLjBGRuc3w/gnGKOvZu6We1Y9WsOP/amguKUWH/n4Ov6kj3UbZsb4vA5e5nUYtI/ujABt3wdQPlEUbmm97eIEpCnJ0L/uvR0XkpmZ45gHLgG5rytdy+6L/ojyY2KjRNdCVB4//I72ze4OJ2TxSRGIUP2iAG+XZReHRWpOOIvQc5pxfM/AcDukPg3dE9J+bROTRZvgeh5nfA3sW1LF4SgmhygRGdYFDr+rAwGvsU6JTROSBeCT7yBwLvAd4P10F983SxmXimr8dgRvGC+cPt/+6UkSeb4b3aMx5j7Tt1Tt4ePkjfLkndm2LE/NO4MYjJ0dTgVVjskgtdnIfbl1CvTHHlAabP7ZA/VsQnm9t4DPBMwC848A3FpP0nXrgVhF5pBl+AswDhlesCfHFz3cTrnE+gI74dSf6XmJmWWCgiBQ5uAcfZuEz8N+b4eYZZop0AgHuOFf48VEAlAADmosYUNVxwKtYxSNXla3m8x1z2FS5ibJgGTnpOQzo2J/RPUYzoGP/KNlO4HwRSbiga9wfV1DVLOBuTIGMROcUFmNGXLMrJ1WdAPyvRmDOpbuoWJPg9d8HHr9w8szuZBb4AJ4Ukesd9P9y4IVQPVw6VdmewKu1L7LS4dXJQidzgvseEbk7hpz+wEMkXggp8DfMC57w5WsM1xs3EdkrIrdiymvehik5tt3qRDWwFnNQ83TguFiKszAJYNecWteKA4iElI0z7L3seeos0egkgA+W4VpxYCpxvrHAnh1iGtlFZIOITMSc83gQWAJER2kx5sX+AzBYRC52qzhoYQBSY6iqJLFoKAIKlt5Typa3k0sWmJ7rYewH+dE7GSwiS+LI82AsPIHbX1G+iFHaJxH6doe/XGs/ukI3dQGTeU6x0Gpph5NQnA/LHlix3oV/cB/UlUQIltofrUQF67pjTfUbW2Cq3bzb1E+y0CtO02+hNY0LbZkzunNUfn2i1WUCBCts+kQFUu2Uv5UtKE0VUTN9OpT5naEtlVeC5ZJPy2lZN9JzbfpEPqs90R+ds5KX5/NAdsNSrQV+spahzZRnRUhtAeg4yJ80n4yeXvwd7dv4OkHzYqACYGALEhEN6GEXMVYgOc9rK6CtU+2/B5A/Nnl3U/4pNu1mEVkZr631vXkfYMwPkl+rjTnCpl0sIgffyLPwCkCXoel0GereD+bLFPr91I7nfdUh2asAJx8O/ZMoLJCbDec0ZOB4xT2H1kObKs/aA74HcMw9OaTluuiOwFF35ES/d2WYvZQTzALmewTuOk9cVaH2CNw+UaKVObcCf3ZO3fpo65EHMBkozcj3MnxqVzJ6JK5u7PELR9+RQ8/x9pR5o4g4StFrTZ3XAzV9usF/XyJ0dpBgMuCHeyYJI0xyqAhwTVtnsm+1TXpLoKo/xlRvDIQqIqx7tpJv3tz7LTuneKDbyACDJnekwwB7kWNnO3cp8wKMR8JXXAXPfaK8v9TUw20MrwdGD4JfnCIUNmwKbhWR/3Ers7WxXygPQFWHY6a0fIBIUCleHKS6qJ5ISAl089JlSHrjqbUeuFlEHm+BzB9jvoG5ADVBWLIZtpWavVxeJzimN3RsWE/VYgoYv5SszHYLNUfH7o9zJEpVNayqs1S1VUIIVbWbqj6mqjVxZIZU9UX9vo5iOcR+M/IaQ012+LGYGJZCwI9xmSwH/vFdnDZS1WxgPCaRd0/MemAH8G/gn61e+jqFFFI4QPH/KtrIalfQZUsAAAAASUVORK5CYII=\"\n  },\n  \"colorWipeAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABX1SURBVHic7Z15fFXVtce/64ZAmAKBBIKIAYIBKSAqFkSiVBAHUFGLYnFqn21tbW2f1qGvgx20trXte/ZVO1hpa7WiaFHrQysogsgsCoioYRAyEJlCJAkBkvzeH/vcmxvIzT3nJhKG+/18/Hxyce+99jnrnH32XnuvtSBJkiSHH2vtDjSGpGzgAqAf0APYCRQBc81sw6cotwdwoSe3J1AGFAOvmtkHn5bcYwJJIyXNlVSr2Lwt6dIWlnuGpJfiyF0j6fOSjpgH/ojoiKQ2wG+Ab+D1aVclfFgC5XuhUxr0zYLeGQ2q/Qu41sw+aYbcEHA/cEdYblVVFVu3bqWyspK0tDQyMzPp1q1bdLVXgKlmVpao3Jai1ZXnKe554GKAdzbD9Hli9RaoU8OyuT3h+nxj7GAw1/N3gXPNbFcCclOAp4ErAIqKipg3bx6bNm1Caig4KyuL/Px8hgwZgjnBHwL5ZrYtqNyW5EhQ3u+AW+oEj7wqnngzfp2xg+G/JhtpqQDMBS4ys5qAch8AviOJ+fPnM3/+/Lh18vLyuOKKK2jXrh3AQmCcme0PIrclaVXlScoHFgA8PEfMWOS/7sgB8ItrjFAIgJvN7I8B5J4JLAXs9ddf96W4MP3792fatGmEnODbzOy//fe6ZQm1lmCP+wFWbCSQ4gCWrod/Lo/8vEdSWoDq9wFWWFgYSHEAGzduZNGiSGe/J6lToAZakFZTnqR+wNkAf35NcUo3zt8WiP1usOwFjPMpNztc9rXXXktI7sKFC9m/fz9Ad+CihBppAVrzzbsYoLQc3itOrIHyKli5qWF7PrgQCFVUVLB58+aE5O7bt4/169cHldvitKbycgHWJai4MOuKI29tbhC5JSUlh8wqg1BcHOm4X7ktTmsqLwtgd2XzGtlVX79nELlVVVXNkltZGRHsV26L05rKKwfo2K55jXSun6bsDiLXm+4nTFpaRLBfuS1OayqvCCAnq3mNnJQZWe0U+axSDJCZmdksuVH1/cptcVpTea8B5GVDVnpiDbQJwVknN2zPr9ysrKyDzV6+MTPy8vKCym1xWlN5y4EtZnDtmMRsBZNOhy4dANgHvOinjpm9C3wAMGbMmITkDhs2jPT0dIAanGmvVWg15ZmZgJ8CXHI6DM8JVv+EDLjpvIjSHzaz7QGq/wTg1FNPJTc32GQxPT2d888/P/zzUTNrtWGztc1jKTgb4ahP9sJd/xBrfdyKXl3hgWnGSe6zUwgMD2Kc9nYTXgXGVldXM2PGDF9rvvT0dKZNm0aPHj0ASj25H/uV29IkrDxJg4ARQDaQApQAq81sVcB2euHsjH3218BjC8TTS6D6wKFlQwYXDYebx1t4uKwEzjGzlQn0P9OT27+2tpaFCxeyaNGisOWkAWbG0KFDmTBhAh07dgSoBs4zs8UBZeYAo3H3rANu8vQ+sMzM6oJeQyDlSUoFbgK+DeTFKPYR8BDwOzOr9tluH9y34zSAT/bCkgJ4v0SUVULXDpCTZZyd12ByUwRcbmYrglzDQXJ7AbOAkQDV1dWsX7+e4uJiKioqaN++PZmZmQwcOJAuXbqEq5UCV5qZL2ust3l7FXAncHqMYh8DjwK/NLPyRK+nqU6cIum96K3lrbulVZuldz6SinYdsvO8SdIZAdrvIOkHkj5pYjdbkvZLekhSMxcZEblpku6SVBZH7gFJf/Jso37b7iVpYXQje/bs0ZYtW7Rp0ybt2LFDdXV10f97hyTftlJfb56kMbjZXJcDNTBrBbywQmzZ2bBcr64w8XTjqpGQ1haAKmCKmc0OcMEZwCScwbcv9WdJCnF7d8+ZWTONao3K7QJMxNkqw2dYyj25r3lytwRoLw/3XT1REqtXr2bp0qVs3bq1QblOnToxbNgwxowZQ/v27QFqga+Z2SPxZMRVnpz1fxmQWVIG331SbIozr+vVFX5+jdGvBwB7gNHeFP24wHsAlwB5VVVVPP3003EnRB06dGDKlCn07dsX3BLkYjOb01QdP8qbA4zfvge++ojYscffBXROgz/cZPTpDsBbwJne8uCYR9Ifga/s27eP6dOns22bv9MSKSkpXH/99Zx00kngJoAnm1lMI2yT6zxJ44HxAD951r/iAPZUwz0zRZ2bQ52B+2gf83jD5ZcAXn75Zd+KA6itrWXmzJnhGe8JwLeaKh9vkX4jwJL1sCqBra/1H8Pc+sHyxuAtHJVcC7TZvn07q1YFWjUBUFFRweLFkRXIjU2Vjak8uYXsxQBz1yQ+2kXV/ZykDgk3dPQwCWDt2rUJ7xeuWbMm/Gee9yY3SlNvXhaQAfBuYUJ9cB2pr9sON3s81jkZYMsW3xPTQ9i5c2f0fmNCyotsMu6qSLgfVO5rYC3plXhLRz5yh5E6QYPN2oSoqIjc9JjryqaUF6ndvm3inUgJQds2kZ8BpjxHJXtx6zRSU1Ob1VDUZnHMV6cp5ZUCAuid2LYX4I6oh+oXJC2+uD6SMLNanKmL7t27J9xOamoqnTt3Dv8siVUupvK89cVygNF5iW8+nFU/Ym/4NCwjRyALgOjN2sDk5uaGD/VGdNAY8ZYKs8DttyVy1iQ1Ba4cGVH8rOAtHJXMAhg0aBAZGRnxyjbK6NGjw3++bGZ7Y5WLp7w/ALu6dIBbJgR/+7401sh2xvgqoNWOhR9m/gm8n5KSwsSJE8OOKb4544wz6NOnD7hP1s+aKtuk8sxsN/B9cEcOrj/Hfycmj4AvnB35eZ+ZxRy7jyU8h5f/BOpyc3OZNGlSeAiMS15eHhddFNlU+IuZvdWkLD+NSnoUz+Qz7z146N9iWwyvuIyO8JVxxsTTIv/0HG7/K/Bm49GMpO8B9wJ89NFHzJ49m+3bG7fot23blvz8fM4+++zwm7oc57oWc8gE/8prgxv2vgGwvwYWF8DyDeLjcqitg55dYER/Y3Reg6XF48CX/W7KHmtIugs39IXq6urYuHEjBQUFlJWVUVNTQ3p6Ojk5OQwaNCi8HQRu2+vqRHwO43VmiqQNcTYtJalI0hdbVPhRiqTPSVrp457tkvQd70XxReBZiKS2wCXAZbjdgt64MyxFwGrcMPl8U1sZxxuenXgCMBl3huUE3BmWItwZlheAZ48EV+kkSZIkSZIkSZIkSRLAm/Im+RQJco+bOsOSKukqSf+QO/1cDRyQVCLpVUnfktRqLr3HApLaS7pB0j8lFUraB+yTVCwXC+1mSV2DNjpZUoEPq8AeSfd4C/ckAZB0o2eJisdOSbc19kbaQQ2GcLa4uwAO1MDCD2DJelG8y9kwu3eC4X2Nz33G/e3xBs74HMRH7rjEe9AfBv4DYP/+/axbt44NGzZQXl6OJDp37kz//v0ZPHhwtM3zX8A0M4scJTlYeQ8A3wGntN++JEpj+Ky0awNXj4YvnmukuGdiJS6YWtIs1gSSHgOuA1i1ahVz5syJeVipXbt2nHvuuYwaNSq82/AqcGE4zlpEeZKm4KLgMWMR/H6O8HPq8LO5cP9UI9WZUx8zsxsSv7RjG0nfBH4LMGfOnOgwWE0ydOhQLr/88rACf2lmd4GnPEntcH7aOfPXwQ+f9qe4MBcPh7svc00BI80s5rmL4xU555MNQMby5cuZPdu34xTg/OfHjRsHsB84xcw2hj+C1wA51QfgwZeCKQ5g9juw2p0xNeDugNWPF74KZFRVVTF37tzAlRctWsSOHTsA2gK3Q/1S4XKAeWsJ5EwSzdNLIiq/QFL7psoep0wGWLlyZaOu0/Goq6tj2bJl4Z+XSbKw8s4GWFyQuE/CsvVuNgp0xHNPTuLwZphnAnz44YcJtxNVtzfQLyQXp7IbQHEzNt6rD8DO+rO9vRNv6ZikF94oV1aW+H5reXk5tbW14Z+9Q0B7vInLvkYiMAQhyifhePAGCkLkM3LgQPNuck1NJBpzhxAu8Fk1QPfOsarEx4DM+vrHxTG/AJSG/4g6xh6Ytm3bRvswbA15rsYfAAw7KfHeDciGDvVGsmQCiSi886+lQNhlOSGi6u4HIkuFfwGMH2rRTiGBmDAsUnFVkKgJxxEvgotblihRdeeZWUVYeY8BNTmZcHEC88Tsru6EtMejCffu2GY6QE5ODieffHK8sofQq1cvhgwZ0qCtEICZFQB/Brj1AuNk32FiIC0V7rvaaOfc0TYCvkPkH094oa6eA5g8eXIgJ5RwmI+o09QzoaFtMx1YDAyuqIYfPyuWrm+0rQg90uG+qcZA5++6DxhrZksCXNNxhVz0pOXAiRUVFTz11FMUFTUdKS8zM5OpU6eG/f3KgVFm9j4cuquQC8wB+kmw4H14ZqlYc1BqmD7d4cJTjSn1kY72ATeY2VMtdaHHKpJOA14Cekpi1apVrFixIjrgOAA9e/bktNNOY8SIEaSkpIDzKr7CzGLb1iRlSnolejewolra+LH0XpG0c88hm4WbJY2O2WCSQ5B0kqQl0TexqqpKpaWlKikpUUVFxcH3eJ2kIfFbrhcwUdJ8STUxdng/lHSHgmUSSeIhySRNlbRUUl2Me7xa7ihEo/4LfsJXZQGfxZ2vb4/zK3/PzNa16NUcx0g6gXq/jza4YHVrzGxjq3YsSZIkSZIkSZIkSZIkRyPNSoohF3Z+ODAIFyWwArcRuzjpX12PZ8g4C+gDZAI7cCkMlhz2hMGSukq6T7HP2h+QM7GNPawdO8KQNFDSE3I+HY2xW9J0SX0PV4cuk4v/L0mqq5O2lknvFjr7Z0X1IR2cKakZByyOPiSFJN3rPcSSpJqaGm3fvl2FhYXasWOHamtro+9RtVxuh0AjYdCMJrfigumEyqvgH2+Kue/C9qhoSG1CMLwvXH2WMXJA5J/fBca3Zt6dw4Vnh5yJd05z27ZtLFiwgIKCggbnNdPS0hg4cCD5+fnR4R0fA77oN1qUb+VJmgw8C4SWb4AfPSP2xIlrNG4I3HVpJBn9m7j8O62WFP5wIOkh4OuSeOONN3j99debjDUdCoWYMGECI0eODP/TvWb2Az+y/Iav6gasBzKWbXDZtmp9RhI7ox/86tqIJ9EPzeyn/moefUi6ELdXF8iRBGDcuHHhfH4CzjKzpfHq+HWhvRvIKKt0b5xfxQG8tQn+Oj/y5N0hlz3rmMP7Xt0P7mRzEMWBy9nuBRU34Od+6sRVnpzD5Q0Ajy8UFQmEgHtqcSSrcmdgSvAWjgpOB4ZLSsiR5KB6YyX1j1fHz5s3EuhRJ5i7Jm7ZRqk+AG/U7/5NSqyVI55JAKWlpTFDM8ajsLCQ3bsjyZ8viVfej/IGAhTtgrJmRJtftSUydA5KvJUjmoHQvHwKQHTCqIHxyvpRXjbAzmYG1Y+qf6zmVugFDfIhJMSePZEbdUK8sn6UtxcIT/cTJiqAavOyRRy5VAG0aeM7XGajtG0buVFxnwI/yisB6NUwP0JgTqg/Y3qsOqGUAAnnXg8TVX9rU+XAHXaJx5uAunbATumNr2zKjRGVm2FhvLJyOWQvBUbhDuW0w13MWpxfxVstnYtP7sxqOADsibgHeysuAOwLZrY6ThMLgZsGDBhAKBSiri54SO3U1NRw8kNw4VGaxO8ifTEwat5auOeZ4PdsQE/481cjTiwTYmVk9KbH9wJT4/RtJXCnmb0auDOHyhyMW59dGqfoQk9moxmavfVrCZD6wgsv8Pbbbwfuy+jRo8M52CuAnvHCovgdoO8Hnh87GEYNcPn0/JKaArdNjChuGS4A9iF45re/4yVS2vaJy9j8cbmoPgA90o3hfSEvG8w4HZgr6dfAXV4amMBIuhGXO6IdQHGZc8/eVi5q6qBnF+P0ftDfpU8dAyyU9EPgZwe/+Wa2Q9IjwNfPO+88CgoKAk1eMjIyyM/PD/980E88myC2zTnA+MpquP1x8Z6PxDKpKS7Ex/lDAZcHdayZvdlI29NwRtlQ8S4XA+aN92k0KkW/HvD18xsYvZ8Args6jHpG9gcBNm6Dh14Ryzc0XvaU3i4pSJT/4oNm9u1G2uwJrAGySkpKeOKJJ6JTqcWkc+fOXHfddWRlZYE7sznEzGIkP6gniPIiSeH318Af5ornV8CBGM98vx5w+8QGF/xtM3uwkXZH4Mb3tBUb4Ycz41txDLjhXJcxxeMuM/tlgGsZD7wMpMxfB/fNUrRLdqOEDL5xgfH5iP2YL5nZXxpp+xycv0fb3bt38+KLL7JhQ4ynApe2ZuLEiXTq1AncjDXfzFb6uY6gW0I5ODel4QCl5fD6WlhTKHZVuOVEn+5wVp4xMhe8RB41wB1m9j+NtGc4z6SRBaVwy/T4NzGab15gTBkFuOVMnpnFnU55WzZrgbx3NsNtj7kh0g8GfP+KyEiyCxjQ2IkBSROAGXjJI4uLi1m3bh3btm2jsrKSjh07kp2dzeDBg8nOjvjTfQx83sziTuii+xMISR2BH+ESZMTzU1iJe+ManTlJuhj4vzrBl/8kCkobKxWb1BT4+y0WXoY8bGa3xKsj6Qbgrwdq4NqHxNbd8Wo0pGM7mHGr0cWFTPixmf0ohpxc4DfEnwgJeAr3gAeaywcOfmpmlWZ2By695p24lGNbvU5UAR/iHDUnAiNiKc5jCrjsKEEVB27IfnJR5FN3pfwFGp0C8MoaAisOXCbOZ5ZGZMY0spvZBjO7DOfn8QCwCgi/pTtxD/bPgOFmdk1QxUEzDyBFI8kSmDQUAb1//ryY/U5icjM6wnO3G16yrOFmFjNFsqfcSiDt7ifFogTj2fTrAX/7WuTWnRgkL2Ai9ykWLRZ2OAHFtcGzB270n0r8EMoqYXf9hC4nTvEeeEP9xmYcyNi8neg9zUDhHVrSuNCaMaO7huXHO04Rjz31ua7i2aYiIX+bI7NObvj0KfNTozWVtws3E6VrM+MlZdRH3I33Du8I/9G1Y+Ly2oSgU/1UrRnjRvNoNeV5J6QKAfKasUmU3RU619/Ij+IU3wl8As5SkygDsiNGegGbmy796dHaofZfBhg7OPF509jBkT83m9l7TZX1vjf/Bhj7mebIjNRdaWbH35vn8STAaX3df0Hp0Bamjo7cyBk+q80AOPcUyE0gsUC3TnD5mZGfTwZvoeVoVeV5a8CXAb472cgI8B0y4I5LjG6uzm7cWsoPs4AlIYN7rrRAWahD5my13sZyMfB7/7VbntZ+8wBuBcqyu8CvrzN6dolfITUF7rzUGFcf3OJbZrbTjzBv6LwF2Ns3C37xBfM1YUpLhR9PMUY5g3gdcHNrR7JvsUV6c5B0Pi57Y9one+GxBeKFtzjEzhky+OwAuHm8hbdpICraeUCZV+F2JNrsrIDp88S/V7t8uNGkhOCcQfDlccaJ9YuCO8zsV0FltjRHhPIAJI3EDWm9wN3EVZvdHltNrYvleWoO0UNrDXCbmf1vM2Sej/sGdgPYu9/JLClza7meXZzM9PqI2dW4BMaPJyrzmEXOdez+JlyiJKlW0ixJLXKEUFKWpN9K2tuEzAOS/q7D5YrlkyPmzYtGLjr8eNwZlhOBVNyWybvAi5+Gt5GkTsAFuEDeJ+DmA6XAO8DsFk99nSRJkqOU/wcDidIKGoX9TwAAAABJRU5ErkJggg==\"\n  },\n  \"runningLightsAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABHaSURBVHic7Z15eBRV1off00vSC52NAIIgIiAKAjKOIuICCIiKIIo746gj7o7Lp47jhqjgDKPO5+i4MSLuMy6g4oqIooD7AuOKioigEkggIXsv5/vjVsUI6aS7052EfPU+T57QlVu3TvPrunXvueecBgcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHh0SQ1jZgR0dVfUBXIARsAIpERFvXKoe4qKpbVU9T1UWqGtZf85Oq3quqe7a2nQ7boKoDVfVTW6lYOKKR9UUaXrVWo5vL6osYVtXbVNWTKVucYTMJVHUU8AwQiv6wgfJ/PUv1ko/Q8sq6Np7e3QkcOxL/MaMQjxtgEXCUiFSn2x5HvARR1b7Au0B+1QtLKZsxB62NxG3v7b8bebdehLtTPsDDInJqum1yxEsQVV0IjKle/AFbrrwDYk3PSTy9utFx7jSVoF+Aw0Xk5XTa5EpnZ+0VVT0AGBMrK6fspvsTEg4g8t2PlN87z75BpqfbLke8xJgMUDXvDWJlFUmdWPnUa8TMM3FfVd0lnUY54iXGgQA1Sz9J+kStjVD73mdgHlHD02lUxqaxjaGqASAbyLFsyLN+hwAv0AHIAoL1foeBcmCNiCxsYZN3Bois35jSydF1ded1T5M9QIbEU9XzgaOBfIwwbiCXX4Robv9niMgDze1nRyft4qnqFODOdPe7DVcCLSnej0A3T7dCajduTvpk986d6veTNjLxzDsgA31uS68WuEZ9lgNkDR+c9Ini9ZC134Bf9ZMuMiHei0CmHbOfZrj/bXkKIHDMSKRDIKkT/ZNG4goFAD4Uke/SaVRGFumqOhQYCnTBTELsn1zMM9B+HbSOJUMFxt30etoMTgBVfQ0YVf3K22y55h7QBBbpPbtS8OA0XEbwo0Tk+XTa1CY8LNa2ih8z+8yyfvsBH79MdEJAKbBMRNa1go17Au8AOZXzXqds1kMQicZt79l9F/JvuwT3Th0B/iMiJ6bbpjYh3o6Cqh4GzAMCkdXrKb9vPjVLP0Gra+vauLt3JnDsKAInjEGyvABvAeNEpLLhXh1aDFXdR1VX1W0JVddo+Nt1Wrvia438tKn+llBUVe9S1ezWttmhHqrqVdVzVHWZJVJ9ilX1IVXdO9N2tPthU1VzgT4Yh0EIiGEmPRuA1SKSnLNy+/5zgB6Y5/R64EcRib9X1HAfXYE9gRLgKxGpao5NOyzWXTFBVWer6rfaNGtU9VHrTurawrYOVtW3trGnXFXvVtXCps5vN3eeqnYCLgamAnUuDa2sJrKuCN2ylVh5FeJxIb5sXIV5uLt3ticVNlFgCXAXMF9EYhm090BVXSgi/lhZBZFVa3HlBPH06QEuAVgDjBaRb+P1kbR4qmo7jhtyLtu+y/p/82Km+9suB3yY4QvMcDFHRN5LwR4fxl12mXVtIt/8QNWLy6l991PCX6+Nv/8mgqdXN7L23p2sYYPIHj6ovpjfADOBh0Qk/pogBVR1D+BtIK/quTcp+9vDaFUNAJ5ddiL3+ql4B/UF+AgYGm8YTlg8VT0a47PcubnGx6EU6CUiCTsPVXU48CDQG1Vq3vqY8jkLCH8a98PaKBL04z/8AIKnjMPdo4t9+DPgynQtsK0RYhnQt/rVd9ly9V3bfbjEn03h4zNwd+8McISIvNSgvQleMAT8jLmjMsnJIvJ4AvYI8GfM7rQn8vUPlN48l/DKr9NjhUvwjR5K6LzJ9n8gwJvAFSLybqrdWsK9CgwOf7GGkqk3/WqNWJ/QJScTPGUcwKUi8vcGzUzwuvlkXjgww3GjqGoW5m6bQUw9FQ8sYNOU69InHEBMqV74DpuOu5Kyvz1MbPNWgIOBt1X1KVXtl2yXqjoEE8A0OLJ6PZsvuiWucACunLqds7hRZ8kMm08BxybaPgViwAAR+bIRG7KB+cDhsYpqSv98JzXLV2bQJIME/QRPPYLgyeMQf7Zt6wLgf0XkjcbOVdWOwOXApYA3vPIbNl92O7GS0rjnePv1pOCB65AsrwL9RKTBT2ZSExZV3RXojZl05GDWTfa/8+u9zsZMYMQ6LtZrFw07okuBG0Tktkau7QWeBCbGSkrZfOEthL/6Phnzm42rMI8OZ07EP+Hg+hObbzFD4TKgCCjGvOe+wAhgPBAgplT+ZyFb73gCrQ3HvYYEfHR8eDqenl3BfDguids2De8padREEYes61cn4vdT1TuB82Ol5ZScfTORb35I6FqSnYV3YG88u3YzTuJYjMj6jURWryf82WqIJb8acOWHjP9y8qG4CvMabxxTapavoPy+Zwh/vrqJjl3kzboQ34h9AD4B9heRmrjvLWnLWwFVnQrcp7VhSs6a2fRsUoTsoQMInDCWrKEDtl3L1REtLqVs+uzUh16X4N1jV7L2HYCnT3dceSFceSG0vJLoz8WEP19NzZKPiRaVNN2XCDlXnU5g0ggwd+9wEfmqsVNaJQApGVR1N+DvAGU33t+kcO4eXci96nSy9u1vH4pi1kufYBa+LsyQNtqVE8wLf7Y69YlYTAl//h3hz5u5xypC6MITbOEqgPFNCQc7gHiYtWWw6vmlVL3UeBRB9oF7k3vTOfbmZxFwC2bxX1y/nTVsr6p69s3NsdLylphFx0W8HnKuPRP/EQeAiZA7TkTeSeTcNi2eqnYBxmllNVtve7TRtv7DDyDn+qmI2w3wBHCuiMQbr34P9HIVhNJqb7K4d+pI7o3nkDWkH8BW4PhkQuLbtHiYpEWJrCtqNFI5++Ah5Ew/C3G5wCzcp8dLcLSWG9cBVC9K2huXHkTwHzmc0GVT7FFiHWaoXJFMN21dvA2AursViisn2KCA3j12Jfemc23hponIDU30eS6wS/ir76l+teXFyx42kA7nTsbbvy4A7mngHBHZlGxfdbNNax21F+bTHsRM5X38Eihkx5PYTud8jKPZj1nD2cfr8wXwh8YW3k2hqi8B42re+ZQtV97561y43Xam4J4rcRXkAswVkdOb6KsDZl3WefNFt1KzLKkPeh3iz65zJCeCu3MBvrFD8Y8/0OwaGNYDfxKRxp8HjdkBdRuWbwEDU+2oEeaLyDGpnqwmOeN9oHOsrJyaNz4i+tMm3F0L8Y0diviyAV4GJohI/NWv6eta4IbaT1ZRcuZNKdnj6pRP4b9nqAT9EisuJfr9T0S++5Fo0WZ0qzUyZGfhLsjB3b0z3oF97CAkmw3ALODu5m662uKdDsxpTkeNUCwiTW4sNoYl4Bzg0Ab+fB9wcVP/EZab6lsgt2TqDGo/bnImvj0i5N9xOdn77wVWFHWCZ5ZivDAPAS839SFLFPuZl/gYkDzNTucVkbXAaFUdBAzDxIOWAi/G8/s1wBVAbs3ylakJBwROGGMLt0RERqhqL6Af0B/ojHmsuDDvuQhYC3wIfJmJjV37zgsC9wKjgJ1Ir+fldhG5OI39JY2qdgO+QdVf/LtphL9ck3QfroIcCufNsmeHI5tySLcEHgArCGcK1G25dAUKMRMVe/d720mLDzNRsYNj8/llt7zQOmchcE2LvZv4XAv4qxe9l5JwAB3OPsYW7vm2IBw0sFQQkVrge+tnh8ca2s4gFqP8vvkp9eHp1Q3/0YcARDAhF22C/w+ZsTcCWVUL3iLyXWoZVqFLTrY9N/eIyGfpNK45tGvxVHUgcJLWhimf/UxKfWTtN4DsAwaBteeYRvOaTbsWDxP95ap8ajHRn4ubbLwdLiF0UV1+yAwRSS2vOUO0W/FU9UBgfKyymoq5C1Lqwz9uGN5+PcF4QzKd7Zs07VY84C8AlQ++QKykLOmTxeuhw1l1jqGr22IIersUT1UnAsNjJWVUPP5KSn0Ejhtth/39F3gkjealjXYnnuVgnwFQPns+Wpm8g0eCfoJnHGW/vCrdEdPpot2Jh1kaDIiu/ZnK+W+k1EHghDG48kIAb6Y7FTmdtCvxVHUCcLlGo2y5fnajacfxEK+HwPGjwRRF+FOaTUwr7UY8Vd0feAxwld/9dMoR1L6x++M24XzzE40laS3ahXhqipguBIJVzy6hYm7qI52nt6kwpTXhTlbOXrMrNmWKVo/btIKMCjGFtZNaBFsJJ5cCNwPeqheXUTr9XxBtxvzC46bD1KMJnjbedomtBS4QkdQWixmk1cRT1bEYD8g+9Q6vxCQ2PtJUurGaGpi3AvujSsWDL7D1n08mVB8lEbz9epJz9el4++9mH3oEuFBEtqTlAmmgtcLdz8N4LCS2tZLYhmJcnfJx5dYlCZVgaos9B6wUkS1W7ndf4BDgeEyRHqJFmymb+UBK5RSbxOUicNyhhC443k4w+QE4TUQWp/9iydPi4qnqwcBiVN1b//kklY++jIYj4HHjG/lbAieOJWtw3yb7iW3ZSuWTr1Hx0AuJBwO53SY3Icm7092jC3nTz8Y7qA+YWegtGK9LWsIZUqU1xFsMjCy/b37c/TVv/174Rg8la9/+eHruhAR8aGU10fUbCX/xHTXv/JeaNz5qNNtmW9w9upD/1wtVQgGpXvQelU8vJrquKHHDXS46nDae4FmT7Krty4ETRSSxjJcM0KLiWWHmlcRi3g0jzknJ+5EKWYP7kv+Py1QCPkXEzLBjMaoXf0DFnOcIr1qbcF/eQX3Im3m+HRFWjIlybpVhtKWXCkHAG6uobjnhfrMHef+4HAn6BZMePAi4H5erxjd6Pzo+ciO508/C3aUgof7CK7+h+JRr7WdsR+AlVT0lc+8gPq1x51VpNOrZOOaCpIttJ0tg0ghCV5yKeD1gUqH/YPspraCkS4HzAZ/W1FLx6MtU3P8cWhM/3bgOK7MneOoRYJ6DE1t6OdEaz7wFwPiqF5dTOn1289ZkcXDlh8i5/Hf4xu5vH7oVUwxgu/A7Ve2JWbKcBEh0XRGlMx+wi3o3SfC08YQuOB5gMzBERFos9qc1xOuPSazvEP7qe8pmzGl+fpuFeD34jx1FhzMn2o7lrZhsoSZDylV1P0z4494AVS8uY+stjzQ9OoiQN+uP+EbuA7BARCY0820kTGut84YBDwO9iSk1y1ZQ8fgr1L7/eUqLbFdBLv4JBxGYfGj90PKFwFnJ3AnWsH4pMA0IRDeUUHrdvdR++EUT18+h8OlZdkXb8SLyQtJvIgVa08Pix8RTXoRVJiS6voiapSuoWbaC8FffEytuuGKC+LPx9O1B1sA+ZB80BO+Q3W1XFsAK4JrmbOWoam/MM3K4xmJUzH2e8nuebvSbTAInjiXnsikAq4D+LbEH2BZ8mx0x9cLOw1TP++Vv1tpOra0d8bhxFeTgys+x63PZhIHngXuARekILbfuwmuAqwFP9avvUnrdvcah0BBuN52evBn3LjsBTGlO9k+itLp4NqrqAn4LHIkJu98D47BuiFpMkfCPMAkcr4hI/MImzbPrYEztl4LqNz5ky2W3x23rP+ogcqdNBZPatlcmC89BGxKvIVQ1H3M32uUcIpgEjqKWDE2wJllvAh1Lp8+masFbDTd0u+k076+4d+4McIKIPJFJu9q0eG0JayH+SKy4lI2TLo/rZPAfPYLca84AE7g0OJPfH9suNmNbiMeAt10dcwlOOTxuo+oXlhL9aROYRNVJmTTIES9BrDvoCoDASYfF/XIMDUeoeLBupXCNtWGcERzxkkBElgKvu0IBApNHxW1X9dwSu+rREEztsYzgiJc8MwGCJx+GZGc12EBrf333ZcoQR7wkEZFFwPuuglz8Ew+J267qmSV2mP1+1nIj7TjipcbNAMHfH2nvWGyH1tRS+dRr9sv/yYQRjnip8QzwqbtLAb5xw+I2qvz3QjtE4yg130WUVhzxUsCaec4CCJ565LauujpiZRV2sTsB/phuOxzxUudxYI2nVzd8B/8mbqPKx+rqwB2nqu64DVPAES9FrO86uBXMsy8ekTU/2QXGOwKJxVokiCNe85gDbPQO7GMX19kOCfqRoA9MUfHydF7cEa8ZWLWx/wIQuvgk8Gw/KobOm2yXSX4t3dm1jmO6mVhFhz4D+tS8+THl984j8sMGPH260+G08WSb52EtMExEPmpVYx22R1UHqurGON8StsnKG3Roq6hqD1W9XVVXq2qpqn6gqrdYX0Hj4ODg4ODg4ODg4ODg4ODg4ODg4ODgsOPzfyENJ/T/2ygfAAAAAElFTkSuQmCC\"\n  },\n  \"sparkleAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAqRSURBVHic7Z17rB1VFYe/dS8tLXC59iUgbRHwFYskGgMiakANNVIFXyho8YFREARFRBCIEhGUoEikEB5FIZo2QAKC8gighcRojBpFIlUpahHt49JCaWnp4/78Y81w5syZOfc85syZc7O/5AbOnrkzq/c3a++1116zDwQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEKhh/TZgIiQNA0cCrwZeAH5tZqv7a1U1qLR4kg4AfogLFzMOLDWz7/fHqupQWfEkTQd+BszLOeW7Zvbj8iyqHkP9NqAJi8kXDuAsSXPLMqaKVFI8SXsAn5rgtGnAeb23prpUUjzgE8CMVNssYGqq7V2S3lGOSdWjcuJJ2pNGrxsGZgL7ZPzKeZKm9NquKlI58YCP0+h1M3AB9wT2Sh07EPhkCXZVjkqJF411aSGGqRdzHxqj5NMl7ddL26pIpcQDTsa7xyQzcQFjpuDjX5JpwFd6aFclqYx4kdctTjUPAy/LOH0WLmKSYyUd3gvbqkplxKM1r4sx4OUZ7RdK2q1ow6pKJcSLvO7kVHOe18WM4AFMklcBJxVoWqWphHi4cOkIM8/rkmQFL2dISo+Jk5K+iydplOx5XVrMLKZmnDcC3CxpoaS+//t6Sd8S05IMWAScQ+P4NYfGiDKPceBJYGfGsb8D1wAPmNl4h6ZWlr6IJ+kg4ALgrRmHh4GDaa9X2AT8t8nxJ4AbgZ+b2a42rltpShVP0ghwJnAi+eNZO16XZA3wHKAm5/wNWAI8aGbNzhsIShEv6iLfD3yVfGHi/OXMLuzaATzDxCL+A1gK3D3I3WnPxZN0CHARcGiT00ZxjytqjtaqiCtxT3xoED2xZ+JJmgF8GfgQ+ePXNDzcn94jM1oV8Y/AuWb2dI/s6AmFixd1kSfgwo3mnDYMzKa16UARtCLiauB4M9takk1d0wvxLsbFy2MUnxpMNAHvBROJeJmZ3VKuSZ1T6CQ2WtXOE24acACwH/0RDjyZvS9wEJ56Sz+8h5VuURcUncRdlHOPOeR3of1gN1xIo94D+/VQdUTR4qXLFIaAubjXVYUtwFpge8axP5VsS1cULV46yzEO/BvYm+wCojLZCazHx7ssxoBlzS6QCMY+jEfIK4Al/QpyCg1YJB0G3NzkXv0QUcAGPFDJm5CvBs4ys5VNLySdDpyRav4NcEo/5omFBixm9jvghpzDwp/6fwL/I7vbKprNeNJ6PdnCvYgnro9rQbi5wOczDh0BLOzSzo7oySRd0juBs/EEc7N798oTtwPrcPHy+BU+NXiqlQtKugw4PtGUDHZWAh8s2/t6mWEZAo4BvoiH5s1sKErEcWpdZLPJ+GVmtqLVi0o6ELibWjQ6PfrZkDjtVDN7uF2Du6GM3OYQ8F7gNCYWcZTs4qJW2Ab8h+x1PYCtwHXAj8ysrS5b0lX4gxgzH3/QVlF7SP5sZh9ry+IuKW1JqA1PHI6OtzvnWo2/v5fFCuCSTnKXkhYAt1H7W+1J7QWYtcDGxOmfNrPftnuPTimtTMDMxs3sPnxp6Gt44JLFLjzAaIetZAu3Cv+DntZF0vlL1D/kcxL/n16+ygpoekbpNR5mtsvM7gLeh4v4r4zTnsUFaZUssa/AE80de4KkNwNvSzSNUJ9wmIKP1zFvkfTGTu/XLn0r0EmIuAj4XsYpa1u81As0et0jZrbUzPLGvwmJgpQLUs1zMk6dnfp8pqTdO71vO/S9uiqqKVkK/D51aBvugRMxltG2pFN7JO0t6XzgLuB1iUOjZEfDDd4H3CUpqz6nUPouHkA0P7oUH++SrM9oS5LndY+2a4OkYUknAffjdaTJ1KHR6GFJ0qUd84Glkq6Q1Oz3uqIS4gGY2ePAranmXWR7VkwhXifpSPz994torNKeAryC5tOX3fEuNR29HwvcI+nEXtSQVmpDAUl7A/fS+M7CK2lcmXgBnx4kedjMTm3jfrOAbwFHZxweiuyYRet/p+34WL0l49ijwDcmSsO1Q2U8D8DMNgFXZRzKCl6yvO6aVu8V7e9yPdnCjeAvbc6mvQd8Kj4H3J/GeeqhwK2S3t3G9ZpSKfEibsef0iRb8cLamC00jnUr2hzrjgJen2qLV/v3p7MsT8wInmhI1+hMAS6JtinpmsqJF9VRfpvGVYB1ibZnMn61Za+LeE3q835491xUJdswvjg9Hx8TY0aBNxVxg8qJBxB50B2p5p14V5nndX9p8zYbU5/HgOfbvEYrTKVxvC6ksqBSAUsSSTPx4CU5hzL8j/Fi8lTgBDN7rM3rz8anBXukDu2Fe0y3O0wIn6em1xJ3AUebWbspwAYq6XkAZrYB33csiagXDtzr2hIuuv4YcC6eDEiyGc+7jtG8ULcZ8SLwWhq7/xuKEA4q7HnwUkR4O/WZjiTjwEfM7K9d3GMuPr/L2oxnd7xUsNVxcBs+NmclyZ/DI+nlRS3aVlo8eCnHuJz67jNmiZldXdB9FgLnk71Rz2yaZ1jA31LKSuftxAublphZXvFTR1RePABJ8/ClmbfjY9TjwE1mdm/B99kLfwXtJOrnaYaH/nnj4HN4XU6aR4DLzWxVkXYmjQqkiBZgvwkckmieQbZXCh/fdiTaVuGiPdIrGyGIl0s03i4D3hA1GV5Qla513Uh9BmgZcGk3y1GtUtlos99ES1XXJZpE49xQ1CcMNgFXliEcBPEm4pf4q9AxG6lfotpAfcHT9WbWi4l+JkG8JkQh/fWJpnFq3heXGcasB35akmlAEK8V7qe+zmYDNeGSXnitmaUn/D1lUoknaV9J84u8ZjT2pb1vjHqvewpPJpTKpBFP0ueAh4D7JX0neqOnKO4GkqWDsffFXG1mOyiZSSGepNcCZ1H79xwHvKeo60fR4405h58AflHUvdphUoiHb4E1hOci4zTa2ZKKfIHlNiBdA7oNuHAy7apUKpKOkPR49LNZ0nZJK6PP6c1Xu73XFEmLJV0p6YJoG66+MdAZlqgi61ZgAfXvEKzDx6WNwMIy515lMujd5iJcOKivZp5FbdvHz5ZtVFkM5Ja+kqbhu8DHwoxSX1oQ72O2HvhMVPBzrZml01sDzUB1m1Gy+Hj8NbE4w78bXvGVXq4RPrmOV96fxyPGW8qeTPeKgREv2qDnHGpfxzaEd4uzyO/+4/fgx6jlINfg5RV3DvKOfzAg4kk6BRcupt1dAuOcZHJHiDvM7OuFGdkHBkW8FXg3uQdeU9Lp/G0nHoluwr3y8EGORAcl2ozXzLbh3WAn3Z3wqq64OGgzjZVjA8WgiHcxPlaN40KuovmOD2m24MHLGtz7nsczI6XnI4tkILpNaJgexN/kNRUf+0Zyfm0r3k3Gr0jvwCvRJsW0YWDEi4kqqb8AfJRawDKPxm832YEXBin6uQ/4Qfim5wogab6k5VEO80k18nR07EFJzfa3DvQDSQdLeiwS6dmEcFsTyepjJr7SYDIoAUsmUTHrndHH5Asd66L/Pgo8ULZdZTHQ4kVcjYf8O/GJeHI6cPkgbrnfKgMvnpmtobbH5wZqXveQmf2hP1aVw8BFm1lEX3NzD7WXQbYDHzCzJ/tnVaBlJC2QdJOkn0g6qt/2BAKBQCAQCAQCgUAgEAgEAoFAIBAIBAIF8H+sMl4IpqCuzQAAAABJRU5ErkJggg==\"\n  },\n  \"theaterChaseAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABksSURBVHic7Z15fFTV2ce/z2Qy2SEJsoQdRUAQEVFEliq4K6i1n0q1WrVa61Jqq9W2b+tWfW3d16q0WJVqq7Qfa0VxQUXZROpWcQFRCTsECSEbySS5z/vHufdyM5lk5t5heD+G+f2TnDv3/O6Z55l77j3n2SCDDDLY+5D/j4uq6gjgdOAgoC+wC9gCLAPmisjmgLw5wBTgBGAgUALsAMqBV4AFItIYgDcLOAO4BBgCdAEsYDvwLnCviLwbZMzfGKjqBFVdoh2jRVWfUNX+Pngjqnqlqm5LwF2hqjNUNZIkb0hVr1LV2gS8qqprVXVKcOn4x16581RVgBuB65xrNn+1kei7n2F9XQXhLLJ6dyfnqJGEunV1utUA3xeRuQm4y4DngLEAtETRzYuh8lNorIKcYigdgZRNgCxXZ8uAMzu6w1W1K/AGcBgAlkX0g1U0rVyLVVlNqCCX8AF9iYwdgeTleLs+AFwpIpq0gAJibylvJmbKIfr+SmrufZqmT79qe2JIyD12LEUzziKrd3cwU9N5IvK3dnjLMIrojxVFV8xEP3rQKC0WOcXIqBnIwT+GUDbAWmCciGyJw1sIfAwMQJX6f71J7Z+fw9q2ow2t5OWQf/aJFF4wFcnPdQ4/LSJnJ5JLqki78lR1BnA/QN3sedQ8+AxYHf8oQ10KKP7DT4iMHQHQAEwUkfdieCPAQuBIGquw5l8AW95OPKCy8YSOe8zckfA2cLSINMVwvwkcrY1Rdl43k4Y3/pOQNnxgP0ruvZqsnqXOoatF5O7EAwqOtCpPVXsAXwBFu55fyM7fzUq6r+REKJ31W7IPGgiwHHOXuFp3fxRWE/rSdHTzkuQH1mscoVP+AaEIwOUi8rCH9wzgX6hSdd0jNLycxA/CRnhQb7o9dj1SmA8QBfqLyNbkB+YPoXQR2/glUNRSUUn1bbN9ddTGKNU3z3Lu0rHAqe5nqtnAbwD0k1n+FAewZRn66WNO63qbz8HdAA2vLfelOIDmNZuo/dNzTjOCecanDWlTnv2S8l2Aur++hDZGfXM0fb6OxkUfOM2zPB8dA/TEakL/e3+w8X14H1jNAL2ASfaYhwKDAGoffT4Qb/0/X8PaWes0v2fLIS1I5513ENAPoHFB8CVQwxtu3+M9h48H0C3LoKEyIPF2dOs7TusEL2/Lui00f7E+EK1Gm2lc/KHT7IZZF6YF6VRefwCrpp6WLdsDk3iE2FNVnde5AYBZDqSC7W5/Z015AEBTQMU5aP5ig7c5ICWyDpBO5ZUAaE1dSiSeKUgA51WuBIi/JPCDRveu3c/+2xNAq1Mcc1WNt9ktJbIOkE7lbQcIFRelRBIqcfurwwl8DUBuaZwePpDn6IwK++9GAEl5zF28zYr2zksV6VTeWgDJzyWrT4/AJOEh7qyz2bMvabi7HZzK+JBSt/9a++9XANlDkt6Zi4vsoa36r23vvFSRNuWJyCpgDUDusUcE5vH0fdlz+BUAeo6FvIA/jPxe0PPw1nz236ze3Z31pW9IboTI+FFOc6uIfBFsgImR7nXe0wAF557k3TpKGtkjB5Nz1MhWXDYWAxuQLGT0VYEGJqOvAskCWA8sARCRr4BVAIWXnBmIN/+ckwgV5TvNJwORJIl0K+8OoDJU2pWuN/wIJPkljxTk0fW6i5w+C0VkvvuZSDNmoxs56Hyk//HxSdrj7jsZGXau07xORFo8H18GkDPpUPLPnOyLN3vYQAp/eJrT3AXc6ovAJ9KqPBHZAVwNZvrr8usLIJyVeFDdulL64DWE9+8DxrpweZzTHgcWICFk8iNIv+QUKP2PR46d5dx1rxFzd4jIAuAFgKJrziPvtG8lxZt9yGBK7r8ayXUtFzNEJOAiNDnsLavCHcAvAJpWllPzwByiyz8Bbb1BLZEweVMnUfjjMx3TUBPwXRH5dzu83TBT3lC0BV31N/SDu6FuU9uTC3ojo69Ghp4DEgIzPY6PJ2B7PfkBMAygYf471D7yLM1r21qQQsVFFJx/KvnTT0AiYefwTBG5NAnRpIS9ZklX1Z9jptEsgJaKSqLvrcSqqITsbMJ9uhM5Yrj32fg1RnFvJuAtBeYAx5oDFmz7AK38BBp2QG4pUjoCuh/qKA1gPvC9ju4MVc0DXgTcubPp83U0f7YGa/tOpKiA8AF9iIw6ELLc2USBm0TkJh+i+WZAVUeq6guqanVgkW5Q1ftUtbsP3pCqnq+q5Qms3WtU9TxVTfpxYZ+/PQlL+seqOjqYZIIhqTvP3lwdhtnqKQYqgbX2csA3VLUfMA0Yjtn/bAA2YexrL4tIdUDeEHAkZq9yEGZ3YztmyfIq8I6IWAG5JwJXACMxOzwWsBUzbd8jIuUBeYey29+mCrMuXJmyJV5Ve6rqXaq6rp1f21eqequaqSuDJKGq3VT197b84mGdLfeeQS8wQ1VrWlFGq1Wry1WjbfxxdqjqhXv4O3ZKqOoPVbWqtVxrbblWx8q1RlWvaI+rzbRpT5GPYPucULcJXfEQWj4PajfuPrFoADJoGjLyMu8e4Z0ics0e/K6dCqp6J/bSiV3b0BUPo2vmQs263ScV9kEGnoqMvBwKypyjM4HLYqfSeMq7CbgeQFc+iS77DTQ3tD+i7EJk4l3IAWc4R64SkXsCfbtODFW9GrgTQL98Fl38C2jqwHoRzkOOutUsbQxujH2LbaU8VZ0ALAJEVzyEvpPsG68gE+9Ahp0H0AKMFpEVSXbu9FDVUcB7QJaunI0uvhazqkgMOfJGM7uZDhNExPXNiFXeYmACm5dizfuOWTMli1A2odPmwX6HALwoIlOT79y5oarzgJP5+kOs56eC1ZSwjwvJInTqs9BrHMAiEXG3fNz1jhoX9AkA1vKb/CkOwGpC/3OL0zpFVfv6I+icUOP5fRKALr/Fn+IAtMXow2CSqg53Gt7FqtlR3bEKtn1IEOjGhc7WlLh8GUwDhNqN6KbFwRgq3oeq1U7LlatXeSMA/250raDoZndKHpECUWeCkeuWpST7nIsHj15cuXqVZ95L69p4f/vD7k3h3qkRdRrYcg0U+LQbceTqVZ5xrMxKKoCmfWS5QRe+Q6k6KYxcQ3terl7lGdUW9UvtIkWu/0aKP7VOA1uuqfnFxJOrV3nvAEjfKV7TiT9kRZDeE53W0mAknQ5Grn0mOdFJ/iEhpM/RTsuVq1dLcwGLvO7IoGnBrnHgdMguBHNrv5Lg9H0FLwFRsouQA89KeHI8yP6nOY5WLdhWfvAozw40fBJAjvitEwKVPPJ6IGOudVozg5p1OhtEZCfwJwAZ80vIS9pMaZBTjBzhxqv81Rt1FLvDMgBYARTppkXoqz+A5vrEF4h0JXTS36HHGDAW8OEiss3fKDsv1IS6fQp0o+JdrJfPhmgSv+3sAuT42c6jqBo4WERcX/xWDzcRWQucC1jSexKh016ARI6tPcYQOn2eo7gm4KyM4lpDRCowUU5N9DjcbCP2OKzjTt1GEpr2gqM4CxPi3SqIIq4lXVXPAR4FclELXfcqlL+IOnHeuaXGW3ngVKTfFIemBhOCHNdZKAM3cPOvQCEouv4NWPMCWvmxiXbKKTZyHXCKcWc0L467gItE5O9+LjRGVZe1Y+mNxZv23mgGCaCqB6vqW0nK9W1VTXCLtn8hUdWpqjpbVTfHEG9Q1UdV9YTETBnEQlVPtOW3IUaum215T9U9GZipqrmq2ltNspoM9hBUNceWq/+YgAy+mUh4W6oJtj8G407XFxOIWAGswyzEF8X4+meQBFQ1jImFPxHj/tgDs8xaj3FTfCs2xYgf8mxV/Ymqbk3wUF2vqhepyc+VQQKoalhVL47zrIvFFlW9QltnqmiF9pYKZcC/MA6s0NxC9P2VNH+5AauqllBJEeEh/YkcOgRC7lJxAcY9PXgAeieHmtiKf2JmMjclVvPq9Vg7aggVF5qUWGOGeV3o38ak2mpjq4vnPeamhNKmZuqfmU/d4y/ExlkDJpqn8OIzyP/OZEeJ7QZv7OuwFbcUGIJlUf/P16md9TxW5c4254aKiyi4cBr5049HTFTVWuCo2FxpsdtjEYz32Firuo6qX9xH9P2VCQeWM2EUxb+/wgkSeR04IahbeWeE/UiZD0zW+gaqfvUgjUs/StgvMuYgiu/4KaEuBWBuqKNFxE1oE2v7uRwYq80tVF17f1KKA2hc8l+qfvkAWBaYaJ3zkuq47+B8YDKWUvWbh5JSHED0vc+ouuoetKkZYBzwY+/nXu+xHOyUUPVPvUT03c98ja7x7RXUP/eW07xJfUTidGbYcrgBoP7ZN2hc5M+5K/rh59Q//arT/K16coV6BTwF2E+jzdQ98WKggdbN+reTK2wAzstOBkcB/bGUur8ES4lV99hc5+7rgSde0Ku8EwCi736KFTCJTEtFJU2ffOk0TwxE0vlg5LriC1oq2ubrTAZWdR3R99xHmCtXr/IGAjSv9gQ9BEDTatdqkba0Td8wDITU5dr8udvflatXeaUA1s49lrppv47O24dg5LrnUmK5cvUq72uAUHFhShfxpG7KGGQNjFy7pijX0rZy9SpvHUB4cGquf9kHuv1Tmyc6D9ZBK7kEQjy5epX3CkDk8OHOotA3snqWkj18/1Z8GRg5ZB88mKweJYEIQl0LyT5sWCs+aK28BcA2iYQpuCBYdFbBxWdASMAUoXin47P3GSwD1hESCi46PRBBwYXTkOwwGGvOAue41/WvEbgZTP6syOEH+bpAzvhDyD/dDR27LrM9ZmDL4XqA/G9PJmfSob76R0YPJX+6m93pJu/2WLy9zbeAcVZ1HVXX3E/0vcQ7LTkTD6X41sudvc35wEkZ5e2Gvbf5CnCs1jdQ9es/0rjkvwn7RY4YTvFtM5zH2FLgGK+Nrz2rwtvAAG1uoX7OfOoem4u1I45VoXsJhRefTv63JzvT5UpM6G3GqhADNelOlgJDsSzqn11A7ax/m4ouMQiVFFFw4WkUTD/OMQ2VY6wKrcxC7dnzegHPYrZ2oKWF6PuraP5iPdbOWkLFRYSHDSRyyGCvPe81YHpGce3DNgvNwWxFGnveh6tp/nwtVlWNkevgfkRGD/Ha85YA3/FVn8G2pF+mbb3GYrFOVS/IbEQnB1XNUpOLZX0CuW5S1UvVuEvERTI+LGHgaEzaesfXYivGQPgKsCTjw+If9nNwAmavcgAmOXkFu31YFtp5RTPY56GqearaRzN+m3sUavxh++ie9NtU4zF9mqo+qaZwYOyc/JiqnrTHLrgPQVVPVtXH47xTbLXlPU2Dekyr6lhVXZ7goepgkaqOTMyagaoeoqqLk5TrO6p6eHtc7S0VzgX+jBMltPZlKJ9nooSiOyGnBOk2EgadgvQ7zqGpxUQJPRePMwNQ1W9jooQKTJTQa7DmRXT7x9C4AyJdkW4jYOApSP8TnSihBuBiEXkqli/eIv10zBovxPYVWG/9tOOaPd1HEzr6ASg+EEx83kki8sae+LKdCap6LKY2RJiq1Vhv/aTjZEWlIwgd8wCUjgATn3dGbAnW2O2xgZjI2ELduBCdf36SkbFd7MjYw8Fklh1uBxRmgEk6i4mMLWXrf7BeOSe5yNhwPnLCbKT3JDDxjweLSFyTEJiN6UJq1qKvX5yc4gCi1absZ/1WMKmB01r07xuI64FS6rdgvXZBcooDaK43ejD5OIuwDQcOvK5/ZcA5YCc4i7b15O0Qu7ah79/utH6kql06On1fgZqqzxcD6Hu3wa6v/RE0VnkT8p2rZusSaH3nnQ6EqN9qsq8GGejnz0BTDUAOcHIgks6HU4EI0Wp09T8CEeiaubCrAoy+3DwrXuWNBdANCwic4Mxq8ma2y/htGhi5blrkP12jA7XQDW86LVeuXuWZhGQ1Kbqe7O7fJzWiToO0ydWrPBMHZqW4F9riGnpTzJTWaWDLNeBd58BqK1ev8kz4UEEvUkKBm1EwTkGffRK2XMsSnJYABe4N58rVq7xPAG/itwAQpGy80/g4BaLOBCPXsvGkUropnly9yjNREMVDTNGkIBfo8y3nF6aYRHQZGDkoBX2C3xg9xjg7WODoidbeY59gV3AMjb3Bf9rGUDYy1l2bzxORDR2dvq/A3hF5GTDy8Zu2UbKMPgwWiYjrERarIZPwv2w8MvZ6P1dAxv8Buo0EaAZ+5W+EnR6/AlrYbxQy/vf4mT5l7PXQ60gws9m13s9iE8ctBX4HICMvQybdA+G8jtmzi5ApM71lPK8RkczzzgMR+Qhb8DLsPGTyI05e0vYRzke+dS8y0q2heKOILGvFG9vHNgA+BJhe9VvQjx5Cy1+EWs9M2GWQXUvoUsh167jfLiK/9P/19g2o6u2AqbW062v040fM7kl1+e6TivphagldZipKGzwMXJF0WTZVvVxVW5eVitaYalNNdbFGw+2q+oM99zU7L9QUaaxsJb2mOruKV02sXHeqarDyparaQ1Xv0PYrQn6hqreoarAIin0Uqlqqqv+rql+2I9dyW+4dpsVN+smpqsOA/phgwe1AuYis7rhXu1z92V25si/GWrwZE5Txkp3aNwhvCOMofALGnc6pXFmOcadblkLlyq6YzfZxmFoJucAGjJ1urtfO5pP3QEz0bDdSrAiaVqjqKFWd186vzUGjqj6oJrVvsrxZqnqhqq5NwL1WfToIq6ne+Ud7XB1hnqoeEkwywbA3qzVfDdyGU615y3ai76/EqtgBkTBZZd3JOeIgpDDf6bIdk/K4Q5cKNS7k/8DJkqAWVLxnqjU37oScriZ7bPfDvGvX123uDl3zVfU44Bns0GStradx+ae0bPkaos2EepQSGTOMrJ5u1dUW4FoRuduPbIJib9VJdys2Nn26hpoH7TrpsYPJDpN76kSKLj2T0H7FYNaM323PqUm9KaG0BV35V/SDe6A+TkmdgjLk0J+bJY0pcL8KExQTN1eaGmehOUDY2raDmkeepWHeEielhmfQQuSI4RTNmE72QQOdo3ulgmfalaeqP8Tkq6b+2QVU3z4bmjv2jg+VdqXkzivJPmQwGK+0o2LXjmrc8OcDx9BUi75xCbr+9YTjkX7HIVNmOuusNzCptloNyJ7+lgIFTR+tZscv7sOqTOC6EM6iy7U/IP9MN03KBSLyRMIBpYC0Kk/NW+iXQEnDa8up+vUfQZOs2JifS7fHbyC8fx+IKfpnc18CzERb0Pnno+vmJz0u6TsZOfEp5w68SET+EsO9GJjQXL6ZygtvwqpJ0pdHhOKbLyX3pKPAlM0enM4siOmO7LkWKLEqd7Lzd7OSVhyA1jd4+0xSTy5r+64zdW0/e9yX4sB4C+hns53mjerJFaqqJwMTUGXn9TOTV5zpzM5bH3Pu0mLgKl8D84l0K286QN2TL6H1HRQNbgdNH3/pTbL2Pc9HE4E+WM3oB/cGGph+eA9oC5jIpwmxY25c8l+aPv3KP299A3VPvdyKK11Im/JUdSgwCKDh9XcD8zS8/h/nX286LBMfsXW545jjH/VbTf+23CfGXNc3Gl53eQ+w13FpQTrvvIEAWreLlo3B/W89aZvKdHcUjeHe3vaN1Q90u/sOZPgMfy+A5lVrA/O2bKjwzjRpS+OVTuXZ6bBqUyLxpG0Sh9P925hiBHWD29/ZhnJ32PfguH1Wfkoe6VReJRA4IY+DUHGR8686nO7fnBS3VHPdxbWTEsp9M0w53dTucfv0svVxjXQRY6dZksJ8ssqC55ALD3Yrdm8VEWcuMnNp6fB4XZJHqVtBZz2AzV9hrhs83VRW7/2ctCaQxjRe6VTeSmyh5E4eE5gkd4obnuZdD7wKIL2O9N49/pC3H9JzbCs+73VyprQbFpcQuZPdvmndZE6b8mzD4RyA/HNPQXL9u3FmDx1AzsTRTvMZz0dvAVsJZSOjrgw2vlFXQigMxpqx0PPRHIDcbx1GeIj/Oq+Sl0PBua6n/5xAg0sS6V7n3QZUZ/UoocuvLvDVUfJz6XrjJU5ynneAee5nJgvQzQAy4iL/Xlm9xiHD3fHcFJN1YS7wNiGh+MZLkDx/4fddrv4+oe4lYEKy7vI3MH9Iq/LsIoj/A5A3dSJFPzvbm3Sn/UF1KaDkrp8RNmkKdwGXx3EB+BOwjFA2cuyjsNuvseMxlU0gdPwTTunrJdj7rp4xK/BToCE8pD8ld/0suZeuUIiin59D3hnHOEeu9ZX4JgD2llXhEey08tEPVlFz39M0ffxl2xNDQu5xR1I04yznJccCzm2v8J+acKdlwACsJvSTP6Mf3m9ChGORU4IceiUy4mLH/a4cGNeegFX1+8BsINSyaRs1D86h4bXlTgL0Vsg++ACKfna2qfBi8LCIXN6BSPYI9pbyBLMXeYNzzebyzSYZ+bYqyAqR1bcHOeNGejO6VmNKbb4Qn9XlLsOEYY8DTKTS5iUmFLuh0rzQlI4wHse7fSaXYlJCxbEdteKeBjyFCWzEqtxJ49sraNm4DVosQt2LiRw+nPBA15Vd7e94S9LOQt8UqOpRqrowgUW6RU2KkKTf1VU1oqZoVWy6kVhs1QTFleJw91eTcqMlAfdCVR0XTDLBsNcs6V6o6nDgNOL7sDwf9FmhJuXkZMz+5EDMTkwlZop8GXjTm6/SJ3cvjN/NOMwWWh6wEROL8G+vJ3MGGWTQmfF/33vZk7RZtrIAAAAASUVORK5CYII=\"\n  },\n  \"cometAnimation\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPYQAAD2EBqD+naQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA6rSURBVHic7Z15lFTVncc/t6q7unqnobvZZToExCiyKrIlmmgSMyPJmMl4XIJxy1FncyHKjMvRiGFiBqPG5EzEIXLCETITlcBkjiYmIKJIWIK0gOyIgjTQXd3Ve22/+eNVN93v3Vq6ul5Vded9/rz3Lbfet+59v/u7v/t74ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4JBlRORSEVkkInOz3RaHJBERt4j8UEQico47s90uhwSISJWIvClWDmS7bQ5xEJGZIvKRRjgRkdpst88hBiJym4i0xxBOROShbLfRwYSIFIjIs3FEExEJisiobLfVoQciMlpEtiQQTkTklWy31aEHIjJfRD5NQjgRka9mu70DHhG5SER2i2HC/0FEqlO8zn3RoTAZjoqIK92/5S+K6BB3wvRgV/TxGsUisiZJ0bpwDJX+EH3oOzQPdkcfrjFBRGpjKeQ/FNAVB0VkpF2/K8+uC+cK0SFrFTBdUx1K8hrXAL8Eyq2VcGhFMxKB0vH55tr1SqlP+9Zih27EcFPFYlOCc5WIPCgiYW23ao3I9u/Vy29nfiJtJ0O6Q2w1VAZ1zxOR7wAPxDkkEOfcMmAl8A1dfetHIbYvqqflSIjq+V4KR7rNhxwHft+3FveNQSueiMwH/jPBYZ0xzp0CvAKM19XXvdXBrkd9hFoiAJz3t8W6w15QSoWTbnAKDErxRKQG4+EXJDjU0vNE5HpgOWBRRCKw/6d+Dq9sBjHKvMPdVM/zmg8NAb/oe8v7xqATLzrcrQeqkji8u+eJSB6wBHhQd2CgKcKf/7WBs1t7d9axXy9CWUZM1imlTvah2SkxqCaPIpIPvApcaK6r29ShOyUQPW8E8EdiCNe0N8DmG05bhFMuGPt17ZC5vE8NT5FBJR7wLPAlc+GpDe0cerFZd3yniMwEtgLzdQec+G0bW24/S/sp6+uraq6XwhGZN1S6GDTDpojcB9xlLm/6MMiuR3yUTbDMwQC+ACwEPOaKSEDY86Mmjr/aGvOe2TJUuhgU4onI1cBT5vLOs2F23FdPuF1w5SvdqRN0hR2nw+x4oIHG2pgziawaKl0MePFE5EJgNdBr/Ap3Ctvva6C9zugELo9WPAsNOzvZudhHZ338zpNNQ6WLAS1e1ND4P0xuK4nArod8NO4513Nc2lGzN0dWtfDhc01IgkEv24ZKFwNWPBHxAq8B55nr9v/Uz6kN7b3K4vW8UJtQ+4SPk79rj3lMT7JtqHQxIMUTEYXhurrMXPfJ+jYOv6S1LLW0Hg+xY1EDzYeDSZ+TbUOliwEpHvA48PfmwoadndQ+2ag9wb8/iESMIa+Luk0d7HrknJsrGeIYKn1aG0wH1ldujiMiNwLPAL3GwdaPQ/zp7npCbaI9L+iP0HYiTPkkD+F24dCKFvY81UgkoD8+FjU3lFB5qcXr9hul1H/16UJpIDkTLEcQkTnAH4Bef/1Qq/DuLWf6NPSlgnLBFetG6FYQrlZKvW7rzTUMGA9L1Nn8GibhJCTs+F697cIBVM3RLv0cA36X6FwxQgSnRH9HWhgQ77wezmZLwNAHTzVZfI52cd61WkPlRaWU5aUpRnDTbGAuMAeYSXSVQ0SeVkrd39/25PywKSJu4H8By6r00Zdb2LusKSPt8A5388X1I8wT8xDGVKUOuABDpLkYok1McMlJSqn9/WnTQOh5P0Yj3OnNHez7cWaEAxi7QOtRqQdexBCroo+XHNrfNuV0zxORfwCeN5f7DwbZcuuZmJZlulEuuGL9CN3EPFU+AKb2d16YswaLiHwFY0rQi876MNvviT0lsIOqOVqPSqp0ADekY0Kfk+KJyOeAX2Ea1rudzZq1NTupmmOZlCdEYs/7Fyml0rLdK+feeSJShWFZ9o6RFNj9uI/GD2Iv09hFqDm+ByYSEBr3BvG9H8D3fieufMW0pdpX2jrgZ+lqV06JJyIFGGEMnzHXHfi5n5NvJOc4TjdH17Qw/Apvd1BtZ30Y3+4Avl0BfLsDNO0LEgkaw7in3MX81dW93HBRTgC3KaXSNt7njMHSw9n8bXPdydfb+PPDvu6IrWyg3EZEdKhVaDsRO9B6xrJhjLjcMsxGgCuVUhvS2aZc6nkPoRGuaW+A3U80ZlU4AAmD/0B8L864bxXrhANYmm7hIEd6noh8E/hvTAZU+6dh3ll4ms6G5L3+2aJ0fD5zf1mFu8DySLcBc5VSafffZd3aFJHpGMNlr7aE2oTt99YPCOFcHsXUJyt0wjUB19khHGRZPDH2af8GU3SyEcbQgP+g/c7mdPC5+8tjRafdrZQ6atd9syaeiBQBa4Ex5rq9y5piBcnmHNXzvIz7ptZh/Qul1Mt23jsr4kX3zK0GLjHXffTrVo6tacl8o1LAO9zNlO9X6CyHA8A/233/bPW8HwALzIVnt3ay5yl9GEOuoVww9fEKPOWWRxgEvq2Usv0fmHHxROQmNHsCWo6G2PlgQ8Kwu1xh/K2lDLtEuwlpsVLqT5loQ0anCtEA2W1AYc/yQGOEdxaeiTv5zSUqpniYvbxKt0T0OvC1dHpR4pGxnhd1fa3CJJyEhJ0PNAwY4fJKXExbMlQn3GnglkwJB5kdNp8EppoLa5c2Ub8jM2EM6eDih4dQOMqinAALlVKnMtmWjIgnIhcD95jLP17XxsdrY+/CyTXGfqOIkVcV6qqWKaXeyHR7MvLOE5HXga/0LGs7EeLt608Tak08ypSdn0/lrAIKh7vxVLgJ+MK0fxrmzJbOjESNARSPzWPey9XkFVke2U5gtlIq42tVtosnIldijuEXePe2M/jej/N7FYy6qpCJd5ZRPC62/7z5cJADP/NzaqN9k3qXRzH3pSrKzrd4UVqA6Uqpg7bdPA6ZWFVYai44+UZ7XOHySlxMX1rRawX7UB0cqQN/O5QVwoSRUFNlOIRnLBvGqQ3tvP+oz5bwiEn/VKYTDuAfsyUc2NzzROQyYEvPskhQeOvvTtP2id66zC9zMfvFSkrH5yMCb+yGlW8JJ3zWY8+rhFu+oPjihaCUsQv2vTvSG5hUNcfLpc8N0z2p/1FKWfZLZBK7xVsO3N6z7NiaFvb8SB+yp1xw6fOVVM4qoCMAS14TNn2Y+D5XTobFCxSePDi1sYMdi+rTsv5XMMzN59dU4xlqseuOANOUUv7+3yV1bLM2o/7La8zlH70S27ocs6CYylkFiMDjryYnHMCbtYbQIjDici8jv6S1CPuEcsHUJyp0woWAm7ItHNg7VZgGDO9Z0LgnQMsR/XCp3DDxu6UArN0O7/QxlnjjXvh9NCbr/LvL+j2m1NxUQuUsrfvrUaXUFl1FprFTPMuKwZl3Yk/Gh04rwDvcTTgCKzelNuat2Gj0vuJxeZRfYEnwkDRDLvQYfwArfwR+mPKF04yd4k0xF/jihO1VzzUsy93HoSFFf/xJH+yPJkisnpMoc5WevCJjVVyTPeIsxmpBzizt2yneaHNBS5wJdZfL6UA/s1N2nV84OrVZ0EWLh1A81nKuALdmMtNDMtgpniWxaKAp9p/WU2E0pbGfZn5j1B4qsBoaCRl5VSGj/7pIV/W8Ump9vxpmA3aKZ3npSJyFg6DfELbU2z9Loyz67AONfRvdisbkcfEj2o0+u4mfszNr2CmeZVqdXxpbmI5ospualPKtn6Omqvf1kkG5YdqSCvKKLe3rwHjP5WRAjZ3i1ZsLCkfFfg917W6dUQPFqdkaVBTD5LG9r5cM599dxpDJWuv0X5RSu1Nrjf3YKd5ec8GQi2Kb72e3dhL0R/DkwXWzUxs6b5yncLmMvQQNu5ITb9iMAj6zsFRX9apS6oWUGpIh7BTPEsdRNTt2lwp3CodXGnOE6+fApD5+eWfKOLg2OrM8+EJzUrEwngoX035QodsUchyTWy8XsVu8Xu+KqssKuq1KHcdWt+A/GKQgH/79epW0gJPHwpPXKfLc0Fgb4PjatsQnKZjyWAUFlZZV8TCG+0vjCs8tbBNPKdWMkdTtXFmeipX6CejaPGmEuA8tgZ98R7Hw8+CNkfStuABuv0LxzEJFWSG014XZvqgBCSWebvzVdSW6TEYAS5RSbye8QA5g96rCtRiJursJNkfYsKCue2qgo2i0m5lPD6P0s4Zq7QHYegiOnBYaWw3D5LMjFJeMPyds094A2+9voON04vEyzqaQzcDlmc4hlip2i5cP7Ad6JY45sqolYSYHt1dRc2MJ428u1Znw3QT9EQ6taObYr1qTSkXl9irmraqmpMZi+fowNvkfT3iRHCETYRA3Ay/1KovAe3ecoWFX4rCPvCJF1RwvVbML8I7Iw1PuItAYjWF5t5Mz73UQbk/eKzPlsQrGXKP1onxLKfXrpC+UA2RCPDdQi5Fkppu2T0JsvukMwQT7vdPJhNtLmXiXdrVguVLquxlrSJqwPfQv+v64DcOK66ZoTB4znx4aK/dz2hl9dRET79QKtw9NWOJAICNxm9HFy/8wlw+dXsDkh4fooo/TyqgvFzLlsSG6caYZY/NjEnOL3CNjexWi4e6bMRKo9aJhV4BdD9mTX6XmxhIuuKdcNxEPAn+jlEqYsS9XyfRGk1HAe8BYc13QH+HDn/j5eG1rvAQ0SZNf6uKixUMY9VVtPEvX+txL/b9T9sh4QoHoF7LeBrQOxaZ9QfY920T9thT3LyhjmLzg3nK8VTHH439TSlniSQcaWckGEf082hogpgOsaV+Qo6tbqNvYnlRIvMujGPXlQmpuKIkVIAtGPpR7lVLPpdLuXCNrqTxEpBIjqbYlPLAnkYBQv60T3wcB/AeCdNZHCDVHcBcqPEPclI7Po2Kqh8pZXt0+gp74gZuVUmvT+DP+col+1vMOETkb59Og6WCbiEzK9u8dlIjIUBF5XpL/9niy+MX45msuZXoanIjIOBF5RkSa0yDaM2JkEHTIJCJSLiILRWSdiLQnKViniLwpIneJiNaSHWzkRO6xeIixMjEZmIExP6zEyOfsx9gfdxjDxbU9uobo4ODg4ODg4ODg4ODg4ODg4ODg4ODg4GAH/w8WJjwazIM10wAAAABJRU5ErkJggg==\"\n  }\n}",
            "create.ts": "\nnamespace light {\n    /**\n     * Create a new programmable light strip.\n     * @param pin the pin where the strip is connected.\n     * @param numleds number of leds in the strip, eg: 30\n     * @param mode the light encoding mode for different LED strips, eg: NeoPixelMode.RGB_GRB\n     */\n    //% blockId=\"neopixel_create_strip\" block=\"create WS2812 strip on %pin with %numleds pixels\"\n    //% help=\"light/create-strip\"\n    //% weight=100\n    //% blockSetVariable=strip\n    //% trackArgs=0,2\n    //% parts=\"neopixel\"\n    //% advanced=true\n    export function createStrip(\n        pin: DigitalInOutPin = null,\n        numleds: number = 30,\n        mode: NeoPixelMode = NeoPixelMode.RGB\n    ): NeoPixelStrip {\n        return light.createNeoPixelStrip(pin, numleds, mode);\n    }\n\n    /**\n     * Creates a strip of colored LEDs (APA102)\n     */\n    //% blockId=\"light_create_dotstar\" block=\"create APA102 strip|data %data|clock %clk|with %numleds pixels\"\n    //% help=\"light/create-apa102-strip\"\n    //% trackArgs=0,1,2\n    //% parts=\"dotstar\"\n    //% weight=100 blockSetVariable=strip\n    //% advanced=true\n    export function createAPA102Strip(\n        dataPin: DigitalInOutPin,\n        clkPin: DigitalInOutPin,\n        numleds: number): NeoPixelStrip {\n        const strip = new NeoPixelStrip();\n        strip._mode = NeoPixelMode.APA102;\n        strip._length = Math.max(0, numleds | 0);\n        strip._dataPin = dataPin;\n        strip._clkPin = clkPin;\n        return strip;\n    }\n}",
            "defaultlights.ts": "namespace light {\n    /**\n     * Gets the default external light strip\n     */\n    //% whenUsed\n    export const pixels = light.defaultStrip();\n\n    /**\n     * Set all of the pixels on the strip to one RGB color.\n     * @param rgb RGB color of the LED\n     */\n    //% blockId=\"builtin_neopixel_set_strip_color\" block=\"set all pixels to %rgb=colorNumberPicker\"\n    //% help=\"light/set-all\"\n    //% weight=79 blockGap=8\n    export function setAll(rgb: number) {\n        light.pixels.setAll(rgb);\n    }\n\n    /**\n     * Sets a gradient between two colors\n     * @param startColor the start color\n     * @param endColor the end color\n     */\n    //% blockId=\"builtinlightsetgradient\" block=\"set gradient from %startRgb=colorNumberPicker to %endRgb=colorNumberPicker\"\n    //% weight=78 blockGap=8 blockHidden=true\n    export function setGradient(startRgb: number, endRgb: number) {\n        light.pixels.setGradient(startRgb, endRgb);\n    }\n\n    /**\n     * Turn off all pixel LEDs on the onboard strip.\n     */\n    //% blockId=\"builtin_neopixel_clear\" block=\"clear\"\n    //% parts=\"neopixel\"\n    //% help=\"light/clear\"\n    //% group=\"More\" weight=9 blockGap=8\n    export function clear() {\n        light.pixels.clear();\n    }\n\n    /**\n     * Display a vertical bar graph based on the `value` and `high` value.\n     * If `high` is 0, the chart gets adjusted automatically.\n     * @param value current value to plot\n     * @param high maximum value, 0 to autoscale\n     */\n    //% blockId=builtin_neopixel_show_bar_graph block=\"graph %value||up to %high\" icon=\"\\uf080\"\n    //% help=light/graph blockGap=8\n    //% weight=10\n    export function graph(value: number, high?: number): void {\n        light.pixels.graph(value, high);\n    }\n\n\n    /**\n     * Set the pixel to a given color.\n     * @param pixeloffset position of the NeoPixel in the strip\n     * @param color RGB color of the LED\n     */\n    //% blockId=\"builtin_neopixel_set_pixel_color\" block=\"set pixel color at %pixeloffset|to %rgb=colorNumberPicker\"\n    //% help=\"light/set-pixel-color\"\n    //% group=\"More\" weight=89 blockGap=8\n    export function setPixelColor(pixeloffset: number, color: number): void {\n        light.pixels.setPixelColor(pixeloffset, color);\n    }\n\n    /**\n     * Gets the pixel color at a given offset.\n     * @param pixeloffset position of the NeoPixel in the strip\n     */\n    //% blockId=\"builtin_neopixel_pixel_color\" block=\"pixel color at %pixeloffset\"\n    //% help=\"light/pixel-color\"\n    //% group=\"More\" weight=88\n    export function pixelColor(pixeloffset: number): number {\n        return light.pixels.pixelColor(pixeloffset);\n    }\n\n    /**\n     * Set the brightness of the strip. This flag only applies to future operation.\n     * @param brightness a measure of LED brightness in 0-255. eg: 20\n     */\n    //% blockId=\"builtin_neopixel_set_brightness\" block=\"set brightness %brightness\"\n    //% brightness.min=0 brightness.max=255\n    //% help=\"light/set-brightness\"\n    //% weight=2 blockGap=8\n    export function setBrightness(brightness: number): void {\n        light.pixels.setBrightness(brightness);\n    }\n\n    /**\n     * Move a photon effect along the pixel strip by a number of steps.\n     * @param steps number of steps (lights) to move, eg: 1\n     */\n    //% blockId=builtin_neophoton_fd block=\"photon forward by %steps\"\n    //% help=\"light/photon-forward\"\n    //% group=\"Photon\" weight=41 blockGap=8\n    export function photonForward(steps: number) {\n        light.pixels.photonForward(steps);\n    }\n    /**\n         * Switch the direction of the photon pulse.\n         */\n    //% blockId=builtin_neophoton_flip block=\"photon flip\"\n    //% help=\"light/photon-flip\"\n    //% parts=\"neopixel\"\n    //% group=\"Photon\" weight=40 blockGap=8\n    export function photonFlip() {\n        light.pixels.photonFlip();\n    }\n\n\n    /**\n     * Sets the photon position to a given light index\n     * @param index index of the light, if out of bound, the index is wrapped\n     */\n    //% blockId=builtin_light_photon_set_position block=\"photon set position %index\"\n    //% help=\"light/set-photon-position\"\n    //% parts=\"neopixel\"\n    //% group=\"Photon\" weight=39 blockGap=8\n    export function setPhotonPosition(index: number) {\n        light.pixels.setPhotonPosition(index);\n    }\n\n    /**\n     * Set the photon color hue.\n     * @param hue the color hue of the photon\n     */\n    //% blockId=builtin_neophoton_set_pen_hue block=\"photon set pen hue %hue=colorWheelHsvPicker\"\n    //% help=\"light/set-photon-pen-hue\"\n    //% group=\"Photon\" weight=39 blockGap=8\n    export function setPhotonPenHue(hue: number) {\n        light.pixels.setPhotonPenHue(hue);\n    }\n\n    /**\n     * Set the photon mode to pen up, pen down, or eraser.\n     * @param mode the desired mode\n     */\n    //% blockId=builtin_neophoton_set_photon block=\"photon %mode\"\n    //% help=\"light/set-photon-mode\"\n    //% group=\"Photon\" weight=38\n    export function setPhotonMode(mode: PhotonMode) {\n        light.pixels.setPhotonMode(mode);\n    }\n\n    /**\n     * Show an animation or queue an animation in the animation queue\n     * @param animation the animation to run, eg: light.rainbowAnimation\n     * @param duration the duration to run in milliseconds, eg: 500\n     */\n    //% blockId=builtin_neopixel_show_animation block=\"show animation %animation=light_animation_picker|for %duration=timePicker|ms\"\n    //% help=\"light/show-animation\" blockGap=8\n    //% weight=81\n    export function showAnimation(animation: NeoPixelAnimation, duration: number) {\n        light.pixels.showAnimation(animation, duration);\n    }\n\n    /**\n      * Show a single animation frame\n      * @param animation the animation to run, eg: light.rainbowAnimation\n      */\n    //% blockId=builtin_neopixel_show_animation_frame block=\"show frame of %animation=light_animation_picker|animation\"\n    //% help=\"light/show-animation-frame\"\n    //% group=\"More\" weight=24 blockGap=8\n    export function showAnimationFrame(animation: NeoPixelAnimation) {\n        light.pixels.showAnimationFrame(animation);\n    }\n\n    /**\n     * Stop the current animation and any other animations ready to show.\n     */\n    //% blockId=builtin_neopixel_stop_all_animations block=\"stop all animations\"\n    //% help=\"light/stop-all-animations\"\n    //% group=\"More\" weight=23\n    export function stopAllAnimations() {\n        light.pixels.stopAllAnimations();\n    }\n\n    /**\n     * Creates a builtin animation\n     * @param kind the type of animation\n     */\n    //% kind.fieldEditor=\"imagedropdown\"\n    //% kind.fieldOptions.columns=3 blockGap=8\n    //% blockId=light_animation block=\"%kind\"\n    //% group=\"More\" weight=25\n    //% help=\"light/animation\" blockHidden=true deprecated=1\n    export function animation(kind: LightAnimation): NeoPixelAnimation {\n        switch (kind) {\n            case LightAnimation.RunningLights: return runningLightsAnimation;\n            case LightAnimation.Comet: return cometAnimation;\n            case LightAnimation.ColorWipe: return colorWipeAnimation;\n            case LightAnimation.TheaterChase: return theaterChaseAnimation;\n            case LightAnimation.Sparkle: return sparkleAnimation;\n            default: return rainbowAnimation;\n        }\n    }\n}",
            "defaultlightsoverrides.ts": "namespace light {\n    /**\n     * Create a range of pixels.\n     * @param start offset in the NeoPixel strip to start the range\n     * @param length number of pixels in the range, eg: 4\n     */\n    //% blockId=\"lightstrip_range\" block=\"range from %start|with %length|pixels\"\n    //% weight=1\n    export function range(start: number, length: number): NeoPixelStrip {\n        return pixels.range(start, length);\n    }\n\n    /**\n     * Sets the number of LEDS on the default light strip\n     */\n    //% blockId=lightds_setlength block=\"set pixels length to %numleds pixels\"\n    //% numleds.defl=30\n    //% numleds.shadow=lightLengthPicker\n    //% weight=0\n    export function setLength(numleds: number) {\n        light.pixels.setLength(numleds);\n    }\n\n    /**\n     * Sets the type of RGB light on the default strip\n     */\n    //% blockId=lightds_setmode block=\"set default strip mode to %mode\"\n    //% weight=0\n    export function setMode(mode: NeoPixelMode) {\n        light.pixels.setMode(mode);\n    }\n}",
            "defaultstrip.ts": "namespace light {\n    let _defaultStrip: NeoPixelStrip;\n    /**\n     * Gets the default light strip\n     */\n    //% help=light/default-strip\n    //% blockId=\"neopixel_default_strip\" block=\"default strip\"\n    //% weight=110 blockGap=8\n    //% advanced=true\n    //% parts=pixels\n    export function defaultStrip(): NeoPixelStrip {\n        if (_defaultStrip) return _defaultStrip;\n\n        const data = pins.pinByCfg(DAL.CFG_PIN_DOTSTAR_DATA);\n        const clk = pins.pinByCfg(DAL.CFG_PIN_DOTSTAR_CLOCK);\n        const dsnum = control.getConfigValue(DAL.CFG_NUM_DOTSTARS, 0);\n        const neo = pins.pinByCfg(DAL.CFG_PIN_NEOPIXEL);\n        const neonum = control.getConfigValue(DAL.CFG_NUM_NEOPIXELS, 0);\n        const mosi = pins.pinByCfg(DAL.CFG_PIN_MOSI);\n        const sck = pins.pinByCfg(DAL.CFG_PIN_SCK);\n\n        _defaultStrip = new NeoPixelStrip();\n        if (data && clk && dsnum > 0) {\n            _defaultStrip._mode = NeoPixelMode.APA102;\n            _defaultStrip._dataPin = data;\n            _defaultStrip._clkPin = clk;\n            _defaultStrip._length = dsnum;\n        } else if(neo && neonum > 0) {\n            _defaultStrip._mode = NeoPixelMode.RGB;\n            _defaultStrip._dataPin = neo;\n            _defaultStrip._length = neonum;\n        } else { // mount strip on SPI\n            _defaultStrip._mode = NeoPixelMode.RGB;\n            _defaultStrip._dataPin = mosi;\n            _defaultStrip._clkPin = sck;\n            _defaultStrip._length = 30;\n        }\n\n        return _defaultStrip;\n    }\n}",
            "jacdac.ts": "namespace jacdac {\n    //% fixedInstances\n    export class LightService extends ActuatorService {\n        strip: light.NeoPixelStrip;\n        constructor(name: string, strip: light.NeoPixelStrip) {\n            super(name, jacdac.LIGHT_DEVICE_CLASS, 5);\n            this.strip = strip;\n        }\n\n        protected handleStateChanged(): number {\n            const animation = this.state.getNumber(NumberFormat.UInt8LE, 0);\n            const value = this.state.getNumber(NumberFormat.UInt32LE, 1);\n            const range = this.strip;\n            switch (animation) {\n                case JDLightCommand.SetAll: range.setAll(value); break;\n                case JDLightCommand.SetBrightness: range.setBrightness(value);\n                case JDLightCommand.Rainbow: range.showAnimation(light.rainbowAnimation, value); break;\n                case JDLightCommand.RunningLights: range.showAnimation(light.runningLightsAnimation, value); break;\n                case JDLightCommand.ColorWipe: range.showAnimation(light.colorWipeAnimation, value); break;\n                case JDLightCommand.TheaterChase: range.showAnimation(light.theaterChaseAnimation, value); break;\n                case JDLightCommand.Comet: range.showAnimation(light.cometAnimation, value); break;\n                case JDLightCommand.Sparkle: range.showAnimation(light.sparkleAnimation, value); break;\n            }\n            return jacdac.DEVICE_OK;\n        }\n    }\n}",
            "neopixel.ts": "/**\n * Different modes for RGB or RGB+W NeoPixel strips\n */\nconst enum NeoPixelMode {\n    //% block=\"RGB (GRB format)\"\n    RGB = 1,\n    //% block=\"RGB+W\"\n    RGBW = 2,\n    //% block=\"RGB (RGB format)\"\n    RGB_RGB = 3,\n    //% block=\"APA102\"\n    APA102 = 4\n}\n\nconst enum LightMove {\n    //% block=\"rotate\"\n    Rotate,\n    //% block=\"shift\"\n    Shift\n}\n\n/**\n * A determines the mode of the photon\n */\nconst enum PhotonMode {\n    //% block=\"pen up\"\n    PenUp,\n    //% block=\"pen down\"\n    PenDown,\n    //% block=\"eraser\"\n    Eraser,\n    //% block=\"off\"\n    Off\n}\n\nconst enum LightAnimation {\n    //% blockImage=1\n    //% block=\"rainbow\"\n    Rainbow,\n    //% blockImage=1\n    //% block=\"running lights\"\n    RunningLights,\n    //% blockImage=1\n    //% block=\"comet\"\n    Comet,\n    //% blockImage=1\n    //% block=\"sparkle\"\n    Sparkle,\n    //% blockImage=1\n    //% block=\"theater chase\"\n    TheaterChase,\n    //% blockImage=1\n    //% block=\"color wipe\"\n    ColorWipe\n}\n\n/**\n * Functions to operate colored LEDs.\n */\n//% weight=100 color=\"#0078d7\" icon=\"\\uf00a\"\n//% groups='[\"other\", \"Color\", \"Photon\", \"More\"]'\n//% blockGap=8\nnamespace light {\n    export type LightStrip = NeoPixelStrip;\n    /**\n     * A NeoPixel strip\n     */\n    export class NeoPixelStrip {\n        _parent: NeoPixelStrip;\n        _dataPin: DigitalInOutPin;\n        _clkPin: DigitalInOutPin;\n        _buf: Buffer; // unscaled color buffer\n        // per pixel scaling. This buffer is allocated on-demand when per-pixel brightness is needed.\n        // when rendering, if this buffer is null, use _brightness instead\n        _brightnessBuf: Buffer;\n        _sendBuf: Buffer; // scaled color buffer\n        _brightness: number; // global brightness for this strip\n        _start: number; // start offset in LED strip\n        _length: number; // number of LEDs\n        _mode: NeoPixelMode;\n        _buffered: boolean;\n        _animationQueue: control.AnimationQueue;\n        // what's the current high value\n        _barGraphHigh: number;\n        // when was the current high value recorded\n        _barGraphHighLast: number;\n        // the current photon color, undefined = no photon\n        _photonMode: number;\n        _photonPos: number;\n        _photonDir: number;\n        _photonPenColor: number;\n        // last animation used by showAnimationFrame\n        _lastAnimation: NeoPixelAnimation;\n        _lastAnimationRenderer: () => boolean;\n        _transitionPlayer: BrightnessTransitionPlayer;\n\n        constructor() {\n            this._buffered = false;\n            this._mode = NeoPixelMode.RGB;\n            this._length = 0;\n            this._brightness = 16;\n            this._start = 0;\n            this._dataPin = undefined;\n            this._clkPin = undefined;\n            this._barGraphHigh = 0;\n            this._barGraphHighLast = 0;\n        }\n\n        /**\n         * Gets the underlying color buffer for the entire strip\n         */\n        get buf(): Buffer {\n            if (this._parent) return this._parent.buf;\n            if (!this._buf)\n                this.reallocateBuffer();\n            return this._buf;\n        }\n\n        get brightnessBuf(): Buffer {\n            if (this._parent) return this._parent.brightnessBuf;\n            if (!this._brightnessBuf) {\n                const b = this.buf; // force allocate buffer\n                this._brightnessBuf = control.createBuffer(this._length);\n                this._brightnessBuf.fill(this._brightness, 0, this._brightnessBuf.length);\n            }\n            return this._brightnessBuf;\n        }\n\n        /**\n         * Gets the LED data layout mode\n         */\n        get mode(): NeoPixelMode {\n            return this._mode;\n        }\n\n        /**\n         * Set all of the pixels on the strip to one RGB color.\n         * @param rgb RGB color of the LED\n         */\n        //% blockId=\"light_set_strip_color\" block=\"set %strip all pixels to %rgb=colorNumberPicker\"\n        //% help=\"light/neopixelstrip/set-all\"\n        //% weight=80 blockGap=8\n        //% advanced=true\n        setAll(rgb: number) {\n            rgb = rgb | 0;\n            const red = color.unpackR(rgb);\n            const green = color.unpackG(rgb);\n            const blue = color.unpackB(rgb);\n\n            const end = this._start + this._length;\n            const stride = this.stride();\n            for (let i = this._start; i < end; ++i) {\n                this.setBufferRGB(i * stride, red, green, blue)\n            }\n            this.autoShow();\n        }\n\n        /**\n         * Sets a gradient between two colors\n         * @param startColor the start color\n         * @param endColor the end color\n         */\n        //% blockId=lightsetgradient block=\"set %strip gradient from %startColor=colorNumberPicker to %endColor=colorNumberPicker\"\n        //% weight=79 blockGap=8\n        //% group=\"More\" advanced=true\n        setGradient(startColor: number, endColor: number) {\n            const sr = color.unpackR(startColor);\n            const sg = color.unpackG(startColor);\n            const sb = color.unpackB(startColor);\n            const er = color.unpackR(endColor);\n            const eg = color.unpackG(endColor);\n            const eb = color.unpackB(endColor);\n\n            const end = this._start + this._length;\n            const n1 = this._length - 1;\n            const stride = this.stride();\n            for (let i = this._start; i < end; ++i) {\n                let x = (i - this._start) / n1;\n                const ox = 1 - x;\n                const r = (sr * ox + er * x) | 0;\n                const g = (sg * ox + eg * x) | 0;\n                const b = (sb * ox + eb * x) | 0;\n                this.setBufferRGB(i * stride, r, g, b);\n            }\n            this.autoShow();\n        }\n\n        /**\n         * Display a vertical bar graph based on the `value` and `high` value.\n         * If `high` is 0, the chart gets adjusted automatically.\n         * @param value current value to plot\n         * @param high maximum value, 0 to autoscale\n         */\n        //% blockId=light_show_bar_graph block=\"%strip|graph %value||up to %high\" icon=\"\\uf080\"\n        //% help=light/neopixelstrip/graph\n        //% weight=70 blockGap=8\n        //% advanced=true\n        graph(value: number, high?: number): void {\n            console.logValue(\"\", value);\n            value = Math.abs(value);\n\n            const now = control.millis();\n            if (high > 0) {\n                this._barGraphHigh = high;\n            }\n            else if (value > this._barGraphHigh || now - this._barGraphHighLast > 10000) {\n                this._barGraphHigh = value;\n                this._barGraphHighLast = now;\n            }\n\n            const bfr = this.buffered();\n            this.setBuffered(true);\n            const n = this._length;\n            const n1 = n - 1;\n            const nhalf = n / 2;\n            const v = Math.round((value * n) / this._barGraphHigh);\n            if (v == 0) {\n                this.setAll(0);\n            } else {\n                for (let i = 0; i < n; ++i) {\n                    if (i + 1 <= v) {\n                        if (i < nhalf) {\n                            const b = (i * 255 / nhalf) >> 0;\n                            this.setPixelColor(i, light.rgb(0, b, 255 - b));\n                        } else {\n                            const b = ((i - nhalf) * 255 / nhalf) >> 0;\n                            this.setPixelColor(i, light.rgb(b, 255 - b, 0));\n                        }\n                    }\n                    else {\n                        this.setPixelColor(i, 0);\n                    }\n                }\n            }\n            this.show();\n            this.setBuffered(bfr);\n        }\n\n        /**\n         * Set the pixel to a given color.\n         * You need to call ``show`` to make the changes visible.\n         * @param pixeloffset position of the NeoPixel in the strip\n         * @param color RGB color of the LED\n         */\n        //% blockId=\"light_set_pixel_color\" block=\"set %strip pixel color at %pixeloffset|to %rgb=colorNumberPicker\"\n        //% help=\"light/neopixelstrip/set-pixel-color\"\n        //% weight=79 blockGap=8\n        //% group=\"More\" advanced=true\n        setPixelColor(pixeloffset: number, c: number): void {\n            pixeloffset = pixeloffset | 0;\n            c = c | 0;\n\n            if (pixeloffset < 0\n                || pixeloffset >= this._length)\n                return;\n\n            const stride = this.stride();\n            pixeloffset = (pixeloffset + this._start) * stride;\n            const red = color.unpackR(c);\n            const green = color.unpackG(c);\n            const blue = color.unpackB(c);\n            this.setBufferRGB(pixeloffset, red, green, blue)\n            this.autoShow();\n        }\n\n        /**\n         * Gets the pixel color.\n         * @param pixeloffset position of the NeoPixel in the strip\n         */\n        //% blockId=\"light_get_pixel_color\" block=\"%strip|pixel color at %pixeloffset\"\n        //% help=\"light/neopixelstrip/pixel-color\"\n        //% weight=9 blockGap=8\n        //% group=\"More\" advanced=true\n        pixelColor(pixeloffset: number): number {\n            pixeloffset = pixeloffset | 0;\n            if (pixeloffset < 0\n                || pixeloffset >= this._length) {\n                return 0;\n            }\n\n            const stride = this.stride();\n            const offset = (pixeloffset + this._start) * stride;\n            const b = this.buf;\n            let red = 0, green = 0, blue = 0;\n            switch (this._mode) {\n                case NeoPixelMode.RGB_RGB:\n                    red = this.buf[offset + 0];\n                    green = this.buf[offset + 1];\n                    blue = this.buf[offset + 2];\n                    break;\n                case NeoPixelMode.APA102:\n                    blue = this.buf[offset + 1];\n                    green = this.buf[offset + 2];\n                    red = this.buf[offset + 3];\n                    break;\n                default:\n                    green = this.buf[offset + 0];\n                    red = this.buf[offset + 1];\n                    blue = this.buf[offset + 2];\n                    break;\n            }\n\n            return color.rgb(red, green, blue);\n        }\n\n        /**\n         * Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\n         * This only works for RGB+W NeoPixels.\n         * @param pixeloffset position of the LED in the strip\n         * @param white brightness of the white LED\n         */\n        //% blockId=\"light_set_pixel_white_led\" block=\"set %strip pixel white LED at %pixeloffset|to %white\"\n        //% help=\"light/neopixelstrip/set-pixel-white-led\"\n        //% weight=5 blockGap=8\n        //% group=\"More\" advanced=true\n        setPixelWhiteLED(pixeloffset: number, white: number): void {\n            if (this._mode != NeoPixelMode.RGBW) return;\n\n            pixeloffset = pixeloffset | 0;\n            if (pixeloffset < 0\n                || pixeloffset >= this._length)\n                return;\n\n            pixeloffset = (pixeloffset + this._start) * 4;\n            white = white & 0xff;\n            const buf = this.buf;\n            buf[pixeloffset + 3] = white;\n            this.autoShow();\n        }\n\n        /**\n         * Make the strip show all the new changes for the pixels.\n         */\n        //% blockId=\"light_show\" block=\"%strip|show\"\n        //% help=\"light/neopixelstrip/show\"\n        //% weight=86 blockGap=8\n        //% group=\"More\" advanced=true\n        show(): void {\n            if (this._parent) this._parent.show();\n            else if (this._dataPin) {\n                const b = this.buf;\n\n                // fast path: no processing\n                if (this._brightness == 0xff && !this._brightnessBuf && !this._photonPenColor) {\n                    // no need to process buffer\n                    light.sendBuffer(this._dataPin, this._clkPin, this._mode, b);\n                    return;\n                }\n\n                // bb may be undefined if the brightness\n                // is uniform over the strip and has not been allocated\n                const _bb = this._brightnessBuf;\n                if (!this._sendBuf) this._sendBuf = control.createBuffer(b.length);\n                const sb = this._sendBuf;\n                const stride = this.stride();\n                const strideOffset = this._mode == NeoPixelMode.APA102 ? 1 : 0;\n                // apply brightness\n                for (let i = 0; i < this._length; ++i) {\n                    const offset = (this._start + i) * stride;\n                    for (let j = 0; j < strideOffset; ++j)\n                        sb[offset + j] = 0xff;\n                    for (let j = strideOffset; j < stride; ++j)\n                        sb[offset + j] = (b[offset + j] * (_bb ? _bb[i] : this._brightness)) >> 8;\n                }\n                // apply photon\n                this.drawPhoton(sb, stride);\n                //console.log(`${!!this._dataPin} ${!!this._clkPin} ${this.mode} hex${sb.toHex()}`)\n                light.sendBuffer(this._dataPin, this._clkPin, this._mode, sb);\n            }\n        }\n\n        protected drawPhoton(sb: Buffer, stride: number) {\n            // apply photon\n            if (this._photonPenColor) {\n                // draw head and trail\n                const tailn = Math.max(1, Math.min(8, this._length >> 4));\n                let pi = this._photonPos * stride;\n                let c = Math.max(128, this._brightness);\n                let dc = (c - 32) / tailn;\n                for (let bi = 0; bi < tailn && c > 0; ++bi) {\n                    if (this._mode == NeoPixelMode.RGBW)\n                        sb[pi + 3] = c;\n                    else if (this._mode == NeoPixelMode.APA102)\n                        sb[pi + 1] = sb[pi + 2] = sb[pi + 3] = c;\n                    else\n                        sb[pi] = sb[pi + 1] = sb[pi + 2] = c;\n\n                    c -= dc;\n                    pi += (-this._photonDir * stride) % sb.length;\n                    if (pi < 0) pi += sb.length;\n                }\n            }\n        }\n\n        /**\n         * Turn off all pixel LEDs.\n         */\n        //% blockId=\"light_clear\" block=\"%strip|clear\"\n        //% help=\"light/neopixelstrip/clear\"\n        //% weight=85 blockGap=8\n        //% group=\"More\" advanced=true\n        clear(): void {\n            const stride = this.stride();\n            this.buf.fill(0, this._start * stride, this._length * stride);\n            this.autoShow();\n        }\n\n        /**\n         * Get the number of pixels on the strip\n         */\n        //% blockId=\"light_length\" block=\"%strip|length\"\n        //% help=\"light/neopixelstrip/length\"\n        //% weight=8 blockGap=8\n        //% group=\"More\" advanced=true\n        length() {\n            return this._length;\n        }\n\n        /**\n         * Set the brightness of the strip. This flag only applies to future operation.\n         * @param brightness a measure of LED brightness in 0-255. eg: 20\n         */\n        //% blockId=\"light_set_brightness\" block=\"set %strip brightness %brightness\"\n        //% brightness.min=0 brightness.max=255\n        //% help=\"light/neopixelstrip/set-brightness\"\n        //% weight=2 blockGap=8\n        //% advanced=true\n        setBrightness(brightness: number): void {\n            const b = Math.max(0, Math.min(0xff, brightness | 0));\n            if (b != this._brightness || this._brightnessBuf) {\n                this._brightness = b;\n                // if this is a top level strip clear any existing brightness buffer\n                if (!this._parent)\n                    this._brightnessBuf = undefined;\n                // if this is a NOT top-level strip or if brightness buff has been allocated,\n                else if (this._parent || this._brightnessBuf)\n                    this.brightnessBuf.fill(this._brightness, this._start, this._length);\n                this.autoShow();\n            }\n        }\n\n        /**\n         * Sets an individual pixel brightness\n         * @param index \n         * @param brightness \n         */\n        setPixelBrightness(index: number, brightness: number): void {\n            const i = (index | 0);\n            if (i < 0 || i > this._length) return;\n\n            const b = Math.max(0, Math.min(0xff, brightness | 0));\n            const bb = this.brightnessBuf;\n            if (bb[this._start + i] != b) {\n                bb[this._start + i] = b;\n                this.autoShow();\n            }\n        }\n\n        /**\n         * Get the brightness of the pixel strip.\n         */\n        //% blockId=\"light_get_brightness\" block=\"%strip|brightness\"\n        //% help=\"light/neopixelstrip/brightness\"\n        //% parts=neopixel\n        //% weight=7 blockGap=8\n        //% group=\"More\" advanced=true\n        brightness(): number {\n            return this._brightness;\n        }\n\n        /**\n         * Create a range of pixels.\n         * @param start offset in the NeoPixel strip to start the range\n         * @param length number of pixels in the range, eg: 4\n         */\n        //% blockId=\"light_range\" block=\"%strip|range from %start|with %length|pixels\"\n        //% help=\"light/neopixelstrip/range\"\n        //% weight=99 blockGap=30\n        //% blockSetVariable=strip\n        //% advanced=true\n        range(start: number, length: number): NeoPixelStrip {\n            start = start | 0;\n            length = length | 0;\n\n            let strip = new NeoPixelStrip();\n            strip._parent = this;\n            strip._dataPin = this._dataPin;\n            strip._clkPin = this._clkPin;\n            strip._brightness = this._brightness;\n            strip._start = this._start + Math.clamp(0, this._length - 1, start);\n            strip._length = Math.clamp(0, this._length - (strip._start - this._start), length);\n            return strip;\n        }\n\n        /**\n         * Shift LEDs forward and clear with zeros.\n         * You need to call ``show`` to make the changes visible.\n         * @param offset number of pixels to shift forward, eg: 1\n         */\n        //% blockId=\"light_move_pixels\" block=\"%strip|%kind=MoveKind|by %offset\"\n        //% help=\"light/neopixelstrip/move\"\n        //% weight=87 blockGap=8\n        //% group=\"More\" advanced=true\n        move(kind: LightMove, offset: number = 1): void {\n            offset = offset | 0;\n\n            const stride = this.stride();\n            if (kind === LightMove.Shift) {\n                this.buf.shift(-offset * stride, this._start * stride, this._length * stride)\n            }\n            else {\n                this.buf.rotate(-offset * stride, this._start * stride, this._length * stride)\n            }\n            this.autoShow();\n        }\n\n        private stride(): number {\n            return this._mode === NeoPixelMode.RGBW || this._mode == NeoPixelMode.APA102 ? 4 : 3;\n        }\n\n        initPhoton() {\n            if (this._photonPos === undefined) {\n                this._photonMode = PhotonMode.PenDown;\n                this._photonPos = 0;\n                this._photonDir = 1;\n                this._photonPenColor = Colors.Red;\n            }\n        }\n\n        /**\n         * Move a photon effect along the pixel strip by a number of steps.\n         * @param steps number of steps (lights) to move, eg: 1\n         */\n        //% blockId=light_photon_fd block=\"%strip|photon forward by %steps\"\n        //% help=\"light/neopixelstrip/photon-forward\"\n        //% weight=41 blockGap=8\n        //% group=\"Photon\" advanced=true\n        photonForward(steps: number) {\n            steps = steps | 0;\n            this.setPhotonPosition(this._photonPos + this._photonDir * steps);\n        }\n\n        /**\n         * Switch the direction of the photon pulse.\n         */\n        //% blockId=light_photon_flip block=\"%strip|photon flip\"\n        //% help=\"light/neopixelstrip/photon-flip\"\n        //% weight=40 blockGap=8\n        //% group=\"Photon\" advanced=true\n        photonFlip() {\n            this.initPhoton();\n            this._photonDir *= -1;\n        }\n\n        /**\n         * Sets the photon position to a given light index\n         * @param index index of the light, if out of bound, the index is wrapped\n         */\n        //% blockId=light_photon_set_position block=\"%strip|photon set position %index\"\n        //% help=\"light/neopixelstrip/set-photon-position\"\n        //% weight=39 blockGap=8\n        //% group=\"Photon\" advanced=true\n        setPhotonPosition(index: number) {\n            index = index | 0;\n\n            this.initPhoton();\n\n            // disable buffering\n            const buffered = this.buffered();\n            this.setBuffered(false);\n\n            // move\n            this._photonPos = (index >> 0) % this._length;\n            if (this._photonPos < 0) this._photonPos += this._length;\n\n            // paint under photon\n            if (this._photonMode == PhotonMode.PenDown)\n                this.setPixelColor(this._photonPos, this._photonPenColor);\n            else if (this._photonMode == PhotonMode.Eraser)\n                this.setPixelColor(this._photonPos, 0); // erase led\n\n            // restoring buffer\n            this.setBuffered(buffered);\n\n            this.autoShow();\n        }\n\n        /**\n         * Set the photon color.\n         * @param color the color of the photon\n         */\n        //% blockId=light_photon_set_pen_color block=\"%strip=variables_get|photon set pen color %color=colorNumberPicker\"\n        //% help=\"light/neopixelstrip/set-photon-pen-color\"\n        //% weight=38 blockGap=8\n        //% group=\"Photon\" advanced=true\n        setPhotonPenColor(color: number) {\n            color = color | 0;\n            this.initPhoton();\n            this._photonPenColor = color;\n            this.photonForward(0);\n        }\n\n        /**\n         * Sets the photon hue.\n         * @param hue the hue of the photon color\n         */\n        //% blockId=light_photon_set_pen_hue block=\"%strip=variables_get|photon set pen hue %hue=colorWheelHsvPicker\"\n        //% help=\"light/neopixelstrip/set-photon-pen-hue\"\n        //% weight=39 blockGap=8\n        //% group=\"Photon\" advanced=true\n        setPhotonPenHue(hue: number) {\n            hue = hue | 0;\n            this.setPhotonPenColor(color.hsv(hue, 0xff, 0xff));\n        }\n\n        //% deprecated=1 blockHidden=1\n        //% group=\"Photon\" advanced=true\n        setPhotonColor(hue: number) {\n            this.setPhotonPenHue(hue);\n        }\n\n        /**\n         * Set the photon mode to pen up, pen down, or eraser.\n         * @param mode the desired mode\n         */\n        //% blockId=light_photon_set_photon block=\"%strip|photon %mode\"\n        //% help=\"light/neopixelstrip/set-photon-mode\"\n        //% weight=38\n        //% group=\"Photon\" advanced=true\n        setPhotonMode(mode: PhotonMode) {\n            if (mode == PhotonMode.Off) {\n                this._photonPos = undefined;\n                this.show();\n            } else {\n                this.initPhoton();\n                if (this._photonMode != mode) {\n                    this._photonMode = mode;\n                    this.photonForward(0);\n                }\n            }\n        }\n\n        /**\n         * Starts a brightness transition on the strip (and cancels any other running transition)\n         * @param transition \n         * @param duration \n         */\n        startBrightnessTransition(\n            startBrightness: number,\n            endBrightness: number,\n            duration: number,\n            repeat?: number,\n            yoyo?: boolean,\n            transition?: BrightnessTransition\n        ) {\n            const player = this._transitionPlayer = new BrightnessTransitionPlayer(\n                transition || new EasingBrightnessTransition(undefined),\n                startBrightness,\n                endBrightness,\n                duration,\n                repeat,\n                yoyo);\n            control.runInBackground(() => {\n                while (player == this._transitionPlayer) {\n                    const buf = this.buffered();\n                    this.setBuffered(true);\n                    const keepRendering = player.update(this);\n                    this.setBuffered(buf);\n                    this.show();\n                    pause(20);\n                    if (!keepRendering) break;\n                }\n            });\n        }\n\n        /**\n         * Stops any running brightness transition\n         */\n        stopBrightnessTransition() {\n            this._transitionPlayer = undefined;\n        }\n\n        /**\n         * Show an animation or queue an animation in the animation queue\n         * @param animation the animation to run\n         * @param duration the duration to run in milliseconds, eg: 500\n         */\n        //% blockId=light_show_animation block=\"%strip|show animation %animation=light_animation_picker|for %duration=timePicker|ms\"\n        //% help=\"light/neopixelstrip/show-animation\"\n        //% weight=90 blockGap=8\n        //% advanced=true\n        showAnimation(animation: NeoPixelAnimation, duration: number) {\n            if (!animation) return;\n\n            // if a previous renderer for the same animation was used, keep using it\n            let animationRenderer = this._lastAnimationRenderer;\n            if (!animationRenderer || this._lastAnimation != animation) {\n                animationRenderer = animation.createRenderer(this);\n                if (!animationRenderer) return;\n            }\n\n            let start = -1;\n            const render: () => boolean = () => {\n                // keep track of whose running\n                this._lastAnimation = animation;\n                this._lastAnimationRenderer = animationRenderer;\n                // execute animation\n                if (start < 0) start = control.millis();\n                const now = control.millis() - start;\n                const buf = this.buffered();\n                this.setBuffered(true);\n                const keepRendering = animationRenderer();\n                this.setBuffered(buf);\n                this.show();\n                pause(1);\n                return duration > 0\n                    ? now <= duration\n                    : keepRendering;\n            };\n            this.queueAnimation(render);\n        }\n\n        /**\n         * Show a single animation frame.\n         * @param animation the animation to run\n         */\n        //% blockId=light_show_animation_frame block=\"%strip|show frame of %animation=light_animation_picker|animation\"\n        //% help=\"light/neopixelstrip/show-animation-frame\"\n        //% weight=87 blockGap=8\n        //% group=\"More\" advanced=true\n        showAnimationFrame(animation: NeoPixelAnimation) {\n            if (!animation) {\n                this._lastAnimation = undefined;\n                this._lastAnimationRenderer = undefined;\n                return;\n            }\n            let renderer = this._lastAnimationRenderer;\n            if (!renderer || this._lastAnimation != animation) {\n                this._lastAnimation = animation;\n                renderer = this._lastAnimationRenderer = animation.createRenderer(this);\n            }\n            if (renderer) {\n                const buf = this.buffered();\n                this.setBuffered(true);\n                renderer();\n                this.setBuffered(buf);\n                this.autoShow();\n            }\n        }\n\n        /**\n         * Renders a pattern of colors on the strip\n         */\n        showColors(leds: string, interval: number = 400) {\n            const n = this._length;\n            let tempColor = \"\";\n            let i = 0;\n            let pi = 0;\n\n            this.queueAnimation(() => {\n                const bf = this.buffered();\n                this.setBuffered(true);\n\n                while (i < leds.length) {\n                    const currChar = leds.charAt(i++);\n                    const isSpace = currChar == ' ' || currChar == '\\n' || currChar == '\\r';\n                    if (!isSpace)\n                        tempColor += currChar;\n\n                    if ((isSpace || i == leds.length) && tempColor) {\n                        this.setPixelColor(pi++, color.parseColor(tempColor))\n                        tempColor = \"\";\n                        if (pi == n) {\n                            this.show();\n                            pause(interval);\n                            pi = 0;\n                            break;\n                        }\n                    }\n                }\n\n                this.setBuffered(bf);\n                return i < leds.length;\n            });\n        }\n\n        //%\n        private queueAnimation(render: () => boolean) {\n            if (!this._animationQueue) {\n                this._animationQueue = new control.AnimationQueue();\n                this._animationQueue.interval = 50;\n                this._lastAnimation = undefined;\n                this._lastAnimationRenderer = undefined;\n            }\n            this._animationQueue.runUntilDone(render);\n        }\n\n        /**\n         * Stop the current animation and any other animations ready to show.\n         */\n        //% blockId=light_stop_all_animations block=\"%strip|stop all animations\"\n        //% help=\"light/neopixelstrip/stop-all-animations\"\n        //% weight=85 blockGap=8\n        //% group=\"More\" advanced=true\n        stopAllAnimations() {\n            if (this._animationQueue) {\n                this._animationQueue.cancel();\n                this._lastAnimation = undefined;\n                this._lastAnimationRenderer = undefined;\n            }\n        }\n\n        /**\n         * Enables or disables automatically calling show when a change is made\n         * @param on call show whenever a light is modified\n         */\n        //% blockId=light_set_buffered block=\"set %strip buffered  %on\"\n        //% help=\"light/neopixelstrip/set-buffered\"\n        //% weight=86 blockGap=8\n        //% group=\"Configuration\" advanced=true\n        setBuffered(on: boolean): void {\n            if (this._parent) this._parent.setBuffered(on);\n            else this._buffered = on;\n        }\n\n        /**\n         * Gets a value indicated if the changes are buffered\n         */\n        //% weight=85 blockGap=8\n        //% group=\"Configuration\" advanced=true\n        buffered(): boolean {\n            return this._parent ? this._parent.buffered() : this._buffered;\n        }\n\n        /**\n         * Sets the color mode and clears the colors.\n         * @param mode the kind of color encoding required by the programmable lights\n         */\n        //% blockId=light_set_mode block=\"set %strip mode to %mode\"\n        //% help=\"light/neopixelstrip/set-mode\"\n        //% weight=1 blockGap=8\n        //% group=\"Configuration\" advanced=true\n        setMode(mode: NeoPixelMode): void {\n            if (this._parent)\n                this._parent.setMode(mode);\n            else if (this._mode != mode) {\n                this._mode = mode;\n                this.reallocateBuffer();\n            }\n        }\n\n        /**\n         * Sets the number of LEDs on a strip\n         * @param numleds \n         */\n        //% blockId=light_set_length block=\"set %strip length to %length pixels\"\n        //% weight=1 blockGap=8\n        //% length.shadow=lightLengthPicker\n        //% group=\"Configuration\" advanced=true\n        setLength(numleds: number): void {\n            const n = Math.max(0, numleds | 0);\n            // lazy update\n            if (n != this._length) {\n                if (this._parent)\n                    this._length = Math.min(n, this._parent.length() - this._start);\n                else {\n                    this._length = n;\n                    this.reallocateBuffer();\n                }\n            }\n        }\n\n        private autoShow() {\n            if (!this.buffered()) {\n                this.show();\n                pause(1);\n            }\n        }\n\n        private setBufferRGB(offset: number, red: number, green: number, blue: number): void {\n            const b = this.buf;\n            // https://cdn-shop.adafruit.com/datasheets/APA102.pdf\n            switch (this._mode) {\n                case NeoPixelMode.RGB_RGB:\n                    b[offset] = red;\n                    b[offset + 1] = green;\n                    b[offset + 2] = blue;\n                    break;\n                case NeoPixelMode.APA102:\n                    // https://cdn-shop.adafruit.com/datasheets/APA102.pdf\n                    b[offset] = 0xe0 | 0x1f; // full brightness\n                    b[offset + 1] = blue;\n                    b[offset + 2] = green;\n                    b[offset + 3] = red;\n                    break;\n                default:\n                    b[offset + 0] = green;\n                    b[offset + 1] = red;\n                    b[offset + 2] = blue;\n                    break;\n            }\n        }\n\n        private reallocateBuffer(): void {\n            if (this._parent) return; // not supported in ranges\n            const stride = this.stride();\n            this._buf = control.createBuffer(this._length * stride);\n            this._brightnessBuf = undefined;\n            this._sendBuf = undefined;\n        }\n\n        // From here onwards, these block definitions are there for compatibility with old blocks\n        // (that have the default instance logic)\n\n        /**\n         * Set all of the pixels on the strip to one RGB color.\n         * @param rgb RGB color of the LED\n         */\n        //% blockId=\"neopixel_set_strip_color\" block=\"set all pixels to %rgb=colorNumberPicker\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setAll(rgb: number) {\n            this.setAll(rgb);\n        }\n\n        /**\n         * Display a vertical bar graph based on the `value` and `high` value.\n         * If `high` is 0, the chart gets adjusted automatically.\n         * @param value current value to plot\n         * @param high maximum value, 0 to autoscale\n         */\n        //% blockId=neopixel_show_bar_graph block=\"graph %value |up to %high\" icon=\"\\uf080\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __graph(value: number, high: number): void {\n            this.graph(value, high);\n        }\n\n        /**\n         * Set the pixel to a given color.\n         * You need to call ``show`` to make the changes visible.\n         * @param pixeloffset position of the NeoPixel in the strip\n         * @param color RGB color of the LED\n         */\n        //% blockId=\"neopixel_set_pixel_color\" block=\"set pixel color at %pixeloffset|to %rgb=colorNumberPicker\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setPixelColor(pixeloffset: number, color: number): void {\n            this.setPixelColor(pixeloffset, color);\n        }\n\n        /**\n         * Gets the pixel color.\n         * @param pixeloffset position of the NeoPixel in the strip\n         */\n        //% blockId=\"neopixel_get_pixel_color\" block=\"pixel color at %pixeloffset\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __pixelColor(pixeloffset: number): number {\n            return this.pixelColor(pixeloffset);\n        }\n\n        /**\n         * Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\n         * This only works for RGB+W NeoPixels.\n         * @param pixeloffset position of the LED in the strip\n         * @param white brightness of the white LED\n         */\n        //% blockId=\"neopixel_set_pixel_white_led\" block=\"set pixel white LED at %pixeloffset|to %white\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setPixelWhiteLED(pixeloffset: number, white: number): void {\n            this.setPixelWhiteLED(pixeloffset, white);\n        }\n\n        /**\n         * Make the strip show all the new changes for the pixels.\n         */\n        //% blockId=\"neopixel_show\" block=\"show\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __show(): void {\n            this.show();\n        }\n\n        /**\n         * Turn off all pixel LEDs.\n         */\n        //% blockId=\"neopixel_clear\" block=\"clear\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __clear(): void {\n            this.clear();\n        }\n\n        /**\n         * Get the number of pixels on the strip\n         */\n        //% blockId=\"neopixel_length\" block=\"length\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __length() {\n            return this.length();\n        }\n\n        /**\n         * Set the brightness of the strip. This flag only applies to future operation.\n         * @param brightness a measure of LED brightness in 0-255. eg: 20\n         */\n        //% blockId=\"neopixel_set_brightness\" block=\"set brightness %brightness\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setBrightness(brightness: number): void {\n            this.setBrightness(brightness);\n        }\n\n        /**\n         * Get the brightness of the pixel strip.\n         */\n        //% blockId=\"neopixel_get_brightness\" block=\"brightness\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __brightness(): number {\n            return this.brightness();\n        }\n\n        /**\n         * Create a range of pixels.\n         * @param start offset in the NeoPixel strip to start the range\n         * @param length number of pixels in the range. eg: 4\n         */\n        //% blockId=\"neopixel_range\" block=\"range from %start|with %length|pixels\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __range(start: number, length: number): NeoPixelStrip {\n            return this.range(start, length);\n        }\n\n        /**\n         * Shift LEDs forward and clear with zeros.\n         * You need to call ``show`` to make the changes visible.\n         * @param offset number of pixels to shift forward, eg: 1\n         */\n        //% blockId=\"neopixel_move_pixels\" block=\"%kind=MoveKind|by %offset\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __move(kind: LightMove, offset: number = 1): void {\n            this.move(kind, offset);\n        }\n\n        /**\n         * Move a photon effect along the pixel strip by a number of steps.\n         * @param steps number of steps (lights) to move, eg: 1\n         */\n        //% blockId=neophoton_fd block=\"photon forward by %steps\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __photonForward(steps: number) {\n            this.photonForward(steps);\n        }\n\n        /**\n         * Switch the direction of the photon pulse.\n         */\n        //% blockId=neophoton_flip block=\"photon flip\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __photonFlip() {\n            this.photonFlip();\n        }\n\n        /**\n         * Set the photon color.\n         * @param color the color of the photon\n         */\n        //% blockId=neophoton_set_color block=\"photon set pen color %color\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setPhotonColor(color: number) {\n            // The photon color has since changed, and we now use setPhotonPenHue to set the hue of the photon color\n            this.setPhotonPenHue(color);\n        }\n\n        /**\n         * Set the photon mode to pen up, pen down, or eraser.\n         * @param mode the desired mode\n         */\n        //% blockId=neophoton_set_photon block=\"photon %mode\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setPhotonMode(mode: PhotonMode) {\n            this.setPhotonMode(mode);\n        }\n\n        /**\n         * Show an animation or queue an animation in the animation queue\n         * @param animation the animation to run\n         * @param duration the duration to run in milliseconds, eg: 500\n         */\n        //% blockId=neopixel_show_animation block=\"show %animation=light_animation|animation for %duration=timePicker|ms\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __showAnimation(animation: NeoPixelAnimation, duration: number) {\n            this.showAnimation(animation, duration);\n        }\n\n        /**\n         * Show a single animation frame\n         * @param animation the animation to run\n         */\n        //% blockId=neopixel_show_animation_frame block=\"show animation frame %animation=light_animation\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __showAnimationFrame(animation: NeoPixelAnimation) {\n            this.showAnimationFrame(animation);\n        }\n\n        /**\n         * Stop the current animation and any other animations ready to show.\n         */\n        //% blockId=neopixel_stop_all_animations block=\"stop all animations\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __stopAllAnimations() {\n            this.stopAllAnimations();\n        }\n\n        /**\n         * Enables or disables automatically calling show when a change is made\n         * @param on call show whenever a light is modified\n         */\n        //% blockId=neopixel_set_buffered block=\"set buffered  %on\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setBuffered(on: boolean): void {\n            this.setBuffered(on);\n        }\n\n        /**\n         * Sets the color mode and clears the colors.\n         * @param mode the kind of color encoding required by the programmable lights\n         */\n        //% blockId=neopixel_set_mode block=\"set mode %mode\"\n        //% deprecated=1\n        //% defaultInstance=light.pixels\n        __setMode(mode: NeoPixelMode): void {\n            this.setMode(mode);\n        }\n    }\n\n    /**\n     * Creates a strip of colored LEDs (WS2812b)\n     */\n    //% blockId=\"neopixel_create\" block=\"create WS2812 strip|pin %pin|with %numleds pixels\"\n    //% help=\"light/create-neo-pixel-strip\"\n    //% trackArgs=0,2\n    //% parts=\"neopixel\"\n    //% weight=100 blockSetVariable=strip\n    //% advanced=true blockHidden=1\n    export function createNeoPixelStrip(\n        pin: DigitalInOutPin,\n        numleds: number = 10,\n        mode?: NeoPixelMode\n    ): NeoPixelStrip {\n        if (!mode)\n            mode = NeoPixelMode.RGB;\n\n        const strip = new NeoPixelStrip();\n        strip._mode = mode;\n        strip._length = Math.max(0, numleds | 0);\n        strip._dataPin = pin;\n        if (strip._dataPin) // board with no-board LEDs won't have a default pin\n            strip._dataPin.digitalWrite(false);\n        return strip;\n    }\n\n    /**\n     * Converts red, green, blue channels into a RGB color\n     * @param red value of the red channel between 0 and 255. eg: 255\n     * @param green value of the green channel between 0 and 255. eg: 255\n     * @param blue value of the blue channel between 0 and 255. eg: 255\n     */\n    //% blockId=\"neopixel_rgb\" block=\"red %red|green %green|blue %blue\"\n    //% red.min=0 red.max=255 green.min=0 green.max=255 blue.min=0 blue.max=255\n    //% help=\"light/rgb\"\n    //% group=\"Color\" weight=19 blockGap=8\n    export function rgb(red: number, green: number, blue: number): number {\n        return color.rgb(red, green, blue);\n    }\n\n    /**\n     * Get the RGB value of a known color\n    */\n    //% blockId=neopixel_colors block=\"%color\"\n    //% help=\"light/colors\"\n    //% shim=TD_ID\n    //% group=\"Color\" weight=20 blockGap=8\n    export function colors(color: Colors): number {\n        return color;\n    }\n\n    /**\n     * Convert an HSV (hue, saturation, value) color to RGB\n     * @param hue value of the hue channel between 0 and 255. eg: 255\n     * @param sat value of the saturation channel between 0 and 255. eg: 255\n     * @param val value of the value channel between 0 and 255. eg: 255\n     */\n\n    //% blockId=\"neopixel_hsv\" block=\"hue %hue|sat %sat|val %val\"\n    //% hue.min=0 hue.max=255 sat.min=0 sat.max=255 val.min=0 val.max=255\n    //% help=\"light/hsv\"\n    //% group=\"Color\" weight=17\n    export function hsv(hue: number, sat: number = 255, val: number = 255): number {\n        return color.hsv(hue, sat, val);\n    }\n\n    /**\n     * Use color.fade instead\n     * @param color color to fade\n     * @param brightness the amount of brightness to apply to the color, eg: 128\n     */\n    //% blockId=\"neopixel_fade\" block=\"fade %color=neopixel_colors|by %brightness\"\n    //% brightness.min=0 brightness.max=255\n    //% help=\"light/fade\"\n    //% group=\"Color\" weight=18 blockGap=8\n    //% blockHidden=true deprecated\n    export function fade(c: number, brightness: number): number {\n        return color.fade(c, brightness);\n    }\n\n    /**\n     * An animation of a NeoPixel\n     */\n    //% fixedInstances\n    export class NeoPixelAnimation {\n        constructor() { }\n\n        /**\n         * Creates an animator instance\n         * @param strip the strip to execute on\n         */\n        createRenderer(strip: NeoPixelStrip): () => boolean {\n            return undefined;\n        }\n    }\n\n    export class RainbowCycleAnimation extends NeoPixelAnimation {\n        public delay: number;\n        constructor(delay: number) {\n            super();\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const n = strip.length();\n            let hueOffset = 0;\n            return () => {\n                for (let i = 0; i < n; i++) {\n                    strip.setPixelColor(i, color.hsv(((i * 256) / (n - 1) + hueOffset) % 0xff, 0xff, 0xff));\n                }\n                hueOffset += Math.ceil(128 / n);\n                if (hueOffset >= 0xff) {\n                    hueOffset = 0;\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n        }\n    }\n\n    //% fixedInstance block=\"rainbow\" whenUsed jres blockIdentity=\"light._animationPicker\"\n    export const rainbowAnimation: NeoPixelAnimation = new RainbowCycleAnimation(50);\n\n    export class RunningLightsAnimation extends NeoPixelAnimation {\n        public red: number;\n        public green: number;\n        public blue: number;\n        public delay: number;\n\n        constructor(red: number, green: number, blue: number, delay: number) {\n            super();\n            this.red = red;\n            this.green = green;\n            this.blue = blue;\n\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const l = strip.length();\n            let iteration = 0;\n            let step = 0;\n            return () => {\n                if (iteration < l * 2) {\n                    step++;\n                    for (let i = 0; i < l; i++) {\n                        const level = (Math.isin(i + step) * 127) + 128;\n                        strip.setPixelColor(i, color.rgb(level * this.red / 255, level * this.green / 255, level * this.blue / 255));\n                    }\n                    iteration++;\n                    return true;\n                } else {\n                    step = 0;\n                    iteration = 0;\n                    return false;\n                }\n            }\n        }\n    }\n\n    //% fixedInstance block=\"running lights\" jres blockIdentity=\"light._animationPicker\"\n    export const runningLightsAnimation: NeoPixelAnimation = new RunningLightsAnimation(0xff, 0, 0, 50);\n\n    class CometAnimation extends NeoPixelAnimation {\n        public red: number;\n        public green: number;\n        public blue: number;\n        public delay: number;\n\n        constructor(red: number, green: number, blue: number, delay: number) {\n            super();\n            this.red = red;\n            this.green = green;\n            this.blue = blue;\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const l = strip.length();\n            const spacing = (255 / l) >> 0;\n            let start = -1;\n            let step = 0;\n            const offsets: number[] = [];\n            for (let i = 0; i < l; i++) {\n                offsets[i] = spacing * i;\n            }\n            return () => {\n                for (let i = 0; i < l; i++) {\n                    offsets[i] = (offsets[i] + (step * 2)) % 255\n                    strip.setPixelColor(i, color.rgb(255 - offsets[i], this.green, this.blue));\n                }\n                step++;\n                if (step * 2 > 0xff) {\n                    step = 0;\n                    return false;\n                }\n                return true;\n            }\n        }\n    }\n\n    //% fixedInstance block=\"comet\" jres blockIdentity=\"light._animationPicker\"\n    export const cometAnimation: NeoPixelAnimation = new CometAnimation(0xff, 0, 0xff, 50);\n\n    export class SparkleAnimation extends NeoPixelAnimation {\n        public rgb: number;\n        public delay: number;\n\n        constructor(red: number, green: number, blue: number, delay: number) {\n            super();\n            this.rgb = color.rgb(red, green, blue);\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const l = strip.length();\n            let count = 0;\n            let pixel = -1;\n            let pixelColor = 0;\n            return () => {\n                if (count == 0)\n                    strip.clear();\n                if (pixel < 0) {\n                    pixel = Math.randomRange(0, l - 1);\n                    pixelColor = strip.pixelColor(pixel);\n                    strip.setPixelColor(pixel, this.rgb);\n\n                } else {\n                    strip.setPixelColor(pixel, pixelColor);\n                    pixel = -1;\n                }\n                count++;\n                if (count > 50) {\n                    count = 0;\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n        }\n    }\n\n    //% fixedInstance block=\"sparkle\" jres blockIdentity=\"light._animationPicker\"\n    export const sparkleAnimation: NeoPixelAnimation = new SparkleAnimation(0xff, 0xff, 0xff, 50);\n\n    class ColorWipeAnimation extends NeoPixelAnimation {\n        public rgb: number;\n        public delay: number;\n\n        constructor(rgb: number, delay: number) {\n            super();\n            this.rgb = rgb;\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const l = strip.length();\n            let i = 0;\n            let reveal = true;\n            return () => {\n                if (i < l) {\n                    if (reveal) {\n                        strip.setPixelColor(i, this.rgb);\n                    } else {\n                        strip.setPixelColor(i, 0);\n                    }\n                    i++;\n                } else {\n                    reveal = !reveal;\n                    i = 0;\n                    if (reveal)\n                        return false;\n                }\n                return true;\n            }\n        }\n    }\n\n    //% fixedInstance block=\"color wipe\" jres blockIdentity=\"light._animationPicker\"\n    export const colorWipeAnimation: NeoPixelAnimation = new ColorWipeAnimation(0x0000ff, 50);\n\n    class TheatreChaseAnimation extends NeoPixelAnimation {\n        public rgb: number;\n        public delay: number;\n\n        constructor(red: number, green: number, blue: number, delay: number) {\n            super();\n            this.rgb = color.rgb(red, green, blue);\n            this.delay = delay;\n        }\n\n        public createRenderer(strip: NeoPixelStrip): () => boolean {\n            const l = strip.length();\n            let j = 0;\n            let q = 0;\n            let on = false;\n            return () => {\n                if (j < 10) { // 10 cycles of chasing\n                    if (q < 3) {\n                        if (on) {\n                            for (let i = 0; i < l; i = i + 3) {\n                                strip.setPixelColor(i + q, this.rgb); // every third pixel on\n                            }\n                        }\n                        else {\n                            for (let i = 0; i < l; i = i + 3) {\n                                strip.setPixelColor(i + q, 0); // every third pixel off\n                            }\n                        }\n                        on = !on;\n                        q++;\n                    } else {\n                        q = 0;\n                    }\n                    j++;\n                } else {\n                    j = 0;\n                    return false;\n                }\n                return true;\n            }\n        }\n    }\n\n    //% fixedInstance block=\"theater chase\" jres blockIdentity=\"light._animationPicker\"\n    export const theaterChaseAnimation: NeoPixelAnimation = new TheatreChaseAnimation(0xff, 0, 0, 50);\n\n    /**\n     * An animation that can be shown on a light strip\n     * @param animation The animation type\n     */\n    //% blockId=light_animation_picker block=\"%animation\" shim=TD_ID\n    //% animation.fieldEditor=\"imagedropdown\"\n    //% animation.fieldOptions.columns=3\n    //% weight=0\n    //% group=\"More\"\n    export function _animationPicker(animation: NeoPixelAnimation): NeoPixelAnimation {\n        return animation;\n    }\n\n    /**\n  * Get the light length picker\n  * @param pixels number of LEDs\n  */\n    //% blockId=lightLengthPicker block=\"%pixels\"\n    //% blockHidden=true shim=TD_ID\n    //% colorSecondary=\"#FFFFFF\"\n    //% pixels.fieldEditor=\"numberdropdown\" pixels.fieldOptions.decompileLiterals=true\n    //% pixels.fieldOptions.data='[[\"7\", 7], [\"8\", 8], [\"12\", 12], [\"16\", 16], [\"24\", 24], [\"30\", 30], [\"60\", 60], [\"64\", 64], [\"90\", 90], [\"120\", 120], [\"144\", 144]]'\n    export function __lengthPicker(pixels: number): number {\n        return pixels;\n    }\n}\n",
            "neopixeloverrides.ts": "// replace in other targets",
            "ns.ts": "\n/**\n * Functions to operate colored LEDs.\n */\n//% weight=100 color=\"#0078d7\" icon=\"\\uf00a\"\nnamespace light {\n\n}",
            "onboardstrip.ts": "namespace light {\n    let _onboardStrip: light.LightStrip;\n    /**\n     * Get the default light strip.\n     */\n    //% help=light/onboard-strip\n    //% blockId=\"neopixel_onboard_strip\" block=\"onboard strip\"\n    //% weight=111 blockGap=8\n    //% advanced=true\n    export function onboardStrip(): NeoPixelStrip {\n        if (_onboardStrip) return _onboardStrip;\n\n        const data = pins.pinByCfg(DAL.CFG_PIN_DOTSTAR_DATA);\n        const clk = pins.pinByCfg(DAL.CFG_PIN_DOTSTAR_CLOCK);\n        const dsnum = control.getConfigValue(DAL.CFG_NUM_DOTSTARS, 0);\n        const neo = pins.pinByCfg(DAL.CFG_PIN_NEOPIXEL);\n        const neonum = control.getConfigValue(DAL.CFG_NUM_NEOPIXELS, 0);\n        if (data && clk && dsnum > 0) {\n            _onboardStrip = light.createAPA102Strip(data, clk, dsnum);\n            _onboardStrip.setBrightness(96);\n        } else if (neo && neonum > 0) {\n            _onboardStrip = light.createNeoPixelStrip(neo, neonum, NeoPixelMode.RGB);\n        } else {\n            _onboardStrip = light.createNeoPixelStrip(undefined, 0);\n        }\n        return _onboardStrip;\n    }\n}",
            "pxt.json": "{\n    \"name\": \"light\",\n    \"description\": \"The programmable LED (WS2812b,APA102) driver.\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"color\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"neopixel.ts\",\n        \"transitions.ts\",\n        \"create.ts\",\n        \"defaultstrip.ts\",\n        \"onboardstrip.ts\",\n        \"defaultlights.ts\",\n        \"defaultlightsoverrides.ts\",\n        \"ns.ts\",\n        \"jacdac.ts\",\n        \"neopixeloverrides.ts\",\n        \"animations.jres\",\n        \"targetoverrides.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "targetoverrides.ts": "// define built-in strips here",
            "test.ts": "\nlet strip = light.createStrip()\nstrip.setBrightness(20)\n\nfunction flash(n: number) {\n    control.runInParallel(() => {\n        strip.setPixelColor(n, 0x0000ff)\n        pause(1000)\n        strip.setPixelColor(n, 0x000000)\n    })\n}\n\nflash(0)\n\n",
            "transitions.ts": "namespace easing {\n    export function linear(t: number): number { return t; }\n    export function inQuad(t: number): number { return t * t; }\n    export function outQuad(t: number): number { return t * (2 - t); }\n    export function inOutQuad(t: number): number { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t; }\n    export function inCubic(t: number): number { return t * t * t; }\n    export function outCubic(t: number): number { return (--t) * t * t + 1; }\n    export function inOutCubic(t: number): number { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; }\n}\n\nnamespace light {\n    export class BrightnessTransition {\n        constructor() { }\n        apply(strip: LightStrip, t: number, start: number, end: number): void {\n\n        }\n    }\n\n    export class EasingBrightnessTransition extends BrightnessTransition {\n        private timeEasing: (t: number) => number;\n        private spatialEasing: (t: number) => number;\n\n        constructor(\n            timeEasing: (t: number) => number, \n            spatialEasing?: (t: number) => number) {\n            super();\n            this.timeEasing = timeEasing || easing.inOutQuad;\n            this.spatialEasing = spatialEasing;\n        }\n\n        apply(strip: LightStrip, t: number, start: number, end: number): void {\n            // t in [0..1]\n            const db = end - start;\n            const b = this.timeEasing(t); // [0..1]\n            if (!this.spatialEasing) {\n                strip.setBrightness(start + db * b);\n            }\n            else {\n                // convolve desired brightness with spacial easing function\n                const n = strip.length();\n                for (let i = 0; i < n; ++i) {\n                    const x = this.spatialEasing(i / (n - 1)); // [0..1]\n                    strip.setPixelBrightness(i, end - db * (1 - b) * x);\n                }\n            }\n        }\n    }\n\n    export class BrightnessTransitionPlayer {\n        private transition: BrightnessTransition;\n        private startBrightness: number;\n        private endBrightness: number;\n        private duration: number;\n        private startTime: number;\n        private repeat: number;\n        private yoyo: number;\n\n        constructor(\n            transition: BrightnessTransition,\n            startBrightness: number,\n            endBrightness: number,\n            duration: number,\n            repeat: number,\n            yoyo: boolean) {\n            this.transition = transition;\n            this.startBrightness = startBrightness;\n            this.endBrightness = endBrightness;\n            this.duration = duration;\n            this.startTime = control.millis();\n            this.repeat = repeat || 1;\n            this.yoyo = yoyo ? 1 : 0;\n        }\n\n        update(strip: LightStrip): boolean {\n            let elapsed = control.millis() - this.startTime;\n            if (elapsed > this.duration) {\n                this.yoyo = -this.yoyo;\n                if (this.repeat > 0)\n                    this.repeat--;\n                this.startTime = control.millis();\n                elapsed = 0;\n                return this.repeat != 0;\n            }\n\n            let t = elapsed / this.duration;\n            if (this.yoyo < 0)\n                t = 1 - t;\n            this.transition.apply(strip, t, this.startBrightness, this.endBrightness);\n            return true;\n        }\n    }\n}"
        },
        "touch": {
            "README.md": "# touch\n\nThe capacitive touch library.\n\n",
            "enums.d.ts": "\n",
            "pxt.json": "{\n    \"name\": \"touch\",\n    \"description\": \"The capacitive touch library\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"buttons\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"touch.h\",\n        \"touch.cpp\",\n        \"touch.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\n\n\ndeclare interface TouchButton {\n    /**\n     * Manually define the threshold use to detect a touch event. Any sensed value equal to or greater than this value will be interpreted as a touch.\n     * @param name button name\n     * @param threshold minimum value to consider a touch eg:200\n     */\n    //% blockId=touch_set_threshold block=\"button %button|set threshold %threshold\"\n    //% blockNamespace=input\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% threshold.min=0\n    //% threshold.max=1023\n    //% group=\"More\" weight=16 blockGap=8\n    //% help=input/touch/set-threshold shim=TouchButtonMethods::setThreshold\n    setThreshold(threshold: int32): void;\n\n    /**\n     * Gets the current threshold\n     * @param name button name\n     */\n    //% blockId=touch_threshold block=\"button %button|threshold\"\n    //% blockNamespace=input\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% group=\"More\" weight=16 blockGap=8\n    //% help=input/touch/threshold shim=TouchButtonMethods::threshold\n    threshold(): int32;\n\n    /**\n     * Reads the current value registered with the button.\n     * @param name button name\n     */\n    //% blockId=touch_value block=\"button %button|value\"\n    //% blockNamespace=input\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% group=\"More\" weight=49 blockGap=8\n    //% help=input/touch/value shim=TouchButtonMethods::value\n    value(): int32;\n\n    /**\n     * Calibrate the touch sensivity\n     */\n    //% blockId=touch_calibrate block=\"button %button calibrate\"\n    //% blockNamespace=input\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% group=\"More\" weight=49 blockGap=8\n    //% help=input/touch/calibrate shim=TouchButtonMethods::calibrate\n    calibrate(): void;\n}\n\n\ndeclare interface AnalogInOutPin {\n    /**\n     * Get the cap-touch sensor for given pin (if available)\n     */\n    //% shim=AnalogInOutPinMethods::touchButton\n    touchButton(): TouchButton;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": "",
            "touch.cpp": "#include \"pxt.h\"\n#include \"touch.h\"\n\nnamespace pxt {\n//%\nTouchButton getTouchButton(int id) {\n    auto cpid = DEVICE_ID_FIRST_TOUCHBUTTON + id;\n    auto btn = (CapTouchButton*)lookupComponent(cpid);\n    if (btn == NULL) {\n        // GCTODO\n        // 'new' will add it to component list\n        btn = new CapTouchButton(*pxt::getPin(id));\n        btn->id = cpid;\n    }\n    return btn;\n}\n}\n\n\nnamespace TouchButtonMethods {\n\n/**\n * Manually define the threshold use to detect a touch event. Any sensed value equal to or greater than this value will be interpreted as a touch.\n * @param name button name\n * @param threshold minimum value to consider a touch eg:200\n */\n//% blockId=touch_set_threshold block=\"button %button|set threshold %threshold\"\n//% blockNamespace=input\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% threshold.min=0\n//% threshold.max=1023\n//% group=\"More\" weight=16 blockGap=8\n//% help=input/touch/set-threshold\nvoid setThreshold(TouchButton button, int threshold) {\n    button->setThreshold(max(0, min(1 << 12, threshold << 2)));\n}\n\n/**\n * Gets the current threshold\n * @param name button name\n */\n//% blockId=touch_threshold block=\"button %button|threshold\"\n//% blockNamespace=input\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% group=\"More\" weight=16 blockGap=8\n//% help=input/touch/threshold\nint threshold(TouchButton button) {\n    return button->threshold >> 2;\n}\n\n/**\n * Reads the current value registered with the button.\n * @param name button name\n */\n//% blockId=touch_value block=\"button %button|value\"\n//% blockNamespace=input\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% group=\"More\" weight=49 blockGap=8\n//% help=input/touch/value\nint value(TouchButton button) {\n    return button->getValue() >> 2;\n}\n\n/**\n* Calibrate the touch sensivity\n*/\n//% blockId=touch_calibrate block=\"button %button calibrate\"\n//% blockNamespace=input\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% group=\"More\" weight=49 blockGap=8\n//% help=input/touch/calibrate\nvoid calibrate(TouchButton button) {\n    button->calibrate();\n}\n\n}\n\nnamespace AnalogInOutPinMethods {\n    \n/**\n * Get the cap-touch sensor for given pin (if available)\n */\n//%\nTouchButton touchButton(AnalogInOutPin pin) {\n    if (PA02 <= pin->name && pin->name <= PA07)\n        ;\n    else if (PB02 <= pin->name && pin->name <= PB09)\n        ;\n    else\n        return NULL;\n    return pxt::getTouchButton(pin->name);\n}\n\n}\n",
            "touch.h": "#define TouchButton CapTouchButton *\n",
            "touch.ts": "//% noRefCounting fixedInstances\ninterface TouchButton extends Button {\n    // methods filled from C++\n}\n"
        },
        "switch": {
            "README.md": "# switch\n\nThe build-in slide switch library.\n",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum SwitchDirection {\n    //% block=\"left\"\n    Left = 2,  // DEVICE_BUTTON_EVT_UP\n    //% block=\"right\"\n    Right = 1,  // DEVICE_BUTTON_EVT_DOWN\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "jacdac.ts": "namespace jacdac {\n    export class SwitchService extends SensorHost {\n        constructor(name: string) {\n            super(name, jacdac.SWITCH_DEVICE_CLASS);\n            input.onSwitchMoved(SwitchDirection.Left, () => this.raiseHostEvent(SwitchDirection.Left));\n            input.onSwitchMoved(SwitchDirection.Right, () => this.raiseHostEvent(SwitchDirection.Right));\n        }\n\n        serializeState() {\n            const buf = control.createBuffer(1);\n            buf.setNumber(NumberFormat.UInt8LE, 0, input.switchRight() ? 1 : 0);\n            return buf;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"switch service\"\n    export const switchService = new SwitchService(\"switch\");\n}",
            "ns.ts": "//% color=\"#d65cd6\"\nnamespace input {\n}\n",
            "pxt.json": "{\n    \"name\": \"switch\",\n    \"description\": \"A slide switch\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"switch.cpp\",\n        \"ns.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"jacdac.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace input {\n\n    /**\n     * Do something when the slide switch is moved left or right.\n     * @param direction the direction the switch must be moved to trigger the event\n     */\n    //% help=input/on-switch-moved\n    //% blockId=device_on_switch_moved block=\"on switch moved %direction\"\n    //% parts=\"switch\"\n    //% weight=80 shim=input::onSwitchMoved\n    function onSwitchMoved(direction: SwitchDirection, handler: () => void): void;\n\n    /**\n     * Gets a value indicating if the switch is positioned to the right\n     */\n    //% blockId=device_switch_direction block=\"switch right\"\n    //% parts=\"switch\"\n    //% group=\"Switch\" weight=10 blockGap=8 shim=input::switchRight\n    function switchRight(): boolean;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "switch.cpp": "#include \"pxt.h\"\n#include \"Button.h\"\n#include \"pins.h\"\n\nenum class SwitchDirection {\n    //% block=\"left\"\n    Left = DEVICE_BUTTON_EVT_UP,\n    //% block=\"right\"\n    Right = DEVICE_BUTTON_EVT_DOWN\n};\n\nnamespace pxt {\n\n// Wrapper classes\nclass WSwitch {\n  public:\n    Button slideSwitch;\n\n    WSwitch()\n        : slideSwitch(*LOOKUP_PIN(BTN_SLIDE), DEVICE_ID_BUTTON_SLIDE,\n                      DEVICE_BUTTON_SIMPLE_EVENTS, ACTIVE_LOW, PullMode::Up) {}\n};\nSINGLETON(WSwitch);\n\n}\n\nnamespace input {\n/**\n* Do something when the slide switch is moved left or right.\n* @param direction the direction the switch must be moved to trigger the event\n*/\n//% help=input/on-switch-moved\n//% blockId=device_on_switch_moved block=\"on switch moved %direction\"\n//% parts=\"switch\"\n//% weight=80\nvoid onSwitchMoved(SwitchDirection direction, Action handler) {\n    registerWithDal(getWSwitch()->slideSwitch.id, (int)direction, handler);\n}\n\n/**\n* Gets a value indicating if the switch is positioned to the right\n*/\n//% blockId=device_switch_direction block=\"switch right\"\n//% parts=\"switch\"\n//% group=\"Switch\" weight=10 blockGap=8\nbool switchRight() {\n    auto slide = getWSwitch();\n    return slide->slideSwitch.isPressed();\n}\n\n}\n"
        },
        "pulse": {
            "README.md": "# pulse\n\nThe Pulse library.\n\n",
            "bitvector.h": "#ifndef CABLE_BITVECTOR_H\n#define CABLE_BITVECTOR_H\n\nclass BitVector {\n    LLSegment data;\n    int len;\n\n    uint32_t get32(int idx) { return (uint32_t)data.get(idx >> 5); }\n\n  public:\n    BitVector() { len = 0; }\n    ~BitVector() { data.destroy(); }\n\n    int size() { return len; }\n\n    void print() {\n        char buf[size() + 1];\n        for (int i = 0; i < size(); ++i)\n            buf[i] = get(i) ? '#' : '.';\n        buf[size()] = 0;\n        DMESG(\"bits: %s\", buf);\n    }\n\n    int get(int pos) {\n        if (pos < 0 || pos >= len)\n            return 0;\n        return !!(get32(pos) & (1 << (pos & 31)));\n    }\n    uint32_t getBits(int pos, int num) {\n        uint32_t res = get32(pos);\n        int off = pos & 31;\n        res >>= off;\n        off = 32 - off;\n        if (num > off) {\n            res |= get32(pos + 32) << off;\n        }\n        if (num < 32)\n            res &= (1U << num) - 1;\n        return res;\n    }\n    void set(int pos, int v) {\n        if (pos < 0 || pos >= len)\n            return;\n        auto curr = get32(pos);\n        auto mask = 1 << (pos & 31);\n        if (v)\n            curr |= mask;\n        else\n            curr &= ~mask;\n        data.set(pos >> 5, (TValue)curr);\n    }\n    void setLength(uint32_t newLength) {\n        len = newLength;\n        data.setLength((len + 31) >> 5);\n    }\n    void push(int v) {\n        setLength(len + 1);\n        set(len - 1, v);\n    }\n};\n\n#endif",
            "ns.ts": "/**\n * Communication between devices\n */\n//% color=#E3008C weight=89 icon=\"\\uf086\"\n//% groups='[\"Infrared\", \"Cable\"]'\nnamespace network {\n}",
            "pulse.cpp": "#include \"pxt.h\"\n#include \"pulse.h\"\n\n#define IR_TIMER_CHANNEL 0\n\n// from samd21.cpp\nvoid setTCC0(int enabled);\n\n#ifdef SAMD21\nvoid setTCC0(int enabled) {\n    while (TCC0->STATUS.reg & TC_STATUS_SYNCBUSY)\n        ;\n    if (enabled)\n        TCC0->CTRLA.reg |= TC_CTRLA_ENABLE;\n    else\n        TCC0->CTRLA.reg &= ~TC_CTRLA_ENABLE;\n}\n#endif\n\nnamespace network {\n\nstatic const uint8_t hamming[16] = {\n    0b0000000, 0b1110000, 0b1001100, 0b0111100, 0b0101010, 0b1011010, 0b1100110, 0b0010110,\n    0b1101001, 0b0011001, 0b0100101, 0b1010101, 0b1000011, 0b0110011, 0b0001111, 0b1111111,\n};\n\nstatic const uint8_t invHamming[64] = {\n    0x00, 0x0c, 0x0a, 0x7e, 0x09, 0x4e, 0x2e, 0xee, 0x09, 0x7d, 0x7b, 0x77, 0x99, 0x59, 0x39, 0x7e,\n    0x0a, 0x4d, 0xaa, 0x6a, 0x48, 0x44, 0x3a, 0x4e, 0x1d, 0xdd, 0x3a, 0x7d, 0x39, 0x4d, 0x33, 0x3f,\n    0x0c, 0xcc, 0x2b, 0x6c, 0x28, 0x5c, 0x22, 0x2e, 0x1b, 0x5c, 0xbb, 0x7b, 0x59, 0x55, 0x2b, 0x5f,\n    0x18, 0x6c, 0x6a, 0x66, 0x88, 0x48, 0x28, 0x6f, 0x11, 0x1d, 0x1b, 0x6f, 0x18, 0x5f, 0x3f, 0xff};\n\nstatic const uint8_t bitsToGap[4] = {1, 2, 4, 3};\nstatic const uint8_t gapToBits[5] = {0b00, 0b00, 0b01, 0b11, 0b10};\n\nstatic int lookupInvHaming(int v) {\n    int k = invHamming[v >> 1];\n    if (v & 1)\n        return (k & 0xf);\n    else\n        return (k >> 4);\n}\n\nstatic void decodeHamming(uint32_t r, uint8_t *dst) {\n    int a0 = 0;\n    int a1 = 0;\n    int b0 = 0;\n    int b1 = 0;\n    int p = 0;\n\n    for (int i = 0; i < 7; ++i) {\n        a0 |= ((r >> p++) & 1) << i;\n        b0 |= ((r >> p++) & 1) << i;\n        a1 |= ((r >> p++) & 1) << i;\n        b1 |= ((r >> p++) & 1) << i;\n    }\n\n    dst[0] = (lookupInvHaming(a0) << 4) | lookupInvHaming(a1);\n    dst[1] = (lookupInvHaming(b0) << 4) | lookupInvHaming(b1);\n}\n\nstatic void pushTwo(BitVector &bv, uint8_t a, uint8_t b) {\n    int gap = bitsToGap[b * 2 + a];\n    bv.push(1);\n    while (gap--)\n        bv.push(0);\n}\n\nstatic void encodeHamming(BitVector &bv, uint8_t a, uint8_t b) {\n    int a0 = hamming[a >> 4];\n    int a1 = hamming[a & 0xf];\n    int b0 = hamming[b >> 4];\n    int b1 = hamming[b & 0xf];\n    for (int i = 0; i < 7; ++i) {\n        pushTwo(bv, (a0 >> i) & 1, (b0 >> i) & 1);\n        pushTwo(bv, (a1 >> i) & 1, (b1 >> i) & 1);\n    }\n}\n\nuint16_t crc16ccit(uint8_t *data, uint32_t len) {\n    uint16_t crc = 0xffff;\n\n    while (len--) {\n        crc ^= (*data++ << 8);\n        for (int i = 0; i < 8; ++i) {\n            if (crc & 0x8000)\n                crc = crc << 1 ^ 0x1021;\n            else\n                crc = crc << 1;\n        }\n    }\n\n    return crc;\n}\n\nstatic PulseBase* instance = NULL;\n\nstatic void timer_irq(uint16_t channels)\n{\n    if (instance)\n        instance->timerIRQ(channels);\n}\n\nPulseBase::PulseBase(uint16_t id, int pinOut, int pinIn, LowLevelTimer* t) {\n    this->id = id;\n    this->timer = t;\n\n    instance = this;\n\n    recvState = PULSE_RECV_ERROR;\n    sending = false;\n    outBuffer = NULL;\n    pin = lookupPin(pinOut);\n    if (pin) {\n        pin->setDigitalValue(0);\n\n        inpin = lookupPin(pinIn);\n\n        devMessageBus.listen(id, PULSE_PACKET_END_EVENT, this, &PulseBase::packetEnd);\n    }\n\n    timer->setIRQPriority(0);\n    timer->setIRQ(timer_irq);\n    timer->setBitMode(BitMode16);\n    timer->enable();\n}\n\nvoid PulseBase::setupGapEvents() {\n    devMessageBus.listen(inpin->id, DEVICE_PIN_EVT_PULSE_HI, this, &PulseBase::pulseGap,\n                         MESSAGE_BUS_LISTENER_IMMEDIATE);\n    devMessageBus.listen(inpin->id, DEVICE_PIN_EVT_PULSE_LO, this, &PulseBase::pulseMark,\n                         MESSAGE_BUS_LISTENER_IMMEDIATE);\n    listen();\n}\n\nvoid PulseBase::listen() {\n    inpin->getDigitalValue();\n    inpin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n}\n\nvoid PulseBase::setupPWM() {\n    pin->setAnalogPeriodUs(1000 / 38); // 38kHz\n    pin->setAnalogValue(333);\n    setPWM(1);\n}\n\nvoid PulseBase::setPWM(int enabled) {\n    setTCC0(enabled);\n    pwmstate = enabled;\n}\n\nvoid PulseBase::finishPWM() {\n    pin->setAnalogValue(0);\n    setPWM(1);\n}\n\nvoid PulseBase::send(Buffer d) {\n    if (sending)\n        return; // error code?\n\n    if (d->length > PULSE_MAX_MSG_SIZE - 2 || (d->length & 1))\n        return; // error code?\n\n    encodedMsg.setLength(0);\n    for (int i = 0; i < 25; ++i)\n        encodedMsg.push(1);\n\n    for (int i = 0; i < 8; ++i)\n        encodedMsg.push(0);\n\n    for (int i = 0; i < d->length; i += 2) {\n        encodeHamming(encodedMsg, d->data[i], d->data[i + 1]);\n    }\n\n    uint16_t crc = crc16ccit(d->data, d->length);\n    encodeHamming(encodedMsg, crc & 0xff, crc >> 8);\n\n    for (int i = 0; i < 15; ++i)\n        encodedMsg.push(1);\n\n    auto gap = system_timer_current_time_us() - lastSendTime;\n\n    // we require 200ms between sends\n    if (gap < 200000) {\n        gap = (200000 - gap) / 1000;\n        fiber_sleep(gap);\n    }\n\n    while (isReceiving())\n        fiber_sleep(10);\n\n    // encodedMsg.print();\n\n    sending = true;\n    sendStartTime = 0;\n    setupPWM();\n\n    sendPtr = 0;\n\n    lastSendTime = system_timer_current_time_us();\n\n    timer->setCompare(IR_TIMER_CHANNEL, timer->captureCounter() + PULSE_PULSE_LEN);\n\n    while (sending) {\n        fiber_sleep(10);\n    }\n    fiber_sleep(5);\n}\n\nvoid PulseBase::timerIRQ(uint16_t)\n{\n    process();\n}\n\nvoid PulseBase::finish(int code) {\n    if (recvState == PULSE_RECV_ERROR)\n        return;\n\n    if (code == 0) {\n        Event evt(id, PULSE_PACKET_END_EVENT);\n    } else {\n        Event evt(id, PULSE_PACKET_ERROR_EVENT);\n        PULSE_DMESG(\"IR ERROR %d [%s]\", code, dbg.get());\n    }\n    dbg.get();\n    recvState = PULSE_RECV_ERROR;\n}\n\nvoid PulseBase::addPulse(int v) {\n    if (this->pulsePtr < PULSE_MAX_PULSES - 1) {\n        pulses[this->pulsePtr++] = (int16_t)v;\n    } else {\n        finish(2);\n    }\n}\n\nint PulseBase::adjustShift() {\n    int pulseLen = (pulses[0] - pulses[1]) / 9;\n    PULSE_DMESG(\"prev: %d %d %d %d %d %d %d %d %d %d\", pulses[0], pulses[1], pulses[2], pulses[3],\n                pulses[4], pulses[5], pulses[6], pulses[7], pulses[8], pulses[9], pulses[10],\n                pulses[11]);\n    return pulseLen;\n}\n\nvoid PulseBase::pulseGap(Event ev) {\n    if (sending)\n        return;\n\n    if (ev.timestamp > 10000) {\n        dbg.put(\" BRK \");\n        finish(11);\n        return;\n    }\n\n    int tm = (int)ev.timestamp;\n\n    dbg.putNum(tm);\n\n    if (recvState == PULSE_WAIT_START_GAP) {\n        pulsePtr = 0;\n        startTime = system_timer_current_time_us() - tm;\n        addPulse(tm);\n        recvState = PULSE_WAIT_DATA;\n        dbg.put(\" *** \");\n        return;\n    }\n\n    if (recvState == PULSE_WAIT_DATA) {\n        addPulse(tm);\n        return;\n    }\n}\n\nvoid PulseBase::packetEnd(Event) {\n    if (pulsePtr < 5)\n        return;\n\n    int pulseLen = adjustShift();\n    int numBits = 0;\n    uint32_t r = 0;\n    uint8_t buf[PULSE_MAX_MSG_SIZE];\n    int ptr = 0;\n\n    for (int i = 2; i < pulsePtr; ++i) {\n        if (pulses[i] > 0) {\n            int len = (pulses[i] + pulseLen / 2) / pulseLen;\n            if (len > 4)\n                len = 4;\n            r |= (uint32_t)gapToBits[len] << numBits;\n            numBits += 2;\n            if (numBits == 28) {\n                decodeHamming(r, buf + ptr);\n                numBits = 0;\n                r = 0;\n                ptr += 2;\n            }\n        }\n    }\n\n    pulsePtr = 0;\n\n    if (numBits != 0) {\n        Event evt(id, PULSE_PACKET_ERROR_EVENT);\n        PULSE_DMESG(\"left over bits: %d\", numBits);\n        return;\n    }\n\n    if (ptr < 4) {\n        Event evt(id, PULSE_PACKET_ERROR_EVENT);\n        PULSE_DMESG(\"too short: %d\", ptr);\n        return; // too short\n    }\n\n    ptr -= 2;\n    uint16_t crc = crc16ccit(buf, ptr);\n    uint16_t pktCrc = (buf[ptr + 1] << 8) | buf[ptr];\n\n    if (!outBuffer)\n        registerGC((TValue*)&outBuffer);\n    outBuffer = pins::createBuffer(ptr);\n    memcpy(outBuffer->data, buf, ptr);\n    if (crc != pktCrc)\n        PULSE_DMESG(\"crc fail: %x %x len=%d\", crc, pktCrc, pulseLen);\n    Event evt(id, crc == pktCrc ? PULSE_PACKET_EVENT : PULSE_PACKET_ERROR_EVENT);\n}\n\nvoid PulseBase::pulseMark(Event ev) {\n    if (sending)\n        return;\n\n    if (ev.timestamp > 10000) {\n        dbg.put(\" -BRK \");\n        finish(10);\n        return;\n    }\n\n    int tm = (int)ev.timestamp;\n\n    dbg.putNum(-tm);\n\n    lastMarkTime = system_timer_current_time_us();\n\n    if (tm >= 20 * PULSE_PULSE_LEN) {\n        recvState = PULSE_WAIT_START_GAP;\n        return;\n    }\n\n    if (recvState == PULSE_WAIT_DATA) {\n        if (tm >= 12 * PULSE_PULSE_LEN) {\n            // finish\n            addPulse(-(40 * PULSE_PULSE_LEN)); // make sure we get all ones at the end\n            finish(0);\n        } else {\n            addPulse(-tm);\n        }\n    }\n}\n\nbool PulseBase::isReceiving() {\n    auto now = system_timer_current_time_us();\n    // inpin low means mark\n    if (inpin->getDigitalValue() == 0 || now - lastMarkTime < 10000) {\n        return true;\n    }\n    return false;\n}\n\nBuffer PulseBase::getBuffer() {\n    return outBuffer;\n}\n\nvoid PulseBase::process() {\n    // DMESG(\"PROC\");\n    if (!sending)\n        return;\n\n    auto now = system_timer_current_time_us();\n    if (sendStartTime == 0)\n        sendStartTime = now - (PULSE_PULSE_LEN / 2);\n\n    auto encodedMsgPtr = (int)(now - sendStartTime) / PULSE_PULSE_LEN;\n\n    encodedMsgPtr = sendPtr++;\n\n    if (encodedMsgPtr >= encodedMsg.size()) {\n        encodedMsg.setLength(0);\n        finishPWM();\n\n        sending = false;\n        return;\n    }\n\n    timer->offsetCompare(IR_TIMER_CHANNEL, PULSE_PULSE_LEN);\n\n    int curr = encodedMsg.get(encodedMsgPtr);\n    if (curr != pwmstate)\n        setPWM(curr);\n}\n}\n",
            "pulse.h": "#ifndef CABLE_PULSE_H\n#define CABLE_PULSE_H\n\n#include \"pxt.h\"\n#include \"bitvector.h\"\n#include \"LowLevelTimer.h\"\n\n#define PULSE_MAX_MSG_SIZE 34\n#define PULSE_PACKET_END_EVENT 0x1\n#define PULSE_PACKET_EVENT 0x2\n#define PULSE_PACKET_ERROR_EVENT 0x3\n#define PULSE_MAX_PULSES (PULSE_MAX_MSG_SIZE * 14 + 10)\n#define PULSE_PULSE_LEN 250\n\n#define PULSE_IR_COMPONENT_ID 0x2042\n#define PULSE_CABLE_COMPONENT_ID 0x2043\n\n#define PULSE_DEBUG 0\n\n#if PULSE_DEBUG\n#define PULSE_DMESG DMESG\n#else\n#define PULSE_DMESG(...)                                                                           \\\n    do {                                                                                           \\\n    } while (0)\n#endif\n\nnamespace network {\n\nclass DbgBuffer {\n  public:\n#if PULSE_DEBUG\n    char dbgBuf[1200];\n    int dbgPtr;\n    DbgBuffer() {\n        dbgBuf[0] = 0;\n        dbgPtr = 0;\n    }\n#endif\n\n    void put(const char *msg) {\n#if IR_DEBUG\n        int len = strlen(msg);\n        if (len + dbgPtr > (int)sizeof(dbgBuf) - 1) {\n            dbgPtr = 1;\n            dbgBuf[0] = '>';\n        }\n        memcpy(dbgBuf + dbgPtr, msg, len + 1);\n        dbgPtr += len;\n#endif\n    }\n\n    void putNum(int n) {\n#if IR_DEBUG\n        char buf[30];\n        itoa(n, buf);\n        put(\" \");\n        put(buf);\n#endif\n    }\n\n    const char *get() {\n#if IR_DEBUG\n        dbgPtr = 0;\n        return dbgBuf;\n#else\n        return \"NoDebug\";\n#endif\n    }\n};\n\nenum PulseRecvState : uint8_t {\n    PULSE_RECV_ERROR,\n    PULSE_WAIT_START_GAP,\n    PULSE_WAIT_DATA,\n};\n\nclass PulseBase {\n  protected:\n    DevicePin *pin;\n    DevicePin *inpin;\n    LowLevelTimer* timer;\n    BitVector encodedMsg;\n    uint16_t sendPtr;\n    int8_t pwmstate;\n    bool sending;\n    uint16_t id;\n    uint64_t startTime;\n    uint64_t sendStartTime;\n    uint64_t lastMarkTime;\n    uint64_t lastSendTime;\n\n    int16_t pulses[PULSE_MAX_PULSES + 1];\n    uint16_t pulsePtr;\n\n    PulseRecvState recvState;\n    Buffer outBuffer;\n\n    DbgBuffer dbg;\n\n  public:\n    PulseBase(uint16_t id, int pinOut, int pinIn, LowLevelTimer* t);\n    virtual void setupGapEvents();\n    virtual void listen();\n    virtual void setupPWM();\n    virtual void setPWM(int enabled);\n    virtual void finishPWM();\n    void send(Buffer d);\n    void finish(int code);\n    void addPulse(int v);\n    int adjustShift();\n    void pulseGap(Event ev);\n    int errorRate(int start, BitVector &bits);\n    void packetEnd(Event);\n    void pulseMark(Event ev);\n    Buffer getBuffer();\n    bool isReceiving();\n    void process();\n    void timerIRQ(uint16_t);\n};\n}\n#endif",
            "pxt.json": "{\n    \"name\": \"pulse\",\n    \"description\": \"Communication over pulses\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"pulse.cpp\",\n        \"pulse.h\",\n        \"bitvector.h\",\n        \"shims.d.ts\",\n        \"ns.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace network {\n\n    /**\n     * Send data over cable.\n     */\n    //% parts=\"cable\" shim=network::cableSendPacket\n    function cableSendPacket(buf: Buffer): void;\n\n    /**\n     * Get most recent packet received over cable.\n     */\n    //% parts=\"cable\" shim=network::cablePacket\n    function cablePacket(): Buffer;\n\n    /**\n     * Run action after a packet is recieved over cable.\n     */\n    //% parts=\"cable\" shim=network::onCablePacket\n    function onCablePacket(body: () => void): void;\n\n    /**\n     * Run action after there's an error reciving packet over cable.\n     */\n    //% shim=network::onCableError\n    function onCableError(body: () => void): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "cable": {
            "README.md": "# cable\n\nThe Cable library.\n\n",
            "cable.cpp": "#include \"pxt.h\"\n#include \"pulse.h\"\n#include \"SAMDTCTimer.h\"\n#include \"SAMDTCCTimer.h\"\n\nnamespace network {\n\nclass CableWrap : public PulseBase {\n  public:\n    virtual void setPWM(int enabled) {\n        pin->setDigitalValue(!enabled);\n        pwmstate = enabled;\n    }\n\n    virtual void setupPWM() { setPWM(1); }\n\n    virtual void finishPWM() { listen(); }\n\n    virtual void listen() {\n        inpin->setPull(codal::PullMode::Down);\n        inpin->getDigitalValue();\n        inpin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n    }\n\n    CableWrap()\n        : PulseBase(PULSE_CABLE_COMPONENT_ID, PIN(TX), PIN(TX), new SAMDTCTimer(TC4, TC4_IRQn)) {\n        setupGapEvents();\n    }\n};\nSINGLETON(CableWrap);\n\n/**\n * Send data over cable.\n */\n//% parts=\"cable\"\nvoid cableSendPacket(Buffer buf) {\n    auto w = getCableWrap();\n    w->send(buf);\n}\n\n/**\n * Get most recent packet received over cable.\n */\n//% parts=\"cable\"\nBuffer cablePacket() {\n    auto w = getCableWrap();\n    return w->getBuffer();\n}\n\n/**\n * Run action after a packet is recieved over cable.\n */\n//% parts=\"cable\"\nvoid onCablePacket(Action body) {\n    getCableWrap(); // attach events\n    registerWithDal(PULSE_CABLE_COMPONENT_ID, PULSE_PACKET_EVENT, body);\n}\n\n/**\n * Run action after there's an error reciving packet over cable.\n */\n//%\nvoid onCableError(Action body) {\n    getCableWrap(); // attach events\n    registerWithDal(PULSE_CABLE_COMPONENT_ID, PULSE_PACKET_ERROR_EVENT, body);\n}\n\n} // namespace network\n",
            "cable.ts": "class CablePacket {\n    /**\n     * The first number in the payload.\n     */\n    public receivedNumber: number;\n    /**\n     * The array of numbers of received.\n     */\n    public receivedNumbers: number[];\n    /**\n     * The raw buffer of data received\n     */\n    public receivedBuffer: Buffer;\n}\n\nnamespace network {\n    /**\n     * Send a number over the cable.\n     * @param value number to send\n     */\n    //% blockId=\"cable_send_number\" block=\"cable send number %value\"\n    //% help=network/cable-send-number\n    //% parts=\"cable\" group=\"Cable\" weight=90\n    export function cableSendNumber(value: number) {\n        cableSendNumbers([value]);\n    }\n\n    /**\n     * Send an array of numbers over the cable. The array size has to be 32 bytes or less.\n     * @param values \n     */\n    //% parts=\"cable\" group=\"Cable\"\n    export function cableSendNumbers(values: number[]) {\n        let buf = msgpack.packNumberArray(values);\n        if (buf.length % 2) {\n            const buf2 = control.createBuffer(buf.length + 1);\n            buf2.write(0, buf);\n            buf2[buf2.length - 1] = 0xc1;\n            buf = buf2;\n        }\n        cableSendPacket(buf);\n    }\n\n    /**\n     * Run some code when a number value comes across the cable.\n     */\n    //% blockId=on_cable_received block=\"on cable received\" blockGap=8\n    //% help=network/on-cable-received-number\n    //% parts=\"cable\" group=\"Cable\"\n    export function onCableReceivedNumber(handler: (num: number) => void) {\n        onCablePacket(() => {\n            const buf: Buffer = cablePacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            const num = nums[0] || 0;\n            handler(num);\n        })\n    }\n\n    /**\n     * Run some code when the cable receives a list of numbers.\n     */\n    export function onCableReceivedNumbers(handler: (nums: number[]) => void) {\n        onCablePacket(() => {\n            const buf: Buffer = cablePacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            handler(nums);\n        })\n    }\n\n    /**\n     * Run some code when the cable receives data a buffer.\n     */\n    export function onCableReceivedBuffer(handler: (buf: Buffer) => void) {\n        onCablePacket(() => {\n            const buf: Buffer = cablePacket();\n            handler(buf);\n        })\n    }\n\n    /**\n     * Run some code when the cable receiver gets a packet.\n     */\n    //% mutate=objectdestructuring\n    //% mutateText=CablePacket\n    //% mutateDefaults=\"receivedNumber\"\n    //% blockId=cable_on_packet_received block=\"on cable received\" blockGap=8\n    //% parts=\"cable\" group=\"Cable\" blockHidden=1 deprecated=1\n    export function onCablePacketReceived(cb: (p: CablePacket) => void) {\n        onCablePacket(() => {\n            const buf: Buffer = cablePacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            const num = nums[0] || 0;\n\n            const packet = new CablePacket();\n            packet.receivedBuffer = buf;\n            packet.receivedNumbers = nums;\n            packet.receivedNumber = num;\n            cb(packet)\n        });\n    }\n}",
            "pxt.json": "{\n    \"name\": \"cable\",\n    \"description\": \"Communication over Wire\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"pulse\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"cable.cpp\",\n        \"cable.ts\",\n        \"shims.d.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace network {\n\n    /**\n     * Send data over cable.\n     */\n    //% parts=\"cable\" shim=network::cableSendPacket\n    function cableSendPacket(buf: Buffer): void;\n\n    /**\n     * Get most recent packet received over cable.\n     */\n    //% parts=\"cable\" shim=network::cablePacket\n    function cablePacket(): Buffer;\n\n    /**\n     * Run action after a packet is recieved over cable.\n     */\n    //% parts=\"cable\" shim=network::onCablePacket\n    function onCablePacket(body: () => void): void;\n\n    /**\n     * Run action after there's an error reciving packet over cable.\n     */\n    //% shim=network::onCableError\n    function onCableError(body: () => void): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "infrared": {
            "README.md": "# infrared\n\nThe Infra Red library.\n\n",
            "ir.cpp": "#include \"pxt.h\"\n#include \"pulse.h\"\n#include \"SAMDTCTimer.h\"\n#include \"SAMDTCCTimer.h\"\n\nnamespace network {\n\nclass IrWrap : public PulseBase {\n  public:\n    IrWrap()\n        : PulseBase(PULSE_IR_COMPONENT_ID, PIN(IR_OUT), PIN(IR_IN),\n                    new SAMDTCTimer(TC4, TC4_IRQn)) {\n        setupGapEvents();\n    }\n};\nSINGLETON(IrWrap);\n/**\n * Send data over IR.\n */\n//% parts=\"ir\"\nvoid infraredSendPacket(Buffer buf) {\n    auto w = getIrWrap();\n    w->send(buf);\n}\n\n/**\n * Get most recent packet received over IR.\n */\n//% parts=\"ir\"\nBuffer infraredPacket() {\n    auto w = getIrWrap();\n    return w->getBuffer();\n}\n\n/**\n * Run action after a packet is recieved over IR.\n */\n//% parts=\"ir\"\nvoid onInfraredPacket(Action body) {\n    getIrWrap(); // attach events\n    registerWithDal(PULSE_IR_COMPONENT_ID, PULSE_PACKET_EVENT, body);\n}\n\n/**\n * Run action after there's an error recieving packet over IR.\n */\n//%\nvoid onInfraredError(Action body) {\n    getIrWrap();\n    registerWithDal(PULSE_IR_COMPONENT_ID, PULSE_PACKET_ERROR_EVENT, body);\n}\n} // namespace network\n",
            "ir.ts": "class InfraredPacket {\n    /**\n     * The first number in the payload.\n     */\n    public receivedNumber: number;\n    /**\n     * The array of numbers of received.\n     */\n    public receivedNumbers: number[];\n    /**\n     * The raw buffer of data received\n     */\n    public receivedBuffer: Buffer;\n}\n\nnamespace network {\n    /**\n     * Send a number over the infrared transmitter.\n     * @param value number to send\n     */\n    //% blockId=\"ir_send_number\" block=\"infrared send number %value\"\n    //% help=network/infrared-send-number\n    //% parts=\"ir\" weight=90 group=\"Infrared\"\n    export function infraredSendNumber(value: number) {\n        infraredSendNumbers([value]);\n    }\n\n    /**\n     * Send an array of numbers over infrared. The array size has to be 32 bytes or less.\n     * @param values \n     */\n    //% parts=\"ir\" group=\"Infrared\"\n    export function infraredSendNumbers(values: number[]) {\n        let buf = msgpack.packNumberArray(values);\n        if (buf.length % 2) {\n            const buf2 = control.createBuffer(buf.length + 1);\n            buf2.write(0, buf);\n            buf2[buf2.length - 1] = 0xc1;\n            buf = buf2;\n        }\n        infraredSendPacket(buf);\n    }\n\n    /**\n     * Run some code when the infrared receiver gets a number.\n     */\n    //% blockId=ir_on_infrared_received block=\"on infrared received\" blockGap=8\n    //% help=network/on-infrared-received-number\n    //% parts=\"ir\" group=\"Infrared\"\n    export function onInfraredReceivedNumber(handler: (num: number) => void) {\n        onInfraredPacket(() => {\n            const buf: Buffer = infraredPacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            const num = nums[0] || 0;\n            handler(num);\n        });\n    }\n\n    /**\n     * Run some code when the infrared receiver gets a list of numbers.\n     */\n    export function onInfraredReceivedNumbers(handler: (nums: number[]) => void) {\n        onInfraredPacket(() => {\n            const buf: Buffer = infraredPacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            handler(nums);\n        });\n    }\n    \n    /**\n     * Run some code when the infrared receiver gets a buffer.\n     */\n    export function onInfraredReceivedBuffer(handler: (buf: Buffer) => void) {\n        onInfraredPacket(() => {\n            const buf: Buffer = infraredPacket();\n            handler(buf);\n        });\n    }\n    \n    /**\n     * Run some code when the infrared receiver gets a packet.\n     */\n    //% mutate=objectdestructuring\n    //% mutateText=InfraredPacket\n    //% mutateDefaults=\"receivedNumber\"\n    //% blockId=ir_on_packet_received block=\"on infrared received\" blockGap=8\n    //% parts=\"ir\" group=\"Infrared\" blockHidden=1 deprecated=1\n    export function onInfraredPacketReceived(cb: (p: InfraredPacket) => void) {\n        onInfraredPacket(() => {\n            const buf: Buffer = infraredPacket();\n            const nums: number[] = msgpack.unpackNumberArray(buf) || [];\n            const num = nums[0] || 0;\n\n            const packet = new InfraredPacket();\n            packet.receivedBuffer = buf;\n            packet.receivedNumbers = nums;\n            packet.receivedNumber = num;\n            cb(packet)\n        });\n    }\n}",
            "pxt.json": "{\n    \"name\": \"infrared\",\n    \"description\": \"Communication over Infra Red\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"pulse\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"ir.cpp\",\n        \"ir.ts\",\n        \"shims.d.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace network {\n\n    /**\n     * Send data over IR.\n     */\n    //% parts=\"ir\" shim=network::infraredSendPacket\n    function infraredSendPacket(buf: Buffer): void;\n\n    /**\n     * Get most recent packet received over IR.\n     */\n    //% parts=\"ir\" shim=network::infraredPacket\n    function infraredPacket(): Buffer;\n\n    /**\n     * Run action after a packet is recieved over IR.\n     */\n    //% parts=\"ir\" shim=network::onInfraredPacket\n    function onInfraredPacket(body: () => void): void;\n\n    /**\n     * Run action after there's an error recieving packet over IR.\n     */\n    //% shim=network::onInfraredError\n    function onInfraredError(body: () => void): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "mouse": {
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum MouseButton {\n    //% block=\"right\" enumval=2\n    Right = 0x02,\n    //% block=\"middle\" enumval=4\n    Middle = 0x04,\n    //% block=\"left\" enumval=1\n    Left = 0x01,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "jacdac.ts": "namespace jacdac {\n    //% fixedInstances\n    export class MouseService extends Host {\n        constructor() {\n            super(\"mous\", jacdac.MOUSE_DEVICE_CLASS);\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const cmd: JDMouseCommand = data[0];\n            switch (cmd) {\n                case JDMouseCommand.Button:\n                    const btns = data[1];\n                    const down = !!data[2];\n                    mouse.setButton(btns, down);\n                    break;\n                case JDMouseCommand.Move:\n                    const x = data.getNumber(NumberFormat.Int8LE, 1);\n                    const y = data.getNumber(NumberFormat.Int8LE, 2);\n                    mouse.move(x, y);\n                    break;\n                case JDMouseCommand.TurnWheel:\n                    const w = data.getNumber(NumberFormat.Int8LE, 1);\n                    mouse.turnWheel(w);\n                    break;\n            }\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"mouse service\"\n    export const mouseService = new MouseService();\n}",
            "mouse.cpp": "// https://github.com/lancaster-university/codal-core/blob/master/source/drivers/HIDMouse.cpp\n\n#include \"pxt.h\"\n\nenum class MouseButton {\n    //% block=\"right\" enumval=2\n    Right = 0x02,\n    //% block=\"middle\" enumval=4\n    Middle = 0x04,\n    //% block=\"left\" enumval=1\n    Left = 0x01\n};\n\nnamespace mouse {\n    /** \n    * Set the mouse button state to up or down\n    */\n    //% help=mouse/set-button\n    //% blockId=mouseSetButton block=\"mouse button %index|%down=toggleDownUp\"\n    void setButton(MouseButton button, bool down) {\n        if (down)\n            pxt::mouse.buttonDown((codal::USBHIDMouseButton)button);\n        else\n            pxt::mouse.buttonUp((codal::USBHIDMouseButton)button);\n    }\n\n    /**\n    * Move the mouse in the X and Y direction\n    **/\n    //% help=mouse/move\n    //% blockId=mouseMove block=\"mouse move x %x|y %y\"\n    //% x.min=-128 x.max=127\n    //% y.min=-128 y.max=127\n    void move(int x, int y) {\n        pxt::mouse.move(x, y);\n    }\n\n    /**\n    * Turn the mouse wheel\n    **/\n    //% help=mouse/turn-wheel\n    //% blockId=mouseWheel block=\"turn wheel %w\"\n    //% w.min=-128 w.max=127\n    void turnWheel(int w) {\n        pxt::mouse.moveWheel(w);\n    }\n}",
            "mouse.ts": "/**\n * Mouse emulation\n */\n//% icon=\"\\uf245\" color=\"#303030\"\nnamespace mouse {\n\n}",
            "pxt.json": "{\n    \"name\": \"mouse\",\n    \"description\": \"Mouse emulation over HID\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"mouse.cpp\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"mouse.ts\",\n        \"jacdac.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"tests\": [\n        \"test.ts\"\n    ],\n    \"yotta\": {\n        \"config\": {\n            \"DEVICE_USB\": 1,\n            \"DEVICE_MOUSE\": 1\n        }\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace mouse {\n\n    /** \n     * Set the mouse button state to up or down\n     */\n    //% help=mouse/set-button\n    //% blockId=mouseSetButton block=\"mouse button %index|%down=toggleDownUp\" shim=mouse::setButton\n    function setButton(button: MouseButton, down: boolean): void;\n\n    /**\n     * Move the mouse in the X and Y direction\n     **/\n    //% help=mouse/move\n    //% blockId=mouseMove block=\"mouse move x %x|y %y\"\n    //% x.min=-128 x.max=127\n    //% y.min=-128 y.max=127 shim=mouse::move\n    function move(x: int32, y: int32): void;\n\n    /**\n     * Turn the mouse wheel\n     **/\n    //% help=mouse/turn-wheel\n    //% blockId=mouseWheel block=\"turn wheel %w\"\n    //% w.min=-128 w.max=127 shim=mouse::turnWheel\n    function turnWheel(w: int32): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "keyboard": {
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum KeyboardMediaKey\n    {\n    //% block=\"mute\"\n    Mute = 0,\n    //% block=\"volume up\"\n    VolumeUp = 1,\n    //% block=\"volume down\"\n    VolumeDown = 2,\n    //% block=\"play pause\"\n    PlayPause = 3,\n    //% block=\"stop\"\n    Stop = 4,\n    //% block=\"previous track\"\n    PreviousTrack = 5,\n    //% block=\"next track\"\n    NextTrack = 6,\n    //% block=\"mail\"\n    Mail = 7,\n    //% block=\"calculator\"\n    Calculator = 8,\n    //% block=\"web search\"\n    WebSearch = 9,\n    //% block=\"web home\"\n    WebHome = 10,\n    //% block=\"web favourites\"\n    WebFavourites = 11,\n    //% block=\"web refresh\"\n    WebRefresh = 12,\n    //% block=\"web stop\"\n    WebStop = 13,\n    //% block=\"web forward\"\n    WebForward = 14,\n    //% block=\"web back\"\n    WebBack = 15,\n    }\n\n\n    declare const enum KeyboardFunctionKey\n    {\n    //% block=\"F1\"\n    F1Key = 0,\n    //% block=\"F2\"\n    F2Key = 1,\n    //% block=\"F3\"\n    F3Key = 2,\n    //% block=\"F4\"\n    F4Key = 3,\n    //% block=\"F5\"\n    F5Key = 4,\n    //% block=\"F6\"\n    F6Key = 5,\n    //% block=\"F7\"\n    F7Key = 6,\n    //% block=\"F8\"\n    F8Key = 7,\n    //% block=\"F9\"\n    F9Key = 8,\n    //% block=\"F0\"\n    F10Key = 9,\n    //% block=\"F11\"\n    F11Key = 10,\n    //% block=\"F12\"\n    F12Key = 11,\n\n    //% block=\"print screen\"\n    PrintScreen = 12,\n    //% block=\"scroll lock\"\n    ScrollLock = 13,\n    //% block=\"pause\"\n    Pause = 14,\n    //% block=\"insert\"\n    Insert = 15,\n    //% block=\"home\"\n    Home = 16,\n    //% block=\"page up\"\n    PageUp = 17,\n    //% block=\"delete\"\n    DeleteForward = 18,\n    //% block=\"end\"\n    End = 19,\n    //% block=\"page down\"\n    PageDown = 20,\n\n    //% block=\"right arrow\"\n    RightArrow = 21,\n    //% block=\"left arrow\"\n    LeftArrow = 22,\n    //% block=\"down arrow\"\n    DownArrow = 23,\n    //% block=\"up arrow\"\n    UpArrow = 24,\n    }\n\n\n    declare const enum KeyboardKeyEvent {\n    //% block=\"press\"\n    Press = 0,\n    //% block=\"up\"\n    Up = 1,\n    //% block=\"down\"\n    Down = 2,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "jacdac.ts": "namespace jacdac {\n\n    //% fixedInstances\n    export class KeyboardService extends Host {\n        constructor() {\n            super(\"keyb\", jacdac.KEYBOARD_DEVICE_CLASS);\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const cmd = data.getNumber(NumberFormat.UInt8LE, 0);\n            switch (cmd) {\n                case JDKeyboardCommand.Type: {\n                    let s = \"\";\n                    for (let i = 1; i < data.length; ++i) {\n                        const c = data[i];\n                        if (c)\n                            s += String.fromCharCode(c);\n                    }\n                    keyboard.type(s);\n                    break;\n                }\n                case JDKeyboardCommand.Key: {\n                    const key = String.fromCharCode(data.getNumber(NumberFormat.UInt8LE, 1));\n                    const ev: KeyboardKeyEvent = data.getNumber(NumberFormat.UInt8LE, 2);\n                    keyboard.key(key, ev);\n                    break;\n                }\n                case JDKeyboardCommand.MediaKey: {\n                    const key: KeyboardMediaKey = data.getNumber(NumberFormat.UInt8LE, 1);\n                    const ev: KeyboardKeyEvent = data.getNumber(NumberFormat.UInt8LE, 2);\n                    keyboard.mediaKey(key, ev);\n                    break;\n                }\n                case JDKeyboardCommand.FunctionKey: {\n                    const key: KeyboardFunctionKey = data.getNumber(NumberFormat.UInt8LE, 1);\n                    const ev: KeyboardKeyEvent = data.getNumber(NumberFormat.UInt8LE, 2);\n                    keyboard.functionKey(key, ev);\n                    break;\n                }\n            }\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"keyboard service\"\n    export const keyboardService = new KeyboardService();\n}",
            "keyboard.cpp": "// https://github.com/lancaster-university/codal-core/blob/master/source/drivers/HIDKeyboard.cpp\n\n#include \"pxt.h\"\n\nenum class KeyboardMediaKey\n{\n    //% block=\"mute\"\n    Mute,\n    //% block=\"volume up\"\n    VolumeUp,\n    //% block=\"volume down\"\n    VolumeDown,\n    //% block=\"play pause\"\n    PlayPause,\n    //% block=\"stop\"\n    Stop,\n    //% block=\"previous track\"\n    PreviousTrack,\n    //% block=\"next track\"\n    NextTrack,\n    //% block=\"mail\"\n    Mail,\n    //% block=\"calculator\"\n    Calculator,\n    //% block=\"web search\"\n    WebSearch,\n    //% block=\"web home\"\n    WebHome,\n    //% block=\"web favourites\"\n    WebFavourites,\n    //% block=\"web refresh\"\n    WebRefresh,\n    //% block=\"web stop\"\n    WebStop,\n    //% block=\"web forward\"\n    WebForward,\n    //% block=\"web back\"\n    WebBack\n};\n\nenum class KeyboardFunctionKey\n{\n    //% block=\"F1\"\n    F1Key,  \n    //% block=\"F2\"\n    F2Key,\n    //% block=\"F3\"\n    F3Key,\n    //% block=\"F4\"\n    F4Key, \n    //% block=\"F5\"\n    F5Key,\n    //% block=\"F6\"\n    F6Key,\n    //% block=\"F7\"\n    F7Key,\n    //% block=\"F8\"\n    F8Key,\n    //% block=\"F9\"\n    F9Key,\n    //% block=\"F0\"\n    F10Key,\n    //% block=\"F11\"\n    F11Key,\n    //% block=\"F12\"\n    F12Key,\n\n    //% block=\"print screen\"\n    PrintScreen,\n    //% block=\"scroll lock\"\n    ScrollLock,\n    //% block=\"pause\"\n    Pause,\n    //% block=\"insert\"\n    Insert,\n    //% block=\"home\"\n    Home,\n    //% block=\"page up\"\n    PageUp,\n    //% block=\"delete\"\n    DeleteForward,\n    //% block=\"end\"\n    End,\n    //% block=\"page down\"\n    PageDown,\n\n    //% block=\"right arrow\"\n    RightArrow,\n    //% block=\"left arrow\"\n    LeftArrow,\n    //% block=\"down arrow\"\n    DownArrow,\n    //% block=\"up arrow\"\n    UpArrow,\n};\n\nenum class KeyboardKeyEvent {\n    //% block=\"press\"\n    Press,\n    //% block=\"up\"\n    Up,\n    //% block=\"down\"\n    Down\n};\n\nnamespace keyboard {\n    //% \n    void __type(String text) {\n        if (NULL != text)\n            pxt::keyboard.type(text->getUTF8Data(), text->getUTF8Size());\n    }\n\n    //%\n    void __key(uint16_t ckey, KeyboardKeyEvent event) {\n       switch(event) {\n            case KeyboardKeyEvent::Down:\n                pxt::keyboard.keyDown(ckey);\n                break;\n            case KeyboardKeyEvent::Up:\n                pxt::keyboard.keyUp(ckey);\n                break;\n            case KeyboardKeyEvent::Press:\n                pxt::keyboard.press(ckey);\n                break;\n        }\n    }\n\n    //%\n    void __mediaKey(KeyboardMediaKey key, KeyboardKeyEvent event) {\n        codal::MediaKey ckey = (codal::MediaKey)((int)codal::MediaKey::Mute + (int)key);\n        switch(event) {\n            case KeyboardKeyEvent::Down:\n                pxt::keyboard.keyDown(ckey);\n                break;\n            case KeyboardKeyEvent::Up:\n                pxt::keyboard.keyUp(ckey);\n                break;\n            case KeyboardKeyEvent::Press:\n                pxt::keyboard.press(ckey);\n                break;\n        }\n    }\n\n    //%\n    void __functionKey(KeyboardFunctionKey key, KeyboardKeyEvent event) {\n        codal::FunctionKey ckey = (codal::FunctionKey)((int)codal::FunctionKey::F1Key + (int)key);\n        switch(event) {\n            case KeyboardKeyEvent::Down:\n                pxt::keyboard.keyDown(ckey);\n                break;\n            case KeyboardKeyEvent::Up:\n                pxt::keyboard.keyUp(ckey);\n                break;\n            case KeyboardKeyEvent::Press:\n                pxt::keyboard.press(ckey);\n                break;\n        }\n    }\n}",
            "keyboard.ts": "/**\n * Keyboard emulation\n */\n//% icon=\"\\uf11c\" color=\"#303030\"\nnamespace keyboard {\n    // prevent catastrophic pounding of keyboard\n    class State {\n        private _keysDown: number[];\n        private _mediasDown: number[];\n        private _functionsDown: number[];\n        constructor() {\n            this._keysDown = undefined;\n            this._mediasDown = undefined;\n            this._functionsDown = undefined;\n        }\n\n        type(text: string) {\n            if (!text) return;\n\n            if (this._keysDown) {\n                for (let i = 0; i < text.length; ++i) {\n                    const c = text.charCodeAt(i);\n                    const ic = this._keysDown.indexOf(c);\n                    if (ic > -1)\n                        this._keysDown.splice(ic, 1);\n                }\n            }\n            __type(text);\n        }\n\n        key(key: string, event: KeyboardKeyEvent) {\n            if (!key) return;\n\n            if (!this._keysDown) this._keysDown = [];\n            const c = key.charCodeAt(0);\n            if (State.updateState(this._keysDown, c, event))\n                __key(c, event);\n        }\n\n        mediaKey(key: KeyboardMediaKey, event: KeyboardKeyEvent) {\n            if (!this._mediasDown) this._mediasDown = [];\n            if (State.updateState(this._mediasDown, key, event))\n                __mediaKey(key, event);\n        }\n\n        functionKey(key: KeyboardFunctionKey, event: KeyboardKeyEvent) {\n            if (!this._functionsDown) this._functionsDown = [];\n            if (State.updateState(this._functionsDown, key, event))\n                __functionKey(key, event);\n        }\n\n        private static updateState(downKeys: number[], c: number, event: KeyboardKeyEvent): boolean {\n            let i = downKeys.indexOf(c);\n            switch (event) {\n                // clear down\n                case KeyboardKeyEvent.Press:\n                    if (i > -1)\n                        downKeys.splice(i, 1);\n                    return true;\n                // must be down\n                case KeyboardKeyEvent.Up:\n                    if (i > -1) {\n                        downKeys.splice(i, 1);\n                        return true;\n                    } else {\n                        return false;\n                    }\n                // must be down\n                case KeyboardKeyEvent.Down:\n                    if (i > -1) {\n                        return false;\n                    } else {\n                        downKeys.push(c)\n                        return true;\n                    }\n            }\n\n            return false;\n        }\n\n        clear() {\n            // send up command for all down keys and clear\n            while (this._keysDown && this._keysDown.length) {\n                const c = this._keysDown.pop();\n                __key(c, KeyboardKeyEvent.Up);\n            }\n            while (this._mediasDown && this._mediasDown.length) {\n                const c = this._mediasDown.pop();\n                __mediaKey(c, KeyboardKeyEvent.Up);\n            }\n            while (this._functionsDown && this._functionsDown.length) {\n                const c = this._functionsDown.pop();\n                __functionKey(c, KeyboardKeyEvent.Up);\n            }\n        }\n    }\n\n    //% whenUsed\n    let _state: State;\n    function state(): State {\n        if (!_state) _state = new State();\n        return _state;\n    }\n\n    /**\n    * Send a sequence of keystrokes to the keyboard\n    */\n    //% blockId=keyboardType block=\"keyboard type %text\"\n    //% blockGap=8 weight=100\n    //% text.shadowOptions.toString=true\n    //% help=keyboard/type\n    export function type(text: string) {\n        const st = state();\n        st.type(text);\n    }\n\n    /**\n    * Send a key command\n    */\n    //% blockId=keyboardStandardKey block=\"keyboard key %key|%event\"\n    //% blockGap=8 weight=99\n    //% help=keyboard/key\n    export function key(key: string, event: KeyboardKeyEvent) {\n        const st = state();\n        st.key(key, event);\n    }\n\n    /**\n    * Send a media key command\n    */\n    //% blockId=keyboardMediaKey block=\"keyboard media key %key|%event\"\n    //% blockGap=8\n    //% help=keyboard/media-key\n    export function mediaKey(key: KeyboardMediaKey, event: KeyboardKeyEvent) {\n        const st = state();\n        st.mediaKey(key, event);\n    }\n\n    /**\n    * Send a function key command\n    */\n    //% blockId=keyboardFunctionKey block=\"keyboard function key %key|%event\"\n    //% blockGap=8\n    //% help=keyboard/function-key\n    export function functionKey(key: KeyboardFunctionKey, event: KeyboardKeyEvent) {\n        const st = state();\n        st.functionKey(key, event)\n    }\n\n    /**\n     * Send up commands for any remaning down keys\n     */\n    //% blockId=keyboardClear block=\"keyboard clear all\"\n    //% blockGap=8\n    //% help=keyboard/clear-all-keys\n    export function clearAllKeys() {\n        const st = state();\n        st.clear();\n    }\n}",
            "pxt.json": "{\n    \"name\": \"keyboard\",\n    \"description\": \"Keyboard emulation over HID\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"keyboard.cpp\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"keyboard.ts\",\n        \"jacdac.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"tests\": [\n        \"test.ts\"\n    ],\n    \"yotta\": {\n        \"config\": {\n            \"DEVICE_USB\": 1,\n            \"DEVICE_KEYBOARD\": 1\n        }\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace keyboard {\n\n    //% shim=keyboard::__type hidden=1\n    function __type(text: string): void;\n\n    //% shim=keyboard::__key hidden=1\n    function __key(ckey: number, event: KeyboardKeyEvent): void;\n\n    //% shim=keyboard::__mediaKey hidden=1\n    function __mediaKey(key: KeyboardMediaKey, event: KeyboardKeyEvent): void;\n\n    //% shim=keyboard::__functionKey hidden=1\n    function __functionKey(key: KeyboardFunctionKey, event: KeyboardKeyEvent): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "gamepad": {
            "gamepad.cpp": "// https://github.com/lancaster-university/codal-core/blob/master/inc/drivers/HIDJoystick.h\n\n\n\n#include \"pxt.h\"\nnamespace gamepad {\n    /** \n    * Set the button state to down\n    */\n    //% help=gamepad/set-button\n    //% blockId=joystickSetButton block=\"gamepad button %index=joystickStandardButton|%down=toggleDownUp\"\n    //% weight=100\n    void setButton(int index, bool down) {\n        if (down)\n            pxt::joystick.buttonDown(index);\n        else\n            pxt::joystick.buttonUp(index);\n    }\n\n    /**\n    * Set the current move on the gamepad\n    **/\n    //% blockId=gamepadMove block=\"gamepad %index|move by x %x|y %y\"\n    //% help=gamepad/move\n    //% index.min=0 index.max=1\n    //% blockGap=8\n    void move(int index, int x, int y) {\n        pxt::joystick.move(index, x, y);        \n    }\n\n    /** \n    * Set the throttle state\n    */\n    //% blockId=gamepadSetThrottle block=\"gamepad set throttle %index|to %value\"\n    //% gamepad/set-throttle blockHidden=1\n    //% index.min=0 index.max=1\n    //% value.min=0 value.max=31\n    //%help=gamepad/set-throttle\n    void setThrottle(int index, int value) {\n        value = max(0, min(31, value));\n        pxt::joystick.setThrottle(index, value);\n    }\n}",
            "gamepad.ts": "enum GamepadButton {\n    //% blockIdentity=gamepad.button enumval=0\n    B = 0,\n    //% blockIdentity=gamepad.button enumval=1\n    A = 1,\n    //% blockIdentity=gamepad.button enumval=2\n    Y = 2,\n    //% blockIdentity=gamepad.button enumval=3\n    X = 3,\n    //% block=\"left bumper\"\n    //% blockIdentity=gamepad.button enumval=4\n    LeftBumper = 4,\n    //% block=\"right bumper\"\n    //% blockIdentity=gamepad.button enumval=5\n    RightBumper = 5,\n    //% block=\"left trigger\"\n    //% blockIdentity=gamepad.button enumval=6\n    LeftTrigger = 6,\n    //% block=\"right trigger\"\n    //% blockIdentity=gamepad.button enumval=7\n    RightTrigger = 7,\n    //% block=\"select\"\n    //% blockIdentity=gamepad.button enumval=8\n    Select = 8,\n    //% block=\"start\"\n    //% blockIdentity=gamepad.button enumval=9\n    Start = 9,\n    //% block=\"left stick\"\n    //% blockIdentity=gamepad.button enumval=10\n    LeftStick = 10,\n    //% block=\"right stick\"\n    //% blockIdentity=gamepad.button enumval=11\n    RightStick = 11,\n    //% block=\"up\"\n    //% blockIdentity=gamepad.button enumval=12\n    Up = 12,\n    //% block=\"down\"\n    //% blockIdentity=gamepad.button enumval=13\n    Down = 13,\n    //% block=\"left\"\n    //% blockIdentity=gamepad.button enumval=14\n    Left = 14,\n    //% block=\"right\"\n    //% blockIdentity=gamepad.button enumval=15\n    Right = 15\n}\n\n//% icon=\"\\uf11b\" color=\"#303030\"\nnamespace gamepad {\n    /**\n     * Maps to a standard layout button to the button index\n     * @param button the name of the button\n     */\n    //% blockId=joystickStandardButton block=\"%button\"\n    //% shim=TD_ID blockHidden=1\n    export function button(button: GamepadButton): number {\n        return button;\n    }\n}",
            "jacdac.ts": "namespace jacdac {\n    //% fixedInstances\n    export class GamepadService extends Host {\n        constructor() {\n            super(\"gpad\", jacdac.GAMEPAD_DEVICE_CLASS);\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const cmd: JDGamepadCommand = data[0];\n            switch (cmd) {\n                case JDGamepadCommand.Button:\n                    gamepad.setButton(data[1], !!data[2]);\n                    break;\n                case JDGamepadCommand.Move:\n                    const x = data.getNumber(NumberFormat.Int8LE, 2);\n                    const y = data.getNumber(NumberFormat.Int8LE, 3);\n                    gamepad.move(data[1], x, y)\n                    break;\n                case JDGamepadCommand.Throttle:\n                    gamepad.setThrottle(data[1], data.getNumber(NumberFormat.Int8LE, 2));\n                    break;\n            }\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"gamepad service\"\n    export const gamepadService = new GamepadService();\n}",
            "pxt.json": "{\n    \"name\": \"gamepad\",\n    \"description\": \"Gamepad controller over HID\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"jacdac\": \"*\"\n    },\n    \"files\": [\n        \"gamepad.cpp\",\n        \"shims.d.ts\",\n        \"gamepad.ts\",\n        \"jacdac.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"tests\": [\n        \"test.ts\"\n    ],\n    \"yotta\": {\n        \"config\": {\n            \"DEVICE_USB\": 1,\n            \"DEVICE_JOYSTICK\": 1\n        }\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace gamepad {\n\n    /** \n     * Set the button state to down\n     */\n    //% help=gamepad/set-button\n    //% blockId=joystickSetButton block=\"gamepad button %index=joystickStandardButton|%down=toggleDownUp\"\n    //% weight=100 shim=gamepad::setButton\n    function setButton(index: int32, down: boolean): void;\n\n    /**\n     * Set the current move on the gamepad\n     **/\n    //% blockId=gamepadMove block=\"gamepad %index|move by x %x|y %y\"\n    //% help=gamepad/move\n    //% index.min=0 index.max=1\n    //% blockGap=8 shim=gamepad::move\n    function move(index: int32, x: int32, y: int32): void;\n\n    /** \n     * Set the throttle state\n     */\n    //% blockId=gamepadSetThrottle block=\"gamepad set throttle %index|to %value\"\n    //% gamepad/set-throttle blockHidden=1\n    //% index.min=0 index.max=1\n    //% value.min=0 value.max=31\n    //%help=gamepad/set-throttle shim=gamepad::setThrottle\n    function setThrottle(index: int32, value: int32): void;\n}\n\n// Auto-generated. Do not edit. Really.\n"
        },
        "storage": {
            "GhostSNORFS.cpp": "#include \"GhostSNORFS.h\"\n\n#include \"CodalCompat.h\"\n#include \"CodalDmesg.h\"\n#include \"CodalDevice.h\"\n\n#define LOG DMESG\n\nusing namespace codal::snorfs;\n\nnamespace codal {\n\n\nGhostSNORFS::GhostSNORFS(FS &fs) : fs(fs)\n{\n    currFile = NULL;\n    currEntry = NULL;\n}\n\nvoid GhostSNORFS::readFlash(GFATEntry *ent, unsigned blockAddr, char *dst)\n{\n    auto th = (GhostSNORFS*)ent->userdata;\n    th->fs.readFlashBytes(blockAddr * 512, dst, 512);\n}\n\nvoid GhostSNORFS::readFile(GFATEntry *ent, unsigned blockAddr, char *dst)\n{\n    auto th = (GhostSNORFS*)ent->userdata;\n\n    if (th->currEntry != ent)\n    {\n        th->currEntry = ent;\n        if (th->currFile)\n            delete th->currFile;\n        th->currFile = th->fs.open(ent->filename);\n    }\n\n    th->currFile->seek(blockAddr * 512);\n    th->currFile->read(dst, 512);\n}\n\n\nvoid GhostSNORFS::addFiles()\n{\n    // reading SPI directory can take some time, so we delay USB start\n    CodalUSB::usbInstance->delayStart();\n\n    GhostFAT::addFiles();\n\n    addFile(readFlash, this, \"spiflash.bin\", fs.rawSize());\n    addDirectory(20, \"SPIFLASH\");\n\n    fs.dirRewind();\n    auto d = fs.dirRead();\n    while (d)\n    {\n        addFile(readFile, this, d->name, d->size, 20);\n        d = fs.dirRead();\n    }\n\n    CodalUSB::usbInstance->start();\n}\n\n}\n",
            "GhostSNORFS.h": "#ifndef DEVICE_GHOSTSNORFS_H\n#define DEVICE_GHOSTSNORFS_H\n\n#include \"GhostFAT.h\"\n#include \"SNORFS.h\"\n\nnamespace codal\n{\n    \nclass GhostSNORFS : public GhostFAT\n{\nprotected:\n    snorfs::FS &fs;\n    snorfs::File *currFile;\n    GFATEntry *currEntry;\n\n    static void readFlash(GFATEntry *ent, unsigned blockAddr, char *dst);\n    static void readFile(GFATEntry *ent, unsigned blockAddr, char *dst);\n\npublic:\n    GhostSNORFS(snorfs::FS &fs);\n    virtual void addFiles();\n};\n\n}\n\n#endif\n\n",
            "SNORFS.cpp": "#include \"SNORFS.h\"\n#include \"CodalDmesg.h\"\n#include \"NotifyEvents.h\"\n#include \"MessageBus.h\"\n#include \"pxtbase.h\"\n#include <stddef.h>\n\n#define oops() target_panic(DEVICE_FLASH_ERROR)\n\n#ifndef SNORFS_TEST\n#define LOG DMESG\n#define LOGV(...)                                                                                  \\\n    do                                                                                             \\\n    {                                                                                              \\\n    } while (0)\n#endif\n\nusing namespace codal::snorfs;\n\nstatic uint16_t snorfs_unlocked_event;\n\n#define SNORFS_LEVELING_THRESHOLD 100\n\n// The values below were picked at random\n#define SNORFS_MAGIC 0x3576348e\n#define SNORFS_FREE_FLAG 0xd09ff063\n#define SNORFS_COPIED_FLAG 0x4601c6dc\n#define SNORFS_COMPUTING_WRITE_PAGE 0x00ff\n#define SNORFS_TRY_MOUNT 0xfff0\n\nstruct BlockHeader\n{\n    uint32_t magic;\n    uint8_t version;\n    uint8_t numMetaRows;\n    uint16_t logicalBlockId;\n    uint32_t eraseCount;\n    uint32_t freeFlag;\n    uint32_t copiedFlag;\n};\n\nstatic uint8_t fnhash(const char *fn)\n{\n    uint32_t h = hash_fnv1a(fn, strlen(fn));\n    h &= 0xff;\n    if (h <= 0x02 || h == 0xff)\n        return h + 0xf0;\n    return h;\n}\n\nFS::FS(SPIFlash &f) : flash(f)\n{\n    numRows = 0;\n    randomSeed = 1;\n    dirptr = 0;\n    files = NULL;\n    locked = false;\n\n    if (!snorfs_unlocked_event)\n        snorfs_unlocked_event = codal::allocateNotifyEvent();\n}\n\nvoid FS::feedRandom(uint32_t v)\n{\n    randomSeed ^= (v + 1) * 0x1000193;\n}\n\n// we need a deterministic PRNG - this one has period of 2^32\nuint32_t FS::random(uint32_t max)\n{\n    uint32_t mask = 1;\n    while (mask <= max)\n        mask = (mask << 1) | 1;\n    while (true)\n    {\n        randomSeed = randomSeed * 1664525 + 1013904223;\n        auto v = randomSeed & mask;\n        if (v < max)\n            return v;\n    }\n}\n\nint FS::firstFree(uint16_t pageIdx)\n{\n    flash.readBytes(indexAddr(pageIdx), buf, SPIFLASH_PAGE_SIZE);\n    for (int k = 1; k < SPIFLASH_PAGE_SIZE - 1; ++k)\n        if (buf[k] == 0xff)\n            return pageIdx | k;\n    return 0;\n}\n\nvoid FS::busy(bool)\n{\n    // blink LED or something\n}\n\nstatic void initBlockHeader(BlockHeader &hd, bool free)\n{\n    hd.magic = SNORFS_MAGIC;\n    hd.version = 0;\n    hd.numMetaRows = 2;\n    hd.eraseCount = 0;\n    if (free)\n    {\n        hd.logicalBlockId = 0xffff;\n        hd.freeFlag = SNORFS_FREE_FLAG;\n        hd.copiedFlag = 0xffffffff;\n    }\n    else\n    {\n        hd.freeFlag = 0;\n        hd.copiedFlag = SNORFS_COPIED_FLAG;\n    }\n}\n\nbool FS::pageErased(uint32_t addr)\n{\n    flash.readBytes(addr, buf, SPIFLASH_PAGE_SIZE);\n    for (int i = 0; i < SPIFLASH_PAGE_SIZE; ++i)\n        if (buf[i] != 0xff)\n            return false;\n    return true;\n}\n\nbool FS::rowErased(uint32_t addr, bool checkFull)\n{\n    if (!checkFull)\n        return pageErased(addr) && pageErased(addr + 512) && pageErased(addr + 1024);\n\n    for (uint32_t off = 0; off < SPIFLASH_BIG_ROW_SIZE; off += SPIFLASH_PAGE_SIZE)\n    {\n        if (!pageErased(addr + off))\n            return false;\n    }\n    return true;\n}\n\nvoid FS::format()\n{\n    if (files)\n        oops();\n\n    LOG(\"formatting SNORFS\");\n\n    uint32_t end = flash.numPages() * SPIFLASH_PAGE_SIZE;\n    uint16_t rowIdx = 0;\n    BlockHeader hd;\n    initBlockHeader(hd, false);\n    bool didErase = false;\n\n    for (uint32_t addr = 0; addr < end; addr += SPIFLASH_BIG_ROW_SIZE)\n    {\n        busy();\n        // in case we didn't need to do any erase yet, do a quick \"likely\" erasure test\n        if (dirptr != SNORFS_TRY_MOUNT && !rowErased(addr, didErase))\n        {\n            didErase = true;\n            flash.eraseBigRow(addr);\n            busy();\n        }\n\n        // the last empty row?\n        if (addr + SPIFLASH_BIG_ROW_SIZE >= end)\n        {\n            initBlockHeader(hd, true);\n        }\n        else\n        {\n            hd.logicalBlockId = rowIdx;\n        }\n        LOGV(\"format: %d\\n\", rowIdx);\n        flash.writeBytes(addr, &hd, sizeof(hd));\n        rowIdx++;\n    }\n    busy(false);\n}\n\nvoid FS::gcCore(bool force, bool isData)\n{\n    if (!force)\n    {\n        fullPages = 0;\n        deletedPages = 0;\n        freePages = 0;\n    }\n\n    uint16_t start = 0;\n    uint16_t end = numRows;\n\n    // in 'force' mode we're interested in specifically data or meta space\n    if (force)\n    {\n        if (isData)\n            start = numMetaRows;\n        else\n            end = numMetaRows;\n    }\n\n    uint32_t maxDelCnt = 0;\n    uint32_t maxDelIdx = 0;\n\n    for (unsigned row = start; row < end; ++row)\n    {\n        uint32_t addr = indexAddr(row << 8);\n        flash.readBytes(addr, buf, SPIFLASH_PAGE_SIZE);\n        uint16_t numDel = 0;\n        for (int i = 1; i < SPIFLASH_PAGE_SIZE - 1; i++)\n        {\n            if (buf[i] == 0x00)\n                numDel++;\n            if (!force)\n            {\n                if (buf[i] == 0x00)\n                    deletedPages++;\n                else if (buf[i] == 0xff)\n                    freePages++;\n                else\n                    fullPages++;\n            }\n        }\n\n        LOGV(\"GC: row=%d del=%d\\n\", row, numDel);\n\n        if (numDel > maxDelCnt)\n        {\n            maxDelCnt = numDel;\n            maxDelIdx = row;\n        }\n    }\n\n    if (force && !maxDelCnt)\n    {\n        if (isData)\n            LOG(\"out of data space\\n\");\n        else\n            LOG(\"out of meta space\\n\");\n        oops(); // really out of space!\n    }\n\n    LOGV(\"GC: \");\n\n    // we do a GC when either one is true:\n    //   * force is true (we desperately need space)\n    //   * there's a row that's more than 50% deleted\n    //   * clearing a row will increase free space by more than 20%\n    if (force || maxDelCnt > SPIFLASH_PAGE_SIZE / 2 || (maxDelCnt * 5 > freePages))\n    {\n        swapRow(rowRemapCache[maxDelIdx]);\n        if (!readHeaders()) // this will trigger levelling on the new free block\n            oops();         // but it should never fail\n    }\n\n    debugDump();\n}\n\nvoid FS::swapRow(int row)\n{\n    busy();\n    LOGV(\"[swap row: %d] \", row);\n    if (freeRow == row || row > numRows)\n        oops();\n    uint32_t trg = freeRow * SPIFLASH_BIG_ROW_SIZE;\n    uint32_t src = row * SPIFLASH_BIG_ROW_SIZE;\n\n    uint32_t skipmask[SPIFLASH_PAGE_SIZE / 32];\n    memset(skipmask, 0, sizeof(skipmask));\n    auto idxOff = SPIFLASH_BIG_ROW_SIZE - SPIFLASH_PAGE_SIZE;\n    flash.readBytes(src + idxOff, buf, SPIFLASH_PAGE_SIZE);\n    for (int i = 1; i < SPIFLASH_PAGE_SIZE - 1; i++)\n    {\n        if (buf[i] == 0x00)\n        {\n            skipmask[i / 32] |= 1U << (i % 32);\n            buf[i] = 0xff;\n            deletedPages--;\n            freePages++;\n        }\n    }\n\n#define setFlag(trg, flag, v)                                                                      \\\n    {                                                                                              \\\n        uint32_t flag = v;                                                                         \\\n        flash.writeBytes(trg + offsetof(BlockHeader, flag), &flag, sizeof(flag));                  \\\n    }\n\n    setFlag(trg, freeFlag, 0); // no longer free\n\n    flash.writeBytes(trg + idxOff, buf, SPIFLASH_PAGE_SIZE);\n    for (int i = 1; i < SPIFLASH_PAGE_SIZE - 1; ++i)\n    {\n        if (skipmask[i / 32] & (1U << (i % 32)))\n            continue;\n\n        flash.readBytes(src + SPIFLASH_PAGE_SIZE * i, buf, SPIFLASH_PAGE_SIZE);\n        flash.writeBytes(trg + SPIFLASH_PAGE_SIZE * i, buf, SPIFLASH_PAGE_SIZE);\n        busy();\n    }\n\n    flash.readBytes(src, buf, SPIFLASH_PAGE_SIZE);\n    auto hd = (BlockHeader *)(void *)buf;\n    flash.writeBytes(trg + offsetof(BlockHeader, logicalBlockId), &hd->logicalBlockId, 2);\n    setFlag(trg, copiedFlag, SNORFS_COPIED_FLAG);\n    setFlag(src, copiedFlag, 0);\n\n    hd->logicalBlockId = 0xffff;\n    hd->eraseCount++;\n    hd->freeFlag = 0xffffffff;\n    hd->copiedFlag = 0xffffffff;\n    flash.eraseBigRow(src);\n    busy();\n    int last = 0;\n    for (int i = 0; i < SPIFLASH_PAGE_SIZE; ++i)\n        if (buf[i] != 0xff)\n            last = i;\n    flash.writeBytes(src, buf, last + 1);\n    // everything done, mark as fully OK free row\n    setFlag(src, freeFlag, SNORFS_FREE_FLAG);\n\n    for (int i = 0; i < numRows; ++i)\n    {\n        if (rowRemapCache[i] == row)\n            rowRemapCache[i] = freeRow;\n    }\n    freeRow = row; // new free row\n    busy(false);\n}\n\nbool FS::readHeaders()\n{\n    memset(rowRemapCache, 0xff, numRows);\n\n    static BlockHeader hd; // can't be on stack!\n    int freeRow = -1;\n    bool freeDirty = false;\n    bool freeRandom = false;\n\n    int minEraseIdx = -1;\n    uint32_t minEraseCnt = 0;\n    uint32_t freeEraseCnt = 0;\n    uint32_t totalEraseCount = 0;\n\n    for (unsigned i = 0; i < (unsigned)numRows + 1; ++i)\n    {\n        auto addr = i * SPIFLASH_BIG_ROW_SIZE;\n        flash.readBytes(addr, &hd, sizeof(hd));\n        if (hd.magic != SNORFS_MAGIC || hd.version != 0)\n        {\n            // likely, we got a power failure during row erase - it now contains random data\n            if (freeRow == -1)\n            {\n                freeDirty = true;\n                freeRandom = true;\n                freeRow = i;\n                continue;\n            }\n            return false;\n        }\n\n        numMetaRows = hd.numMetaRows;\n\n        totalEraseCount += hd.eraseCount;\n\n        if (hd.logicalBlockId == 0xffff || hd.copiedFlag != SNORFS_COPIED_FLAG)\n            goto isFree;\n        else\n        {\n            if (hd.logicalBlockId >= numRows)\n                return false;\n            // if this is the first duplicate, it is liekly a duplicate left over from unfinished\n            // swapRow\n            if (rowRemapCache[hd.logicalBlockId] != 0xff)\n                goto isFree;\n            rowRemapCache[hd.logicalBlockId] = i;\n            if (minEraseIdx < 0 || hd.eraseCount < minEraseCnt)\n            {\n                minEraseCnt = hd.eraseCount;\n                minEraseIdx = i;\n            }\n        }\n        continue;\n\n    isFree:\n        if (freeRow == -1)\n        {\n            freeRow = i;\n            if (hd.freeFlag != SNORFS_FREE_FLAG)\n                freeDirty = true;\n        }\n        else\n            return false;\n        freeEraseCnt = hd.eraseCount;\n    }\n\n    feedRandom(totalEraseCount);\n\n    this->freeRow = freeRow;\n\n    if (freeRow == -1 || !numMetaRows || numMetaRows > numRows / 2)\n        return false;\n\n    if (freeDirty)\n    {\n        LOG(\"fixing free row: %d\\n\", freeRow);\n        busy();\n        initBlockHeader(hd, true);\n        hd.eraseCount = freeRandom ? totalEraseCount / numRows : freeEraseCnt;\n        flash.eraseBigRow(freeRow * SPIFLASH_BIG_ROW_SIZE);\n        busy();\n        flash.writeBytes(freeRow * SPIFLASH_BIG_ROW_SIZE, &hd, sizeof(hd));\n        busy(false);\n    }\n    else if (minEraseCnt + SNORFS_LEVELING_THRESHOLD < freeEraseCnt)\n    {\n        swapRow(minEraseIdx);\n        LOGV(\" for level\\n\");\n    }\n    else\n    {\n        LOGV(\"[no level swap: free %d, min %d]\", freeEraseCnt, minEraseCnt);\n    }\n\n    return true;\n}\n\nbool FS::tryMount()\n{\n    if (numRows == 0)\n    {\n        // we abuse dirptr as a flag\n        dirptr = SNORFS_TRY_MOUNT;\n        lock();\n        unlock();\n        dirptr = 0;\n    }\n    LOG(\"mount SNORFS, rows=%d\", numRows);\n    return numRows > 0;\n}\n\nvoid FS::mount()\n{\n    if (numRows > 0)\n        return;\n\n    numRows = (flash.numPages() / SPIFLASH_BIG_ROW_PAGES) - 1;\n    rowRemapCache = new uint8_t[numRows];\n\n    if (!readHeaders())\n    {\n        if (dirptr == SNORFS_TRY_MOUNT)\n        {\n            uint32_t end = flash.numPages() * SPIFLASH_PAGE_SIZE;\n            for (uint32_t addr = 0; addr < end; addr += SPIFLASH_BIG_ROW_SIZE)\n            {\n                if (!rowErased(addr, false))\n                {\n                    numRows = 0;\n                    delete rowRemapCache;\n                    rowRemapCache = NULL;\n                    return;\n                }\n            }\n        }\n\n        format();\n        if (!readHeaders())\n            oops();\n    }\n    gcCore(false, false);\n}\n\nuint16_t FS::findFreePage(bool isData, uint16_t hint)\n{\n    bool wrapped = false;\n    bool gc = false;\n    uint16_t start = isData ? numMetaRows : 0;\n    uint16_t end = isData ? numRows : numMetaRows;\n    uint16_t ptr = random(end - start) + start;\n\n    uint16_t fr;\n\n    if (hint != 0)\n    {\n        fr = firstFree(hint & 0xff00);\n        if (fr)\n            return fr;\n    }\n\n    for (;;)\n    {\n        fr = firstFree(ptr << 8);\n        if (fr)\n            return fr;\n        if (++ptr == end)\n        {\n            if (wrapped)\n            {\n                if (gc)\n                    oops();\n                gcCore(true, isData);\n                gc = true;\n            }\n            ptr = start;\n            wrapped = true;\n        }\n    }\n}\n\nFS::~FS()\n{\n    delete rowRemapCache;\n}\n\nvoid FS::markPage(uint16_t page, uint8_t flag)\n{\n    if (flag == 0xff)\n        oops();\n    if (flag == 0)\n    {\n        deletedPages++;\n        fullPages--;\n    }\n    else\n    {\n        fullPages++;\n        freePages--;\n    }\n\n    if (flag == 0 && (page >> 8) < numMetaRows)\n    {\n        flash.writeBytes(pageAddr(page), &flag, 1);\n    }\n    flash.writeBytes(indexAddr(page), &flag, 1);\n}\n\nuint8_t FS::dataPageSize()\n{\n    int markedLen = 0;\n    int i;\n    for (i = SPIFLASH_PAGE_SIZE - 1; i >= 0; --i)\n    {\n        if (buf[i] == 0xff)\n            break;\n        markedLen = buf[i];\n    }\n    while (i >= 0)\n    {\n        if (buf[i] != 0xff)\n            break;\n        i--;\n    }\n    i++;\n    return max(i, markedLen);\n}\n\nvoid File::rewind()\n{\n    readPage = 0;\n    readMetaPage = 0;\n    readOffset = 0;\n    readOffsetInPage = 0;\n    readPageSize = 0;\n}\n\nFile *FS::open(uint16_t fileID)\n{\n    lock();\n    auto r = new File(*this, fileID);\n    unlock();\n    return r;\n}\n\nFile *FS::open(const char *filename, bool create)\n{\n    lock();\n    auto page = findMetaEntry(filename);\n    if (page == 0)\n    {\n        if (create) {\n            page = createMetaPage(filename);\n        } else {\n            unlock();\n            return NULL;\n        }\n    }\n    auto r = new File(*this, page);\n    unlock();\n    return r;\n}\n\nbool FS::exists(const char *filename)\n{\n    lock();\n    auto r = findMetaEntry(filename) != 0;\n    unlock();\n    return r;\n}\n\nvoid FS::lock()\n{    \n    while (locked)        \n        fiber_wait_for_event(DEVICE_ID_NOTIFY, snorfs_unlocked_event);\n    locked = true;\n    mount();\n}\n\nvoid FS::unlock()\n{\n    if (!locked)\n        oops();\n    locked = false;\n#ifndef SNORFS_TEST\n    Event(DEVICE_ID_NOTIFY, snorfs_unlocked_event);\n#endif\n}\n\nvoid FS::maybeGC()\n{\n    lock();\n    gcCore(false, false);\n    unlock();\n}\n\nuint16_t FS::findMetaEntry(const char *filename)\n{\n    uint8_t h = fnhash(filename);\n    uint16_t buflen = strlen(filename) + 2;\n\n    if (buflen > 64)\n        oops();\n\n    auto tmp = new uint8_t[buflen];\n\n    for (int i = 0; i < numMetaRows; ++i)\n    {\n        flash.readBytes(indexAddr(i << 8), buf, SPIFLASH_PAGE_SIZE);\n        for (int j = 1; j < SPIFLASH_PAGE_SIZE - 1; ++j)\n        {\n            if (buf[j] == h)\n            {\n                uint16_t pageIdx = (i << 8) | j;\n                auto addr = pageAddr(pageIdx);\n                flash.readBytes(addr, tmp, buflen);\n                if (tmp[0] == 1 && memcmp(tmp + 1, filename, buflen - 1) == 0) {\n                    delete tmp;\n                    return pageIdx;\n                }\n            }\n        }\n    }\n\n    delete tmp;\n    return 0;\n}\n\nuint16_t FS::createMetaPage(const char *filename)\n{\n    uint8_t h = fnhash(filename);\n    feedRandom(h);\n    uint16_t page = findFreePage(false);\n    uint16_t buflen = strlen(filename) + 2;\n\n    memset(buf, 0xff, SPIFLASH_PAGE_SIZE);\n    buf[0] = 0x01;\n    memcpy(buf + 1, filename, buflen - 1);\n\n    flash.writeBytes(pageAddr(page), buf, buflen);\n    markPage(page, h);\n\n    return page;\n}\n\nFile::File(FS &f, uint16_t existing) : fs(f)\n{\n    metaPage = existing;\n    writePage = 0;\n    rewind();\n    next = fs.files;\n    fs.files = this;\n}\n\nFile::~File()\n{\n    if (this == fs.files)\n    {\n        fs.files = next;\n    }\n    else\n    {\n        auto p = fs.files;\n        while (p)\n        {\n            if (p->next == this)\n            {\n                p->next = this->next;\n                break;\n            }\n            p = p->next;\n        }\n        if (p == NULL)\n            oops();\n    }\n}\n\nvoid File::seek(uint32_t pos)\n{\n    if (pos == readOffset)\n        return;\n    if (pos < readOffset)\n        rewind();\n    read(NULL, pos - readOffset);\n}\n\nint FS::metaStart(uint16_t *nextPtr, uint16_t *nextPtrPtr)\n{\n    int start = 1;\n    while (start < 64 && buf[start])\n        start++;\n    start++;\n    if (nextPtr)\n        *nextPtr = read16(start);\n    if (nextPtrPtr)\n        *nextPtrPtr = start;\n    start += 2;\n    for (int i = start; i + 2 < SPIFLASH_PAGE_SIZE; i += 3)\n        if (buf[i] == 0x00 && buf[i + 1] == 0x00 && buf[i + 2] == 0x00)\n            start = i + 3;\n    return start;\n}\n\nuint32_t FS::fileSize(uint16_t metaPage)\n{\n    uint32_t sz = 0;\n    uint16_t lastPage = 0;\n    uint16_t currPage = metaPage;\n    for (;;)\n    {\n        flash.readBytes(pageAddr(currPage), buf, SPIFLASH_PAGE_SIZE);\n        if (buf[0] == 0x00)\n            return 0; // deleted\n        uint16_t nextPtr;\n        for (int i = metaStart(&nextPtr); i + 2 < SPIFLASH_PAGE_SIZE; i += 3)\n        {\n            uint16_t page = read16(i);\n            if (page == 0xffff)\n            {\n                if (nextPtr != 0xffff)\n                    oops();\n                break;\n            }\n            if (buf[i + 2] == 0xff)\n            {\n                lastPage = page;\n            }\n            else\n            {\n                sz += buf[i + 2] + 1;\n                if (lastPage)\n                    oops();\n            }\n        }\n        if (nextPtr == 0xffff)\n            break;\n\n        if (lastPage)\n            oops();\n        currPage = nextPtr;\n    }\n\n    if (lastPage)\n    {\n        flash.readBytes(pageAddr(lastPage), buf, SPIFLASH_PAGE_SIZE);\n        sz += dataPageSize();\n    }\n\n    if (lastPage || currPage != metaPage)\n    {\n        flash.readBytes(pageAddr(metaPage), buf, 64);\n    }\n\n    return sz;\n}\n\nuint16_t FS::read16(int off)\n{\n    return buf[off] | (buf[off + 1] << 8);\n}\n\n#define DIRCHUNK 32\nDirEntry *FS::dirRead()\n{\n    lock();\n    for (;;)\n    {\n        if ((dirptr >> 8) >= numMetaRows)\n        {\n            unlock();\n            return NULL;\n        }\n        int off = dirptr & 0xff;\n        int len = min(DIRCHUNK, SPIFLASH_PAGE_SIZE - off);\n        flash.readBytes(indexAddr(dirptr), buf, len);\n        for (int i = 0; i < len; ++i)\n        {\n            if (i + off >= 0x100)\n                oops();\n            if (0x02 < buf[i] && buf[i] < 0xff)\n            {\n                dirptr += i;\n                DirEntry tmp;\n                tmp.flags = 0;\n                tmp.fileID = dirptr;\n                tmp.size = fileSize(dirptr);\n                dirptr++;\n                if (buf[0] == 0x01)\n                {\n                    strcpy(tmp.name, (char *)buf + 1);\n                    memcpy(buf, &tmp, sizeof(tmp));\n                    unlock();\n                    return (DirEntry *)(void *)buf;\n                }\n            }\n        }\n        dirptr += len;\n    }\n}\n\nbool File::seekNextPage(uint16_t *cache)\n{\n    if (readMetaPage == 0)\n        readMetaPage = metaPage;\n\n    if (*cache != readMetaPage)\n    {\n        fs.flash.readBytes(fs.pageAddr(readMetaPage), fs.buf, SPIFLASH_PAGE_SIZE);\n        *cache = readMetaPage;\n    }\n\n    uint16_t nextPtr;\n    bool isNext = false;\n    uint16_t newReadPage = 0;\n\n    for (int i = fs.metaStart(&nextPtr); i + 2 < SPIFLASH_PAGE_SIZE; i += 3)\n    {\n        uint16_t page = fs.read16(i);\n        if (page == 0xffff)\n            return false;\n        if (isNext || readPage == 0)\n        {\n            newReadPage = page;\n            readPageSize = fs.buf[i + 2];\n            break;\n        }\n        if (page == readPage)\n            isNext = true;\n    }\n\n    if (newReadPage == 0)\n    {\n        if (!isNext)\n            oops();\n        if (nextPtr == 0xffff)\n            return false;\n        readMetaPage = nextPtr;\n        readPage = 0;\n        return seekNextPage(cache);\n    }\n\n    if (readPageSize == 0xff)\n    {\n        *cache = 0;\n        fs.flash.readBytes(fs.pageAddr(newReadPage), fs.buf, SPIFLASH_PAGE_SIZE);\n        readPageSize = fs.dataPageSize();\n    }\n    else\n        readPageSize++;\n\n    readPage = newReadPage;\n    readOffsetInPage = 0;\n    return true;\n}\n\nuint32_t File::size()\n{\n    primary()->computeWritePage();\n    return metaSize;\n}\n\nFile *File::primary()\n{\n    for (auto p = fs.files; p; p = p->next)\n        if (p->metaPage == metaPage)\n            return p;\n    oops();\n    return NULL;\n}\n\nint File::read(void *data, uint32_t len)\n{\n    if (!len)\n        return 0;\n\n    if (writePage != SNORFS_COMPUTING_WRITE_PAGE)\n        fs.lock();\n\n    if (len > 0x7fffffffU)\n        len = 0x7fffffffU;\n\n    uint16_t seekCache = 0;\n    int nread = 0;\n    while (len > 0)\n    {\n        if (readOffsetInPage >= readPageSize)\n        {\n            if (!seekNextPage(&seekCache))\n                break;\n        }\n\n        int n = min((int)len, readPageSize - readOffsetInPage);\n        if (data)\n        {\n            fs.flash.readBytes(fs.pageAddr(readPage) + readOffsetInPage, data, n);\n            data = (uint8_t *)data + n;\n        }\n        nread += n;\n        len -= n;\n        readOffset += n;\n        readOffsetInPage += n;\n    }\n\n    if (writePage != SNORFS_COMPUTING_WRITE_PAGE)\n        fs.unlock();\n\n    return nread;\n}\n\nvoid File::computeWritePage()\n{\n    if (isDeleted())\n        oops();\n    if (writePage)\n        return;\n    auto prevOff = readOffset;\n    writePage = SNORFS_COMPUTING_WRITE_PAGE;\n    seek(0xffffffff);\n    auto newWritePage = readPage;\n    writeMetaPage = readMetaPage;\n    writeOffsetInPage = readOffsetInPage;\n    writeNumExplicitSizes = 0;\n    if (writePage)\n    {\n        fs.flash.readBytes(fs.pageAddr(writePage), fs.buf, SPIFLASH_PAGE_SIZE);\n        for (int i = SPIFLASH_PAGE_SIZE - 1; i >= 0; --i)\n        {\n            if (fs.buf[i] == 0xff)\n                break;\n            writeNumExplicitSizes++;\n        }\n    }\n    for (auto p = fs.files; p; p = p->next)\n        if (p->metaPage == metaPage)\n            p->metaSize = readOffset;\n    seek(prevOff);\n    writePage = newWritePage;\n}\n\nvoid File::append(const void *data, uint32_t len)\n{\n    if (len == 0)\n        return;\n\n    auto prim = primary();\n    if (prim != this)\n    {\n        prim->append(data, len);\n        return;\n    }\n\n    fs.lock();\n\n    computeWritePage();\n\n    while (len > 0)\n    {\n        int nwrite =\n            min((int)len, SPIFLASH_PAGE_SIZE - (writeNumExplicitSizes + 2) - writeOffsetInPage);\n        if (nwrite <= 0 || writePage == 0)\n        {\n            allocatePage();\n            continue;\n        }\n\n        LOGV(\"write: left=%d page=0x%x nwr=%d off=%d\\n\", len, writePage, nwrite, writeOffsetInPage);\n\n        fs.flash.writeBytes(fs.pageAddr(writePage) + writeOffsetInPage, data, nwrite);\n\n        writeOffsetInPage += nwrite;\n\n        // if the last byte was 0xff, we need an end marker\n        if (((uint8_t *)data)[nwrite - 1] == 0xff)\n        {\n            fs.flash.writeBytes(fs.pageAddr(writePage) + SPIFLASH_PAGE_SIZE -\n                                    (writeNumExplicitSizes++ + 1),\n                                &writeOffsetInPage, 1);\n        }\n\n        len -= nwrite;\n        data = (uint8_t *)data + nwrite;\n\n        for (auto p = fs.files; p; p = p->next)\n            if (p->metaPage == metaPage)\n            {\n                if (writePage == p->readPage)\n                    p->readPageSize = writeOffsetInPage;\n                p->metaSize += nwrite;\n            }\n    }\n\n    fs.unlock();\n}\n\nvoid File::allocatePage()\n{\n    fs.feedRandom(fileID());\n\n    fs.flash.readBytes(fs.pageAddr(writeMetaPage), fs.buf, SPIFLASH_PAGE_SIZE);\n    int next = 0;\n    int last = 0;\n    uint16_t nextPP;\n    for (int i = fs.metaStart(NULL, &nextPP); i + 2 < SPIFLASH_PAGE_SIZE; i += 3)\n    {\n        if (fs.buf[i] == 0xff && fs.buf[i + 1] == 0xff)\n        {\n            next = i;\n            break;\n        }\n        last = i;\n    }\n\n    if (last && fs.buf[last + 2] != 0xff)\n        oops();\n\n    if (writePage && last)\n    {\n#ifdef SNORFS_TEST\n        fs.flash.readBytes(fs.pageAddr(writePage), fs.buf, SPIFLASH_PAGE_SIZE);\n        uint8_t len = fs.dataPageSize();\n        if (len != writeOffsetInPage)\n            oops();\n#endif\n        uint8_t v = writeOffsetInPage - 1;\n        fs.flash.writeBytes(fs.pageAddr(writeMetaPage) + last + 2, &v, 1);\n    }\n\n    if (!next)\n    {\n        uint16_t newMeta = fs.findFreePage(false);\n        fs.markPage(newMeta, 0x02);\n        uint8_t hd[] = {0x02, 0x00};\n        fs.flash.writeBytes(fs.pageAddr(newMeta), hd, 2);\n        fs.flash.writeBytes(fs.pageAddr(writeMetaPage) + nextPP, &newMeta, 2);\n        writeMetaPage = newMeta;\n        next = 4;\n    }\n\n    // if writePage is set, try to keep the new page on the same row - this helps with\n    // delete locality\n    writePage = fs.findFreePage(true, writePage);\n    fs.markPage(writePage, 1);\n    fs.flash.writeBytes(fs.pageAddr(writeMetaPage) + next, &writePage, 2);\n    writeOffsetInPage = 0;\n    writeNumExplicitSizes = 0;\n}\n\nvoid File::delCore(bool delMeta)\n{\n    rewind();\n    uint16_t cache = 0;\n    uint16_t prev = 0;\n    bool empty = true;\n\n    for (;;)\n    {\n        if (!seekNextPage(&cache))\n            break;\n        empty = false;\n        if (readMetaPage != prev)\n        {\n            if (delMeta)\n                fs.markPage(readMetaPage, 0);\n            prev = readMetaPage;\n        }\n        fs.markPage(readPage, 0);\n    }\n\n    if (delMeta && empty)\n    {\n        fs.markPage(metaPage, 0);\n    }\n\n    if (!delMeta && readMetaPage != metaPage)\n        oops();\n\n    for (auto p = fs.files; p; p = p->next)\n        if (p->metaPage == metaPage)\n        {\n            p->rewind();\n            p->metaSize = 0;\n            p->writePage = 0xffff;\n        }\n}\n\nvoid File::del()\n{\n    fs.lock();\n    primary()->delCore(true);\n    fs.unlock();\n}\n\nvoid File::overwrite(const void *data, uint32_t len)\n{\n\n    auto prim = primary();\n    if (prim != this)\n    {\n        prim->overwrite(data, len);\n        return;\n    }\n\n    fs.lock();\n\n    fs.flash.readBytes(metaPageAddr(), fs.buf, SPIFLASH_PAGE_SIZE);\n    int freePtr = 0;\n    for (int i = fs.metaStart(); i + 2 + 6 < SPIFLASH_PAGE_SIZE; i += 3)\n    {\n        if (fs.buf[i] == 0xff && fs.buf[i + 1] == 0xff)\n        {\n            freePtr = i;\n            break;\n        }\n    }\n\n    if (freePtr)\n    {\n        uint8_t clearMark[] = {0, 0, 0};\n        delCore(false);\n        fs.flash.writeBytes(metaPageAddr() + freePtr, clearMark, 3);\n    }\n    else\n    {\n        int len = strlen((char *)fs.buf + 1);\n        char tmp[len];\n        strcpy(tmp, (char *)fs.buf + 1);\n        delCore(true);\n        metaPage = fs.createMetaPage(tmp);\n    }\n    writePage = 0;\n    rewind();\n    fs.unlock();\n\n    append(data, len);\n}\n\nint FS::readFlashBytes(uint32_t addr, void *buffer, uint32_t len)\n{\n    lock();\n    int r = flash.readBytes(addr, buffer, len);\n    unlock();\n    return r;\n}\n\n#ifdef SNORFS_TEST\nvoid FS::dump()\n{\n    if (numRows == 0)\n    {\n        LOG(\"not mounted\\n\");\n        mount();\n    }\n    LOG(\"row#: %d; remap: \", numRows);\n\n    for (unsigned i = 0; i < numRows + 1; ++i)\n    {\n        BlockHeader hd;\n        auto addr = i * SPIFLASH_BIG_ROW_SIZE;\n        flash.readBytes(addr, &hd, sizeof(hd));\n        LOG(\"[%d: %d] \", (int16_t)hd.logicalBlockId, hd.eraseCount);\n    }\n\n    LOG(\"free: %d/%d, (junk: %d)\", freePages + deletedPages, fullPages + freePages + deletedPages,\n        deletedPages);\n    LOG(\"\\n\");\n}\n\nvoid FS::debugDump()\n{\n    // dump();\n}\n\nvoid File::debugDump()\n{\n    LOGV(\"fileID: 0x%x, rd: 0x%x/%d, wr: 0x%x/%d\\n\", fileID(), readPage, tell(), writePage,\n         metaSize);\n}\n#endif",
            "SNORFS.h": "#ifndef CODAL_SNORFS_H\n#define CODAL_SNORFS_H\n\n#include \"SPIFlash.h\"\n\n#define DEVICE_FLASH_ERROR 950\n\nnamespace codal\n{\nnamespace snorfs\n{\n\nclass File;\n\nstruct DirEntry\n{\n    uint32_t size;\n    uint16_t flags;\n    uint16_t fileID;\n    char name[65];\n};\n\n// Supported flash size: 1-16MB\nclass FS\n{\n    friend class File;\n\n    SPIFlash &flash;\n    uint8_t buf[SPIFLASH_PAGE_SIZE];\n\n    File *files;\n\n    uint8_t *rowRemapCache;\n    uint8_t numRows;\n    uint8_t numMetaRows;\n    uint8_t freeRow;\n    volatile bool locked;\n\n    uint32_t randomSeed;\n\n    // this is for data pages only\n    uint16_t fullPages;\n    uint16_t deletedPages;\n    uint16_t freePages;\n\n    uint16_t dirptr;\n\n    uint32_t rowAddr(uint8_t rowIdx)\n    {\n        if (rowIdx >= numRows)\n            target_panic(DEVICE_FLASH_ERROR);\n        return rowRemapCache[rowIdx] * SPIFLASH_BIG_ROW_SIZE;\n    }\n    uint32_t indexAddr(uint16_t ptr)\n    {\n        return rowAddr(ptr >> 8) + SPIFLASH_BIG_ROW_SIZE - SPIFLASH_PAGE_SIZE + (ptr & 0xff);\n    }\n    uint32_t pageAddr(uint16_t ptr)\n    {\n        // page zero is index, shouldn't be accessed through this\n        if (!(ptr & 0xff))\n            target_panic(DEVICE_FLASH_ERROR);\n        return rowAddr(ptr >> 8) + SPIFLASH_PAGE_SIZE * (ptr & 0xff);\n    }\n\n    int firstFree(uint16_t pageIdx);\n    uint16_t findFreePage(bool isData, uint16_t hint = 0);\n    uint32_t random(uint32_t max);\n    void feedRandom(uint32_t max);\n    void mount();\n    void format();\n    uint16_t findMetaEntry(const char *filename);\n    uint16_t createMetaPage(const char *filename);\n    bool readHeaders();\n    void gcCore(bool force, bool isData);\n    void swapRow(int row);\n    void markPage(uint16_t page, uint8_t flag);\n    uint8_t dataPageSize();\n    uint16_t read16(int off);\n    int metaStart(uint16_t *nextPtr = NULL, uint16_t *nextPtrPtr = NULL);\n    uint32_t fileSize(uint16_t metaPage);\n    void lock();\n    void unlock();\n    bool pageErased(uint32_t addr);\n    bool rowErased(uint32_t addr, bool checkFull);\n\npublic:\n    FS(SPIFlash &f);\n    ~FS();\n    // returns NULL if file doesn't exists and create==false\n    File *open(const char *filename, bool create = true);\n    File *open(uint16_t fileID);\n    bool exists(const char *filename);\n    uint32_t rawSize() { return flash.numPages() * SPIFLASH_PAGE_SIZE; }\n    uint32_t totalSize() { return (fullPages + deletedPages + freePages) * SPIFLASH_PAGE_SIZE; }\n    uint32_t freeSize() { return (deletedPages + freePages) * SPIFLASH_PAGE_SIZE; }\n    void busy(bool isBusy = true);\n    void maybeGC();\n    // this allow raw r/o access; will lock the instance as needed\n    int readFlashBytes(uint32_t addr, void *buffer, uint32_t len);\n    bool tryMount();\n\n    void dirRewind() { dirptr = 0; }\n    DirEntry *dirRead(); // data is only valid until next call to to any of File or FS function\n\n#ifdef SNORFS_TEST\n    void debugDump();\n    void dump();\n#else\n    void debugDump() {}\n#endif\n};\n\nclass File\n{\n    // Invariants:\n    // firstPage == 0 <==> no pages has been allocated\n    // readOffset % SPIFLASH_PAGE_SIZE == 0 && readPage != 0 ==>\n    //       readPage is on page for (readOffset - 1)\n    // writePage % SPIFLASH_PAGE_SIZE == 0 && writePage != 0 ==>\n    //       writePage is on page for (metaSize - 1)\n    // if readPage is 0 it needs to be recomputed\n    // if writePage is 0 it needs to be recomputed\n\n    friend class FS;\n\n    FS &fs;\n    File *next;\n    uint32_t metaSize;\n\n    uint16_t metaPage; // the address of main meta entry\n\n    // this is for reading\n    uint16_t readMetaPage;\n    uint16_t readPage;\n    uint8_t readOffsetInPage;\n    uint8_t readPageSize;\n    uint32_t readOffset;\n\n    // this is for writing (append)\n    uint16_t writeMetaPage;\n    uint16_t writePage;\n    uint8_t writeOffsetInPage;\n    uint8_t writeNumExplicitSizes;\n\n    uint32_t metaPageAddr() { return fs.pageAddr(metaPage); }\n\n    void rewind();\n    bool seekNextPage(uint16_t *cache);\n    void allocatePage();\n    void newMetaPage();\n    void findFreeMetaPage();\n    void computeWritePage();\n    void saveSizeDiff(int32_t sizeDiff);\n    void appendCore(const void *data, uint32_t len);\n    void delCore(bool delMeta);\n    File(FS &f, uint16_t filePage);\n    File(FS &f, const char *filename);\n    File *primary();\n\npublic:\n    int read(void *data, uint32_t len);\n    void append(const void *data, uint32_t len);\n    void seek(uint32_t pos);\n    uint32_t size();\n    uint32_t tell() { return readOffset; }\n    uint32_t fileID() { return metaPage; }\n    bool isDeleted() { return writePage == 0xffff; }\n    void overwrite(const void *data, uint32_t len);\n    void del();\n    void truncate() { overwrite(NULL, 0); }\n    ~File();\n#ifdef SNORFS_TEST\n    void debugDump();\n#endif\n};\n}\n}\n\n#endif\n",
            "pxt.json": "{\n    \"name\": \"storage\",\n    \"description\": \"USB Pen-drive support and flash storage\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"SNORFS.cpp\",\n        \"SNORFS.h\",\n        \"GhostSNORFS.cpp\",\n        \"GhostSNORFS.h\",\n        \"storage.cpp\",\n        \"storage.ts\",\n        \"shims.d.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"yotta\": {\n        \"config\": {\n            \"DEVICE_USB\": 1\n        }\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace storage {\n\n    /** \n     * Append a buffer to a new or existing file. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\" shim=storage::appendBuffer\n    function appendBuffer(filename: string, data: Buffer): void;\n\n    /** \n     * Overwrite file with a buffer. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\" shim=storage::overwriteWithBuffer\n    function overwriteWithBuffer(filename: string, data: Buffer): void;\n\n    /** \n     * Return true if the file already exists. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\"\n    //% blockId=\"storage_exists\" block=\"file $filename exists\" shim=storage::exists\n    function exists(filename: string): boolean;\n\n    /** \n     * Delete a file, or do nothing if it doesn't exist. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\"\n    //% blockId=\"storage_remove\" block=\"remove file $filename\" shim=storage::remove\n    function remove(filename: string): void;\n\n    /** \n     * Return the size of the file, or -1 if it doesn't exists. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\"\n    //% blockId=\"storage_size\" block=\"size of file $filename\" shim=storage::size\n    function size(filename: string): int32;\n\n    /** \n     * Read contents of file as a buffer. \n     * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\" shim=storage::readAsBuffer\n    function readAsBuffer(filename: string): Buffer;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "storage.cpp": "#include \"pxt.h\"\n#include \"SPI.h\"\n\n#include \"GhostSNORFS.h\"\n#include \"StandardSPIFlash.h\"\n\nnamespace storage {\n\nclass PXTMSC : public GhostSNORFS {\n  public:\n    virtual const char *volumeLabel() { return \"MAKECODE\"; }\n    PXTMSC(snorfs::FS &fs) : GhostSNORFS(fs) {}\n};\n\nclass WStorage {\n  public:\n    CODAL_SPI flashSPI;\n    StandardSPIFlash flash;\n    snorfs::FS fs;\n    PXTMSC msc;\n    bool mounted;\n\n    WStorage()\n        : flashSPI(*LOOKUP_PIN(FLASH_MOSI), *LOOKUP_PIN(FLASH_MISO), *LOOKUP_PIN(FLASH_SCK)),\n          flash(flashSPI, *LOOKUP_PIN(FLASH_CS),\n                getConfig(CFG_FLASH_BYTES, 2 * 1024 * 1024) / SPIFLASH_PAGE_SIZE),\n          fs(flash), msc(fs) {\n        // see if we can mount it\n        mounted = fs.tryMount();\n    }\n};\nSINGLETON_IF_PIN(WStorage, FLASH_MOSI);\n\nstatic WStorage *mountedStorage() {\n    auto s = getWStorage();\n    if (!s) \n        return NULL;\n\n    if (s->mounted)\n        return s;\n    \n    DMESG(\"formatting storage\");\n    s->fs.exists(\"foobar\"); // forces mount\n    s->mounted = true;\n\n    return s;\n\n/*\n    auto p = LOOKUP_PIN(LED);\n    // lock-up blinking LED\n    // TODO wait for A+B, erase SPI chip, and reset\n    while (1) {\n        p->setDigitalValue(1);\n        fiber_sleep(100);\n        p->setDigitalValue(0);\n        fiber_sleep(100);\n    }\n    */\n}\n\n//%\nvoid init() {\n    usb.delayStart();\n    auto s = getWStorage();\n    if (s && s->mounted) {\n        usb.add(s->msc);\n        s->msc.addFiles();\n    }\n    usb.start();\n}\n\nsnorfs::File *getFile(String filename) {\n    auto st = mountedStorage();\n    if (!st) \n        return NULL;\n\n    // maybe we want to keep say up to 5 files open?\n    static String currFilename;\n    static snorfs::File *currFile;\n\n    if (!currFilename) {\n        registerGC((TValue*)&currFilename);\n    } else {\n        if (filename && String_::compare(currFilename, filename) == 0)\n            return currFile;\n        delete currFile;\n    }\n    currFilename = filename;\n    // TODO: fix UTF8 encoding\n    currFile = filename == NULL ? NULL : st->fs.open(filename->getUTF8Data());\n    return currFile;\n}\n\n/** \n* Append a buffer to a new or existing file. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\nvoid appendBuffer(String filename, Buffer data) {\n    auto f = getFile(filename);\n    if (NULL == f) return;\n    f->append(data->data, data->length);\n}\n\n/** \n* Overwrite file with a buffer. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\nvoid overwriteWithBuffer(String filename, Buffer data) {\n    auto f = getFile(filename);\n    if (NULL == f) return;\n    f->overwrite(data->data, data->length);\n}\n\n/** \n* Return true if the file already exists. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\n//% blockId=\"storage_exists\" block=\"file $filename exists\"\nbool exists(String filename) {\n    auto st = mountedStorage();\n    return !!st && st->fs.exists(filename->getUTF8Data());\n}\n\n/** \n* Delete a file, or do nothing if it doesn't exist. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\n//% blockId=\"storage_remove\" block=\"remove file $filename\"\nvoid remove(String filename) {\n    if (!exists(filename))\n        return;\n    auto f = getFile(filename);\n    f->del();\n    getFile(NULL);\n}\n\n/** \n* Return the size of the file, or -1 if it doesn't exists. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\n//% blockId=\"storage_size\" block=\"size of file $filename\"\nint size(String filename) {\n    if (!exists(filename))\n        return -1;\n    auto f = getFile(filename);    \n    return f->size();\n}\n\n/** \n* Read contents of file as a buffer. \n* @param filename name of the file, eg: \"log.txt\"\n*/\n//% parts=\"storage\"\nBuffer readAsBuffer(String filename) {\n    auto f = getFile(filename);\n    if (NULL == f) \n        return NULL;\n    auto sz = f->size();\n    if (sz > 0xffff)\n        return NULL;\n    auto res = mkBuffer(NULL, sz);\n    f->seek(0);\n    f->read(res->data, res->length);\n    return res;\n}\n\n} // namespace storage\n",
            "storage.ts": "/** \n * File storage operations\n*/\n//% weight=5 color=#00c0c0 icon=\"\\uf07b\"\nnamespace storage {\n    export let NEW_LINE = \"\\n\";\n\n    //% shim=storage::init\n    function init() { }\n\n    // init() needs to be called at the beginning of the program, so it gets a chance\n    // to register its USB handler\n    init();\n\n    /**\n     * Appends a new line to the file\n    * @param filename name of the file, eg: \"log.txt\"\n     */\n    //% parts=\"storage\" \n    //% blockId=\"storage_append_line\" block=\"append file $filename with line $data\"\n    export function appendLine(filename: string, data: string): void {\n        append(filename, data + NEW_LINE);\n    }\n\n    /** \n    * Append string data to a new or existing file. \n    * @param filename name of the file, eg: \"log.txt\"\n    */\n    //% parts=\"storage\" \n    //% blockId=\"storage_append\" block=\"append file $filename with $data\"\n    export function append(filename: string, data: string) {\n        appendBuffer(filename, control.createBufferFromUTF8(data));\n    }\n\n    /** \n    * Overwrite file with string data. \n    * @param filename name of the file, eg: \"log.txt\"\n    */\n    //% parts=\"storage\"\n    //% blockId=\"storage_overwrite\" block=\"overwrite file $filename with $data\"\n    export function overwrite(filename: string, data: string) {\n        overwriteWithBuffer(filename, control.createBufferFromUTF8(data));\n    }\n\n    /** \n    * Read contents of file as a string. \n    * @param filename name of the file, eg: \"log.txt\"\n    */\n    //% parts=\"storage\"\n    //% blockId=\"storage_read\" block=\"read file $filename\"\n    export function read(filename: string) {\n        const buf = readAsBuffer(filename);\n        if (!buf)\n            return null;\n        return buf.toString();\n    }\n}\n"
        },
        "serial": {
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum BaudRate {\n    //% block=115200\n    BaudRate115200 = 115200,\n    //% block=57600\n    BaudRate57600 = 57600,\n    //% block=38400\n    BaudRate38400 = 38400,\n    //% block=31250\n    BaudRate31250 = 31250,\n    //% block=28800\n    BaudRate28800 = 28800,\n    //% block=19200\n    BaudRate19200 = 19200,\n    //% block=14400\n    BaudRate14400 = 14400,\n    //% block=9600\n    BaudRate9600 = 9600,\n    //% block=4800\n    BaudRate4800 = 4800,\n    //% block=2400\n    BaudRate2400 = 2400,\n    //% block=1200\n    BaudRate1200 = 1200,\n    //% block=300\n    BaudRate300 = 300,\n    }\n\n\n    declare const enum SerialEvent {\n    //% block=\"data received\"\n    DataReceived = 4,  // CODAL_SERIAL_EVT_DATA_RECEIVED\n    //% block=\"rx buffer full\"\n    RxBufferFull = 3,  // CODAL_SERIAL_EVT_RX_FULL\n    }\n\n\n    declare const enum Delimiters {\n    //% block=\"new line\"\n    NewLine = 10,\n    //% block=\",\"\n    Comma = 44,\n    //% block=\"$\"\n    Dollar = 36,\n    //% block=\":\"\n    Colon = 58,\n    //% block=\".\"\n    Fullstop = 46,\n    //% block=\"#\"\n    Hash = 35,\n    //% block=\";\"\n    SemiColumn = 59,\n    //% block=\"space\",\n    Space = 32,\n    //% block=\"tab\"\n    Tab = 9,\n    //% block=\"pipe\"\n    Pipe = 124,\n    }\n\n// Auto-generated. Do not edit. Really.\n",
            "pxt.json": "{\n    \"name\": \"serial\",\n    \"description\": \"UART communication\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"serial-target.h\",\n        \"serial-common.h\",\n        \"serial-target.cpp\",\n        \"serial-common.cpp\",\n        \"serial-target.ts\",\n        \"serial.ts\",\n        \"enums.d.ts\",\n        \"shims.d.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "serial-common.cpp": "#include \"pxt.h\"\n#include \"serial-target.h\"\n\nnamespace SerialDeviceMethods {\n/**\n * Sets the size of the RX buffer in bytes\n */\n//%\nvoid setRxBufferSize(SerialDevice device, uint8_t size) {\n    device->setRxBufferSize(size);\n}\n\n/**\n * Sets the size of the TX buffer in bytes\n */\n//%\nvoid setTxBufferSize(SerialDevice device, uint8_t size) {\n    device->setTxBufferSize(size);\n}\n\n/**\nSet the baud rate of the serial port\n*/\n//%\nvoid setBaudRate(SerialDevice device, BaudRate rate) {\n    device->setBaudRate((int)rate);\n}\n\n/**\n * Reads a single byte from the serial receive buffer. Negative if error, 0 if no data.\n */\n//%\nint read(SerialDevice device) {\n    return device->read();\n}\n\n/**\n * Read the buffered received data as a buffer\n */\n//%\nBuffer readBuffer(SerialDevice device) {\n    return device->readBuffer();\n}\n\n/**\n * Send a buffer across the serial connection.\n */\n//%\nvoid writeBuffer(SerialDevice device, Buffer buffer) {\n    device->writeBuffer(buffer);\n}\n\n/**\n * Register code when a serial event occurs\n */\n//%\nvoid onEvent(SerialDevice device, SerialEvent event, Action handler) {\n    device->onEvent(event, handler);\n}\n\n/**\n * Registers code when a delimiter is received\n **/\n//%\nvoid onDelimiterReceived(SerialDevice device, Delimiters delimiter, Action handler) {\n    device->onDelimiterReceived(delimiter, handler);\n}\n} // namespace SerialDeviceMethods\n",
            "serial-common.h": "#pragma once\n#include \"pxt.h\"\n#include \"serial-target.h\"\n\nenum class BaudRate {\n  //% block=115200\n  BaudRate115200 = 115200,\n  //% block=57600\n  BaudRate57600 = 57600,\n  //% block=38400\n  BaudRate38400 = 38400,\n  //% block=31250\n  BaudRate31250 = 31250,\n  //% block=28800\n  BaudRate28800 = 28800,\n  //% block=19200\n  BaudRate19200 = 19200,\n  //% block=14400\n  BaudRate14400 = 14400,\n  //% block=9600\n  BaudRate9600 = 9600,\n  //% block=4800\n  BaudRate4800 = 4800,\n  //% block=2400\n  BaudRate2400 = 2400,\n  //% block=1200\n  BaudRate1200 = 1200,\n  //% block=300\n  BaudRate300 = 300\n};\n\nenum class SerialEvent {\n    //% block=\"data received\"\n    DataReceived = CODAL_SERIAL_EVT_DATA_RECEIVED,\n    //% block=\"rx buffer full\"\n    RxBufferFull = CODAL_SERIAL_EVT_RX_FULL\n};\n\nenum class Delimiters {\n    //% block=\"new line\"\n    NewLine = 10, //'\\n',\n    //% block=\",\"\n    Comma = 44, //',',\n    //% block=\"$\"\n    Dollar = 36, // '$',\n    //% block=\":\"\n    Colon = 58, // ':',\n    //% block=\".\"\n    Fullstop = 46, //'.',\n    //% block=\"#\"\n    Hash = 35, //'#',\n    //% block=\";\"\n    SemiColumn = 59,\n    //% block=\"space\",\n    Space = 32,\n    //% block=\"tab\"\n    Tab = 9, //'\\t'\n    //% block=\"pipe\"\n    Pipe = 124 // `|`,\n};\n\n",
            "serial-target.cpp": "#include \"pxt.h\"\n#include \"serial-target.h\"\n\nnamespace serial {\n\nstatic SerialDevice serialDevices(NULL);\n/**\n * Opens a Serial communication driver\n */\n//%\nSerialDevice internalCreateSerialDevice(DigitalInOutPin tx, DigitalInOutPin rx, int id) {\n    auto dev = serialDevices;\n    while (dev) {\n        if (dev->matchPins(tx, rx))\n            return dev;\n        dev = dev->next;\n    }\n\n    // allocate new one\n    auto ser = new CodalSerialDeviceProxy(tx, rx, id);\n    ser->next = serialDevices;\n    serialDevices = ser;\n    return ser;\n}\n\n} // namespace serial\n\nnamespace SerialDeviceMethods {\n\n/**\n */\n//%\nvoid redirect(SerialDevice device, DigitalInOutPin tx, DigitalInOutPin rx, BaudRate rate) {\n    device->redirect(tx, rx, rate);\n}\n\n} // namespace SerialDeviceMethods\n",
            "serial-target.h": "#pragma once\n#include \"pxt.h\"\n#include \"Serial.h\"\n\nenum class SerialEvent;\nenum class BaudRate;\nenum class Delimiters;\n\nnamespace serial {\n\nclass CodalSerialDeviceProxy {\n  private:\n    DevicePin *tx;\n    DevicePin *rx;\n\n  public:\n    CODAL_SERIAL ser;\n    CodalSerialDeviceProxy *next;\n\n    CodalSerialDeviceProxy(DevicePin *_tx, DevicePin *_rx, uint16_t id)\n        : tx(_tx), rx(_rx), ser(*tx, *rx), next(NULL) {\n        if (id <= 0)\n            id = allocateNotifyEvent();\n        ser.id = id;\n        ser.setBaud(115200);\n    }\n\n    bool matchPins(DevicePin *_tx, DevicePin *_rx) { return this->tx == _tx && this->rx == _rx; }\n\n    void setRxBufferSize(uint8_t size) { ser.setRxBufferSize(size); }\n\n    void setTxBufferSize(uint8_t size) { ser.setTxBufferSize(size); }\n\n    void setBaudRate(int rate) { ser.setBaud(rate); }\n\n    int read() {\n        uint8_t buf[1];\n        auto r = ser.read(buf, 1, codal::SerialMode::ASYNC);\n        // r < 0 => error\n        if (r < 0)\n            return r;\n        // r == 0, nothing read\n        if (r == 0)\n            return DEVICE_NO_DATA;\n        // read 1 char\n        return buf[0];\n    }\n\n    Buffer readBuffer() {\n        int n = ser.getRxBufferSize();\n        // n maybe 0 but we still call read to force\n        // to initialize rx\n        auto buf = mkBuffer(NULL, n);\n        auto read = ser.read(buf->data, buf->length, SerialMode::ASYNC);\n        if (read == DEVICE_SERIAL_IN_USE || read == 0) { // someone else is reading\n            return mkBuffer(NULL, 0);\n        }\n        if (buf->length != read) {\n            registerGCObj(buf);\n            auto buf2 = mkBuffer(buf->data, read);\n            unregisterGCObj(buf);\n            buf = buf2;\n        }\n        return buf;\n    }\n\n    void writeBuffer(Buffer buffer) {\n        if (NULL == buffer)\n            return;\n        ser.send(buffer->data, buffer->length);\n    }\n\n    void redirect(DevicePin *tx, DevicePin *rx, BaudRate rate) {\n        this->tx = tx;\n        this->rx = rx;\n        this->ser.redirect(*tx, *rx);\n        this->setBaudRate((int)rate);\n    }\n\n    void onEvent(SerialEvent event, Action handler) {\n        ser.setRxBufferSize(ser.getRxBufferSize()); // turn on reading\n        registerWithDal(ser.id, (int)event, handler);\n    }\n\n    void onDelimiterReceived(Delimiters delimiter, Action handler) {\n        registerWithDal(ser.id, CODAL_SERIAL_EVT_DELIM_MATCH, handler);\n        ManagedString d((char)delimiter);\n        ser.eventOn(d);\n    }\n};\n\ntypedef CodalSerialDeviceProxy *SerialDevice;\n\n} // namespace serial\n",
            "serial-target.ts": "namespace serial {\n    /**\n     * Creates a serial comm device\n     * @param tx \n     * @param rx \n     * @param id \n     */\n    //% help=serial/create-serial\n    //% parts=serial\n    export function createSerial(tx: DigitalInOutPin, rx: DigitalInOutPin, id?: number): Serial {\n        const dev = serial.internalCreateSerialDevice(tx, rx, id || 0);\n        return new Serial(dev);\n    }\n\n    let _device: Serial;\n    export function device(): Serial {\n        if (!_device) {\n            const tx = pins.pinByCfg(DAL.CFG_PIN_TX);\n            const rx = pins.pinByCfg(DAL.CFG_PIN_RX);\n            if (!tx || !rx) return undefined;\n            _device = serial.createSerial(tx, rx, DAL.DEVICE_ID_SERIAL);\n        }\n        return _device;\n    }\n\n\n    /**\n    * Set the serial input and output to use pins instead of the USB connection.\n    * @param tx the new transmission pin\n    * @param rx the new reception pin\n    * @param rate the new baud rate\n    */\n    //% weight=10\n    //% help=serial/redirect\n    //% blockId=serial_redirect block=\"serial|redirect to|TX %tx|RX %rx at rate %rate\"\n    //% tx.fieldEditor=\"gridpicker\" tx.fieldOptions.columns=3\n    //% tx.fieldOptions.tooltips=\"false\"\n    //% rx.fieldEditor=\"gridpicker\" rx.fieldOptions.columns=3\n    //% rx.fieldOptions.tooltips=\"false\"\n    //% blockGap=8 inlineInputMode=inline\n    //% group=\"Configuration\"\n    export function redirect(tx: DigitalInOutPin, rx: DigitalInOutPin, rate: BaudRate) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.redirect(tx, rx, rate);\n    }\n}\n",
            "serial.ts": "/**\n * Reading and writing data over a serial connection.\n */\n//% weight=2 color=#002050 icon=\"\\uf287\"\n//% advanced=true blockGap=8\n//% groups='[\"Write\", \"Read\", \"Events\", \"Configuration\"]'\nnamespace serial {\n    export let NEW_LINE = \"\\r\\n\"; // \\r require or Putty really unhappy on windows\n\n    export class Serial {\n        serialDevice: SerialDevice;\n        decoder: UTF8Decoder;\n        constructor(serialDevice: SerialDevice) {\n            this.serialDevice = serialDevice;\n            this.decoder = new UTF8Decoder();\n        }\n\n        readString(): string {\n            const buf = this.serialDevice.readBuffer();\n            this.decoder.add(buf);\n            return this.decoder.decode();\n        }\n\n        readLine(timeOut?: number): string {\n            return this.readUntil(Delimiters.NewLine, timeOut);\n        }\n\n        readUntil(delimiter: Delimiters, timeOut?: number): string {\n            const start = control.millis();\n            do {\n                const s = this.decoder.decodeUntil(delimiter);\n                if (s !== undefined)\n                    return s;\n                const b = this.serialDevice.readBuffer()\n                this.decoder.add(b);\n                pause(1);\n            }\n            while (timeOut === undefined || (control.millis() - start < timeOut));\n            // giving up\n            return \"\";\n        }\n\n        writeString(text: string) {\n            if (!text) return;\n            const buf = control.createBufferFromUTF8(text);\n            this.serialDevice.writeBuffer(buf);\n        }\n\n        writeLine(text: string) {\n            this.writeString(text);\n            this.writeString(serial.NEW_LINE);\n        }\n    }\n\n    /**\n    * Read the buffered received data as a string\n    */\n    //% help=serial/read-string\n    //% blockId=serial_read_string block=\"serial|read string\"\n    //% weight=18\n    //% group=\"Read\"\n    export function readString(): string {\n        const d = device();\n        return d ? d.readString() : \"\";\n    }\n\n    /**\n     * Read a line of text from the serial port.\n     */\n    //% help=serial/read-line\n    //% blockId=serial_read_line block=\"serial|read line\"\n    //% weight=20 blockGap=8\n    //% group=\"Read\"\n    export function readLine(): string {\n        const d = device();\n        return d ? d.readLine() : \"\";\n    }\n\n    /**\n     * Read a line of text from the serial port and return the buffer when the delimiter is met.\n     * @param delimiter text delimiter that separates each text chunk\n     */\n    //% help=serial/read-until\n    //% blockId=serial_read_until block=\"serial|read until %delimiter=serial_delimiter_conv\"\n    //% weight=19\n    //% group=\"Read\"    \n    export function readUntil(delimiter: Delimiters, timeOut?: number): string {\n        const d = device();\n        return d ? d.readUntil(delimiter, timeOut) : \"\";\n    }\n\n    /**\n     * Write some text to the serial port.\n     */\n    //% help=serial/write-string\n    //% weight=87\n    //% blockId=serial_writestring block=\"serial|write string %text\"\n    //% group=\"Write\"\n    export function writeString(text: string) {\n        const d = device();\n        if (d) d.writeString(text);\n    }\n\n    /**\n     * Write a line of text to the serial port.\n     * @param value to send over serial\n     */\n    //% weight=90\n    //% help=serial/write-line blockGap=8\n    //% blockId=serial_writeline block=\"serial|write line %text\"\n    //% group=\"Write\"\n    export function writeLine(text: string): void {\n        const d = device();\n        if (d) d.writeLine(text);\n    }\n\n    /**\n     * Write a number to the serial port.\n     */\n    //% help=serial/write-number\n    //% weight=89 blockGap=8\n    //% blockId=serial_writenumber block=\"serial|write number %value\"\n    //% group=\"Write\"\n    export function writeNumber(value: number): void {\n        writeString(value.toString());\n    }\n\n    /**\n     * Write a name:value pair as a line of text to the serial port.\n     * @param name name of the value stream, eg: \"x\"\n     * @param value to write\n     */\n    //% weight=88 blockGap=8\n    //% help=serial/write-value\n    //% blockId=serial_writevalue block=\"serial|write value %name|= %value\"\n    //% group=\"Write\"\n    export function writeValue(name: string, value: number): void {\n        if (name) {\n            writeString(name);\n            writeString(\":\");\n        }\n        writeNumber(value);\n        writeString(NEW_LINE);\n    }\n\n    /**\n    * Sets the size of the RX buffer in bytes\n    */\n    //% help=serial/set-rx-buffer-size\n    //% blockId=serialsetrxbuffersize block=\"serial set rx buffer size to $size\"\n    //% weight=10\n    //% group=\"Configuration\"\n    export function setRxBufferSize(size: number) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.setRxBufferSize(size);\n    }\n\n    /**\n    * Sets the size of the TX buffer in bytes\n    */\n    //% help=serial/set-tx-buffer-size\n    //% blockId=serialsettxbuffersize block=\"serial set tx buffer size to $size\"\n    //% weight=9\n    //% group=\"Configuration\"\n    export function setTxBufferSize(size: number) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.setTxBufferSize(size);\n    }\n\n    /**\n    * Reads a single byte from the serial receive buffer. Negative if error, 0 if no data.\n    */\n    //% Group=\"Read\"\n    export function read(): number {\n        const ser = device();\n        if (ser)\n            return ser.serialDevice.read();\n        else return DAL.DEVICE_NOT_SUPPORTED;\n    }\n\n    /**\n    * Read the buffered received data as a buffer\n    */\n    //% help=serial/read-buffer\n    //% blockId=serial_read_buffer block=\"serial|read buffer\"\n    //% weight=17\n    //% group=\"Read\"\n    export function readBuffer(): Buffer {\n        const ser = device();\n        if (ser)\n            return ser.serialDevice.readBuffer();\n        else\n            return control.createBuffer(0);\n    }\n\n\n    /**\n    * Send a buffer across the serial connection.\n    */\n    //% help=serial/write-buffer weight=6\n    //% blockId=serial_writebuffer block=\"serial|write buffer %buffer\"\n    //% group=\"Write\"\n    export function writeBuffer(buffer: Buffer) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.writeBuffer(buffer);\n    }\n\n\n    /**\n    Set the baud rate of the serial port\n    */\n    //% weight=10\n    //% blockId=serial_setbaudrate block=\"serial|set baud rate %rate\"\n    //% blockGap=8 inlineInputMode=inline\n    //% help=serial/set-baud-rate\n    //% group=\"Configuration\"\n    export function setBaudRate(rate: BaudRate) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.setBaudRate(rate);\n    }\n\n\n    /**\n      Send console messages through the TX, RX pins\n      **/\n    //% blockId=serialsendtoconsole block=\"serial attach to console\"\n    //% group=\"Configuration\"\n    //% help=serial/attach-to-console\n    export function attachToConsole() {\n        console.addListener(logListener)\n    }\n\n    function logListener(priority: ConsolePriority, text: string) {\n        switch (priority) {\n            case ConsolePriority.Debug: writeString(\"dbg> \"); break;\n            case ConsolePriority.Error: writeString(\"err> \"); break;\n            case ConsolePriority.Warning: writeString(\"wrn> \"); break;\n        }\n        writeLine(text);\n    }\n\n\n    /**\n    * Registers code when serial events happen\n    **/\n    //% weight=9\n    //% help=serial/on-event\n    //% blockId=serial_onevent block=\"serial on %event\"\n    //% blockGap=8\n    //% group=\"Events\"\n    export function onEvent(event: SerialEvent, handler: () => void) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.onEvent(event, handler);\n    }\n\n    /**\n    * Registers code when a delimiter is received\n    **/\n    //% weight=10\n    //% help=serial/on-delimiter-received\n    //% blockId=serial_ondelimiter block=\"serial on delimiter $delimiter received\"\n    //% blockGap=8\n    //% group=\"Events\"\n    export function onDelimiterReceived(delimiter: Delimiters, handler: () => void) {\n        const ser = device();\n        if (ser)\n            ser.serialDevice.onDelimiterReceived(delimiter, handler);\n    }\n}\n",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace serial {\n\n    /**\n     * Opens a Serial communication driver\n     */\n    //% shim=serial::internalCreateSerialDevice\n    function internalCreateSerialDevice(tx: DigitalInOutPin, rx: DigitalInOutPin, id: int32): SerialDevice;\n}\n\n\ndeclare interface SerialDevice {\n    /**\n     */\n    //% shim=SerialDeviceMethods::redirect\n    redirect(tx: DigitalInOutPin, rx: DigitalInOutPin, rate: BaudRate): void;\n}\n\n\ndeclare interface SerialDevice {\n    /**\n     * Sets the size of the RX buffer in bytes\n     */\n    //% shim=SerialDeviceMethods::setRxBufferSize\n    setRxBufferSize(size: uint8): void;\n\n    /**\n     * Sets the size of the TX buffer in bytes\n     */\n    //% shim=SerialDeviceMethods::setTxBufferSize\n    setTxBufferSize(size: uint8): void;\n\n    /**\n    Set the baud rate of the serial port\n     */\n    //% shim=SerialDeviceMethods::setBaudRate\n    setBaudRate(rate: BaudRate): void;\n\n    /**\n     * Reads a single byte from the serial receive buffer. Negative if error, 0 if no data.\n     */\n    //% shim=SerialDeviceMethods::read\n    read(): int32;\n\n    /**\n     * Read the buffered received data as a buffer\n     */\n    //% shim=SerialDeviceMethods::readBuffer\n    readBuffer(): Buffer;\n\n    /**\n     * Send a buffer across the serial connection.\n     */\n    //% shim=SerialDeviceMethods::writeBuffer\n    writeBuffer(buffer: Buffer): void;\n\n    /**\n     * Register code when a serial event occurs\n     */\n    //% shim=SerialDeviceMethods::onEvent\n    onEvent(event: SerialEvent, handler: () => void): void;\n\n    /**\n     * Registers code when a delimiter is received\n     **/\n    //% shim=SerialDeviceMethods::onDelimiterReceived\n    onDelimiterReceived(delimiter: Delimiters, handler: () => void): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "test.ts": "for(let i = 0; i < 10; ++i) {\n    serial.writeLine((++i).toString())\n}"
        },
        "jacdac": {
            "README.md": "# JACDAC\n\n## ~ hint\n\n**JACDAC is still in early prototyping phase.** The protocol and all hardware design are MOST LIKELY to change during this phase. You are welcome to join us in prototyping but we strongly recommend avoiding going to production with JACDAC at the current stage.\n\nTo join the discussion, join us on [Discord](https://discord.gg/9WMc5Es).\n\n## ~\n",
            "actuator.ts": "namespace jacdac {\n    export class ActuatorService extends Host {\n        stateLength: number;\n        state: Buffer;\n\n        constructor(name: string, deviceClass: number, stateLength: number, controlDataLength?: number) {\n            super(name, deviceClass, controlDataLength);\n            this.stateLength = stateLength;\n            this.state = control.createBuffer(this.stateLength);\n        }\n\n        public handlePacket(packet: JDPacket): number {\n            this.state = packet.data;\n            return this.handleStateChanged();\n        }\n\n        protected handleStateChanged(): number {\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    export class ActuatorClient extends Client {\n        protected state: Buffer;\n\n        constructor(name: string, deviceClass: number, stateLength: number, controlDataLength?: number) {\n            super(name, deviceClass, controlDataLength);\n            this.state = control.createBuffer(stateLength);\n            // TODO\n            // this.onDriverEvent(JDDriverEvent.Connected, () => this.notifyChange());\n        }\n\n        protected ensureState(length: number) {\n            if (length > this.state.length) {\n                const b = control.createBuffer(length);\n                b.write(0, this.state);\n                this.state = b;\n            }\n        }\n\n        protected notifyChange() {\n            this.sendPacket(this.state)\n        }\n    }\n}",
            "config.ts": "namespace jacdac {\n    // common logging level for jacdac services\n    export let consolePriority = ConsolePriority.Debug;\n\n    export function toHex(n: number): string {\n        const hexBuf = control.createBuffer(4);\n        hexBuf.setNumber(NumberFormat.UInt32LE, 0, n);\n        return hexBuf.toHex();\n    }\n    export function toHex16(n: number): string {\n        const hexBuf = control.createBuffer(2);\n        hexBuf.setNumber(NumberFormat.UInt16LE, 0, n);\n        return hexBuf.toHex();\n    }\n    export function toHex8(n: number): string {\n        const hexBuf = control.createBuffer(1);\n        hexBuf.setNumber(NumberFormat.UInt8LE, 0, n);\n        return hexBuf.toHex();\n    }\n\n    // drivers\n    export const JD_DEVICE_CLASS_MAKECODE_START = 2000;\n    export const LOGGER_DEVICE_CLASS = 2001;\n    export const BATTERY_DEVICE_CLASS = 2002;\n    export const ACCELEROMETER_DEVICE_CLASS = 2003;\n    export const BUTTON_DEVICE_CLASS = 2004;\n    export const TOUCHBUTTON_DEVICE_CLASS = 2005;\n    export const LIGHT_SENSOR_DEVICE_CLASS = 2006;\n    export const MICROPHONE_DEVICE_CLASS = 2007;\n    export const THERMOMETER_DEVICE_CLASS = 2008;\n    export const SWITCH_DEVICE_CLASS = 2009;\n    export const PIXEL_DEVICE_CLASS = 2010;\n    export const HAPTIC_DEVICE_CLASS = 2011;\n    export const LIGHT_DEVICE_CLASS = 2012;\n    export const KEYBOARD_DEVICE_CLASS = 2013;\n    export const MOUSE_DEVICE_CLASS = 2014;\n    export const GAMEPAD_DEVICE_CLASS = 2015;\n    export const MUSIC_DEVICE_CLASS = 2016;\n    export const SERVO_DEVICE_CLASS = 2017;\n    export const CONTROLLER_DEVICE_CLASS = 2018;\n    export const LCD_DEVICE_CLASS = 2019;\n    export const MESSAGE_BUS_DEVICE_CLASS = 2020;\n    export const COLOR_SENSOR_DEVICE_CLASS = 2021;\n    export const LIGHT_SPECTRUM_SENSOR_DEVICE_CLASS = 2022;\n    export const PROXIMITY_DEVICE_CLASS = 2023;\n    export const TOUCH_BUTTONS_DEVICE_CLASS = 2024;\n    export const SERVOS_DEVICE_CLASS = 2025;\n    export const ROTARY_ENCODER_DEVICE_CLASS = 2026;\n\n    // events\n    export const JD_MESSAGE_BUS_ID = JD_DEVICE_CLASS_MAKECODE_START;\n\n    export const BUTTON_EVENTS: number[] = [\n        DAL.DEVICE_BUTTON_EVT_CLICK,\n        DAL.DEVICE_BUTTON_EVT_LONG_CLICK,\n        DAL.DEVICE_BUTTON_EVT_DOWN,\n        DAL.DEVICE_BUTTON_EVT_UP\n    ];\n}\n\nconst enum JDLightCommand {\n    None,\n    SetAll,\n    SetBrightness,\n    Rainbow,\n    RunningLights,\n    ColorWipe,\n    Comet,\n    TheaterChase,\n    Sparkle\n}\n\nenum JDLightAnimation {\n    //% block=\"rainbow\"\n    Rainbow = JDLightCommand.Rainbow,\n    //% block=\"running lights\"\n    RunningLights = JDLightCommand.RunningLights,\n    //% block=\"color wipe\"\n    ColorWipe = JDLightCommand.ColorWipe,\n    //% block=\"comet\"\n    Comet = JDLightCommand.Comet,\n    //% block=\"theater chase\"\n    TheaterChase = JDLightCommand.TheaterChase,\n    //% block=\"sparkle\"\n    Sparkle = JDLightCommand.Sparkle\n}\n\nconst enum JDKeyboardCommand {\n    None,\n    Type,\n    Key,\n    MediaKey,\n    FunctionKey\n}\n\nconst enum JDMouseCommand {\n    None,\n    Button,\n    Move,\n    TurnWheel\n}\n\nconst enum JDGamepadCommand {\n    None,\n    Button,\n    Move,\n    Throttle\n}\n\nconst enum JDMusicCommand {\n    None,\n    PlayTone\n}\n\nconst enum JDGesture {\n    /**\n     * Raised when shaken\n     */\n    //% block=shake\n    Shake = DAL.ACCELEROMETER_EVT_SHAKE,\n    /**\n     * Raised when the device tilts up\n     */\n    //% block=\"tilt up\"\n    TiltUp = DAL.ACCELEROMETER_EVT_TILT_UP,\n    /**\n     * Raised when the device tilts down\n     */\n    //% block=\"tilt down\"\n    TiltDown = DAL.ACCELEROMETER_EVT_TILT_DOWN,\n    /**\n     * Raised when the screen is pointing left\n     */\n    //% block=\"tilt left\"\n    TiltLeft = DAL.ACCELEROMETER_EVT_TILT_LEFT,\n    /**\n     * Raised when the screen is pointing right\n     */\n    //% block=\"tilt right\"\n    TiltRight = DAL.ACCELEROMETER_EVT_TILT_RIGHT,\n    /**\n     * Raised when the screen faces up\n     */\n    //% block=\"face up\"\n    FaceUp = DAL.ACCELEROMETER_EVT_FACE_UP,\n    /**\n     * Raised when the screen is pointing up and the board is horizontal\n     */\n    //% block=\"face down\"\n    FaceDown = DAL.ACCELEROMETER_EVT_FACE_DOWN,\n    /**\n     * Raised when the board is falling!\n     */\n    //% block=\"free fall\"\n    FreeFall = DAL.ACCELEROMETER_EVT_FREEFALL,\n    /**\n     * Raised when a 3G shock is detected\n     */\n    //% block=\"3g\"\n    ThreeG = DAL.ACCELEROMETER_EVT_3G,\n    /**\n     * Raised when a 6G shock is detected\n     */\n    //% block=\"6g\"\n    SixG = DAL.ACCELEROMETER_EVT_6G,\n    /**\n     * Raised when a 8G shock is detected\n     */\n    //% block=\"8g\"\n    EightG = DAL.ACCELEROMETER_EVT_8G,\n    /**\n     * Raised when a 2g move (or step) is detected\n     */\n    //% block=\"2g (step)\"\n    TwoG = DAL.ACCELEROMETER_EVT_2G,\n}\n\nconst enum JDDimension {\n    //% block=x\n    X = 0,\n    //% block=y\n    Y = 1,\n    //% block=z\n    Z = 2,\n    //% block=strength\n    Strength = 3\n}\n\nconst enum JDButtonEvent {\n    //% block=\"click\"\n    Click = DAL.DEVICE_BUTTON_EVT_CLICK,\n    //% block=\"long click\"\n    LongClick = DAL.DEVICE_BUTTON_EVT_LONG_CLICK,\n    //% block=\"up\"\n    Up = DAL.DEVICE_BUTTON_EVT_UP,\n    //% block=\"down\"\n    Down = DAL.DEVICE_BUTTON_EVT_DOWN\n}\n\nconst enum JDSwitchDirection {\n    //% block=\"left\"\n    Left = DAL.DEVICE_BUTTON_EVT_UP,\n    //% block=\"right\"\n    Right = DAL.DEVICE_BUTTON_EVT_DOWN,\n}\n\nconst enum JDControllerCommand {\n    ClientButtons = 1,\n    ControlServer = 2,\n    ControlClient = 3\n}\n\nconst enum JDControllerButton {\n    A = 5,\n    B = 6,\n    Left = 1,\n    Up = 2,\n    Right = 3,\n    Down = 4,\n    Menu = 7\n}\n\nconst enum JDLCDFlags {\n    None,\n    Display = 1 << 0,\n    Blink = 1 << 1,\n    Cursor = 1 << 2\n}\n\nconst enum JDLightSpectrumRange {\n    Full = 10,\n    Infrared = 20,\n    Visible = 40\n}\n\nconst enum JDLightCondition {\n    //% block=\"dark\"\n    Dark = DAL.SENSOR_THRESHOLD_LOW,\n    //% block=\"bright\"\n    Bright = DAL.SENSOR_THRESHOLD_HIGH\n}\n\nconst enum JDLightSpectrumEvent {\n    FullBright = JDLightSpectrumRange.Full | DAL.LEVEL_THRESHOLD_HIGH,\n    FullDark = JDLightSpectrumRange.Full | DAL.LEVEL_THRESHOLD_LOW,\n    InfraredBright = JDLightSpectrumRange.Infrared | DAL.LEVEL_THRESHOLD_HIGH,\n    InfraredDark = JDLightSpectrumRange.Infrared | DAL.LEVEL_THRESHOLD_LOW,\n    VisibleBright = JDLightSpectrumRange.Visible | DAL.LEVEL_THRESHOLD_HIGH,\n    VisibleDark = JDLightSpectrumRange.Visible | DAL.LEVEL_THRESHOLD_LOW\n}\n\nconst enum JDPromixityEvent {\n    Close = DAL.LEVEL_THRESHOLD_LOW,\n    Far = DAL.LEVEL_THRESHOLD_HIGH\n}\n\nconst enum JDRotaryEncoderEvent {\n    Changed = 0x2233 /* ROT_EV_CHANGED */\n}",
            "configurationservice.ts": "/// <reference path=\"service.ts\"/>\n\nnamespace jacdac{\n\n    const JD_CONTROL_CONFIGURATION_SERVICE_NUMBER = 1;\n\n    const JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_NAME = 1;\n    const JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_IDENTIFY= 2;\n\n    export const JD_CONTROL_CONFIGURATION_SERVICE_PACKET_HEADER_SIZE = 2;\n\n    export class JDConfigurationService extends JDService {\n\n        name: string\n\n        send(buffer: Buffer): void {\n            if (JACDAC.instance.bus.isConnected())\n                JACDAC.instance.write(buffer, this.service_number, 0, null);\n        }\n\n        constructor() {\n            super(JDServiceClass.CONTROL_CONFIGURATION, JDServiceMode.ControlLayerService);\n            this.service_number = JD_CONTROL_CONFIGURATION_SERVICE_NUMBER;\n        }\n\n        handlePacket(pkt: JDPacket)\n        {\n            let cfg = new JDConfigurationPacket(pkt);\n\n            if (this.device)\n            {\n                if (cfg.device_address == this.device.device_address)\n                {\n                    if (cfg.request_type == JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_NAME && cfg.new_name.length)\n                    {\n                        JACDAC.instance.setDeviceName(cfg.new_name);\n                        if (JACDAC.instance.onNameRemotelyChanged)\n                            JACDAC.instance.onNameRemotelyChanged(cfg.new_name);\n                    }\n\n                    if (cfg.request_type == JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_IDENTIFY && JACDAC.instance.onIdentificationRequest)\n                        JACDAC.instance.onIdentificationRequest()\n                }\n            }\n\n            return DEVICE_OK;\n        }\n\n        triggerRemoteIdentification(device_address: number) : void\n        {\n            if (device_address == 0)\n                return;\n\n            let cfg = new JDConfigurationPacket;\n\n            cfg.device_address = device_address;\n            cfg.request_type = JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_IDENTIFY;\n\n            this.send(cfg.getBuffer());\n        }\n\n        setRemoteDeviceName(device_address: number, name: string) : void\n        {\n            let cfg = new JDConfigurationPacket;\n            cfg.device_address = device_address;\n            cfg.request_type = JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_NAME;\n            cfg.new_name = name;\n            this.send(cfg.getBuffer());\n        }\n    }\n}",
            "consoleservice.ts": "/// <reference path=\"service.ts\"/>\n\nnamespace jacdac {\n    const JD_CONSOLE_LOG_PRIORITY_DEBUG = 0;\n    const JD_CONSOLE_LOG_PRIORITY_LOG = 1;\n    const JD_CONSOLE_LOG_PRIORITY_WARNING = 2;\n    const JD_CONSOLE_LOG_PRIORITY_ERROR = 3;\n    const JD_CONSOLE_LOG_PRIORITY_SILENT = 4;\n\n    export enum JDConsolePriority {\n        Debug = JD_CONSOLE_LOG_PRIORITY_DEBUG,\n        Log = JD_CONSOLE_LOG_PRIORITY_LOG,\n        Warning = JD_CONSOLE_LOG_PRIORITY_WARNING,\n        Error = JD_CONSOLE_LOG_PRIORITY_ERROR,\n        Silent = JD_CONSOLE_LOG_PRIORITY_SILENT\n    };\n\n    export const enum JDConsolePacketType {\n        Unknown,\n        Message\n    }\n\n    export const JD_CONSOLE_SERVICE_MODE_OFF = 0;\n    export const JD_CONSOLE_SERVICE_MODE_LISTEN = 1;\n    export const JD_CONSOLE_SERVICE_MODE_LOGGER = 2;\n    export const JD_CONSOLE_SERVIE_LOGGER_TIMEOUT = 2000;\n\n    export enum JDConsoleMode {\n        Off = JD_CONSOLE_SERVICE_MODE_OFF,\n        Listen = JD_CONSOLE_SERVICE_MODE_LISTEN,\n        Logger = JD_CONSOLE_SERVICE_MODE_LOGGER\n    }\n\n    export const JD_CONSOLE_SERVICE_PACKET_HEADER_SIZE = 1;\n\n    export class JDConsoleService extends JDService {\n        private _consoleMode: JDConsoleMode;\n        private _lastListenerTime: number;\n\n        onMessageReceived: (priority: number, device_address: number, device_name: string, message: string) => void;\n\n        constructor() {\n            super(JDServiceClass.CONSOLE, JDServiceMode.BroadcastHostService);\n            this._consoleMode = JD_CONSOLE_SERVICE_MODE_OFF;\n            this.minPriority = JDConsolePriority.Silent; // drop all packets by default\n            this._lastListenerTime = 0;\n        }\n\n        get consoleMode() {\n            return this._consoleMode;\n        }\n\n        set consoleMode(consoleMode: JDConsoleMode) {\n            if (this._consoleMode != consoleMode) {\n                this._consoleMode = consoleMode;\n            }\n        }\n\n        addAdvertisementData(): Buffer {\n\n            const buf = jacdac.options.createBuffer(2);\n            buf.setUint8(0,this.consoleMode);\n            buf.setUint8(1,this.minPriority);\n            return buf;\n        }\n\n        handleServiceInformation(device: JDDevice, serviceInfo: JDServiceInformation): number {\n            const data = serviceInfo.data;\n            if (data.length < 2)\n                return -1; // TODO fix\n            const consoleMode = data.getUint8(0);\n            const priority = data.getUint8(1);\n\n            if (consoleMode == JDConsoleMode.Listen) {\n                // if a listener enters the bus, automatically start broadcasting\n                if (this.consoleMode != JDConsoleMode.Listen)\n                    this.consoleMode = JDConsoleMode.Logger;\n                // update priority if needed\n                if (priority < this.minPriority) // update priority\n                    this.minPriority = priority;\n                this._lastListenerTime = jacdac.options.getTimeMs();\n            }\n            return jacdac.DEVICE_OK;\n        }\n\n        handlePacket(packet: JDPacket): number {\n            // received packet, ignore unless in listening mode\n            if (this.consoleMode != JD_CONSOLE_SERVICE_MODE_LISTEN)\n                return jacdac.DEVICE_OK;\n\n            const cpacket = new JDConsolePacket(packet);\n            switch (cpacket.packetType) {\n                case JDConsolePacketType.Message:\n                    // check priority\n                    if (cpacket.priority < this.minPriority)\n                        return DEVICE_OK;\n\n                    // send message to console\n                    const device = jacdac.JACDAC.instance.getRemoteDevice(packet.device_address);\n                    const deviceName = device && device.device_name ? device.device_name : `${packet.device_address}`;\n                    const msg = `:${deviceName}> ${cpacket.message}`;\n                    switch(cpacket.priority) {\n                        case JD_CONSOLE_LOG_PRIORITY_DEBUG: console.debug(msg); break;\n                        case JD_CONSOLE_LOG_PRIORITY_LOG: console.log(msg); break;\n                        case JD_CONSOLE_LOG_PRIORITY_WARNING: console.warn(msg); break;\n                        case JD_CONSOLE_LOG_PRIORITY_ERROR: console.error(msg); break;\n                    }\n                    if (this.onMessageReceived)\n                        this.onMessageReceived(cpacket.priority, packet.device_address, deviceName, cpacket.message);\n                    break;\n                default:\n                    break;\n            }\n\n            return DEVICE_OK;\n        }\n\n        get minPriority() {\n            return <JDConsolePriority>((this.status & 0xF0) >> 4);\n        }\n\n        set minPriority(priority: JDConsolePriority) {\n            this.status = priority << 4 | (this.status & 0x0F);\n        }\n\n        debug(message: string): void {\n            this.add(JDConsolePriority.Debug, message);\n        }\n        log(message: string): void {\n            this.add(JDConsolePriority.Log, message);\n        }\n        warn(message: string): void {\n            this.add(JDConsolePriority.Warning, message);\n        }\n        error(message: string): void {\n            this.add(JDConsolePriority.Error, message);\n        }\n\n        add(priority: JDConsolePriority, message: string): void {\n            if (this.consoleMode != JDConsoleMode.Logger\n                || !message || !message.length)\n                return;\n\n            // no one listening -- or disconnected?\n            if (!jacdac.JACDAC.instance.bus.isConnected()\n                || jacdac.options.getTimeMs() - this._lastListenerTime > JD_CONSOLE_SERVIE_LOGGER_TIMEOUT) {\n                this.consoleMode = JDConsoleMode.Off;\n                return;\n            }\n\n            // chunk message\n            let cursor = 0;\n            while (cursor < message.length) {\n                const txLength = Math.min(message.length - cursor, jacdac.JD_SERIAL_MAX_PAYLOAD_SIZE - 2);\n\n                const pkt = new JDConsolePacket();\n                pkt.priority = priority;\n                pkt.packetType = JDConsolePacketType.Message;\n                pkt.message = message.substr(cursor, txLength);\n                this.send(pkt.getBuffer());\n\n                cursor += txLength;\n            }\n        }\n    }\n}",
            "consts.ts": "namespace jacdac{\n    export const DEVICE_OK = 0;\n\n\n    export const JD_CONTROL_PACKET_HEADER_SIZE = 10\n    export const JD_CONTROL_ROLLING_TIMEOUT_VAL = 3\n\n    export const JD_SERVICE_STATUS_FLAGS_INITIALISED = 0x02\n\n    export const JD_SERVICE_INFO_HEADER_SIZE = 6\n\n    export const JD_DEVICE_FLAGS_NACK = 0x08\n    export const JD_DEVICE_FLAGS_HAS_NAME = 0x04\n    export const JD_DEVICE_FLAGS_PROPOSING = 0x02\n    export const JD_DEVICE_FLAGS_REJECT = 0x01\n\n    export const JD_DEVICE_MAX_HOST_SERVICES = 16\n\n    export const JD_SERIAL_HEADER_SIZE = 4;\n    export const JD_SERIAL_UDID_SIZE = 8;\n    export const JD_SERIAL_CRC_HEADER_SIZE = 2;\n    export const JD_SERIAL_MAX_PAYLOAD_SIZE = 255;\n\n    export const JD_SERVICE_NUMBER_UNITIALISED_VAL = 65535;\n\n    const JD_SERIAL_BAUD_1M = 1;\n    const JD_SERIAL_BAUD_500K = 2;\n    const JD_SERIAL_BAUD_250K = 4;\n    const JD_SERIAL_BAUD_125K = 8;\n\n    export const JD_DEVICE_DEFAULT_COMMUNICATION_RATE = JD_SERIAL_BAUD_1M;\n\n    export enum JDBaudRate\n    {\n        Baud1M = JD_SERIAL_BAUD_1M,\n        Baud500k = JD_SERIAL_BAUD_500K,\n        Baud250k = JD_SERIAL_BAUD_250K,\n        Baud125k = JD_SERIAL_BAUD_125K\n    }\n}",
            "control.ts": "/// <reference path=\"service.ts\"/>\n\nnamespace jacdac{\n    const JD_CONTROL_SERVICE_STATUS_ENUMERATE = 0x02\n    const JD_CONTROL_SERVICE_STATUS_ENUMERATING = 0x04\n    const JD_CONTROL_SERVICE_STATUS_ENUMERATED = 0x08\n    const JD_CONTROL_SERVICE_STATUS_BUS_LO = 0x10\n    const JD_CONTROL_SERVICE_STATUS_INITIALISED = 0x20\n    const JD_CONTROL_MAX_ALLOC_ADDRESS = 0xFE;\n    const JD_CONTROL_MIN_ALLOC_ADDRESS = 1;\n    export const JD_CONTROL_TRANSMIT_ONLY_ADDRESS = 0xFF\n\n    export class JDControlService extends JDService {\n        name: string\n        deviceManager: JDDeviceManager;\n        rngService: JDRNGService;\n        configurationService: JDConfigurationService;\n        _intervalId: any;\n        nextAddress: number;\n\n        onChange: () => void;\n\n        send(buffer: Buffer): void {\n            if (JACDAC.instance.bus.isConnected())\n                JACDAC.instance.write(buffer, 0, 0, null);\n        }\n\n        deviceDisconnected(device: JDDevice): void {\n            if (this.nextAddress == device.device_address)\n                this.nextAddress = JD_CONTROL_MAX_ALLOC_ADDRESS;\n\n            // iterate over services on the device and provide connect / disconnect events.\n            for (let current of JACDAC.instance.services) {\n                if (!current.device || current.mode == JDServiceMode.ControlLayerService || device.device_address != current.device.device_address)\n                    continue;\n\n                current.device = undefined;\n                current.service_number = JD_SERVICE_NUMBER_UNITIALISED_VAL;\n                current._hostDisconnected();\n            }\n        }\n\n        deviceEnumerated(): void {\n            // iterate over services on the device and provide connect / disconnect events.\n            for (let current of JACDAC.instance.services) {\n                if (current == this || current.mode == JDServiceMode.ClientService)\n                    continue;\n\n                current.device = this.device;\n                current._hostConnected();\n            }\n        }\n\n        formControlPacket(): JDControlPacket {\n            const controlPacket = new JDControlPacket();\n\n            controlPacket.unique_device_identifier = this.device.unique_device_identifier;\n            controlPacket.device_address = this.device.device_address;\n            controlPacket.device_flags = this.device.device_flags;\n            controlPacket.device_name = this.name;\n\n            let service_number = 0;\n\n            for (let current of JACDAC.instance.services) {\n                if (current.mode == JDServiceMode.ControlLayerService || current.mode == JDServiceMode.ClientService)\n                    continue;\n\n                if (current.service_number != JD_SERVICE_NUMBER_UNITIALISED_VAL && current.service_number != service_number)\n                    jacdac.options.error(\"Device service order changed whilst enumerated\");\n\n                current.service_number = service_number;\n\n                let info = new JDServiceInformation();\n\n                info.service_flags = current.service_flags;\n                info.service_class = current.service_class;\n                const data = current.addAdvertisementData();\n                info.advertisement_size = data.length;\n                info.data = data;\n\n                controlPacket.append(info.getBuffer());\n\n                service_number++;\n            }\n\n            if (controlPacket.getBuffer().length > JD_SERIAL_MAX_PAYLOAD_SIZE)\n                jacdac.options.error(\"Packet too big\");\n\n            return controlPacket;\n        }\n\n        /**\n         * Timer callback every 500 ms\n         **/\n        startDeviceTimer() {\n\n            if (this._intervalId !== undefined)\n                jacdac.options.error(\"Device Timer called twice.\");\n\n            jacdac.options.log(\"start device timer\")\n            this._intervalId = setInterval(() => {\n                jacdac.options.log(\"control tick\")\n                // handle enumeration\n                if (this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATE) {\n                    if (this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATING) {\n                        this.device.rolling_counter++;\n\n                        if (this.device.rolling_counter > 3) {\n                            this.status &= ~JD_CONTROL_SERVICE_STATUS_ENUMERATING;\n                            this.status |= JD_CONTROL_SERVICE_STATUS_ENUMERATED;\n                            this.device.device_flags &= ~JD_DEVICE_FLAGS_PROPOSING;\n                            this.deviceEnumerated();\n                        }\n                    }\n                    else {\n                        if (!JACDAC.instance.bus.isConnected()) {\n                            this.device.rolling_counter++;\n\n                            if (this.device.rolling_counter >= JD_CONTROL_ROLLING_TIMEOUT_VAL) {\n                                this.status |= JD_CONTROL_SERVICE_STATUS_BUS_LO;\n                                jacdac.options.log(\"This disconnected\");\n                                this.deviceDisconnected(this.device);\n                                return;\n                            }\n                        }\n                        else {\n                            if (this.status & JD_CONTROL_SERVICE_STATUS_BUS_LO) {\n                                this.deviceEnumerated();\n                                this.status &= ~JD_CONTROL_SERVICE_STATUS_BUS_LO;\n                            }\n\n                            this.device.rolling_counter = 0;\n                        }\n                    }\n\n                    // queue a control packet if we have host services.\n                    this.send(this.formControlPacket().getBuffer());\n                }\n\n                // now check to see if remote devices have timed out.\n                for (let dev of this.deviceManager.getDeviceList()) {\n                    dev.rolling_counter++;\n\n                    if (dev.rolling_counter >= JD_CONTROL_ROLLING_TIMEOUT_VAL) {\n                        this.deviceManager.removeDevice(dev);\n                        this.deviceDisconnected(dev);\n                    }\n                }\n            }, 500);\n        }\n\n        private initialise(device_address?: number): void{\n            if (!(this.status & JD_CONTROL_SERVICE_STATUS_INITIALISED))\n            {\n                this.status |= JD_CONTROL_SERVICE_STATUS_INITIALISED;\n                JACDAC.instance.add(this.configurationService);\n                JACDAC.instance.add(this.rngService);\n                this.device = new JDDevice();\n                this.device.unique_device_identifier = generate_eui64(jacdac.options.getSerialNumber());\n            }\n\n            // naiive implementation for now... we can sniff the bus for a little before enumerating to\n            // get a good first address in the future.\n            if (device_address)\n                this.device.device_address = device_address;\n            else\n                this.device.device_address = random(JD_CONTROL_MIN_ALLOC_ADDRESS, JD_CONTROL_MAX_ALLOC_ADDRESS);\n\n            jacdac.options.log(`device address: ${this.device.device_address}`)\n\n            // set the device state for the control service.\n            this.device.device_flags |= JD_DEVICE_FLAGS_PROPOSING;\n            this.device.communication_rate = JD_DEVICE_DEFAULT_COMMUNICATION_RATE;\n            this.device.rolling_counter = 0;\n        }\n\n        enumerate(device_address?: number): void {\n            if (this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATE) {\n                jacdac.options.log(\"already enumerating\")\n                return;\n            }\n\n            this.initialise(device_address);\n\n            let hostServiceCount = 0;\n\n            for (let s of JACDAC.instance.services)\n            {\n                if (s.mode == JDServiceMode.ClientService || s.mode == JDServiceMode.ControlLayerService)\n                    continue;\n\n                hostServiceCount++;\n            }\n\n            if (hostServiceCount)\n            {\n                this.status |= (JD_CONTROL_SERVICE_STATUS_ENUMERATING | JD_CONTROL_SERVICE_STATUS_ENUMERATE);\n                this.startDeviceTimer();\n            }\n\n            return;\n        }\n\n        /**\n         *\n         **/\n        isEnumerated(): boolean {\n            return (this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATED) ? true : false;\n        }\n\n        /**\n         *\n         **/\n        isEnumerating(): boolean {\n            return (this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATING) ? true : false;\n        }\n\n        disconnect(): void {\n            if (!(this.status & JD_CONTROL_SERVICE_STATUS_ENUMERATE))\n                return;\n\n            clearInterval(this._intervalId);\n            this._intervalId = undefined;\n            this.deviceDisconnected(this.device);\n            this.status &= ~JD_CONTROL_SERVICE_STATUS_ENUMERATE;\n            return;\n        }\n\n        constructor() {\n            super(JDServiceClass.CONTROL, JDServiceMode.ControlLayerService);\n            this.deviceManager = new JDDeviceManager();\n            this.rngService = new JDRNGService();\n            this.configurationService = new JDConfigurationService();\n            this.nextAddress = JD_CONTROL_MAX_ALLOC_ADDRESS;\n        }\n\n        getRemoteDevice(device_address: number): JDDevice{\n            return this.deviceManager.getRemoteDevice(device_address);\n        }\n\n        routePacket(pkt: JDPacket) {\n            // transmit only\n            if (this.device.device_address == JD_CONTROL_TRANSMIT_ONLY_ADDRESS)\n                return;\n\n            let device: JDDevice = null;\n\n            if (pkt.device_address == JD_CONTROL_TRANSMIT_ONLY_ADDRESS)\n                device = this.deviceManager.getRemoteDeviceUnique(JD_CONTROL_TRANSMIT_ONLY_ADDRESS, pkt.udidh, pkt.udidl)\n            else if (this.device && pkt.device_address == this.device.device_address)\n                device = this.device;\n            else\n                device = this.getRemoteDevice(pkt.device_address);\n\n            // jacdac.options.log(\"RP: a \" + pkt.device_address +  \" sn \" + pkt.service_number +  \" crc \" + pkt.crc);\n\n            const crc = jd_crc(pkt, device); // include size and address in the checksum.\n\n            let crcCheck: boolean = (crc == pkt.crc);\n\n            // console.log(\"crc check: computed \", crc, \"  received: \", pkt.crc);\n\n            if (crcCheck) {\n                if (!device)\n                    this.handlePacket(pkt);\n                else {\n                    // map from device broadcast map to potentially the service number of one of our enumerated broadcast hosts\n                    let host_service_number: number = -1;\n\n                    if (device.servicemap_bitmsk & (1 << pkt.service_number)) {\n                        host_service_number = device.broadcast_servicemap.getUint8(pkt.service_number);\n                        device = this.device;\n                    }\n\n                    let broadcast: boolean = (host_service_number >= 0);\n\n                    // we matched a broadcast host, route to all broadcast hosts on the device.\n                    if (broadcast)\n                    {\n                        let broadcast_class: number = 0;\n\n                        for (let service of JACDAC.instance.services) {\n\n                            if (!service.device || service.mode == JDServiceMode.ClientService || service.mode == JDServiceMode.ControlLayerService)\n                                continue;\n\n                            if (service.device.device_address == device.device_address && service.service_number == host_service_number) {\n                                jacdac.options.log(\"BROADCAST MATCH CL:\" + service.service_class);\n                                broadcast_class = service.service_class;\n                                break;\n                            }\n                        }\n\n                        for (let service of JACDAC.instance.services) {\n                            if (!service.device || service.mode != JDServiceMode.BroadcastHostService)\n                                continue;\n\n                            if (service.service_class == broadcast_class) {\n                                // break if DEVICE_OK is returned (indicates the packet has been handled)\n                                if (service.handlePacket(pkt) == DEVICE_OK)\n                                    break;\n                            }\n                        }\n                    }\n                    else\n                    {\n                        // route to client / host services\n                        for (let service of JACDAC.instance.services) {\n\n                            if (!service.device || service.mode == JDServiceMode.ControlLayerService)\n                                continue;\n\n                            // jacdac.options.log(\"ITER: \" + service.service_class.toString());\n                            if (service.device && service.device.device_address == device.device_address && service.service_number == pkt.service_number)\n                                if (service.handlePacket(pkt) == DEVICE_OK)\n                                    break;\n                        }\n                    }\n                }\n            }\n        }\n\n        handlePacket(pkt: JDPacket): number {\n            if (pkt.service_number == this.rngService.service_number) {\n                this.rngService.handlePacket(pkt);\n                return DEVICE_OK;\n            }\n\n            if (pkt.service_number == this.configurationService.service_number) {\n                this.configurationService.handlePacket(pkt);\n                return DEVICE_OK;\n            }\n\n            let cp: JDControlPacket = new JDControlPacket(pkt);\n\n\n            // jacdac.options.log(\"HP ControlPacket: \",cp, cp.getBuffer());\n\n            // address collision check\n            if (this.status & (JD_CONTROL_SERVICE_STATUS_ENUMERATING | JD_CONTROL_SERVICE_STATUS_ENUMERATED)) {\n\n                // maintain a \"pointer\" to the next address\n                if (cp.device_address > this.device.device_address && cp.device_address < this.nextAddress)\n                    this.nextAddress = cp.device_address;\n\n                if (this.device.device_address == cp.device_address) {\n                    // a different device is using our address!!\n                    if (!(this.device.udidl == cp.udidl && this.device.udidh == cp.udidh)) {\n                        // if the device is proposing, we can reject (as per the spec)\n                        if (cp.device_flags & JD_DEVICE_FLAGS_PROPOSING) {\n                            // if we're proposing too, the remote device has won the address\n                            if (this.device.device_flags & JD_DEVICE_FLAGS_PROPOSING) {\n                                this.device.rolling_counter = 0;\n                                this.device.device_address = random(JD_CONTROL_MIN_ALLOC_ADDRESS,JD_CONTROL_MAX_ALLOC_ADDRESS);\n                            }\n                            // if our address is established, reject the proposal\n                            else {\n                                let rejectCP = new JDControlPacket();\n\n                                rejectCP.device_address = cp.device_address;\n\n                                // propose a decent next address\n                                if (this.nextAddress != this.device.device_address)\n                                    rejectCP.device_address = this.device.device_address + random(1, (this.nextAddress - this.device.device_address));\n\n                                rejectCP.unique_device_identifier = cp.unique_device_identifier;\n                                rejectCP.device_flags = cp.device_flags | JD_DEVICE_FLAGS_REJECT;\n                                this.send(rejectCP.getBuffer())\n                                jacdac.options.log(\"ASK OTHER TO REASSIGN\");\n                            }\n\n                            return DEVICE_OK; // no further processing required.\n                        }\n                    }\n                    // someone has flagged a conflict with our device address, re-enumerate\n                    else if (cp.device_flags & JD_DEVICE_FLAGS_REJECT) {\n                        this.device.rolling_counter = 0;\n\n                        // we may receive a new recommended address in the rejection\n                        // detect and then subsequently use.\n                        if (cp.device_address != this.device.device_address)\n                            this.device.device_address = cp.device_address;\n                        else\n                            this.device.device_address = random(JD_CONTROL_MIN_ALLOC_ADDRESS, JD_CONTROL_MAX_ALLOC_ADDRESS);\n\n                        return DEVICE_OK;\n                    }\n                }\n            }\n\n            // the device has not got a confirmed address (enumerating)... if there was a collision it would be handled above\n            if (cp.device_flags & JD_DEVICE_FLAGS_PROPOSING)\n                return DEVICE_OK;\n\n            // if a service is relying on a remote device, the control service is maintaining the state.\n            let remoteDevice: JDDevice = this.deviceManager.getRemoteDeviceUnique(cp.device_address, cp.udidh, cp.udidl);\n\n            if (remoteDevice)\n            {\n                // jacdac.options.log(\"TRACKED REMOTE DEVICE \", remoteDevice);\n                this.deviceManager.updateDevice(cp, pkt.communication_rate);\n            }\n            // else\n                // jacdac.options.log (\"UNTRACKED\");\n\n            // if here, address validation has completed successfully... process service information\n            const dataPointer = cp.data;\n            let service_number = 0;\n            let dataIdx = 0;\n\n            // jacdac.options.log(\"USDEV: a %d, s %d, c %d, i %d, t %c%c%c\", this.device.device_address, this.device.unique_device_identifier, this.service_class, this.status & JD_SERVICE_STATUS_FLAGS_INITIALISED ? 1 : 0, this.mode == BroadcastHostService ? 'B' : ' ', this.mode == HostService ? 'H' : ' ', this.mode == ClientService ? 'C' : ' ');\n            while (dataIdx < dataPointer.length) {\n                let serviceInfo = new JDServiceInformation(dataPointer.slice(dataIdx, dataPointer.length));\n                // jacdac.options.log(\"data idx \", dataIdx, \" \", dataPointer.length, \" service \", serviceInfo);\n\n                for (let current of JACDAC.instance.services) {\n\n                    if (current.mode == JDServiceMode.ControlLayerService)\n                        continue;\n\n                    const class_check = current.service_class == serviceInfo.service_class;\n\n                    // if the service is running, route the packet.\n                    if (current.status & JD_SERVICE_STATUS_FLAGS_INITIALISED) {\n                        const address_check = current.device.device_address == cp.device_address && current.service_number == service_number;\n                        const serial_check = cp.udidl == current.device.udidl && cp.udidh == current.device.udidh;\n\n                        // this boolean is used to override stringent address checks (not needed for broadcast services as they receive all packets) to prevent code duplication\n                        const broadcast_override = current.mode == JDServiceMode.BroadcastHostService;\n                        // JD_DMESG(\"INITDSer\", current.device.device_address, current.device.unique_device_identifier, current.service_class, current.status & JD_SERVICE_STATUS_FLAGS_INITIALISED ? 1 : 0, current.mode == BroadcastHostService ? 'B' : ' ', current.mode == HostService ? 'H' : ' ', current.mode == ClientService ? 'C' : ' ');\n\n                        // check if applicable\n                        if ((address_check && serial_check && class_check) || (class_check && broadcast_override)) {\n                            // we are receiving a packet from a remote device for a service in broadcast mode.\n                            if (broadcast_override && cp.device_address != this.device.device_address) {\n                                // create a device representation if none exists\n                                if (!remoteDevice)\n                                    remoteDevice = this.deviceManager.addDevice(cp, pkt.communication_rate);\n\n                                remoteDevice.servicemap_bitmsk |= 1 << service_number;\n                                remoteDevice.broadcast_servicemap.setUint8(service_number, current.service_number);\n                            }\n\n                            // if the service has handled the packet it will return DEVICE_OK.\n                            // any non zero return value will cause packet routing to continue\n                            if (current.handleServiceInformation(remoteDevice, serviceInfo) == DEVICE_OK) {\n                                jacdac.options.log(\"uS ABSORBED \" + current.device.device_address + \" \" + current.service_class);\n                                break;\n                            }\n                        }\n                    }\n                    else if (class_check && current.mode == JDServiceMode.ClientService) {\n                        // this service instance is looking for a specific device (either a unique_device_identifier or name)\n                        if (current.requiredDevice) {\n                            if (current.requiredDevice.unique_device_identifier\n                                && current.requiredDevice.unique_device_identifier.length\n                                && !(current.requiredDevice.udidl == cp.udidl && current.requiredDevice.udidh == cp.udidh))\n                                continue;\n\n                            if (current.requiredDevice.device_name && current.requiredDevice.device_name != cp.device_name)\n                                continue;\n                        }\n\n                        jacdac.options.log(\"FOUND NEW\" + current.service_class);\n                        remoteDevice = this.deviceManager.addDevice(cp, pkt.communication_rate);\n\n                        if (current.handleServiceInformation(remoteDevice, serviceInfo) == DEVICE_OK) {\n                            current.device = remoteDevice;\n                            current.service_number = service_number;\n                            current._hostConnected();\n\n                            if (this.onChange)\n                                this.onChange();\n                            break;\n                        }\n                    }\n                }\n                service_number++;\n                dataIdx += JD_SERVICE_INFO_HEADER_SIZE + serviceInfo.advertisement_size;\n            }\n\n            return DEVICE_OK;\n        }\n\n        setDeviceName(name:string)\n        {\n            return this.name = name;\n        }\n\n        getDeviceName() : string\n        {\n            return this.name;\n        }\n    }\n}",
            "controldebugview.ts": "/// <reference path=\"debugview.ts\"/>\n\nnamespace jacdac{\n\n    export class ControlDebugView extends DebugView\n    {\n        constructor() {\n            super(\"CONTROL\", jacdac.JDServiceClass.CONTROL);\n        }\n\n        renderPacket(pkt:jacdac.JDPacket){\n\n            // only render control packet for now\n            if (pkt.service_number == 0)\n            {\n                const cp = new jacdac.JDControlPacket(pkt);\n                const device = new jacdac.JDDevice(cp);\n\n                let cpFlags = \"\"\n                cpFlags += (device.device_flags & JD_DEVICE_FLAGS_NACK) ? \"NACK | \" : \"\"\n                cpFlags += (device.device_flags & JD_DEVICE_FLAGS_HAS_NAME) ? \"NAME | \" : \"\"\n                cpFlags += (device.device_flags & JD_DEVICE_FLAGS_PROPOSING) ? \"PROP | \" : \"\"\n                cpFlags += (device.device_flags & JD_DEVICE_FLAGS_REJECT) ? \"REG | \" : \"\"\n\n                if (cpFlags.length == 0)\n                    cpFlags = \"NONE\"\n\n                let ss = \"\\r\\nclass\\tflags\\tadvert\\r\\n\"\n                for (let s of device.services) {\n                    ss += `${s.service_class}\\t${s.service_flags}\\t${s.data.toHex()}\\r\\n`\n                }\n\n                return `\\r\\nid: ${(device.device_name) ? device.device_name : device.udid.toHex()}\\r\\naddress: ${device.device_address}\\tflags:${cpFlags} ${ss}\\r\\n`\n            }\n\n            return \"\";\n        }\n    }\n\n}",
            "controllerclient.ts": "namespace jacdac {\n    //% fixedInstances\n    export class ControllerClient extends Broadcast {\n        state: Buffer;\n        streamingState: jacdac.SensorState;\n        streamingInterval: number;\n        stateUpdateHandler: () => void;\n        lastServerTime: number;\n\n        constructor() {\n            super(\"ctrl\", jacdac.CONTROLLER_DEVICE_CLASS, 3);\n            this.controlData[0] = JDControllerCommand.ControlClient;\n            this.serverAddress = 0;\n            this.playerIndex = 0;\n            this.state = control.createBuffer(2);\n            this.state[0] = JDControllerCommand.ClientButtons;\n            this.streamingState = jacdac.SensorState.Stopped;\n            this.streamingInterval = 25;\n            this.lastServerTime = 0;\n        }\n\n        get serverAddress() {\n            return this.controlData[1];\n        }\n\n        set serverAddress(value: number) {\n            this.controlData[1] = value;\n        }\n\n        get playerIndex(): number {\n            return this.controlData[2];\n        }\n\n        set playerIndex(index: number) {\n            this.controlData[2] = index;\n        }\n\n        isPressed(offset: JDControllerButton): boolean {\n            const msk = 1 << offset;\n            return !!(this.state[1] & msk);\n        }\n\n        setIsPressed(offset: JDControllerButton, down: boolean) {\n            const b = this.state[1];\n            const msk = 1 << offset;\n            this.state[1] = down ? (b | msk) : (~(~b | msk));\n        }\n\n        //% blockCombine blockCombineShadow=toggleOnOff block=\"left is pressed\" blockSetVariable=\"button\"\n        //% group=\"Controller\"\n        get leftIsPressed() {\n            return this.isPressed(JDControllerButton.Left);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set leftIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.Left, value);\n        }\n\n        //% blockCombine block=\"right is pressed\"\n        //% group=\"Controller\"\n        get rightIsPressed() {\n            return this.isPressed(JDControllerButton.Right);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set rightIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.Right, value);\n        }\n\n        //% blockCombine block=\"up is pressed\"\n        //% group=\"Controller\"\n        get upIsPressed() {\n            return this.isPressed(JDControllerButton.Up);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set upIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.Up, value);\n        }\n\n        //% blockCombine block=\"down is pressed\"\n        //% group=\"Controller\"\n        get downIsPressed() {\n            return this.isPressed(JDControllerButton.Down);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set downIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.Down, value);\n        }\n\n        //% blockCombine block=\"A is pressed\"\n        //% group=\"Controller\"\n        get AIsPressed() {\n            return this.isPressed(JDControllerButton.A);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set AIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.A, value);\n        }\n\n        //% blockCombine block=\"B is pressed\"\n        //% group=\"Controller\"\n        get BIsPressed() {\n            return this.isPressed(JDControllerButton.B);\n        }\n\n        //% blockCombine\n        //% group=\"Controller\"\n        set BIsPressed(value: boolean) {\n            this.setIsPressed(JDControllerButton.B, value);\n        }\n\n        /**\n         * Register code to run when the state is about to be sent\n         * @param handler \n         */\n        //% blockId=jdctrlclientonstate block=\"on %controller state update\"\n        //% group=\"Controller\"\n        onStateUpdate(handler: () => void) {\n            this.stateUpdateHandler = handler;\n        }\n\n        isActive(): boolean {\n            return !!this.serverAddress && this.isConnected();\n        }\n\n        handleServiceInformation(device: JDDevice, serviceInfo: JDServiceInformation): number {\n            const data = serviceInfo.data;\n            return this.processPacket(device.device_address, data);\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            return this.processPacket(packet.device_address, data);\n        }\n\n        private processPacket(packetAddress: number, data: Buffer): number {\n            const cmd: JDControllerCommand = data[0];\n            // received a packet from the server\n            if (cmd == JDControllerCommand.ControlServer) {\n                this.log(`server ${toHex8(packetAddress)}`)\n                const address = this.deviceAddress;\n                for (let i = 1; i <= 4; ++i) {\n                    if (data[i] == address) {\n                        // check that we are still connected to the same server\n                        if (this.serverAddress != packetAddress) {\n                            this.serverAddress = packetAddress;\n                            this.playerIndex = i;\n                            this.log(`server ${toHex8(this.serverAddress)}`);\n                        }\n                        this.lastServerTime = control.millis();\n                        // start streaming\n                        this.startStreaming();\n                        return jacdac.DEVICE_OK;\n                    }\n                }\n                // did the server drop us\n                if (address == this.serverAddress) {\n                    this.log(`dropped`);\n                    this.serverAddress = 0; // streaming will stop automatically\n                    this.playerIndex = 0;\n                    this.stopStreaming();\n                }\n\n                // nope, doesn't seem to be our server\n                // do nothing\n            }\n            return jacdac.DEVICE_OK;\n        }\n\n        start() {\n            super.start();\n            this.startStreaming();\n        }\n\n        private startStreaming() {\n            if (this.streamingState != SensorState.Stopped)\n                return;\n\n            this.log(`start`);\n            this.streamingState = SensorState.Streaming;\n            control.runInBackground(() => this.stream());\n        }\n\n        private stream() {\n            while (this.streamingState == SensorState.Streaming) {\n                // alllow handle to update state\n                if (this.stateUpdateHandler)\n                    this.stateUpdateHandler();\n                // send state\n                this.sendPacket(this.state);\n                // waiting for a bit\n                pause(this.streamingInterval);\n                // check if server still alive\n                if (control.millis() - this.lastServerTime > 1000) {\n                    this.serverAddress = 0; // inactive\n                }\n            }\n            this.streamingState = SensorState.Stopped;\n            this.log(`stopped`);\n        }\n\n        private stopStreaming() {\n            if (this.streamingState == SensorState.Streaming) {\n                this.log(`stopping`)\n                this.streamingState = SensorState.Stopping;\n                pauseUntil(() => this.streamingState == SensorState.Stopped);\n            }\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"controller client\"\n    export const controllerClient = new ControllerClient();\n}",
            "crc.ts": "namespace jacdac{\n    const JD_CRC_POLYNOMIAL = 0xF13;\n\n    export function jd_crc(pkt: JDPacket, device?: JDDevice): number {\n        let crc: number = 0xfff;\n        if (device) {\n            const udidPtr = device.unique_device_identifier;\n            let i: number = 0;\n\n            while (i < 8) {\n                crc ^= (udidPtr.getUint8(i) << 8);\n                for (let j = 0; j < 8; ++j) {\n                    if (crc & 0x800)\n                        crc = (crc << 1) ^ JD_CRC_POLYNOMIAL;\n                    else\n                        crc = crc << 1;\n                }\n\n                i++;\n            }\n        }\n\n        let len = pkt.size + JD_SERIAL_CRC_HEADER_SIZE + 2;\n        let idx = JD_SERIAL_CRC_HEADER_SIZE;\n        const buf = pkt.getBuffer();\n\n        while (idx < len) {\n            crc ^= (buf.getUint8(idx) << 8);\n            for (let i = 0; i < 8; ++i) {\n                if (crc & 0x800)\n                    crc = (crc << 1) ^ JD_CRC_POLYNOMIAL;\n                else\n                    crc = crc << 1;\n            }\n            idx++;\n        }\n\n        return crc & 0xFFF;\n    }\n}",
            "debugservice.ts": "namespace jacdac{\n\n    export interface DebuggerStruct\n    {\n        pkt: jacdac.JDPacket;\n        view: DebugView;\n        timestamp: number;\n        crcStatus:string;\n        serviceClass: string;\n    }\n\n    export enum DebuggerClassEnums {\n        CONTROL = 0,\n        CONTROL_RNG = 1,\n        CONTROL_CONFIGURATION = 2,\n        CONTROL_TEST = 3,\n\n        JOYSTICK = 4,\n        MESSAGE_BUS = 5,\n        BRIDGE = 6,\n        BUTTON = 7,\n        ACCELEROMETER = 8,\n        CONSOLE = 9\n    }\n\n    export class DebuggerService extends jacdac.JDService {\n        running: boolean;\n        deviceManager: jacdac.JDDeviceManager\n        _intervalId: any;\n        paintDevices:(devices: jacdac.JDDevice[]) => void;\n        paintPacket:(packet: DebuggerStruct) => void;\n\n        constructor(){\n            super(jacdac.JDServiceClass.BRIDGE, jacdac.JDServiceMode.ClientService)\n            jacdac.JACDAC.instance.bridge = this;\n            this.running = true;\n            this.deviceManager = new jacdac.JDDeviceManager();\n\n            this._intervalId = setInterval(()=>{\n                const devices = this.deviceManager.getDeviceList();\n\n                for (let device of devices)\n                {\n                    device.rolling_counter++;\n\n                    if (device.rolling_counter >= jacdac.JD_CONTROL_ROLLING_TIMEOUT_VAL)\n                    {\n                        this.deviceManager.removeDevice(device);\n\n                        if (this.paintDevices)\n                            this.paintDevices(this.deviceManager.getDeviceList());\n                    }\n                }\n            },500)\n        }\n\n        handlePacket(pkt : jacdac.JDPacket) : number\n        {\n            // let packetEntry: DebuggerStruct ={pkt: pkt, view: undefined, timestamp:jacdac.options.getTimeMs(), crcStatus: \"Poo\", serviceClass: \"ABC\"}\n\n            // if (this.paintPacket)\n            //     this.paintPacket(packetEntry);\n\n            // return jacdac.DEVICE_OK;\n\n            if (!this.running)\n                return jacdac.DEVICE_OK;\n\n            // console.log(\"DEBUGGER HANDLE PACKET\", pkt, pkt.device_address, pkt.service_number);\n            if (pkt.device_address == 0 && pkt.service_number == 0)\n            {\n                const cp = new jacdac.JDControlPacket(pkt);\n                // console.log(cp);\n\n                if ((cp.device_flags & (jacdac.JD_DEVICE_FLAGS_REJECT | jacdac.JD_DEVICE_FLAGS_PROPOSING)) == 0)\n                {\n                    const remote = this.deviceManager.addDevice(cp, pkt.communication_rate);\n\n                    if (this.paintDevices)\n                        this.paintDevices(this.deviceManager.getDeviceList());\n\n                    // console.log(\"CP REM \",remote);\n                    remote.update(cp);\n                }\n                // console.log(\"propose \",cp.device_flags & (jacdac.JD_DEVICE_FLAGS_PROPOSING), \" rejecting \",cp.device_flags & (jacdac.JD_DEVICE_FLAGS_REJECT) )\n            }\n\n            const remote = this.deviceManager.getRemoteDevice(pkt.device_address);\n\n            // console.log(\"REMOTE \", pkt.device_address, pkt.service_number, remote, this.deviceManager);\n            const crc = jacdac.jd_crc(pkt,remote);\n\n            let crcString = \"OK\"\n\n            if (crc != pkt.crc)\n                if (!remote)\n                    crcString = \"ERROR - DEVICE NOT FOUND\";\n                else\n                    crcString = \"ERROR - INCORRECT\"\n\n            let serviceString = \"UNKNOWN\";\n\n            let view = undefined;\n            if (remote)\n            {\n                let serviceClass = remote.services[pkt.service_number].service_class;\n                // serviceString =  DebuggerClassEnums[serviceClass] || serviceClass.toString();\n                view = DebugView.find(serviceClass);\n            }\n            else if (pkt.device_address == 0)\n            {\n                serviceString = \"CONTROL\";\n                view = DebugView.find(jacdac.JDServiceClass.CONTROL);\n            }\n\n            let packetEntry ={pkt: pkt, view: view, timestamp:jacdac.options.getTimeMs(), crcStatus: crcString, serviceClass: serviceString}\n\n            if (this.paintPacket)\n                this.paintPacket(packetEntry)\n\n            return jacdac.DEVICE_OK;\n        }\n\n        handleServiceInformation(device: jacdac.JDDevice, serviceInfo: jacdac.JDServiceInformation): number {\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n}",
            "debugview.ts": "namespace jacdac {\n    export class DebugView {\n        static _debugViews: DebugView[];\n        serviceClass: number;\n        name: string;\n\n        constructor(name: string, serviceClass: number) {\n            this.name = name;\n            this.serviceClass = serviceClass;\n\n            if (DebugView._debugViews === undefined)\n            {\n                DebugView._debugViews = [];\n                DebugView.registerDefaultViews();\n            }\n\n            // replace existing debug views.\n            for (let i = 0; i < DebugView._debugViews.length; i++) {\n                if (DebugView._debugViews[i].serviceClass == serviceClass) {\n                    DebugView._debugViews[i] = this;\n                    return;\n                }\n            }\n\n            DebugView._debugViews.push(this);\n        }\n\n        static find(serviceClass: number) {\n            for (let view of DebugView._debugViews) {\n                if (view.serviceClass == serviceClass)\n                    return view;\n            }\n\n            return undefined;\n        }\n\n        static registerDefaultViews(){\n            new jacdac.ControlDebugView();\n        }\n\n        renderControlPacket(device: JDDevice, service_information: JDServiceInformation) {\n            return \"\";\n        }\n\n        renderPacket(packet: JDPacket) {\n            return \"\";\n        }\n    }\n}",
            "debugviews.ts": "namespace jacdac {\n    export class SensorDebugView extends DebugView {\n        constructor(name: string, driverClass: number) {\n            super(name, driverClass);\n        }\n\n        renderControlPacket(device: JDDevice, service_information: JDServiceInformation): string {\n            const data = service_information.data;\n            const state = data[0];\n            switch (state) {\n                case SensorState.Stopping: return \"stopping\";\n                case SensorState.Streaming: return \"stream\";\n                default: return \"stop\";\n            }\n        }\n\n        renderPacket(packet: JDPacket): string {\n            const data = packet.data;\n            const cmd = data[0];\n            switch (cmd) {\n                case SensorCommand.StartStream:\n                    const interval = data.getNumber(NumberFormat.UInt32LE, 1);\n                    return `start stream ${interval ? `(${interval}ms)` : ''}`;\n                case SensorCommand.StopStream:\n                    return `stop stream`;\n                case SensorCommand.LowThreshold:\n                    return `low ${data[1]}`\n                case SensorCommand.HighThreshold:\n                    return `high ${data[1]}`\n                case SensorCommand.Event:\n                    return this.renderEvent(data[1]);\n                case SensorCommand.State:\n                    return `ev ${this.renderState(data.slice(1)) || data[1]}`;\n                default:\n                    return this.renderCustomPacket(cmd, packet);\n            }\n        }\n\n        renderCustomPacket(cmd: number, packet: JDPacket): string {\n            return packet.data.toHex();\n        }\n\n        renderEvent(value: number): string {\n            return value.toString();\n        }\n\n        renderState(data: Buffer): string {\n            return data.toHex();\n        }\n    }\n\n    class LightDebugView extends DebugView {\n        constructor() {\n            super(\"light\", jacdac.LIGHT_DEVICE_CLASS);\n        }\n\n        renderPacket(packet: JDPacket) {\n            const data = packet.data;\n            const cmd = data[0];\n            const payload = data.slice(1, data.length - 1);\n            const names = [\n                \"none\",\n                \"all\",\n                \"bright\",\n                \"rainbow\",\n                \"rlights\",\n                \"colorw\",\n                \"comet\",\n                \"theaterchase\",\n                \"sparkle\"\n            ];\n            return `${names[cmd]} ${payload.toHex()}`\n        }\n    }\n\n    class MusicDebugView extends DebugView {\n        constructor() {\n            super(\"music\", jacdac.MUSIC_DEVICE_CLASS);\n        }\n\n        renderPacket(packet: JDPacket) {\n            const data = packet.data;\n            const cmd = data[0];\n            switch (cmd) {\n                case JDMusicCommand.PlayTone:\n                    return `tone ${data.getNumber(NumberFormat.UInt32LE, 1)} ${data.getNumber(NumberFormat.UInt32LE, 5)}`;\n                default:\n                    return \"\";\n            }\n        }\n    }\n\n    class ConsoleDebugView extends DebugView {\n        constructor() {\n            super(\"log\", jacdac.LOGGER_DEVICE_CLASS);\n        }\n        renderControlPacket(device: JDDevice, service_information: JDServiceInformation): string {\n            const data = service_information.data;\n            return `${[\"off\", \"broad\", \"listen\"][data[0]]} ${data[1]}`;\n        }\n\n        renderPacket(packet: JDPacket) {\n            const data = packet.data;\n            const pri = data[0];\n            const str = bufferToString(data, 1);\n            return `${pri}:${str}`;\n        }\n    }\n\n    class MessageBusDebugView extends DebugView {\n        constructor() {\n            super(MessageBusService.NAME, jacdac.MESSAGE_BUS_DEVICE_CLASS);\n        }\n\n        renderPacket(packet: JDPacket): string {\n            const data = packet.data;\n            return `${data.getNumber(NumberFormat.UInt16LE, 0)} ${data.getNumber(NumberFormat.UInt16LE, 2)}`;\n        }\n    }\n\n    class AccelerometerDebugView extends SensorDebugView {\n        constructor() {\n            super(\"acc\", jacdac.ACCELEROMETER_DEVICE_CLASS);\n        }\n\n        renderEvent(data: number): string {\n            switch (data) {\n                case JDGesture.Shake: return \"shake\";\n                case JDGesture.FreeFall: return \"freefall\";\n            }\n            return \"\";\n        }\n\n        renderState(data: Buffer): string {\n            const x = data.getNumber(NumberFormat.UInt16LE, 0);\n            const y = data.getNumber(NumberFormat.UInt16LE, 2);\n            const z = data.getNumber(NumberFormat.UInt16LE, 4);\n            return `${x} ${y} ${z}`;\n        }\n    }\n\n    class ButtonDebugView extends SensorDebugView {\n        constructor() {\n            super(\"button\", jacdac.BUTTON_DEVICE_CLASS);\n        }\n\n        renderEvent(value: number): string {\n            switch (value) {\n                case JDButtonEvent.Click: return \"click\";\n                case JDButtonEvent.Down: return \"down\";\n                case JDButtonEvent.Up: return \"up\";\n                case JDButtonEvent.LongClick: return \"lg click\"\n                default: return \"\";\n            }\n        }\n\n        renderState(data: Buffer): string {\n            return !!data[0] ? `up` : `down`;\n        }\n    }\n\n    class LightSensorDebugView extends SensorDebugView {\n        constructor() {\n            super(\"lis\", jacdac.LIGHT_SENSOR_DEVICE_CLASS);\n        }\n    }\n\n    class MicrophoneDebugView extends SensorDebugView {\n        constructor() {\n            super(\"mic\", jacdac.MICROPHONE_DEVICE_CLASS);\n        }\n\n        renderEvent(value: number): string {\n            if (value == DAL.SENSOR_THRESHOLD_HIGH)\n                return \"loud\";\n            return \"\";\n        }\n\n        renderState(data: Buffer): string {\n            return `level ${data[0]}`;\n        }\n    }\n\n    class SwitchDebugView extends SensorDebugView {\n        constructor() {\n            super(\"switch\", jacdac.SWITCH_DEVICE_CLASS);\n        }\n\n        renderEvent(value: number): string {\n            switch (value) {\n                case JDSwitchDirection.Left: return \"left\";\n                case JDSwitchDirection.Right: \"right\";\n                default: return \"\";\n            }\n        }\n\n        renderState(data: Buffer): string {\n            return !!data[0] ? `right` : `left`;\n        }\n    }\n\n    class ThermometerDebugView extends SensorDebugView {\n        constructor() {\n            super(\"temp\", jacdac.THERMOMETER_DEVICE_CLASS);\n        }\n    }\n\n    class TouchDebugView extends SensorDebugView {\n        constructor() {\n            super(\"touch\", jacdac.TOUCHBUTTON_DEVICE_CLASS);\n        }\n\n        renderEvent(value: number): string {\n            switch (value) {\n                case JDButtonEvent.Click: return \"click\";\n                case JDButtonEvent.Down: \"down\";\n                case JDButtonEvent.Up: \"up\";\n                case JDButtonEvent.LongClick: return \"lg click\"\n                default: return \"\";\n            }\n        }\n\n        renderState(data: Buffer): string {\n            return `${data.getNumber(NumberFormat.UInt16LE, 0)}`;\n        }\n    }\n\n    // class PixelDebugView extends ActuatorDebugView {\n    //     constructor() {\n    //         super(\"pixel\", jacdac.PIXEL_DEVICE_CLASS);\n    //     }\n    // }\n\n    class ControllerDebugView extends DebugView {\n        constructor() {\n            super(\"ctrl\", jacdac.CONTROLLER_DEVICE_CLASS);\n        }\n\n        renderControlPacket(device: JDDevice, service_information: JDServiceInformation): string {\n            const data = service_information.data;\n            return this.renderData(data);\n        }\n\n        renderPacket(packet: JDPacket): string {\n            const data = packet.data;\n            return this.renderData(data);\n        }\n\n        private renderData(data: Buffer): string {\n            const cmd: JDControllerCommand = data[0];\n            switch (cmd) {\n                case JDControllerCommand.ClientButtons:\n                    const state = data[1];\n                    const left = state & (1 << 1);\n                    const up = state & (1 << 2);\n                    const right = state & (1 << 3);\n                    const down = state & (1 << 4);\n                    const A = state & (1 << 5);\n                    const B = state & (1 << 6);\n                    return `${left ? \"L\" : \"-\"}${up ? \"U\" : \"-\"}${right ? \"R\" : \"-\"}${down ? \"D\" : \"-\"}${A ? \"A\" : \"-\"}${B ? \"B\" : \"-\"}`;\n                case JDControllerCommand.ControlServer:\n                    return `srv> ${data[1] ? toHex8(data[1]) : \"--\"} ${data[2] ? toHex8(data[2]) : \"--\"} ${data[3] ? toHex8(data[3]) : \"--\"} ${data[4] ? toHex8(data[4]) : \"--\"}`;\n                case JDControllerCommand.ControlClient:\n                    return `client> ${data[1] ? toHex8(data[1]) : \"--\"}`;\n                default:\n                    return toHex8(cmd);\n            }\n        }\n    }\n\n    export function registerDebugViews() {\n        new ConsoleDebugView();\n        new MessageBusDebugView();\n        new LightDebugView();\n        new MusicDebugView();\n        new AccelerometerDebugView();\n        new ButtonDebugView();\n        new LightSensorDebugView();\n        new MicrophoneDebugView();\n        new SwitchDebugView();\n        new ThermometerDebugView();\n        new TouchDebugView();\n        // new PixelDebugView();\n        new ControllerDebugView();\n    }\n}",
            "devicemanager.ts": "namespace jacdac {\n    export class JDDeviceManager {\n        devices: JDDevice[];\n\n        constructor() {\n            this.devices = [];\n        }\n\n        getDeviceList(): JDDevice[] {\n            return this.devices.slice(0);\n        }\n\n        getRemoteDevice(device_address: number): JDDevice {\n            return this.devices.find((dev) => { return dev.device_address == device_address });\n        }\n\n        getRemoteDeviceUnique(device_address: number, udidh: number, udidl: number): JDDevice {\n            return this.devices.find((dev) => dev.device_address == device_address && dev.udidh == udidh && dev.udidl == udidl);\n        }\n\n        addDevice(controlPacket: JDControlPacket, communicationRate: number): JDDevice {\n            let dev = this.getRemoteDeviceUnique(controlPacket.device_address, controlPacket.udidh, controlPacket.udidl);\n\n            if (dev)\n                return dev;\n\n            dev = new JDDevice(controlPacket, communicationRate);\n\n            this.devices.push(dev);\n\n            return dev;\n        }\n\n        updateDevice(controlPacket: JDControlPacket, communicationRate: number): void {\n            const dev = this.getRemoteDeviceUnique(controlPacket.device_address, controlPacket.udidh, controlPacket.udidl);\n\n            if (dev)\n                dev.update(controlPacket);\n        }\n\n        removeDevice(device: JDDevice): void {\n            this.devices = this.devices.filter((dev) => !(dev.device_address == device.device_address && device.udidl == dev.udidl && device.udidh == dev.udidh))\n        }\n    }\n}",
            "diagnostics.ts": "namespace jacdac {\n    export class JDDiagnostics\n    {\n        bus_state: number;\n        bus_lo_error: number;\n        bus_uart_error: number;\n        bus_timeout_error: number;\n        packets_sent: number;\n        packets_received: number;\n        packets_dropped: number;\n        bus_status: string;\n\n        constructor(buf: Buffer)\n        {\n            if (!buf || buf.length == 0) {\n                this.bus_lo_error = 0\n                this.bus_uart_error = 0\n                this.bus_timeout_error = 0\n                this.packets_sent = 0\n                this.packets_received = 0\n                this.packets_dropped = 0\n                this.bus_state = 0\n                this.bus_status = \"\";\n            } else {\n                this.bus_state = buf.getNumber(NumberFormat.UInt32LE,0);\n\n                if (this.bus_state == 0)\n                    this.bus_status = \"connected\";\n                else\n                    this.bus_status = \"error\";\n\n                this.bus_lo_error = buf.getNumber(NumberFormat.UInt32LE,4);\n                this.bus_uart_error = buf.getNumber(NumberFormat.UInt32LE,8);\n                this.bus_timeout_error = buf.getNumber(NumberFormat.UInt32LE,12);\n                this.packets_sent = buf.getNumber(NumberFormat.UInt32LE,16);\n                this.packets_received = buf.getNumber(NumberFormat.UInt32LE,20);\n                this.packets_dropped = buf.getNumber(NumberFormat.UInt32LE,24);\n            }\n        }\n    }\n}",
            "driver.ts": "namespace jacdac {\n    //% fixedInstances\n    export class Service extends jacdac.JDService {\n        public name: string;\n        protected supressLog: boolean;\n        private _controlData: Buffer;\n        private _eventId: number;\n\n        constructor(name: string, mode: JDServiceMode, serviceClass: number, controlDataLength = 0) {\n            super(serviceClass, mode)\n\n            this.name = name;\n            this._controlData = control.createBuffer(Math.max(0, controlDataLength));\n            this.supressLog = false;\n            this._eventId = control.allocateNotifyEvent();\n        }\n\n        get eventId() {\n            return this._eventId;\n        }\n\n        get serviceNumber(): number {\n            this.start();\n            return this.service_number;\n        }\n\n        get deviceAddress(): number {\n            const d = this.device();\n            return d ? d.device_address : -1;\n        }\n\n        get deviceName(): string {\n            const d = this.device();\n            return d ? d.device_name : \"\";\n        }\n\n        get controlData(): Buffer {\n            return this._controlData;\n        }\n\n        get isStarted(): boolean {\n            return jacdac.JACDAC.instance.contains(this);\n        }\n\n        addAdvertisementData(): Buffer {\n            return this._controlData;\n        }\n\n        protected log(text: string) {\n            if (!this.supressLog || jacdac.consolePriority < console.minPriority) {\n                let dev = jacdac.JACDAC.instance.getDeviceName();\n                if (!dev) {\n                    const d = this.device;\n                    dev = d ? toHex8(d.device_address) : \"--\";\n                }\n                console.add(jacdac.consolePriority, `${dev}:${toHex8(this.serviceNumber)}>${this.name}>${text}`);\n            }\n        }\n\n        protected sendPacket(pkt: Buffer) {\n            this.start();\n            this.send(pkt);\n        }\n\n        /**\n         * Registers and starts the driver\n         */\n        //% blockId=jacdachoststart block=\"start %service\"\n        //% group=\"Services\" blockGap=8\n        start() {\n            jacdac.start();\n            if (jacdac.JACDAC.instance.add(this)) {\n                this.log(\"start\");\n            }\n        }\n\n        /**\n         * Unregister and stops the driver\n         */\n        //% blockId=jacdachoststop block=\"stop %service\"\n        //% group=\"Services\" blockGap=8\n        stop() {\n            if (jacdac.JACDAC.instance.remove(this)) {\n                this.log(\"stop\")\n            }\n        }\n    }\n\n    //% fixedInstances\n    export class Broadcast extends Service {\n        constructor(name: string, serviceClass: number, controlDataLength?: number) {\n            super(name, JDServiceMode.BroadcastHostService, serviceClass, controlDataLength);\n        }\n    }\n\n    //% fixedInstances\n    export class Host extends Service {\n        constructor(name: string, serviceClass: number, controlDataLength?: number) {\n            super(name, JDServiceMode.HostService, serviceClass, controlDataLength);\n        }\n    }\n\n    //% fixedInstances\n    export class Client extends Service {\n        constructor(name: string, serviceClass: number, controlDataLength?: number) {\n            super(name, JDServiceMode.ClientService, serviceClass, controlDataLength);\n        }\n\n        /**\n         * Get the required device names\n         */\n        get requiredDeviceName() {\n            return this.requiredDevice && this.requiredDevice.device_name;\n        }\n\n        /** \n         * Set the required device name\n        */\n        set requiredDeviceName(name: string) {\n            const dev = new jacdac.JDRequiredDevice();\n            dev.device_name = name;\n            this.requiredDevice = dev;\n        }\n\n        /**\n         * Set required device uuid\n         */\n        get requiredDeviceUuid() {\n            return this.requiredDevice && this.requiredDevice.unique_device_identifier;\n        }\n\n        /** \n         * Sets the required device name\n        */\n        set requiredDeviceUuid(uuid: Buffer) {\n            const dev = new jacdac.JDRequiredDevice();\n            dev.unique_device_identifier = uuid;\n            this.requiredDevice = dev;\n        }\n\n        protected registerEvent(value: number, handler: () => void) {\n            control.onEvent(this.eventId, value, handler);\n            this.start();\n        }\n    }\n}",
            "ifaces.ts": "namespace jacdac{\n\n    export interface JDOptions {\n        utf8Encode: (s: string) => Buffer;\n        utf8Decode: (b: Buffer) => string;\n        createBuffer: (size: number) => Buffer;\n        error: (message: string) => void;\n        log: (message: string) => void;\n        getSerialNumber: () => Buffer;\n    }\n\n    export interface JDPhysicalLayer {\n        writeBuffer(buf: Buffer): void;\n        isConnected(): boolean;\n    }\n\n    export interface JDSerializable {\n        getBuffer(): Buffer;\n    }\n}",
            "jacdac.cpp": "\n\n#include \"pxt.h\"\n#include \"JACDAC.h\"\n#include \"JDPhysicalLayer.h\"\n\nnamespace jacdac {\n\nclass WJDPhysicalLayer {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n    CODAL_JACDAC_WIRE_SERIAL sws;\n    JDPhysicalLayer phys;\n#endif    \n\n  public:\n    WJDPhysicalLayer()\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        : sws(*LOOKUP_PIN(JACK_TX))\n        , phys(sws, *pxt::getJACDACTimer(), LOOKUP_PIN(JACK_BUSLED), LOOKUP_PIN(JACK_COMMLED), (PIN(JACK_BUSLED) & CFG_PIN_CONFIG_ACTIVE_LO) > 0, (PIN(JACK_COMMLED) & CFG_PIN_CONFIG_ACTIVE_LO) > 0)\n#endif        \n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        sws.setBaud(1000000);\n#if CONFIG_ENABLED(DEVICE_USB) && CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n        if (pxt::jacdacDebug)\n            pxt::jacdacDebug->setPhysicalLayer(phys);\n#endif\n#endif\n    }\n\n    void send(Buffer b) {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        phys.send((JDPacket*)b->data,NULL,false);\n#endif        \n    }\n\n    bool isConnected() {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        return phys.isConnected();\n#else\n        return false;\n#endif\n    }\n\n    bool isRunning() {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        return phys.isRunning();\n#else\n        return false;\n#endif\n    }\n\n    int getId()\n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        return phys.id;\n#else\n        return -1;\n#endif\n    }\n\n    JDPacket* getPacket()\n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        auto pkt = phys.getPacket();\n#if CONFIG_ENABLED(DEVICE_USB) && CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n        if (pkt && pxt::jacdacDebug)\n            pxt::jacdacDebug->handlePacket(pkt);\n#endif\n        return pkt;\n#else\n        return NULL;\n#endif        \n    }\n\n    void start()\n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        phys.start();\n#endif        \n    }\n\n    void stop()\n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        phys.stop();\n#endif       \n    }\n\n    JDDiagnostics getDiagnostics()\n    {\n#ifdef CODAL_JACDAC_WIRE_SERIAL\n        return phys.getDiagnostics();\n#else\n        JDDiagnostics d;\n        return d;\n#endif       \n    }\n};\n\nSINGLETON_IF_PIN(WJDPhysicalLayer, JACK_TX);\n\n/**\n* Gets the physical layer component id\n**/\n//%\nint __physId() {\n    auto jd = getWJDPhysicalLayer();\n    return jd ? jd->getId() : -1;\n}\n\n/**\n * Write a buffer to the jacdac physical layer.\n **/\n//%\nvoid __physSendPacket(Buffer buf) {\n    auto jd = getWJDPhysicalLayer();\n    if (jd)\n        jd->send(buf);\n}\n\n/**\n* Reads a packet from the queue. NULL if queue is empty\n**/\n//%\nBuffer __physGetPacket() {\n    auto jd = getWJDPhysicalLayer();\n    Buffer buf = NULL;\n    if (jd) {\n        auto pkt = jd->getPacket();\n        if (pkt)\n        {\n            buf = mkBuffer((uint8_t*)pkt, sizeof(JDPacket));\n            free(pkt);\n        }\n    }\n\n    return buf;\n}\n\n/**\n * Returns the connection state of the JACDAC physical layer.\n **/\n//%\nbool __physIsConnected() {\n    auto jd = getWJDPhysicalLayer();\n    return jd && jd->isConnected();\n}\n\n/**\n * Indicates if the bus is running\n **/\n//%\nbool __physIsRunning() {\n    auto jd = getWJDPhysicalLayer();\n    return jd && jd->isRunning();\n}\n\n/**\n * Starts the JACDAC physical layer.\n **/\n//%\nvoid __physStart()\n{\n    auto jd = getWJDPhysicalLayer();\n    if (jd)\n        jd->start();\n}\n\n\n/**\n * Reads the diagnostics struct provided by the physical layer. Returns a buffer or NULL.\n **/\n//%\nBuffer __physGetDiagnostics() {\n    auto jd = getWJDPhysicalLayer();\n    Buffer buf = NULL;\n\n    if (jd) {\n        JDDiagnostics diagnostics = jd->getDiagnostics();\n        buf = mkBuffer((uint8_t*)&diagnostics, sizeof(JDDiagnostics));\n    }\n\n    return buf;\n}\n\n/**\n * Stops the JACDAC physical layer.\n **/\n//%\nvoid __physStop()\n{\n    auto jd = getWJDPhysicalLayer();\n    if (jd)\n        jd->stop();\n}\n\n}",
            "jacdac.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"142\" height=\"180\" viewBox=\"0 0 142 180\"><rect ry=\".3\" rx=\"1\" y=\"58.615\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><rect ry=\".3\" rx=\"1\" y=\"32.043\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><path d=\"M.346 7.296c-.394.39-.31 4.797-.18 4.898l13.404 10.18c.117.12.337 4.76.73 4.368l5.506-5.56.01.01 6.51-6.444c.39-.392-4.25-.614-4.366-.73L11.777.612c-.1-.132-4.51-.215-4.898.18L4.087 3.636l-.01-.01-3.73 3.67z\" fill=\"#b3b3b3\"/><rect ry=\"6.85\" rx=\"4.571\" y=\"84.758\" x=\"-20.128\" height=\"75.571\" width=\"39.643\" transform=\"rotate(-45)\"/><rect ry=\".374\" rx=\"1.038\" y=\"29.442\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"55.939\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"82.392\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\"2.317\" rx=\"2.183\" y=\"158.876\" x=\"-9.774\" height=\"25.568\" width=\"18.935\" transform=\"rotate(-45)\"/><path d=\"M128.588 128.82s14.97 11.165 7.547 26.35c-8.426 17.24-25.57 20.653-25.57 20.653\" fill=\"none\" stroke=\"#000\" stroke-width=\"6.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>",
            "jacdac.ts": "/// <reference path=\"ifaces.ts\"/>\n\nnamespace jacdac {\n    class JDDummyBus implements JDPhysicalLayer {\n        writeBuffer(buf: Buffer) {\n        }\n\n        isConnected() {\n            return true;\n        }\n    }\n\n    /**\n     * A packet\n     */\n    export class JACDAC {\n        private static _instance: JACDAC;\n        private _controlService: JDControlService;\n        private _consoleService: JDConsoleService;\n        private _bridge: JDService;\n        private _services: JDService[];\n        private _bus: JDPhysicalLayer;\n\n        private state: boolean;\n\n        onIdentificationRequest: () => void;\n        onNameRemotelyChanged: (name: string) => void;\n\n        get bus() {\n            return this._bus;\n        }\n\n        set bus(bus: JDPhysicalLayer) {\n            this._bus = bus;\n        }\n\n        get services(): JDService[] {\n            return this._services.slice(0);\n        }\n\n        get bridge() {\n            return this._bridge;\n        }\n\n        set bridge(bridge: JDService) {\n            this._bridge = bridge;\n        }\n\n        get devices(): JDDevice[] {\n            return this._controlService.deviceManager.getDeviceList();\n        }\n\n        get controlService() {\n            return this._controlService;\n        }\n\n        get consoleService() {\n            if (!this._consoleService) {\n                this._consoleService = new JDConsoleService();\n                this.add(this._consoleService);\n            }\n            return this._consoleService;\n        }\n\n        private constructor() {\n            this._bus = new JDDummyBus();\n            this._services = [];\n            this._controlService = new JDControlService();\n        }\n\n        setDeviceAddress(device_address: number) {\n            this._controlService.disconnect();\n            this._controlService.enumerate(device_address)\n        }\n\n        //packet received instead?\n        routePacket(pkt: JDPacket): void {\n            this._controlService.routePacket(pkt);\n\n            // if we have a bridge service, route all packets to it.\n            if (this._bridge)\n                this._bridge.handlePacket(pkt);\n        }\n\n        start(device_address?:number): void {\n            if (this.state)\n                return;\n\n            this.state = true;\n            this._controlService.enumerate(device_address);\n        }\n\n        stop(): void {\n            if (!this.state)\n                return;\n\n            this.state = false;\n            this._controlService.disconnect();\n        }\n\n        setDeviceName(name: string): void {\n            this._controlService.setDeviceName(name);\n        }\n\n        getDeviceName(): string {\n            return this._controlService.getDeviceName();\n        }\n\n        triggerRemoteIdentification(device_address: number): void {\n            this._controlService.configurationService.triggerRemoteIdentification(device_address);\n        }\n\n        setRemoteDeviceName(device_address: number, name: string): void {\n            this._controlService.configurationService.setRemoteDeviceName(device_address, name);\n        }\n\n        getRemoteDevice(device_address: number): JDDevice {\n            return this._controlService.getRemoteDevice(device_address);\n        }\n\n        isRunning(): boolean {\n            return this.state\n        }\n\n        add(service: JDService): boolean {\n\n            for (let s of this._services)\n                if (s == service)\n                    return false;\n\n            this._services.push(service);\n            jacdac.options.log(`added service cls:${service.service_class}, md:${service.mode} (${this._services.length} services)`);\n\n            // only enumerate if a new host service is added. Enumerate is idempotent.\n            if (service.mode == JDServiceMode.HostService || service.mode == JDServiceMode.BroadcastHostService)\n                this._controlService.enumerate();\n\n            return true;\n        }\n\n        remove(service: JDService): boolean {\n            for (let i = 0; i < this._services.length; ++i) {\n                if (this._services[i] == service) {\n                    jacdac.options.log(`removing service ${service.service_class}`);\n                    const isHost = (service.mode == JDServiceMode.HostService || service.mode == JDServiceMode.BroadcastHostService);\n                    if (isHost)\n                        this._controlService.disconnect();\n                    this._services.splice(i, 1);\n                    if (isHost)\n                        this._controlService.enumerate();\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        contains(service: JDService): boolean {\n            for (let i = 0; i < this._services.length; ++i) {\n                if (this._services[i] == service)\n                    return true;\n            }\n            return false;\n        }\n\n        public static get instance() {\n            return this._instance || (this._instance = new JACDAC());\n        }\n\n        write(buf: Buffer, service_number: number, device_address: number, device: JDDevice) {\n            let packet = new JDPacket();\n\n            if (device_address == jacdac.JD_CONTROL_TRANSMIT_ONLY_ADDRESS)\n                packet.data = device.udid.concat(buf);\n            else\n                packet.data = buf;\n\n            packet.device_address = device_address;\n            packet.service_number = service_number;\n            packet.communication_rate = JD_DEVICE_DEFAULT_COMMUNICATION_RATE;\n\n            if (device)\n                packet.communication_rate = device.communication_rate;\n\n            packet.crc = jd_crc(packet, device);\n\n\n            this.writePacket(packet);\n        }\n\n        writePacket(pkt: JDPacket) {\n            this._bus.writeBuffer(pkt.getBuffer());\n        }\n    }\n\n    /**\n     * Gets the JACDAC instance\n     */\n    export function instance() {\n        return jacdac.JACDAC.instance;\n    }\n\n    /**\n     * Gets a snapshot of the device list\n     */\n    export function devices(): JDDevice[] {\n        return jacdac.JACDAC.instance.devices;\n    }\n\n    /**\n     * Gets a value that indicates if the JACDAC bus is connected.\n     */\n    export function isConnected(): boolean {\n        return jacdac.JACDAC.instance.bus.isConnected()\n            && jacdac.JACDAC.instance.controlService.isConnected();\n    }\n\n    /**\n     * Gets a value that indicates if JACDAC is running.\n     */\n    export function isRunning(): boolean {\n        return jacdac.JACDAC.instance.isRunning();\n    }\n\n    /**\n     * Starts and returns the console service\n     */\n    export function consoleService(): JDConsoleService {\n        return jacdac.JACDAC.instance.consoleService;\n    }\n}\n",
            "jacdacidentification.ts": "namespace jacdac {\n    export class JDIdentification {\n        identifying: boolean;\n\n        constructor() {\n            this.identifying = false;\n            control.onEvent(33,2, () => {\n                this.identify();\n            });\n        }\n\n        identify() {\n            this.identifying = true;\n            // do something to identify the device\n            this.identifying = false;\n        }\n    }\n\n    export class JDGPIOIdentification extends JDIdentification {\n        pin: DigitalInOutPin\n        constructor(pin: DigitalInOutPin) {\n            super();\n            this.pin = pin || pins.pinByCfg(DAL.CFG_PIN_LED);\n        }\n\n        identify() {\n            if (this.identifying || !this.pin)\n                return;\n\n            this.identifying = true;\n\n            let state = false;\n            for (let i = 0; i < 50; i++) {\n                this.pin.digitalWrite(state = !state);\n                pause(100);\n            }\n\n            this.identifying = false;\n        }\n    }\n\n    /**\n     * The identitifiation service\n     */\n    //% fixedInstance whenUsed\n    export const identification: JDIdentification = new JDGPIOIdentification(undefined);\n}",
            "makecodejacdac.ts": "enum JDBusState {\n    Receiving,\n    Transmitting,\n    High,\n    Low,\n    NotSupported = -1\n}\n\nnamespace jacdac {\n\n    class JACDACBus implements jacdac.JDPhysicalLayer {\n        constructor() {\n        }\n\n        start() {\n            __physStart();\n            control.internalOnEvent(__physId(), DAL.JD_SERIAL_EVT_DATA_READY, () => this.handlePacketData());\n        }\n\n        stop() {\n            __physStop();\n        }\n\n        handlePacketData() {\n            let buf: Buffer = undefined;\n            while (buf = __physGetPacket()) {\n                const pkt = new jacdac.JDPacket(buf);\n                jacdac.JACDAC.instance.routePacket(pkt)\n            }\n        }\n\n        writeBuffer(b: Buffer) {\n            __physSendPacket(b);\n        }\n\n        isConnected() {\n            return __physIsConnected()\n        }\n\n        isRunning() {\n            return __physIsRunning();\n        }\n\n        getDiagnostics() {\n            return __physGetDiagnostics();\n        }\n    }\n\n    let jacdacStarted = false;\n    let bus: JACDACBus;\n    export function start(): void {\n        if (jacdacStarted)\n            return;\n\n        jacdacStarted = true;\n        if (!bus) {\n            bus = new JACDACBus();\n            jacdac.JACDAC.instance.bus = bus;\n        }\n\n        // load name from storage\n        const DEVICE_NAME_STORAGE_KEY = \"jddn\"\n\n        if (!jacdac.JACDAC.instance.getDeviceName()) {\n            const deviceName = configStorage.getItem(DEVICE_NAME_STORAGE_KEY);\n            if (deviceName) {\n                console.add(jacdac.consolePriority, `:jd> restoring device name changed to ${deviceName}`)\n                jacdac.JACDAC.instance.setDeviceName(deviceName);\n            }\n        }\n        jacdac.JACDAC.instance.onNameRemotelyChanged = function (name: string) {\n            control.dmesg(`:jd> device name changed to ${name}`);\n            console.add(jacdac.consolePriority, `:jd> device name changed to ${name}`)\n            configStorage.setItem(DEVICE_NAME_STORAGE_KEY, name);\n        };\n\n        jacdac.JACDAC.instance.onIdentificationRequest = function () {\n            // DEVICE_ID_JACDAC_CONFIGURATION_SERVICE = 33\n            // JD_CONTROL_CONFIGURATION_EVT_IDENTIFY = 2\n            control.raiseEvent(33, 2)\n        }\n\n        // start service\n        bus.start();\n        jacdac.JACDAC.instance.start();\n\n        console.addListener(function (pri, msg) {\n            jacdac.JACDAC.instance.consoleService.add(<jacdac.JDConsolePriority><number>pri, msg);\n        });\n    }\n\n    export function diagnostics(): jacdac.JDDiagnostics {\n        if (!bus)\n            return new jacdac.JDDiagnostics(control.createBuffer(0));\n\n        return new jacdac.JDDiagnostics(bus.getDiagnostics());\n    }\n\n    export function stop() {\n        if (jacdacStarted) {\n            jacdacStarted = false;\n            jacdac.JACDAC.instance.stop();\n            bus.stop();\n        }\n    }\n\n    /**\n     * Sets the name of the current device on the JACDAC bus\n     * @param name name of the device\n     */\n    //% blockId=jdsetdevicename block=\"jacdac set device name to $name\"\n    //% group=\"Services\" blockGap=8\n    export function setDeviceName(name: string) {\n        jacdac.JACDAC.instance.setDeviceName(name);        \n    }\n}",
            "makecodeoptions.ts": "namespace jacdac.options\n{\n    let sn: Buffer\n    export function utf8Decode (buf: Buffer) {\n        return buf.toString();\n    }\n\n    export function utf8Encode (str: string) {\n        return control.createBufferFromUTF8(str);\n    }\n\n    export function createBuffer (size: number) {\n        return control.createBuffer(size);\n    }\n\n    export function error (message: string) {\n        console.add(ConsolePriority.Error, \":jd> \" + message);\n    }\n\n    export function log (message: string)  {\n        console.add(jacdac.consolePriority, \":jd> \" + message);\n    }\n\n    export function getSerialNumber ()  {\n        if (!sn) {\n            sn = control.deviceLongSerialNumber();\n        }\n        return sn;\n    }\n    export function getTimeMs() {\n        return control.millis();\n    }\n}",
            "messagebus.ts": "namespace jacdac {\n\n    /**\n     * A driver that listens for message bus events\n     */\n    export class MessageBusService extends Broadcast {\n        suppressForwarding: boolean;\n\n        static NAME = \"bus\";\n        constructor() {\n            super(MessageBusService.NAME, jacdac.MESSAGE_BUS_DEVICE_CLASS);\n            this.suppressForwarding = false;\n        }\n\n        raiseEvent(id: number, value: number) {\n            this.start();\n            const event = control.createBuffer(4);\n            event.setNumber(NumberFormat.UInt16LE, 0, id);\n            event.setNumber(NumberFormat.UInt16LE, 2, value);\n            this.sendPacket(event);\n        }\n\n        broadcastEvent(id: number, value: number) {\n            this.start();\n            //control.dmesg(`jd> msgbus> listen event ${id} ${value}`)        \n            control.onEvent(id, value, () => {\n                if (this.suppressForwarding) return;\n                this.raiseEvent(id, value);\n            }, DAL.MESSAGE_BUS_LISTENER_IMMEDIATE)\n        }\n\n        handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const id = data.getNumber(NumberFormat.UInt16LE, 0);\n            const value = data.getNumber(NumberFormat.UInt16LE, 2);\n            this.suppressForwarding = true;\n            control.raiseEvent(id, value);\n            this.suppressForwarding = false;\n            return jacdac.DEVICE_OK;\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"message bus service\"\n    export const messageBusService = new MessageBusService();\n\n    /**\n     * Pipes specific events through JACDAC\n     */\n    //% block=\"broadcast events|from %src|with value %value\" weight=5\n    //% group=\"Control\"\n    export function broadcastEvent(src: number, value: number) {\n        messageBusService.broadcastEvent(src, value);\n    }\n\n    /**\n     * Gets the message code\n     */\n    //% blockHidden=1 shim=ENUM_GET\n    //% blockId=jacdacMessageCode block=\"$msg\" enumInitialMembers=\"message1\"\n    //% enumName=JacDacMessage enumMemberName=msg enumPromptHint=\"e.g. Start, Stop, Jump...\"\n    //% group=\"Broadcast\"\n    //% enumIsHash\n    export function __message(msg: number): number {\n        return msg;\n    }\n\n    /**\n     * Sends an event over JacDac\n     * @param id \n     * @param value \n     */\n    //% blockid=jacdacraisevent\n    //% block=\"raise event|from %src|with value %value\" weight=5\n    //% group=\"Control\"\n    export function raiseEvent(src: number, value: number) {\n        messageBusService.raiseEvent(src, value);\n    }\n\n    /**\n     * Broadcasts a message over JacDac\n     * @param msg \n     */\n    //% blockId=jacdacBroadcastMessage block=\"jacdac send $msg\"\n    //% msg.shadow=jacdacMessageCode draggableParameters\n    //% weight=200\n    //% blockGap=8\n    //% help=jacdac/send-message\n    //% group=\"Broadcast\"\n    export function sendMessage(msg: number): void {\n        // 0 is MICROBIT_EVT_ANY, shifting by 1\n        messageBusService.raiseEvent(JD_MESSAGE_BUS_ID, msg + 1);\n    }\n\n    /**\n     * Registers code to run for a particular message\n     * @param msg \n     * @param handler \n     */\n    //% blockId=jacdacOnMessageReceived block=\"on jacdac $msg received\"\n    //% msg.shadow=jacdacMessageCode draggableParameters\n    //% weight=199\n    //% help=jacdac/on-received-message\n    //% group=\"Broadcast\"\n    export function onReceivedMessage(msg: number, handler: () => void) {\n        messageBusService.start();\n        control.onEvent(JD_MESSAGE_BUS_ID, msg + 1, handler);\n    }\n}",
            "ns.ts": "//% weight=5 advanced=true\n//% blockGap=8\n//% groups='[\"Broadcast\", \"Console\", \"Controller\", \"Services\", \"Control\"]'\nnamespace jacdac {\n\n}",
            "pxt.json": "{\n    \"name\": \"jacdac\",\n    \"description\": \"Plug and play single wire serial protocol - beta\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"configurationservice.ts\",\n        \"consoleservice.ts\",\n        \"consts.ts\",\n        \"control.ts\",\n        \"controldebugview.ts\",\n        \"crc.ts\",\n        \"debugservice.ts\",\n        \"debugview.ts\",\n        \"debugviews.ts\",\n        \"devicemanager.ts\",\n        \"diagnostics.ts\",\n        \"ifaces.ts\",\n        \"jacdac.ts\",\n        \"rand.ts\",\n        \"rngservice.ts\",\n        \"service.ts\",\n        \"structs.ts\",\n        \"makecodeoptions.ts\",\n        \"makecodejacdac.ts\",\n        \"jacdac.cpp\",\n        \"shims.d.ts\",\n        \"config.ts\",\n        \"driver.ts\",\n        \"sensordriver.ts\",\n        \"jacdac.svg\",\n        \"pxtparts.json\",\n        \"actuator.ts\",\n        \"messagebus.ts\",\n        \"jacdacidentification.ts\",\n        \"controllerclient.ts\",\n        \"ns.ts\",\n        \"README.md\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"yotta\": {\n        \"userConfigs\": [\n            {\n                \"description\": \"JACDAC WebUSB debugging.\",\n                \"config\": {\n                    \"DEVICE_JACDAC_DEBUG\": 1\n                }\n            }\n        ]\n    }\n}\n",
            "pxtparts.json": "{\n    \"jacdac\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"image\": \"jacdac.svg\",\n            \"width\": 142,\n            \"height\": 180,\n            \"pinDistance\": 20,\n            \"pinLocations\": [\n                {\n                    \"x\": 30,\n                    \"y\": 30\n                },\n                {\n                    \"x\": 55,\n                    \"y\": 50\n                }\n            ]\n        },\n        \"pinDefinitions\": [\n            {\n                \"target\": \"JACK_TX\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"singleton\"\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0, 1\n                ]\n            }\n        ]\n    }\n}",
            "rand.ts": "namespace jacdac{\n    export function random(min: number, max: number) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    export function generate_eui64(serial: Buffer) : Buffer {\n        serial.setUint8(6, serial.getUint8(6) & ~(0x02))\n        return serial;\n    }\n}",
            "rngservice.ts": "namespace jacdac{\n\n    const JD_CONTROL_RNG_SERVICE_NUMBER = 2\n\n    const JD_CONTROL_RNG_SERVICE_REQUEST_TYPE_REQ = 1;\n    const JD_CONTROL_RNG_SERVICE_REQUEST_TYPE_RESP = 2;\n\n    export class JDRNGService extends JDService {\n\n        send(buffer: Buffer): void {\n            if (JACDAC.instance.bus.isConnected())\n                JACDAC.instance.write(buffer, this.service_number, 0, null);\n        }\n\n        constructor() {\n            super(JDServiceClass.CONTROL_RNG, JDServiceMode.ControlLayerService);\n            this.service_number = JD_CONTROL_RNG_SERVICE_NUMBER;\n        }\n\n        // no imp for now.\n    }\n\n}",
            "sensordriver.ts": "namespace jacdac {\n    export enum SensorState {\n        None = 0,\n        Stopped = 0x01,\n        Stopping = 0x02,\n        Streaming = 0x04,\n    }\n\n    export enum SensorCommand {\n        State,\n        Event,\n        StartStream,\n        StopStream,\n        LowThreshold,\n        HighThreshold,\n        Calibrate\n    }\n\n    export function bufferEqual(l: Buffer, r: Buffer): boolean {\n        if (!l || !r) return !!l == !!r;\n        if (l.length != r.length) return false;\n        for (let i = 0; i < l.length; ++i) {\n            if (l.getNumber(NumberFormat.UInt8LE, i) != r.getNumber(NumberFormat.UInt8LE, i))\n                return false;\n        }\n        return true;\n    }\n\n    export function bufferToString(buf: Buffer, offset: number): string {\n        let str = \"\";\n        for (let i = offset; (i < buf.length) && !!buf[i]; i++)\n            str += String.fromCharCode(buf[i]);\n        return str;\n    }\n    \n    /**\n     * JacDac service running on sensor and streaming data out\n     */\n    export class SensorHost extends Host {\n        public streamingInterval: number; // millis\n\n        constructor(name: string, deviceClass: number, controlLength = 0) {\n            super(name, deviceClass, 1 + controlLength);\n            this.sensorState = SensorState.Stopped;\n            this.streamingInterval = 100;\n        }\n\n        get sensorState(): SensorState {\n            return this.controlData[0];\n        }\n\n        set sensorState(value: SensorState) {\n            this.controlData[0] = value;\n        }\n\n        public updateControlPacket() {\n            // send streaming state in control package\n            const buf = this.sensorControlPacket();\n            if (buf)\n                this.controlData.write(1, buf);\n        }\n\n        protected sensorControlPacket(): Buffer {\n            return undefined;\n        }\n\n        public handlePacket(packet: JDPacket): number {\n            const data = packet.data;\n            const command = data.getNumber(NumberFormat.UInt8LE, 0);\n            this.log(`hpkt ${command}`);\n            switch (command) {\n                case SensorCommand.StartStream:\n                    const interval = data.getNumber(NumberFormat.UInt32LE, 1);\n                    if (interval)\n                        this.streamingInterval = Math.max(20, interval);\n                    this.startStreaming();\n                    return jacdac.DEVICE_OK;\n                case SensorCommand.StopStream:\n                    this.stopStreaming();\n                    return jacdac.DEVICE_OK;\n                case SensorCommand.LowThreshold:                \n                    this.setThreshold(true, data.getNumber(NumberFormat.UInt32LE, 1));\n                    return jacdac.DEVICE_OK;\n                case SensorCommand.HighThreshold:\n                    this.setThreshold(false, data.getNumber(NumberFormat.UInt32LE, 1));\n                    return jacdac.DEVICE_OK;\n                case SensorCommand.Calibrate:\n                    return this.handleCalibrateCommand(packet);\n                default:\n                    // let the user deal with it\n                    return this.handleCustomCommand(command, packet);\n            }\n        }\n\n        // override\n        protected serializeState(): Buffer {\n            return undefined;\n        }\n\n        // override\n        protected setThreshold(low: boolean, value: number) {\n\n        }\n\n        // override\n        protected handleCalibrateCommand(pkt: JDPacket): number {\n            return jacdac.DEVICE_OK;\n        }\n\n        protected handleCustomCommand(command: number, pkt: JDPacket): number {\n            return jacdac.DEVICE_OK;\n        }\n\n        protected raiseHostEvent(value: number) {\n            const pkt = control.createBuffer(4);\n            pkt.setNumber(NumberFormat.UInt8LE, 0, SensorCommand.Event);\n            pkt.setNumber(NumberFormat.UInt16LE, 1, value);\n            this.sendPacket(pkt);\n        }\n\n        public setStreaming(on: boolean) {\n            if (on) this.startStreaming();\n            else this.stopStreaming();\n        }\n\n        private startStreaming() {\n            if (this.sensorState != SensorState.Stopped)\n                return;\n\n            this.log(`start`);\n            this.sensorState = SensorState.Streaming;\n            control.runInBackground(() => {\n                while (this.sensorState == SensorState.Streaming) {\n                    // run callback                    \n                    const state = this.serializeState();\n                    if (!!state) {\n                        // did the state change?\n                        if (this.isConnected()) {\n                            // send state and record time\n                            const pkt = control.createBuffer(state.length + 1);\n                            pkt.setNumber(NumberFormat.UInt8LE, 0, SensorCommand.State);\n                            pkt.write(1, state);\n                            this.sendPacket(pkt);\n                        }\n                    }\n                    // check streaming interval value\n                    if (this.streamingInterval < 0)\n                        break;\n                    // waiting for a bit\n                    pause(this.streamingInterval);\n                }\n                this.sensorState = SensorState.Stopped;\n                this.log(`stopped`);\n            })\n        }\n\n        private stopStreaming() {\n            if (this.sensorState == SensorState.Streaming) {\n                this.log(`stopping`)\n                this.sensorState = SensorState.Stopping;\n                pauseUntil(() => this.sensorState == SensorState.Stopped);\n            }\n        }\n    }\n}",
            "service.ts": "namespace jacdac{\n\n    export const enum JDServiceMode {\n        ClientService = 1,\n        HostService = 2,\n        BroadcastHostService = 3,\n        ControlLayerService = 4\n    }\n\n    export const enum JDServiceClass {\n        CONTROL = 0,\n        CONTROL_RNG = 1,\n        CONTROL_CONFIGURATION = 2,\n        CONTROL_TEST = 3,\n\n        JOYSTICK = 4,\n        MESSAGE_BUS = 5,\n        BRIDGE = 6,\n        BUTTON = 7,\n        ACCELEROMETER = 8,\n        CONSOLE = 9\n    }\n\n    export class JDService {\n        device?: JDDevice;\n        private _service_class: number;\n        service_number: number;\n        private _mode: JDServiceMode;\n        status: number;\n        service_flags: number;\n        requiredDevice?: JDRequiredDevice;\n\n        onConnected?: () => void;\n        onDisconnected?: () => void;\n\n        constructor(service_class: number, mode: JDServiceMode) {\n            this._service_class = service_class;\n            this.service_number = JD_SERVICE_NUMBER_UNITIALISED_VAL;\n            this.status = 0;\n            this._mode = mode;\n            this.service_flags = 0\n        }\n\n        get service_class() {\n            return this._service_class;\n        }\n\n        get mode() {\n            return this._mode;\n        }\n\n        addAdvertisementData(): Buffer {\n            return jacdac.options.createBuffer(0);\n        }\n\n        handleServiceInformation(device: JDDevice, serviceInfo: JDServiceInformation): number {\n            return DEVICE_OK;\n        }\n\n        handlePacket(pkt: JDPacket): number {\n            return DEVICE_OK;\n        }\n\n\n        isConnected(): boolean {\n            return (this.status & JD_SERVICE_STATUS_FLAGS_INITIALISED) ? true : false;\n        }\n\n        send(buffer: Buffer): void {\n            if (this.device && JACDAC.instance.bus.isConnected())\n                JACDAC.instance.write(buffer, this.service_number, this.device.device_address, this.device);\n        }\n\n\n        _hostConnected(): void {\n            jacdac.options.log(\"Host Connected\");\n            this.status |= JD_SERVICE_STATUS_FLAGS_INITIALISED;\n\n            if (this.onConnected)\n                this.onConnected();\n        }\n\n        _hostDisconnected(): void {\n            jacdac.options.log(\"Host disconnected\");\n            this.status &= ~JD_SERVICE_STATUS_FLAGS_INITIALISED;\n\n            if (this.onDisconnected)\n                this.onDisconnected();\n        }\n\n    }\n}",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace jacdac {\n\n    /**\n     * Gets the physical layer component id\n     **/\n    //% shim=jacdac::__physId\n    function __physId(): int32;\n\n    /**\n     * Write a buffer to the jacdac physical layer.\n     **/\n    //% shim=jacdac::__physSendPacket\n    function __physSendPacket(buf: Buffer): void;\n\n    /**\n     * Reads a packet from the queue. NULL if queue is empty\n     **/\n    //% shim=jacdac::__physGetPacket\n    function __physGetPacket(): Buffer;\n\n    /**\n     * Returns the connection state of the JACDAC physical layer.\n     **/\n    //% shim=jacdac::__physIsConnected\n    function __physIsConnected(): boolean;\n\n    /**\n     * Indicates if the bus is running\n     **/\n    //% shim=jacdac::__physIsRunning\n    function __physIsRunning(): boolean;\n\n    /**\n     * Starts the JACDAC physical layer.\n     **/\n    //% shim=jacdac::__physStart\n    function __physStart(): void;\n\n    /**\n     * Reads the diagnostics struct provided by the physical layer. Returns a buffer or NULL.\n     **/\n    //% shim=jacdac::__physGetDiagnostics\n    function __physGetDiagnostics(): Buffer;\n\n    /**\n     * Stops the JACDAC physical layer.\n     **/\n    //% shim=jacdac::__physStop\n    function __physStop(): void;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "structs.ts": "namespace jacdac {\n    export class JDPacket implements JDSerializable {\n        _buffer: Buffer;\n\n        constructor(buf?: Buffer) {\n            if (buf) {\n                if (buf.length != JD_SERIAL_HEADER_SIZE + JD_SERIAL_MAX_PAYLOAD_SIZE + 1)\n                    jacdac.options.error(\"Buffer packet size mismatch. Buffer size: \" + buf.length + \" expected size: \" + (JD_SERIAL_HEADER_SIZE + JD_SERIAL_MAX_PAYLOAD_SIZE + 1));\n\n                this._buffer = buf\n            }\n            else\n                this._buffer = jacdac.options.createBuffer(JD_SERIAL_MAX_PAYLOAD_SIZE + JD_SERIAL_HEADER_SIZE + 1);\n        }\n\n        get crc(): number {\n            return this._buffer.getUint8(0) | ((this._buffer.getUint8(1) & 0x0f) << 8)\n        }\n        set crc(crc: number) {\n            this._buffer.setUint8(0, crc & 0xff);\n            this._buffer.setUint8(1, (this._buffer.getUint8(1) & 0xf0) | (crc & 0xF00) >> 8);\n        }\n\n        get device_address(): number {\n            return this._buffer.getUint8(2);\n        }\n        set device_address(address: number) {\n            this._buffer.setUint8(2, address & 0xff);\n        }\n\n        get udidh() : number {\n            return (this.device_address == JD_CONTROL_TRANSMIT_ONLY_ADDRESS) ? this._buffer.getNumber(NumberFormat.UInt32LE, JD_SERIAL_HEADER_SIZE + 4) : 0;\n        }\n        get udidl() : number {\n            return (this.device_address == JD_CONTROL_TRANSMIT_ONLY_ADDRESS) ? this._buffer.getNumber(NumberFormat.UInt32LE, JD_SERIAL_HEADER_SIZE) : 0;\n        }\n\n        get size(): number {\n            return this._buffer.getUint8(3);\n        }\n        set size(size: number) {\n            this._buffer.setUint8(3, size & 0xFF);\n        }\n\n        get service_number(): number {\n            return (this._buffer.getUint8(1) & 0xF0) >> 4;\n        }\n        set service_number(service_number: number) {\n            this._buffer.setUint8(1, (this._buffer.getUint8(1) & 0x0F) | ((service_number & 0x0F) << 4));\n        }\n\n        get data(): Buffer {\n            if (this.device_address != JD_CONTROL_TRANSMIT_ONLY_ADDRESS)\n                return this._buffer.slice(JD_SERIAL_HEADER_SIZE, this.size)\n\n            return this._buffer.slice(JD_SERIAL_HEADER_SIZE + JD_SERIAL_UDID_SIZE, this.size - JD_SERIAL_UDID_SIZE);\n        }\n\n        set data(buf: Buffer) {\n            this.size = buf.length;\n\n            for (let i = 0; i < Math.min(buf.length, this._buffer.length - 1); i++)\n                this._buffer.setUint8(JD_SERIAL_HEADER_SIZE + i, buf.getUint8(i));\n        }\n\n        get communication_rate(): JDBaudRate {\n            return this._buffer.getUint8(JD_SERIAL_HEADER_SIZE + JD_SERIAL_MAX_PAYLOAD_SIZE);\n        }\n\n        set communication_rate(communicate_rate: JDBaudRate) {\n            this._buffer.setUint8(JD_SERIAL_HEADER_SIZE + JD_SERIAL_MAX_PAYLOAD_SIZE, communicate_rate);\n        }\n\n        getBuffer(): Buffer {\n            return this._buffer;\n        }\n\n        toString(): string {\n            return this._buffer.toHex();\n        }\n    }\n\n    export class JDControlPacket implements JDSerializable {\n        unique_device_identifier: Buffer;\n        device_address: number;\n        device_flags: number;\n        _device_name: string;\n        data: Buffer;\n\n        constructor(p?: JDPacket) {\n            this._device_name = \"\";\n            if (p) {\n                // jacdac.options.log(\"Making control packet from: a \" + p.device_address + \" sn \" + p.service_number + \" at \" + JDBaudRate[p.communication_rate] + \" with size \" + p.size)\n                const buf = p.data;\n\n                this.unique_device_identifier = buf.slice(0, 8);\n\n                let idx = 8;\n                this.device_address = buf.getUint8(idx++);\n                this.device_flags = buf.getUint8(idx++);\n\n                if (this.device_flags & JD_DEVICE_FLAGS_HAS_NAME) {\n                    let nameLen = buf.getUint8(idx++);\n                    this._device_name = jacdac.options.utf8Decode(buf.slice(idx, nameLen));\n                    idx += nameLen;\n\n                    if (nameLen != this._device_name.length)\n                        jacdac.options.error(\"Control packet name length mismatch. Expected: \" + nameLen + \" got: \" + this.device_name.length);\n                }\n\n                this.data = buf.slice(idx, buf.length);\n            }\n            else\n                this.data = jacdac.options.createBuffer(0);\n        }\n\n        getBuffer(): Buffer {\n\n            let size = 0;\n\n            if (this._device_name.length)\n                size += this.device_name.length + 1;\n\n            let buffer = jacdac.options.createBuffer(JD_CONTROL_PACKET_HEADER_SIZE + size + this.data.length);\n\n            let idx = 0;\n            while (idx < this.unique_device_identifier.length) {\n                buffer.setUint8(idx, this.unique_device_identifier.getUint8(idx));\n                idx++\n            }\n\n            buffer.setUint8(idx++, this.device_address & 0xff);\n            buffer.setUint8(idx++, this.device_flags & 0xff);\n\n            if (this.device_flags & JD_DEVICE_FLAGS_HAS_NAME) {\n                buffer.setUint8(idx++, this._device_name.length);\n                let encoded = jacdac.options.utf8Encode(this._device_name);\n                for (let i = 0; i < this._device_name.length; i++)\n                    buffer.setUint8(idx++, encoded.getUint8(i));\n            }\n\n            for (let i = 0; i < this.data.length; i++)\n                buffer.setUint8(idx++, this.data.getUint8(i));\n\n            return buffer;\n        }\n\n        get udidh() {\n            return this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 4);\n        }\n\n        get udidl() {\n            return this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 0);\n        }\n\n        get udid() {\n            return this.unique_device_identifier;\n        }\n\n        get device_name(): string {\n            if (this._device_name && this._device_name.length)\n                return this._device_name;\n            else\n                return null;\n        }\n\n        set device_name(device_name: string) {\n            if (device_name && device_name.length) {\n                this.device_flags |= JD_DEVICE_FLAGS_HAS_NAME;\n                this._device_name = device_name;\n            }\n        }\n\n        append(buffer: Buffer) {\n            let newBuf = jacdac.options.createBuffer(this.data.length + buffer.length);\n\n            let idx = 0;\n            for (let i = 0; i < this.data.length; i++)\n                newBuf.setUint8(idx++, this.data.getUint8(i));\n\n            for (let i = 0; i < buffer.length; i++)\n                newBuf.setUint8(idx++, buffer.getUint8(i));\n\n            this.data = newBuf;\n        }\n    }\n\n    export class JDRequiredDevice {\n        unique_device_identifier: Buffer;\n        device_name: string;\n        get udidh() {\n            return this.unique_device_identifier && this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 4);\n        }\n        get udidl() {\n            return this.unique_device_identifier && this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 0);\n        }\n    }\n\n    export class JDDevice {\n        unique_device_identifier: Buffer;\n        device_address: number;\n        device_flags: number;\n        device_name: string;\n        private _services: JDServiceInformation[];\n        rolling_counter: number;\n        broadcast_servicemap: Buffer;\n        servicemap_bitmsk: number;\n        communication_rate: JDBaudRate;\n\n        constructor(cp?: JDControlPacket, communication_rate?: JDBaudRate) {\n            this.broadcast_servicemap = jacdac.options.createBuffer(JD_DEVICE_MAX_HOST_SERVICES);\n            this.servicemap_bitmsk = 0;\n\n            if (cp) {\n                this.communication_rate = communication_rate;\n                this.update(cp);\n            }\n            else {\n                this.unique_device_identifier = jacdac.options.createBuffer(0);\n                this.device_address = 0;\n                this.device_flags = 0;\n                this._services = []\n                this.rolling_counter = 0;\n            }\n        }\n\n        get services(): JDServiceInformation[] {\n            return this._services ? this._services.slice(0) : [];\n        }\n\n        update(cp: JDControlPacket): void {\n            this.rolling_counter = 0;\n            this._services = []\n            this.unique_device_identifier = cp.unique_device_identifier;\n            this.device_address = cp.device_address;\n            this.device_name = cp.device_name;\n            this.device_flags = cp.device_flags;\n\n            let idx = 0;\n            const buf = cp.data;\n\n            while (idx < buf.length) {\n                let service = new JDServiceInformation(buf.slice(idx, buf.length));\n                idx += JD_SERVICE_INFO_HEADER_SIZE + service.advertisement_size;\n                this._services.push(service);\n            }\n        }\n\n        get udidh() {\n            return this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 4);\n        }\n\n        get udidl() {\n            return this.unique_device_identifier.getNumber(NumberFormat.UInt32LE, 0);\n        }\n\n        get udid() {\n            return this.unique_device_identifier;\n        }\n\n        toString(): string {\n            let service_numbers = \"\"\n            for (let s of this.services)\n                service_numbers += s.service_class.toString() + \" \";\n\n            return `${this.device_name || this.udid.toHex()} [${this.device_address}]: ${service_numbers}`;\n        }\n    }\n\n    export class JDServiceInformation implements JDSerializable {\n        service_class: number;\n        service_flags: number;\n        advertisement_size: number;\n        data: Buffer;\n\n        constructor(buf?: Buffer) {\n            if (buf) {\n                let idx = 0;\n                for (let i = 0; i < 4; i++)\n                    this.service_class |= buf.getUint8(idx++) << (8 * i);\n\n                this.service_flags = buf.getUint8(idx++);\n                this.advertisement_size = buf.getUint8(idx++);\n\n                if (this.advertisement_size)\n                    this.data = buf.slice(idx, this.advertisement_size);\n            }\n            if (!this.data)\n                this.data = jacdac.options.createBuffer(0);\n        }\n\n        getBuffer(): Buffer {\n\n            let header = jacdac.options.createBuffer(JD_SERVICE_INFO_HEADER_SIZE + this.data.length);\n\n            let idx = 0;\n\n            for (idx; idx < 4; idx++)\n                header.setUint8(idx, (this.service_class & (0xff << (idx * 8))) >> (idx * 8));\n\n            header.setUint8(idx++, this.service_flags & 0xff);\n            header.setUint8(idx++, this.advertisement_size & 0xff);\n\n            for (let i = 0; i < this.data.length; i++)\n                header.setUint8(idx++, this.data.getUint8(i));\n\n            return header;\n        }\n    }\n\n    export class JDConfigurationPacket implements JDSerializable {\n        device_address: number;\n        request_type: number;\n        new_name: string;\n\n        constructor(p?: JDPacket) {\n            if (p) {\n                const buf = p.data\n                let idx = 0;\n                this.device_address = buf.getUint8(idx++);\n                this.request_type = buf.getUint8(idx++);\n\n                if (p.size > JD_CONTROL_CONFIGURATION_SERVICE_PACKET_HEADER_SIZE) {\n                    let nameLen = buf.getUint8(idx++);\n                    this.new_name = jacdac.options.utf8Decode(buf.slice(idx, nameLen));\n                }\n            } else {\n                this.device_address = 0;\n                this.request_type = -1;\n                this.new_name = \"\";\n            }\n        }\n\n        getBuffer(): Buffer {\n\n            let size = JD_CONTROL_CONFIGURATION_SERVICE_PACKET_HEADER_SIZE;\n\n            if (this.new_name.length)\n                size += this.new_name.length + 1;\n\n            let header = jacdac.options.createBuffer(size);\n\n            let idx = 0;\n            header.setUint8(idx++, this.device_address & 0xff);\n            header.setUint8(idx++, this.request_type & 0xff);\n\n            if (this.new_name.length) {\n                header.setUint8(idx++, this.new_name.length);\n\n                let encoded = jacdac.options.utf8Encode(this.new_name)\n\n                for (let i = 0; i < encoded.length; i++)\n                    header.setUint8(idx++, encoded.getUint8(i));\n            }\n\n            return header;\n        }\n    }\n\n    export class JDConsolePacket implements JDSerializable {\n        priority: number;\n        packetType: JDConsolePacketType;\n        message: string;\n\n        constructor(p?: JDPacket) {\n            if (p) {\n\n                const buf = p.data\n                let idx = 0;\n                this.priority = buf.getUint8(idx++);\n                this.packetType = buf.getUint8(idx++);\n\n                let end = idx;\n                while (end < buf.length) {\n                    if (buf.getUint8(end) == 0)\n                        break;\n                    end++\n                }\n                this.message = jacdac.options.utf8Decode(buf.slice(idx, end - idx));\n            } else {\n                this.priority = -1;\n                this.packetType = JDConsolePacketType.Message;\n                this.message = \"\";\n            }\n        }\n\n\n        getBuffer(): Buffer {\n            if (this.message.length == 0)\n                jacdac.options.error(\"Console message length cannot be 0\");\n\n            const encoded = jacdac.options.utf8Encode(this.message)\n            const size = JD_CONSOLE_SERVICE_PACKET_HEADER_SIZE\n                + 2 /* packet type, priority */\n                + encoded.length /* utf8 encoded string */;\n            const header = jacdac.options.createBuffer(size);\n\n            let idx = 0;\n            header.setUint8(idx++, this.packetType & 0xff);\n            header.setUint8(idx++, this.priority & 0xff);\n\n\n            header.write(idx, encoded);\n            idx += encoded.length;\n            if (idx < header.length)\n                header.setUint8(idx++, 0); // null terminator\n\n            return header;\n        }\n    }\n}",
            "test.ts": "// outdated\n"
        },
        "core---nrf52": {
            "README.md": "# core\n\nThe core library for Codal-based targets.\n\n",
            "codal.cpp": "#include \"pxt.h\"\n#include \"LowLevelTimer.h\"\nusing namespace codal;\n\nvoid cpu_clock_init(void);\n\nPXT_ABI(__aeabi_dadd)\nPXT_ABI(__aeabi_dcmplt)\nPXT_ABI(__aeabi_dcmpgt)\nPXT_ABI(__aeabi_dsub)\nPXT_ABI(__aeabi_ddiv)\nPXT_ABI(__aeabi_dmul)\n\n#define PXT_COMM_BASE 0x20001000 // 4k in\n\nnamespace pxt {\n\nvoid platform_init();\nvoid usb_init();\n\n// The first two word are used to tell the bootloader that a single reset should start the\n// bootloader and the MSD device, not us.\n// The rest is reserved for partial flashing checksums.\n__attribute__((section(\".binmeta\"))) __attribute__((used)) const uint32_t pxt_binmeta[] = {\n    0x87eeb07c, 0x87eeb07c, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff,\n    0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff, 0x00ff00ff,\n};\n\nEvent lastEvent;\nMessageBus devMessageBus;\ncodal::CodalDevice device;\n\nstruct FreeList {\n    FreeList *next;\n};\n\nstatic void commInit() {\n    int commSize = bytecode[20];\n    if (!commSize)\n        return;\n\n    FreeList *head = NULL;\n    void *commBase = (void *)PXT_COMM_BASE;\n    for (;;) {\n        void *p = xmalloc(4);\n        // assume 4 byte alloc header; if we're not hitting 8 byte alignment, try allocating 8\n        // bytes, not 4 without the volatile, gcc assumes 8 byte alignment on malloc()\n        volatile uintptr_t hp = (uintptr_t)p;\n        if (hp & 4) {\n            xfree(p);\n            p = xmalloc(8);\n        }\n        if (p == commBase) {\n            xfree(p);\n            // allocate the comm section; this is never freed\n            p = xmalloc(commSize);\n            if (p != commBase)\n                oops(10);\n            break;\n        }\n        if (p > commBase)\n            oops(11);\n        auto f = (FreeList *)p;\n        f->next = head;\n        head = f;\n    }\n    // free all the filler stuff\n    while (head) {\n        auto p = head;\n        head = head->next;\n        xfree(p);\n    }\n}\n\nstatic void initCodal() {\n    cpu_clock_init();\n\n    commInit();\n\n    // Bring up fiber scheduler.\n    scheduler_init(devMessageBus);\n\n    // We probably don't need that - components are initialized when one obtains\n    // the reference to it.\n    // devMessageBus.listen(DEVICE_ID_MESSAGE_BUS_LISTENER, DEVICE_EVT_ANY, this,\n    // &CircuitPlayground::onListenerRegisteredEvent);\n\n    for (int i = 0; i < DEVICE_COMPONENT_COUNT; i++) {\n        if (CodalComponent::components[i])\n            CodalComponent::components[i]->init();\n    }\n\n    usb_init();\n\n    auto led = LOOKUP_PIN(LED);\n    if (led) {\n        led->setDigitalValue(0);\n    }\n}\n\n// ---------------------------------------------------------------------------\n// An adapter for the API expected by the run-time.\n// ---------------------------------------------------------------------------\n\n// We have the invariant that if [dispatchEvent] is registered against the DAL\n// for a given event, then [handlersMap] contains a valid entry for that\n// event.\nvoid dispatchEvent(Event e) {\n    lastEvent = e;\n\n    auto curr = findBinding(e.source, e.value);\n    auto value = fromInt(e.value);\n    while (curr) {\n        runAction1(curr->action, value);\n        curr = nextBinding(curr->next, e.source, e.value);\n    }\n}\n\nvoid registerWithDal(int id, int event, Action a, int flags) {\n    // first time?\n    if (!findBinding(id, event)) {\n        devMessageBus.listen(id, event, dispatchEvent, flags);\n        if (event == 0) {\n            // we're registering for all events on given ID\n            // need to remove old listeners for specific events\n            auto curr = findBinding(id, -1);\n            while (curr) {\n                devMessageBus.ignore(id, curr->value, dispatchEvent);\n                curr = nextBinding(curr->next, id, -1);\n            }\n        }\n    }\n    setBinding(id, event, a);\n}\n\nvoid fiberDone(void *a) {\n    unregisterGCPtr((Action)a);\n    release_fiber();\n}\n\nvoid releaseFiber() {\n    release_fiber();\n}\n\nvoid sleep_ms(unsigned ms) {\n    fiber_sleep(ms);\n}\n\nvoid sleep_us(uint64_t us) {\n    target_wait_us(us);\n}\n\nvoid forever_stub(void *a) {\n    while (true) {\n        runAction0((Action)a);\n        fiber_sleep(20);\n    }\n}\n\nvoid runForever(Action a) {\n    if (a != 0) {\n        registerGCPtr(a);\n        create_fiber(forever_stub, (void *)a);\n    }\n}\n\nvoid runInParallel(Action a) {\n    if (a != 0) {\n        registerGCPtr(a);\n        create_fiber((void (*)(void *))runAction0, (void *)a, fiberDone);\n    }\n}\n\nvoid waitForEvent(int id, int event) {\n    fiber_wait_for_event(id, event);\n}\n\nvoid initRuntime() {\n    initSystemTimer();\n    initCodal();\n    platform_init();\n}\n\n//%\nunsigned afterProgramPage() {\n    unsigned ptr = (unsigned)&bytecode[0];\n    ptr += programSize();\n    ptr = (ptr + (PAGE_SIZE - 1)) & ~(PAGE_SIZE - 1);\n    return ptr;\n}\n\nuint64_t getLongSerialNumber() {\n    return device.getSerialNumber();\n}\n\nint current_time_ms() {\n    return system_timer_current_time();\n}\n\nuint64_t current_time_us() {\n    return system_timer_current_time_us();\n}\n\nThreadContext *getThreadContext() {\n    if (!currentFiber)\n        return NULL;\n    return (ThreadContext *)currentFiber->user_data;\n}\n\nvoid setThreadContext(ThreadContext *ctx) {\n    currentFiber->user_data = ctx;\n}\n\nstatic void *threadAddressFor(codal::Fiber *fib, void *sp) {\n    if (fib == currentFiber)\n        return sp;\n    return (uint8_t *)sp + ((uint8_t *)fib->stack_top - (uint8_t *)tcb_get_stack_base(fib->tcb));\n}\n\nvoid gcProcessStacks(int flags) {\n    // check scheduler is initialized\n    if (!currentFiber) {\n        // make sure we allocate something to at least initalize the memory allocator\n        void *volatile p = xmalloc(1);\n        xfree(p);\n        return;\n    }\n\n    int numFibers = codal::list_fibers(NULL);\n    codal::Fiber **fibers = (codal::Fiber **)xmalloc(sizeof(codal::Fiber *) * numFibers);\n    int num2 = codal::list_fibers(fibers);\n    if (numFibers != num2)\n        oops(12);\n    int cnt = 0;\n\n    for (int i = 0; i < numFibers; ++i) {\n        auto fib = fibers[i];\n        auto ctx = (ThreadContext *)fib->user_data;\n        if (!ctx)\n            continue;\n        gcProcess(ctx->thrownValue);\n        for (auto seg = &ctx->stack; seg; seg = seg->next) {\n            auto ptr = (TValue *)threadAddressFor(fib, seg->top);\n            auto end = (TValue *)threadAddressFor(fib, seg->bottom);\n            if (flags & 2)\n                DMESG(\"RS%d:%p/%d\", cnt++, ptr, end - ptr);\n            // VLOG(\"mark: %p - %p\", ptr, end);\n            while (ptr < end) {\n                gcProcess(*ptr++);\n            }\n        }\n    }\n    xfree(fibers);\n}\n\nLowLevelTimer *getJACDACTimer() {\n    static LowLevelTimer *jacdacTimer;\n    if (!jacdacTimer) {\n        jacdacTimer = allocateTimer();\n        jacdacTimer->setIRQPriority(1);\n    }\n    return jacdacTimer;\n}\nvoid initSystemTimer() {\n    new CODAL_TIMER(*allocateTimer());\n}\n\n} // namespace pxt\n",
            "control.cpp": "#include \"pxt.h\"\n\n#if defined(NRF52_SERIES)\n#define _estack __StackTop \n#endif\nextern uint32_t _estack;\n\nnamespace control {\n\n/**\n * Announce that an event happened to registered handlers.\n * @param src ID of the MicroBit Component that generated the event\n * @param value Component specific code indicating the cause of the event.\n */\n//% weight=21 blockGap=12 blockId=\"control_raise_event\"\n//% help=control/raise-event\n//% block=\"raise event|from %src|with value %value\" blockExternalInputs=1\nvoid raiseEvent(int src, int value) {\n    Event evt(src, value);\n}\n\n/**\n* Determine the version of system software currently running.\n*/\n//% blockId=\"control_device_dal_version\" block=\"device dal version\"\n//% help=control/device-dal-version\nString deviceDalVersion() {\n    return mkString(device.getVersion());\n}\n\n/**\n* Allocates the next user notification event\n*/\n//% help=control/allocate-notify-event\nint allocateNotifyEvent() {\n    return ::allocateNotifyEvent();\n}\n\n/** Write a message to DMESG debugging buffer. */\n//%\nvoid dmesg(String s) {\n    DMESG(\"# %s\", s->getUTF8Data());\n}\n\n/** Write a message and value (pointer) to DMESG debugging buffer. */\n//%\nvoid dmesgPtr(String str, Object_ ptr) {\n    DMESG(\"# %s: %p\", str->getUTF8Data(), ptr);\n}\n\n//%\nuint32_t _ramSize()\n{\n    return (uint32_t)&_estack & 0x1fffffff;\n}\n\n}\n",
            "dal.d.ts": "// Auto-generated. Do not edit.\ndeclare const enum DAL {\n    // /libraries/codal-core/inc/JACDAC/JACDAC.h\n    JD_STARTED = 2,\n    JD_SERVICE_ARRAY_SIZE = 20,\n    // /libraries/codal-core/inc/JACDAC/JDPhysicalLayer.h\n    JD_VERSION = 0,\n    JD_BYTE_AT_125KBAUD = 80,\n    JD_MIN_INTERLODATA_SPACING = 40,\n    JD_SERIAL_MAX_BUFFERS = 10,\n    JD_SERIAL_MAX_SERVICE_NUMBER = 15,\n    JD_SERIAL_RECEIVING = 1,\n    JD_SERIAL_RECEIVING_HEADER = 2,\n    JD_SERIAL_TRANSMITTING = 4,\n    JD_SERIAL_RX_LO_PULSE = 8,\n    JD_SERIAL_TX_LO_PULSE = 16,\n    JD_SERIAL_BUS_LO_ERROR = 32,\n    JD_SERIAL_BUS_TIMEOUT_ERROR = 64,\n    JD_SERIAL_BUS_UART_ERROR = 128,\n    JD_SERIAL_ERR_MSK = 224,\n    JD_SERIAL_BUS_STATE = 256,\n    JD_SERIAL_BUS_TOGGLED = 512,\n    JD_SERIAL_DEBUG_BIT = 32768,\n    JD_SERIAL_EVT_DATA_READY = 1,\n    JD_SERIAL_EVT_BUS_ERROR = 2,\n    JD_SERIAL_EVT_CRC_ERROR = 3,\n    JD_SERIAL_EVT_DRAIN = 4,\n    JD_SERIAL_EVT_RX_TIMEOUT = 5,\n    JD_SERIAL_EVT_BUS_CONNECTED = 5,\n    JD_SERIAL_EVT_BUS_DISCONNECTED = 6,\n    JD_SERIAL_HEADER_SIZE = 4,\n    JD_SERIAL_CRC_HEADER_SIZE = 2,\n    JD_SERIAL_MAX_PAYLOAD_SIZE = 255,\n    JD_SERIAL_MAXIMUM_BUFFERS = 10,\n    JD_SERIAL_DMA_TIMEOUT = 2,\n    JD_SERIAL_MAX_BAUD = 1000000,\n    JD_SERIAL_TX_MAX_BACKOFF = 1000,\n    JD_RX_ARRAY_SIZE = 10,\n    JD_TX_ARRAY_SIZE = 10,\n    JD_SERIAL_BAUD_1M = 1,\n    JD_SERIAL_BAUD_500K = 2,\n    JD_SERIAL_BAUD_250K = 4,\n    JD_SERIAL_BAUD_125K = 8,\n    Receiving = 0,\n    Transmitting = 1,\n    Unknown = 3,\n    ListeningForPulse = 0,\n    ErrorRecovery = 1,\n    Off = 2,\n    Baud1M = 1,\n    Baud500K = 2,\n    Baud250K = 4,\n    Baud125K = 8,\n    Continuation = 0,\n    BusLoError = 32,\n    BusTimeoutError = 64,\n    BusUARTError = 128,\n    // /libraries/codal-core/inc/JACDAC/JDService.h\n    JD_MAX_HOST_SERVICES = 16,\n    JD_SERVICE_EVT_CONNECTED = 65520,\n    JD_SERVICE_EVT_DISCONNECTED = 65521,\n    JD_SERVICE_EVT_ERROR = 65526,\n    JD_SERVICE_NUMBER_UNINITIALISED_VAL = 65535,\n    JD_SERVICE_STATUS_FLAGS_INITIALISED = 2,\n    JD_SERVICE_INFO_HEADER_SIZE = 6,\n    JD_SERVICE_MODE_CLIENT = 1,\n    JD_SERVICE_MODE_HOST = 2,\n    JD_SERVICE_MODE_BROADCAST_HOST = 3,\n    JD_SERVICE_MODE_CONTROL_LAYER = 4,\n    ClientService = 1,\n    HostService = 2,\n    BroadcastHostService = 3,\n    ControlLayerService = 4,\n    // /libraries/codal-core/inc/JACDAC/JDServiceClasses.h\n    STATIC_CLASS_START = 0,\n    STATIC_CLASS_END = 16777215,\n    DYNAMIC_CLASS_END = 4294967295,\n    JD_SERVICE_CLASS_CODAL_START = 0,\n    JD_SERVICE_CLASS_CODAL_END = 2000,\n    JD_SERVICE_CLASS_MAKECODE_START = 2000,\n    JD_SERVICE_CLASS_MAKECODE_END = 4000,\n    JD_SERVICE_CLASS_CONTROL = 0,\n    JD_SERVICE_CLASS_CONTROL_RNG = 1,\n    JD_SERVICE_CLASS_CONTROL_CONFIGURATION = 2,\n    JD_SERVICE_CLASS_CONTROL_TEST = 3,\n    JD_SERVICE_CLASS_JOYSTICK = 4,\n    JD_SERVICE_CLASS_MESSAGE_BUS = 5,\n    JD_SERVICE_CLASS_BRIDGE = 6,\n    JD_SERVICE_CLASS_BUTTON = 7,\n    JD_SERVICE_CLASS_ACCELEROMETER = 8,\n    JD_SERVICE_CLASS_CONSOLE = 9,\n    // /libraries/codal-core/inc/JACDAC/control/JDCRC.h\n    JD_CRC_POLYNOMIAL = 3859,\n    // /libraries/codal-core/inc/JACDAC/control/JDConfigurationService.h\n    JD_CONTROL_CONFIGURATION_SERVICE_NUMBER = 1,\n    JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_NAME = 1,\n    JD_CONTROL_CONFIGURATION_SERVICE_REQUEST_TYPE_IDENTIFY = 2,\n    JD_CONTROL_CONFIGURATION_SERVICE_PACKET_HEADER_SIZE = 2,\n    JD_CONTROL_CONFIGURATION_EVT_NAME = 1,\n    JD_CONTROL_CONFIGURATION_EVT_IDENTIFY = 2,\n    JD_DEFAULT_INDICATION_TIME = 5,\n    // /libraries/codal-core/inc/JACDAC/control/JDControlService.h\n    JD_CONTROL_SERVICE_STATUS_ENUMERATE = 2,\n    JD_CONTROL_SERVICE_STATUS_ENUMERATING = 4,\n    JD_CONTROL_SERVICE_STATUS_ENUMERATED = 8,\n    JD_CONTROL_SERVICE_STATUS_BUS_LO = 16,\n    JD_CONTROL_SERVICE_EVT_CHANGED = 2,\n    JD_CONTROL_SERVICE_EVT_TIMER_CALLBACK = 3,\n    JD_CONTROL_PACKET_HEADER_SIZE = 10,\n    JD_CONTROL_ROLLING_TIMEOUT_VAL = 3,\n    // /libraries/codal-core/inc/JACDAC/control/JDDeviceManager.h\n    JD_DEVICE_FLAGS_NACK = 8,\n    JD_DEVICE_FLAGS_HAS_NAME = 4,\n    JD_DEVICE_FLAGS_PROPOSING = 2,\n    JD_DEVICE_FLAGS_REJECT = 1,\n    JD_DEVICE_MAX_HOST_SERVICES = 16,\n    JD_DEVICE_DEFAULT_COMMUNICATION_RATE = 1,\n    // /libraries/codal-core/inc/JACDAC/control/JDRNGService.h\n    JD_CONTROL_RNG_SERVICE_NUMBER = 2,\n    JD_CONTROL_RNG_SERVICE_REQUEST_TYPE_REQ = 1,\n    JD_CONTROL_RNG_SERVICE_REQUEST_TYPE_RESP = 2,\n    // /libraries/codal-core/inc/JACDAC/services/JDAccelerometerService.h\n    JD_ACCEL_EVT_SEND_DATA = 1,\n    // /libraries/codal-core/inc/JACDAC/services/JDConsoleService.h\n    JD_CONSOLE_LOG_PRIORITY_LOG = 1,\n    JD_CONSOLE_LOG_PRIORITY_INFO = 2,\n    JD_CONSOLE_LOG_PRIORITY_DEBUG = 3,\n    JD_CONSOLE_LOG_PRIORITY_ERROR = 4,\n    Log = 1,\n    Info = 2,\n    Debug = 3,\n    // /libraries/codal-core/inc/JACDAC/services/JDMessageBusService.h\n    JD_MESSAGEBUS_TYPE_EVENT = 1,\n    JD_MESSAGEBUS_TYPE_LISTEN = 2,\n    // /libraries/codal-core/inc/core/CodalComponent.h\n    DEVICE_ID_BUTTON_A = 1,\n    DEVICE_ID_BUTTON_B = 2,\n    DEVICE_ID_BUTTON_AB = 3,\n    DEVICE_ID_BUTTON_RESET = 4,\n    DEVICE_ID_ACCELEROMETER = 5,\n    DEVICE_ID_COMPASS = 6,\n    DEVICE_ID_DISPLAY = 7,\n    DEVICE_ID_THERMOMETER = 8,\n    DEVICE_ID_RADIO = 9,\n    DEVICE_ID_RADIO_DATA_READY = 10,\n    DEVICE_ID_MULTIBUTTON_ATTACH = 11,\n    DEVICE_ID_SERIAL = 12,\n    DEVICE_ID_GESTURE = 13,\n    DEVICE_ID_SYSTEM_TIMER = 14,\n    DEVICE_ID_SCHEDULER = 15,\n    DEVICE_ID_COMPONENT = 16,\n    DEVICE_ID_LIGHT_SENSOR = 17,\n    DEVICE_ID_TOUCH_SENSOR = 18,\n    DEVICE_ID_SYSTEM_DAC = 19,\n    DEVICE_ID_SYSTEM_MICROPHONE = 20,\n    DEVICE_ID_SYSTEM_LEVEL_DETECTOR = 21,\n    DEVICE_ID_SYSTEM_LEVEL_DETECTOR_SPL = 22,\n    DEVICE_ID_MSC = 23,\n    DEVICE_ID_SPI = 24,\n    DEVICE_ID_DISTANCE = 25,\n    DEVICE_ID_GYROSCOPE = 26,\n    DEVICE_ID_HUMIDITY = 27,\n    DEVICE_ID_PRESSURE = 28,\n    DEVICE_ID_SINGLE_WIRE_SERIAL = 29,\n    DEVICE_ID_JACDAC = 30,\n    DEVICE_ID_JACDAC_PHYS = 31,\n    DEVICE_ID_JACDAC_CONTROL_SERVICE = 32,\n    DEVICE_ID_JACDAC_CONFIGURATION_SERVICE = 33,\n    DEVICE_ID_IO_P0 = 100,\n    DEVICE_ID_MESSAGE_BUS_LISTENER = 1021,\n    DEVICE_ID_NOTIFY_ONE = 1022,\n    DEVICE_ID_NOTIFY = 1023,\n    DEVICE_ID_BUTTON_UP = 2000,\n    DEVICE_ID_BUTTON_DOWN = 2001,\n    DEVICE_ID_BUTTON_LEFT = 2002,\n    DEVICE_ID_BUTTON_RIGHT = 2003,\n    DEVICE_ID_JD_DYNAMIC_ID = 3000,\n    DEVICE_COMPONENT_RUNNING = 4096,\n    DEVICE_COMPONENT_STATUS_SYSTEM_TICK = 8192,\n    DEVICE_COMPONENT_STATUS_IDLE_TICK = 16384,\n    DEVICE_COMPONENT_LISTENERS_CONFIGURED = 1,\n    DEVICE_COMPONENT_EVT_SYSTEM_TICK = 1,\n    // /libraries/codal-core/inc/core/CodalFiber.h\n    DEVICE_SCHEDULER_RUNNING = 1,\n    DEVICE_SCHEDULER_IDLE = 2,\n    DEVICE_FIBER_FLAG_FOB = 1,\n    DEVICE_FIBER_FLAG_PARENT = 2,\n    DEVICE_FIBER_FLAG_CHILD = 4,\n    DEVICE_FIBER_FLAG_DO_NOT_PAGE = 8,\n    DEVICE_SCHEDULER_EVT_TICK = 1,\n    DEVICE_SCHEDULER_EVT_IDLE = 2,\n    // /libraries/codal-core/inc/core/CodalListener.h\n    MESSAGE_BUS_LISTENER_PARAMETERISED = 1,\n    MESSAGE_BUS_LISTENER_METHOD = 2,\n    MESSAGE_BUS_LISTENER_BUSY = 4,\n    MESSAGE_BUS_LISTENER_REENTRANT = 8,\n    MESSAGE_BUS_LISTENER_QUEUE_IF_BUSY = 16,\n    MESSAGE_BUS_LISTENER_DROP_IF_BUSY = 32,\n    MESSAGE_BUS_LISTENER_NONBLOCKING = 64,\n    MESSAGE_BUS_LISTENER_URGENT = 128,\n    MESSAGE_BUS_LISTENER_DELETING = 32768,\n    MESSAGE_BUS_LISTENER_IMMEDIATE = 192,\n    // /libraries/codal-core/inc/core/ErrorNo.h\n    DEVICE_OK = 0,\n    DEVICE_INVALID_PARAMETER = -1001,\n    DEVICE_NOT_SUPPORTED = -1002,\n    DEVICE_CALIBRATION_IN_PROGRESS = -1003,\n    DEVICE_CALIBRATION_REQUIRED = -1004,\n    DEVICE_NO_RESOURCES = -1005,\n    DEVICE_BUSY = -1006,\n    DEVICE_CANCELLED = -1007,\n    DEVICE_I2C_ERROR = -1010,\n    DEVICE_SERIAL_IN_USE = -1011,\n    DEVICE_NO_DATA = -1012,\n    DEVICE_NOT_IMPLEMENTED = -1013,\n    DEVICE_SPI_ERROR = -1014,\n    DEVICE_INVALID_STATE = -1015,\n    DEVICE_OOM = 20,\n    DEVICE_HEAP_ERROR = 30,\n    DEVICE_NULL_DEREFERENCE = 40,\n    DEVICE_USB_ERROR = 50,\n    DEVICE_JACDAC_ERROR = 60,\n    DEVICE_HARDWARE_CONFIGURATION_ERROR = 90,\n    // /libraries/codal-core/inc/core/NotifyEvents.h\n    DISPLAY_EVT_FREE = 1,\n    CODAL_SERIAL_EVT_TX_EMPTY = 2,\n    BLE_EVT_SERIAL_TX_EMPTY = 3,\n    ARCADE_PLAYER_JOIN_RESULT = 4,\n    DEVICE_NOTIFY_USER_EVENT_BASE = 1024,\n    // /libraries/codal-core/inc/driver-models/AbstractButton.h\n    DEVICE_BUTTON_EVT_DOWN = 1,\n    DEVICE_BUTTON_EVT_UP = 2,\n    DEVICE_BUTTON_EVT_CLICK = 3,\n    DEVICE_BUTTON_EVT_LONG_CLICK = 4,\n    DEVICE_BUTTON_EVT_HOLD = 5,\n    DEVICE_BUTTON_EVT_DOUBLE_CLICK = 6,\n    DEVICE_BUTTON_LONG_CLICK_TIME = 1000,\n    DEVICE_BUTTON_HOLD_TIME = 1500,\n    DEVICE_BUTTON_STATE = 1,\n    DEVICE_BUTTON_STATE_HOLD_TRIGGERED = 2,\n    DEVICE_BUTTON_STATE_CLICK = 4,\n    DEVICE_BUTTON_STATE_LONG_CLICK = 8,\n    DEVICE_BUTTON_SIGMA_MIN = 0,\n    DEVICE_BUTTON_SIGMA_MAX = 12,\n    DEVICE_BUTTON_SIGMA_THRESH_HI = 8,\n    DEVICE_BUTTON_SIGMA_THRESH_LO = 2,\n    DEVICE_BUTTON_DOUBLE_CLICK_THRESH = 50,\n    DEVICE_BUTTON_SIMPLE_EVENTS = 0,\n    DEVICE_BUTTON_ALL_EVENTS = 1,\n    ACTIVE_LOW = 0,\n    ACTIVE_HIGH = 1,\n    // /libraries/codal-core/inc/driver-models/Accelerometer.h\n    ACCELEROMETER_IMU_DATA_VALID = 2,\n    ACCELEROMETER_EVT_DATA_UPDATE = 1,\n    ACCELEROMETER_EVT_NONE = 0,\n    ACCELEROMETER_EVT_TILT_UP = 1,\n    ACCELEROMETER_EVT_TILT_DOWN = 2,\n    ACCELEROMETER_EVT_TILT_LEFT = 3,\n    ACCELEROMETER_EVT_TILT_RIGHT = 4,\n    ACCELEROMETER_EVT_FACE_UP = 5,\n    ACCELEROMETER_EVT_FACE_DOWN = 6,\n    ACCELEROMETER_EVT_FREEFALL = 7,\n    ACCELEROMETER_EVT_3G = 8,\n    ACCELEROMETER_EVT_6G = 9,\n    ACCELEROMETER_EVT_8G = 10,\n    ACCELEROMETER_EVT_SHAKE = 11,\n    ACCELEROMETER_EVT_2G = 12,\n    ACCELEROMETER_REST_TOLERANCE = 200,\n    ACCELEROMETER_TILT_TOLERANCE = 200,\n    ACCELEROMETER_FREEFALL_TOLERANCE = 400,\n    ACCELEROMETER_SHAKE_TOLERANCE = 400,\n    ACCELEROMETER_2G_TOLERANCE = 2048,\n    ACCELEROMETER_3G_TOLERANCE = 3072,\n    ACCELEROMETER_6G_TOLERANCE = 6144,\n    ACCELEROMETER_8G_TOLERANCE = 8192,\n    ACCELEROMETER_GESTURE_DAMPING = 5,\n    ACCELEROMETER_SHAKE_DAMPING = 10,\n    ACCELEROMETER_SHAKE_RTX = 30,\n    ACCELEROMETER_SHAKE_COUNT_THRESHOLD = 4,\n    // /libraries/codal-core/inc/driver-models/Compass.h\n    COMPASS_STATUS_RUNNING = 1,\n    COMPASS_STATUS_CALIBRATED = 2,\n    COMPASS_STATUS_CALIBRATING = 4,\n    COMPASS_STATUS_ADDED_TO_IDLE = 8,\n    COMPASS_EVT_DATA_UPDATE = 1,\n    COMPASS_EVT_CONFIG_NEEDED = 2,\n    COMPASS_EVT_CALIBRATE = 3,\n    COMPASS_EVT_CALIBRATION_NEEDED = 4,\n    // /libraries/codal-core/inc/driver-models/Gyroscope.h\n    GYROSCOPE_IMU_DATA_VALID = 2,\n    GYROSCOPE_EVT_DATA_UPDATE = 1,\n    // /libraries/codal-core/inc/driver-models/LowLevelTimer.h\n    TimerModeTimer = 0,\n    TimerModeCounter = 1,\n    TimerModeAlternateFunction = 2,\n    BitMode8 = 0,\n    BitMode16 = 1,\n    BitMode24 = 2,\n    BitMode32 = 3,\n    // /libraries/codal-core/inc/driver-models/Pin.h\n    IO_STATUS_DIGITAL_IN = 1,\n    IO_STATUS_DIGITAL_OUT = 2,\n    IO_STATUS_ANALOG_IN = 4,\n    IO_STATUS_ANALOG_OUT = 8,\n    IO_STATUS_TOUCH_IN = 16,\n    IO_STATUS_EVENT_ON_EDGE = 32,\n    IO_STATUS_EVENT_PULSE_ON_EDGE = 64,\n    IO_STATUS_INTERRUPT_ON_EDGE = 128,\n    DEVICE_PIN_MAX_OUTPUT = 1023,\n    DEVICE_PIN_MAX_SERVO_RANGE = 180,\n    DEVICE_PIN_DEFAULT_SERVO_RANGE = 2000,\n    DEVICE_PIN_DEFAULT_SERVO_CENTER = 1500,\n    DEVICE_PIN_EVENT_NONE = 0,\n    DEVICE_PIN_INTERRUPT_ON_EDGE = 1,\n    DEVICE_PIN_EVENT_ON_EDGE = 2,\n    DEVICE_PIN_EVENT_ON_PULSE = 3,\n    DEVICE_PIN_EVENT_ON_TOUCH = 4,\n    DEVICE_PIN_EVT_RISE = 2,\n    DEVICE_PIN_EVT_FALL = 3,\n    DEVICE_PIN_EVT_PULSE_HI = 4,\n    DEVICE_PIN_EVT_PULSE_LO = 5,\n    PIN_CAPABILITY_DIGITAL = 1,\n    PIN_CAPABILITY_ANALOG = 2,\n    PIN_CAPABILITY_AD = 3,\n    PIN_CAPABILITY_ALL = 3,\n    None = 0,\n    Down = 1,\n    Up = 2,\n    // /libraries/codal-core/inc/driver-models/Radio.h\n    RADIO_EVT_DATA_READY = 2,\n    // /libraries/codal-core/inc/driver-models/SPIFlash.h\n    SPIFLASH_PAGE_SIZE = 256,\n    SPIFLASH_SMALL_ROW_PAGES = 16,\n    SPIFLASH_BIG_ROW_PAGES = 256,\n    // /libraries/codal-core/inc/driver-models/Sensor.h\n    SENSOR_THRESHOLD_LOW = 1,\n    SENSOR_THRESHOLD_HIGH = 2,\n    SENSOR_UPDATE_NEEDED = 3,\n    SENSOR_INITIALISED = 1,\n    SENSOR_HIGH_THRESHOLD_PASSED = 2,\n    SENSOR_LOW_THRESHOLD_PASSED = 4,\n    SENSOR_LOW_THRESHOLD_ENABLED = 8,\n    SENSOR_HIGH_THRESHOLD_ENABLED = 16,\n    SENSOR_DEFAULT_SENSITIVITY = 868,\n    SENSOR_DEFAULT_SAMPLE_PERIOD = 500,\n    // /libraries/codal-core/inc/driver-models/Serial.h\n    CODAL_SERIAL_DEFAULT_BAUD_RATE = 115200,\n    CODAL_SERIAL_DEFAULT_BUFFER_SIZE = 20,\n    CODAL_SERIAL_EVT_DELIM_MATCH = 1,\n    CODAL_SERIAL_EVT_HEAD_MATCH = 2,\n    CODAL_SERIAL_EVT_RX_FULL = 3,\n    CODAL_SERIAL_EVT_DATA_RECEIVED = 4,\n    CODAL_SERIAL_STATUS_RX_IN_USE = 1,\n    CODAL_SERIAL_STATUS_TX_IN_USE = 2,\n    CODAL_SERIAL_STATUS_RX_BUFF_INIT = 4,\n    CODAL_SERIAL_STATUS_TX_BUFF_INIT = 8,\n    CODAL_SERIAL_STATUS_RXD = 16,\n    ASYNC = 0,\n    SYNC_SPINWAIT = 1,\n    SYNC_SLEEP = 2,\n    RxInterrupt = 0,\n    TxInterrupt = 1,\n    // /libraries/codal-core/inc/driver-models/SingleWireSerial.h\n    SWS_EVT_DATA_RECEIVED = 1,\n    SWS_EVT_DATA_SENT = 2,\n    SWS_EVT_ERROR = 3,\n    SWS_EVT_DATA_DROPPED = 4,\n    SingleWireRx = 0,\n    SingleWireTx = 1,\n    SingleWireDisconnected = 2,\n    // /libraries/codal-core/inc/driver-models/Timer.h\n    CODAL_TIMER_DEFAULT_EVENT_LIST_SIZE = 10,\n    // /libraries/codal-core/inc/drivers/AnalogSensor.h\n    ANALOG_THRESHOLD_LOW = 1,\n    ANALOG_THRESHOLD_HIGH = 2,\n    ANALOG_SENSOR_UPDATE_NEEDED = 3,\n    ANALOG_SENSOR_INITIALISED = 1,\n    ANALOG_SENSOR_HIGH_THRESHOLD_PASSED = 2,\n    ANALOG_SENSOR_LOW_THRESHOLD_PASSED = 4,\n    ANALOG_SENSOR_LOW_THRESHOLD_ENABLED = 8,\n    ANALOG_SENSOR_HIGH_THRESHOLD_ENABLED = 16,\n    // /libraries/codal-core/inc/drivers/AnimatedDisplay.h\n    DISPLAY_EVT_ANIMATION_COMPLETE = 1,\n    DISPLAY_DEFAULT_AUTOCLEAR = 1,\n    DISPLAY_SPACING = 1,\n    DISPLAY_ANIMATE_DEFAULT_POS = -255,\n    DISPLAY_DEFAULT_SCROLL_SPEED = 120,\n    DISPLAY_DEFAULT_SCROLL_STRIDE = -1,\n    DISPLAY_DEFAULT_PRINT_SPEED = 400,\n    ANIMATION_MODE_NONE = 0,\n    ANIMATION_MODE_STOPPED = 1,\n    ANIMATION_MODE_SCROLL_TEXT = 2,\n    ANIMATION_MODE_PRINT_TEXT = 3,\n    ANIMATION_MODE_SCROLL_IMAGE = 4,\n    ANIMATION_MODE_ANIMATE_IMAGE = 5,\n    ANIMATION_MODE_ANIMATE_IMAGE_WITH_CLEAR = 6,\n    ANIMATION_MODE_PRINT_CHARACTER = 7,\n    // /libraries/codal-core/inc/drivers/FAT.h\n    FAT_RESERVED_SECTORS = 1,\n    FAT_ROOT_DIR_SECTORS = 4,\n    // /libraries/codal-core/inc/drivers/HID.h\n    HID_REQUEST_GET_REPORT = 1,\n    HID_REQUEST_GET_IDLE = 2,\n    HID_REQUEST_GET_PROTOCOL = 3,\n    HID_REQUEST_SET_REPORT = 9,\n    HID_REQUEST_SET_IDLE = 10,\n    HID_REQUEST_SET_PROTOCOL = 11,\n    // /libraries/codal-core/inc/drivers/HIDKeyboard.h\n    HID_KEYBOARD_NUM_REPORTS = 3,\n    HID_KEYBOARD_REPORT_GENERIC = 1,\n    HID_KEYBOARD_REPORT_CONSUMER = 2,\n    HID_KEYBOARD_KEYSTATE_SIZE_GENERIC = 8,\n    HID_KEYBOARD_KEYSTATE_SIZE_CONSUMER = 2,\n    HID_KEYBOARD_MODIFIER_OFFSET = 2,\n    HID_KEYBOARD_DELAY_DEFAULT = 10,\n    PressKey = 0,\n    ReleaseKey = 1,\n    // /libraries/codal-core/inc/drivers/KeyMap.h\n    KEYMAP_ALL_KEYS_UP_Val = 1,\n    KEYMAP_ALL_KEYS_UP_POS = 28,\n    KEYMAP_NORMAL_KEY_Val = 0,\n    KEYMAP_MODIFIER_KEY_Val = 1,\n    KEYMAP_MODIFIER_POS = 29,\n    KEYMAP_MEDIA_KEY_Val = 1,\n    KEYMAP_MEDIA_POS = 30,\n    KEYMAP_KEY_UP_Val = 0,\n    KEYMAP_KEY_DOWN_Val = 1,\n    KEYMAP_KEY_DOWN_POS = 31,\n    // /libraries/codal-core/inc/drivers/KeyValueStorage.h\n    DEVICE_KEY_VALUE_STORE_OFFSET = 4,\n    KEY_VALUE_STORAGE_MAGIC = 49370,\n    KEY_VALUE_STORAGE_BLOCK_SIZE = 48,\n    KEY_VALUE_STORAGE_KEY_SIZE = 16,\n    KEY_VALUE_STORAGE_SCRATCH_WORD_SIZE = 64,\n    KEY_VALUE_STORAGE_MAX_PAIRS = 5,\n    // /libraries/codal-core/inc/drivers/LEDMatrix.h\n    LED_MATRIX_GREYSCALE_BIT_DEPTH = 8,\n    LED_MATRIX_EVT_LIGHT_SENSE = 2,\n    LED_MATRIX_EVT_FRAME_TIMEOUT = 3,\n    LED_MATRIX_MINIMUM_BRIGHTNESS = 1,\n    LED_MATRIX_MAXIMUM_BRIGHTNESS = 255,\n    LED_MATRIX_DEFAULT_BRIGHTNESS = 255,\n    DISPLAY_MODE_BLACK_AND_WHITE = 0,\n    DISPLAY_MODE_GREYSCALE = 1,\n    DISPLAY_MODE_BLACK_AND_WHITE_LIGHT_SENSE = 2,\n    MATRIX_DISPLAY_ROTATION_0 = 0,\n    MATRIX_DISPLAY_ROTATION_90 = 1,\n    MATRIX_DISPLAY_ROTATION_180 = 2,\n    MATRIX_DISPLAY_ROTATION_270 = 3,\n    NO_CONN = 0,\n    // /libraries/codal-core/inc/drivers/MAG3110.h\n    MAG3110_DEFAULT_ADDR = 29,\n    MAG_DR_STATUS = 0,\n    MAG_OUT_X_MSB = 1,\n    MAG_OUT_X_LSB = 2,\n    MAG_OUT_Y_MSB = 3,\n    MAG_OUT_Y_LSB = 4,\n    MAG_OUT_Z_MSB = 5,\n    MAG_OUT_Z_LSB = 6,\n    MAG_WHOAMI = 7,\n    MAG_SYSMOD = 8,\n    MAG_OFF_X_MSB = 9,\n    MAG_OFF_X_LSB = 10,\n    MAG_OFF_Y_MSB = 11,\n    MAG_OFF_Y_LSB = 12,\n    MAG_OFF_Z_MSB = 13,\n    MAG_OFF_Z_LSB = 14,\n    MAG_DIE_TEMP = 15,\n    MAG_CTRL_REG1 = 16,\n    MAG_CTRL_REG2 = 17,\n    MAG3110_SAMPLE_RATES = 11,\n    MAG3110_WHOAMI_VAL = 196,\n    // /libraries/codal-core/inc/drivers/MMA8453.h\n    MMA8453_DEFAULT_ADDR = 56,\n    MMA8453_WHOAMI_VAL = 58,\n    // /libraries/codal-core/inc/drivers/MMA8653.h\n    MICROBIT_ACCEL_PITCH_ROLL_VALID = 2,\n    MICROBIT_ACCEL_ADDED_TO_IDLE = 4,\n    MMA8653_DEFAULT_ADDR = 58,\n    MMA8653_STATUS = 0,\n    MMA8653_OUT_X_MSB = 1,\n    MMA8653_WHOAMI = 13,\n    MMA8653_XYZ_DATA_CFG = 14,\n    MMA8653_CTRL_REG1 = 42,\n    MMA8653_CTRL_REG2 = 43,\n    MMA8653_CTRL_REG3 = 44,\n    MMA8653_CTRL_REG4 = 45,\n    MMA8653_CTRL_REG5 = 46,\n    MMA8653_WHOAMI_VAL = 90,\n    MMA8653_SAMPLE_RANGES = 3,\n    MMA8653_SAMPLE_RATES = 8,\n    // /libraries/codal-core/inc/drivers/MPU6050.h\n    MPU6050_DEFAULT_ADDR = 104,\n    MPU6050_WHOAMI = 117,\n    MPU6050_WHOAMI_VAL = 52,\n    // /libraries/codal-core/inc/drivers/MultiButton.h\n    MULTI_BUTTON_STATE_1 = 1,\n    MULTI_BUTTON_STATE_2 = 2,\n    MULTI_BUTTON_HOLD_TRIGGERED_1 = 4,\n    MULTI_BUTTON_HOLD_TRIGGERED_2 = 8,\n    MULTI_BUTTON_SUPRESSED_1 = 16,\n    MULTI_BUTTON_SUPRESSED_2 = 32,\n    MULTI_BUTTON_ATTACHED = 64,\n    // /libraries/codal-core/inc/drivers/ST7735.h\n    MADCTL_MY = 128,\n    MADCTL_MX = 64,\n    MADCTL_MV = 32,\n    MADCTL_ML = 16,\n    MADCTL_RGB = 0,\n    MADCTL_BGR = 8,\n    MADCTL_MH = 4,\n    // /libraries/codal-core/inc/drivers/TouchButton.h\n    TOUCH_BUTTON_CALIBRATION_PERIOD = 10,\n    TOUCH_BUTTON_CALIBRATION_LINEAR_OFFSET = 2,\n    TOUCH_BUTTON_CALIBRATION_PERCENTAGE_OFFSET = 5,\n    TOUCH_BUTTON_CALIBRATING = 16,\n    // /libraries/codal-core/inc/drivers/TouchSensor.h\n    TOUCH_SENSOR_MAX_BUTTONS = 10,\n    TOUCH_SENSOR_SAMPLE_PERIOD = 50,\n    TOUCH_SENSE_SAMPLE_MAX = 1000,\n    TOUCH_SENSOR_UPDATE_NEEDED = 1,\n    // /libraries/codal-core/inc/drivers/USBJACDAC.h\n    JACDAC_USB_STATUS_CLEAR_TO_SEND = 2,\n    // /libraries/codal-core/inc/drivers/USB_HID_Keys.h\n    KEY_MOD_LCTRL = 1,\n    KEY_MOD_LSHIFT = 2,\n    KEY_MOD_LALT = 4,\n    KEY_MOD_LMETA = 8,\n    KEY_MOD_RCTRL = 16,\n    KEY_MOD_RSHIFT = 32,\n    KEY_MOD_RALT = 64,\n    KEY_MOD_RMETA = 128,\n    KEY_NONE = 0,\n    KEY_ERR_OVF = 1,\n    KEY_A = 4,\n    KEY_B = 5,\n    KEY_C = 6,\n    KEY_D = 7,\n    KEY_E = 8,\n    KEY_F = 9,\n    KEY_G = 10,\n    KEY_H = 11,\n    KEY_I = 12,\n    KEY_J = 13,\n    KEY_K = 14,\n    KEY_L = 15,\n    KEY_M = 16,\n    KEY_N = 17,\n    KEY_O = 18,\n    KEY_P = 19,\n    KEY_Q = 20,\n    KEY_R = 21,\n    KEY_S = 22,\n    KEY_T = 23,\n    KEY_U = 24,\n    KEY_V = 25,\n    KEY_W = 26,\n    KEY_X = 27,\n    KEY_Y = 28,\n    KEY_Z = 29,\n    KEY_1 = 30,\n    KEY_2 = 31,\n    KEY_3 = 32,\n    KEY_4 = 33,\n    KEY_5 = 34,\n    KEY_6 = 35,\n    KEY_7 = 36,\n    KEY_8 = 37,\n    KEY_9 = 38,\n    KEY_0 = 39,\n    KEY_ENTER = 40,\n    KEY_ESC = 41,\n    KEY_BACKSPACE = 42,\n    KEY_TAB = 43,\n    KEY_SPACE = 44,\n    KEY_MINUS = 45,\n    KEY_EQUAL = 46,\n    KEY_LEFTBRACE = 47,\n    KEY_RIGHTBRACE = 48,\n    KEY_BACKSLASH = 49,\n    KEY_HASHTILDE = 50,\n    KEY_SEMICOLON = 51,\n    KEY_APOSTROPHE = 52,\n    KEY_GRAVE = 53,\n    KEY_COMMA = 54,\n    KEY_DOT = 55,\n    KEY_SLASH = 56,\n    KEY_CAPSLOCK = 57,\n    KEY_F1 = 58,\n    KEY_F2 = 59,\n    KEY_F3 = 60,\n    KEY_F4 = 61,\n    KEY_F5 = 62,\n    KEY_F6 = 63,\n    KEY_F7 = 64,\n    KEY_F8 = 65,\n    KEY_F9 = 66,\n    KEY_F10 = 67,\n    KEY_F11 = 68,\n    KEY_F12 = 69,\n    KEY_SYSRQ = 70,\n    KEY_SCROLLLOCK = 71,\n    KEY_PAUSE = 72,\n    KEY_INSERT = 73,\n    KEY_HOME = 74,\n    KEY_PAGEUP = 75,\n    KEY_DELETE = 76,\n    KEY_END = 77,\n    KEY_PAGEDOWN = 78,\n    KEY_RIGHT = 79,\n    KEY_LEFT = 80,\n    KEY_DOWN = 81,\n    KEY_UP = 82,\n    KEY_NUMLOCK = 83,\n    KEY_KPSLASH = 84,\n    KEY_KPASTERISK = 85,\n    KEY_KPMINUS = 86,\n    KEY_KPPLUS = 87,\n    KEY_KPENTER = 88,\n    KEY_KP1 = 89,\n    KEY_KP2 = 90,\n    KEY_KP3 = 91,\n    KEY_KP4 = 92,\n    KEY_KP5 = 93,\n    KEY_KP6 = 94,\n    KEY_KP7 = 95,\n    KEY_KP8 = 96,\n    KEY_KP9 = 97,\n    KEY_KP0 = 98,\n    KEY_KPDOT = 99,\n    KEY_102ND = 100,\n    KEY_COMPOSE = 101,\n    KEY_POWER = 102,\n    KEY_KPEQUAL = 103,\n    KEY_F13 = 104,\n    KEY_F14 = 105,\n    KEY_F15 = 106,\n    KEY_F16 = 107,\n    KEY_F17 = 108,\n    KEY_F18 = 109,\n    KEY_F19 = 110,\n    KEY_F20 = 111,\n    KEY_F21 = 112,\n    KEY_F22 = 113,\n    KEY_F23 = 114,\n    KEY_F24 = 115,\n    KEY_OPEN = 116,\n    KEY_HELP = 117,\n    KEY_PROPS = 118,\n    KEY_FRONT = 119,\n    KEY_STOP = 120,\n    KEY_AGAIN = 121,\n    KEY_UNDO = 122,\n    KEY_CUT = 123,\n    KEY_COPY = 124,\n    KEY_PASTE = 125,\n    KEY_FIND = 126,\n    KEY_MUTE = 127,\n    KEY_VOLUMEUP = 128,\n    KEY_VOLUMEDOWN = 129,\n    KEY_KPCOMMA = 133,\n    KEY_RO = 135,\n    KEY_KATAKANAHIRAGANA = 136,\n    KEY_YEN = 137,\n    KEY_HENKAN = 138,\n    KEY_MUHENKAN = 139,\n    KEY_KPJPCOMMA = 140,\n    KEY_HANGEUL = 144,\n    KEY_HANJA = 145,\n    KEY_KATAKANA = 146,\n    KEY_HIRAGANA = 147,\n    KEY_ZENKAKUHANKAKU = 148,\n    KEY_KPLEFTPAREN = 182,\n    KEY_KPRIGHTPAREN = 183,\n    KEY_LEFTCTRL = 224,\n    KEY_LEFTSHIFT = 225,\n    KEY_LEFTALT = 226,\n    KEY_LEFTMETA = 227,\n    KEY_RIGHTCTRL = 228,\n    KEY_RIGHTSHIFT = 229,\n    KEY_RIGHTALT = 230,\n    KEY_RIGHTMETA = 231,\n    KEY_MEDIA_PLAYPAUSE = 232,\n    KEY_MEDIA_STOPCD = 233,\n    KEY_MEDIA_PREVIOUSSONG = 234,\n    KEY_MEDIA_NEXTSONG = 235,\n    KEY_MEDIA_EJECTCD = 236,\n    KEY_MEDIA_VOLUMEUP = 237,\n    KEY_MEDIA_VOLUMEDOWN = 238,\n    KEY_MEDIA_MUTE = 239,\n    KEY_MEDIA_WWW = 240,\n    KEY_MEDIA_BACK = 241,\n    KEY_MEDIA_FORWARD = 242,\n    KEY_MEDIA_STOP = 243,\n    KEY_MEDIA_FIND = 244,\n    KEY_MEDIA_SCROLLUP = 245,\n    KEY_MEDIA_SCROLLDOWN = 246,\n    KEY_MEDIA_EDIT = 247,\n    KEY_MEDIA_SLEEP = 248,\n    KEY_MEDIA_COFFEE = 249,\n    KEY_MEDIA_REFRESH = 250,\n    KEY_MEDIA_CALC = 251,\n    // /libraries/codal-core/inc/drivers/uf2format.h\n    UF2FORMAT_H = 1,\n    APP_START_ADDRESS = 8192,\n    UF2_FLAG_NOFLASH = 1,\n    // /libraries/codal-core/inc/streams/DataStream.h\n    DATASTREAM_MAXIMUM_BUFFERS = 1,\n    // /libraries/codal-core/inc/streams/LevelDetector.h\n    LEVEL_THRESHOLD_LOW = 1,\n    LEVEL_THRESHOLD_HIGH = 2,\n    LEVEL_DETECTOR_INITIALISED = 1,\n    LEVEL_DETECTOR_HIGH_THRESHOLD_PASSED = 2,\n    LEVEL_DETECTOR_LOW_THRESHOLD_PASSED = 4,\n    LEVEL_DETECTOR_DEFAULT_WINDOW_SIZE = 128,\n    // /libraries/codal-core/inc/streams/LevelDetectorSPL.h\n    LEVEL_DETECTOR_SPL_INITIALISED = 1,\n    LEVEL_DETECTOR_SPL_HIGH_THRESHOLD_PASSED = 2,\n    LEVEL_DETECTOR_SPL_LOW_THRESHOLD_PASSED = 4,\n    LEVEL_DETECTOR_SPL_DEFAULT_WINDOW_SIZE = 128,\n    // /libraries/codal-core/inc/streams/Synthesizer.h\n    SYNTHESIZER_SAMPLE_RATE = 44100,\n    TONE_WIDTH = 1024,\n    // /libraries/codal-core/inc/types/BitmapFont.h\n    BITMAP_FONT_WIDTH = 5,\n    BITMAP_FONT_HEIGHT = 5,\n    BITMAP_FONT_ASCII_START = 32,\n    BITMAP_FONT_ASCII_END = 126,\n    // /libraries/codal-core/inc/types/CoordinateSystem.h\n    COORDINATE_SPACE_ROTATED_0 = 0,\n    COORDINATE_SPACE_ROTATED_90 = 1,\n    COORDINATE_SPACE_ROTATED_180 = 2,\n    COORDINATE_SPACE_ROTATED_270 = 3,\n    RAW = 0,\n    SIMPLE_CARTESIAN = 1,\n    NORTH_EAST_DOWN = 2,\n    NORTH_EAST_UP = 3,\n    // /libraries/codal-core/inc/types/Event.h\n    DEVICE_ID_ANY = 0,\n    DEVICE_EVT_ANY = 0,\n    CREATE_ONLY = 0,\n    CREATE_AND_FIRE = 1,\n    DEVICE_EVENT_DEFAULT_LAUNCH_MODE = 1,\n    // /libraries/codal-core/inc/types/RefCounted.h\n    REF_TAG_STRING = 1,\n    REF_TAG_BUFFER = 2,\n    REF_TAG_IMAGE = 3,\n    REF_TAG_USER = 32,\n    // /pxtapp/accelerometer/axis.h\n    ACC_SYSTEM = 3,\n    ACC_ROTATION = 0,\n    // /pxtapp/configkeys.h\n    CFG_PIN_NAME_MSK = 65535,\n    CFG_PIN_CONFIG_MSK = 4294901760,\n    CFG_PIN_CONFIG_ACTIVE_LO = 65536,\n    CFG_MAGIC0 = 513675505,\n    CFG_MAGIC1 = 539130489,\n    CFG_PIN_ACCELEROMETER_INT = 1,\n    CFG_PIN_ACCELEROMETER_SCL = 2,\n    CFG_PIN_ACCELEROMETER_SDA = 3,\n    CFG_PIN_BTN_A = 4,\n    CFG_PIN_BTN_B = 5,\n    CFG_PIN_BTN_SLIDE = 6,\n    CFG_PIN_DOTSTAR_CLOCK = 7,\n    CFG_PIN_DOTSTAR_DATA = 8,\n    CFG_PIN_FLASH_CS = 9,\n    CFG_PIN_FLASH_MISO = 10,\n    CFG_PIN_FLASH_MOSI = 11,\n    CFG_PIN_FLASH_SCK = 12,\n    CFG_PIN_LED = 13,\n    CFG_PIN_LIGHT = 14,\n    CFG_PIN_MICROPHONE = 15,\n    CFG_PIN_MIC_CLOCK = 16,\n    CFG_PIN_MIC_DATA = 17,\n    CFG_PIN_MISO = 18,\n    CFG_PIN_MOSI = 19,\n    CFG_PIN_NEOPIXEL = 20,\n    CFG_PIN_RX = 21,\n    CFG_PIN_RXLED = 22,\n    CFG_PIN_SCK = 23,\n    CFG_PIN_SCL = 24,\n    CFG_PIN_SDA = 25,\n    CFG_PIN_SPEAKER_AMP = 26,\n    CFG_PIN_TEMPERATURE = 27,\n    CFG_PIN_TX = 28,\n    CFG_PIN_TXLED = 29,\n    CFG_PIN_IR_OUT = 30,\n    CFG_PIN_IR_IN = 31,\n    CFG_PIN_DISPLAY_SCK = 32,\n    CFG_PIN_DISPLAY_MISO = 33,\n    CFG_PIN_DISPLAY_MOSI = 34,\n    CFG_PIN_DISPLAY_CS = 35,\n    CFG_PIN_DISPLAY_DC = 36,\n    CFG_DISPLAY_WIDTH = 37,\n    CFG_DISPLAY_HEIGHT = 38,\n    CFG_DISPLAY_CFG0 = 39,\n    CFG_DISPLAY_CFG1 = 40,\n    CFG_DISPLAY_CFG2 = 41,\n    CFG_DISPLAY_CFG3 = 42,\n    CFG_PIN_DISPLAY_RST = 43,\n    CFG_PIN_DISPLAY_BL = 44,\n    CFG_PIN_SERVO_1 = 45,\n    CFG_PIN_SERVO_2 = 46,\n    CFG_PIN_BTN_LEFT = 47,\n    CFG_PIN_BTN_RIGHT = 48,\n    CFG_PIN_BTN_UP = 49,\n    CFG_PIN_BTN_DOWN = 50,\n    CFG_PIN_BTN_MENU = 51,\n    CFG_PIN_LED_R = 52,\n    CFG_PIN_LED_G = 53,\n    CFG_PIN_LED_B = 54,\n    CFG_PIN_LED1 = 55,\n    CFG_PIN_LED2 = 56,\n    CFG_PIN_LED3 = 57,\n    CFG_PIN_LED4 = 58,\n    CFG_SPEAKER_VOLUME = 59,\n    CFG_PIN_JACK_TX = 60,\n    CFG_PIN_JACK_SENSE = 61,\n    CFG_PIN_JACK_HPEN = 62,\n    CFG_PIN_JACK_BZEN = 63,\n    CFG_PIN_JACK_PWREN = 64,\n    CFG_PIN_JACK_SND = 65,\n    CFG_PIN_JACK_BUSLED = 66,\n    CFG_PIN_JACK_COMMLED = 67,\n    CFG_PIN_BTN_SOFT_RESET = 69,\n    CFG_ACCELEROMETER_TYPE = 70,\n    CFG_PIN_BTNMX_LATCH = 71,\n    CFG_PIN_BTNMX_CLOCK = 72,\n    CFG_PIN_BTNMX_DATA = 73,\n    CFG_PIN_BTN_MENU2 = 74,\n    CFG_PIN_BATTSENSE = 75,\n    CFG_PIN_VIBRATION = 76,\n    CFG_PIN_PWREN = 77,\n    CFG_DISPLAY_TYPE = 78,\n    CFG_PIN_ROTARY_ENCODER_A = 79,\n    CFG_PIN_ROTARY_ENCODER_B = 80,\n    CFG_ACCELEROMETER_SPACE = 81,\n    CFG_PIN_WIFI_MOSI = 82,\n    CFG_PIN_WIFI_MISO = 83,\n    CFG_PIN_WIFI_SCK = 84,\n    CFG_PIN_WIFI_TX = 85,\n    CFG_PIN_WIFI_RX = 86,\n    CFG_PIN_WIFI_CS = 87,\n    CFG_PIN_WIFI_BUSY = 88,\n    CFG_PIN_WIFI_RESET = 89,\n    CFG_PIN_WIFI_GPIO0 = 90,\n    CFG_PIN_WIFI_AT_TX = 91,\n    CFG_PIN_WIFI_AT_RX = 92,\n    CFG_PIN_USB_POWER = 93,\n    ACCELEROMETER_TYPE_LIS3DH = 50,\n    ACCELEROMETER_TYPE_LIS3DH_ALT = 48,\n    ACCELEROMETER_TYPE_MMA8453 = 56,\n    ACCELEROMETER_TYPE_FXOS8700 = 60,\n    ACCELEROMETER_TYPE_MMA8653 = 58,\n    ACCELEROMETER_TYPE_MSA300 = 76,\n    ACCELEROMETER_TYPE_MPU6050 = 104,\n    DISPLAY_TYPE_ST7735 = 7735,\n    DISPLAY_TYPE_ILI9341 = 9341,\n    CFG_PIN_A0 = 100,\n    CFG_PIN_A1 = 101,\n    CFG_PIN_A2 = 102,\n    CFG_PIN_A3 = 103,\n    CFG_PIN_A4 = 104,\n    CFG_PIN_A5 = 105,\n    CFG_PIN_A6 = 106,\n    CFG_PIN_A7 = 107,\n    CFG_PIN_A8 = 108,\n    CFG_PIN_A9 = 109,\n    CFG_PIN_A10 = 110,\n    CFG_PIN_A11 = 111,\n    CFG_PIN_A12 = 112,\n    CFG_PIN_A13 = 113,\n    CFG_PIN_A14 = 114,\n    CFG_PIN_A15 = 115,\n    CFG_PIN_A16 = 116,\n    CFG_PIN_A17 = 117,\n    CFG_PIN_A18 = 118,\n    CFG_PIN_A19 = 119,\n    CFG_PIN_A20 = 120,\n    CFG_PIN_A21 = 121,\n    CFG_PIN_A22 = 122,\n    CFG_PIN_A23 = 123,\n    CFG_PIN_A24 = 124,\n    CFG_PIN_A25 = 125,\n    CFG_PIN_A26 = 126,\n    CFG_PIN_A27 = 127,\n    CFG_PIN_A28 = 128,\n    CFG_PIN_A29 = 129,\n    CFG_PIN_A30 = 130,\n    CFG_PIN_A31 = 131,\n    CFG_PIN_D0 = 150,\n    CFG_PIN_D1 = 151,\n    CFG_PIN_D2 = 152,\n    CFG_PIN_D3 = 153,\n    CFG_PIN_D4 = 154,\n    CFG_PIN_D5 = 155,\n    CFG_PIN_D6 = 156,\n    CFG_PIN_D7 = 157,\n    CFG_PIN_D8 = 158,\n    CFG_PIN_D9 = 159,\n    CFG_PIN_D10 = 160,\n    CFG_PIN_D11 = 161,\n    CFG_PIN_D12 = 162,\n    CFG_PIN_D13 = 163,\n    CFG_PIN_D14 = 164,\n    CFG_PIN_D15 = 165,\n    CFG_PIN_D16 = 166,\n    CFG_PIN_D17 = 167,\n    CFG_PIN_D18 = 168,\n    CFG_PIN_D19 = 169,\n    CFG_PIN_D20 = 170,\n    CFG_PIN_D21 = 171,\n    CFG_PIN_D22 = 172,\n    CFG_PIN_D23 = 173,\n    CFG_PIN_D24 = 174,\n    CFG_PIN_D25 = 175,\n    CFG_PIN_D26 = 176,\n    CFG_PIN_D27 = 177,\n    CFG_PIN_D28 = 178,\n    CFG_PIN_D29 = 179,\n    CFG_PIN_D30 = 180,\n    CFG_PIN_D31 = 181,\n    CFG_NUM_NEOPIXELS = 200,\n    CFG_NUM_DOTSTARS = 201,\n    CFG_DEFAULT_BUTTON_MODE = 202,\n    CFG_SWD_ENABLED = 203,\n    CFG_FLASH_BYTES = 204,\n    CFG_RAM_BYTES = 205,\n    CFG_SYSTEM_HEAP_BYTES = 206,\n    CFG_LOW_MEM_SIMULATION_KB = 207,\n    CFG_BOOTLOADER_BOARD_ID = 208,\n    CFG_UF2_FAMILY = 209,\n    CFG_PINS_PORT_SIZE = 210,\n    CFG_BOOTLOADER_PROTECTION = 211,\n    CFG_POWER_DEEPSLEEP_TIMEOUT = 212,\n    CFG_ANALOG_BUTTON_THRESHOLD = 213,\n    CFG_CPU_MHZ = 214,\n    CFG_CONTROLLER_LIGHT_MAX_BRIGHTNESS = 215,\n    CFG_ANALOG_JOYSTICK_MIN = 216,\n    CFG_ANALOG_JOYSTICK_MAX = 217,\n    CFG_TIMERS_TO_USE = 218,\n    CFG_PIN_B0 = 300,\n    CFG_PIN_B1 = 301,\n    CFG_PIN_B2 = 302,\n    CFG_PIN_B3 = 303,\n    CFG_PIN_B4 = 304,\n    CFG_PIN_B5 = 305,\n    CFG_PIN_B6 = 306,\n    CFG_PIN_B7 = 307,\n    CFG_PIN_B8 = 308,\n    CFG_PIN_B9 = 309,\n    CFG_PIN_B10 = 310,\n    CFG_PIN_B11 = 311,\n    CFG_PIN_B12 = 312,\n    CFG_PIN_B13 = 313,\n    CFG_PIN_B14 = 314,\n    CFG_PIN_B15 = 315,\n    CFG_PIN_B16 = 316,\n    CFG_PIN_B17 = 317,\n    CFG_PIN_B18 = 318,\n    CFG_PIN_B19 = 319,\n    CFG_PIN_B20 = 320,\n    CFG_PIN_B21 = 321,\n    CFG_PIN_B22 = 322,\n    CFG_PIN_B23 = 323,\n    CFG_PIN_B24 = 324,\n    CFG_PIN_B25 = 325,\n    CFG_PIN_B26 = 326,\n    CFG_PIN_B27 = 327,\n    CFG_PIN_B28 = 328,\n    CFG_PIN_B29 = 329,\n    CFG_PIN_B30 = 330,\n    CFG_PIN_B31 = 331,\n    CFG_PIN_C0 = 350,\n    CFG_PIN_C1 = 351,\n    CFG_PIN_C2 = 352,\n    CFG_PIN_C3 = 353,\n    CFG_PIN_C4 = 354,\n    CFG_PIN_C5 = 355,\n    CFG_PIN_C6 = 356,\n    CFG_PIN_C7 = 357,\n    CFG_PIN_C8 = 358,\n    CFG_PIN_C9 = 359,\n    CFG_PIN_C10 = 360,\n    CFG_PIN_C11 = 361,\n    CFG_PIN_C12 = 362,\n    CFG_PIN_C13 = 363,\n    CFG_PIN_C14 = 364,\n    CFG_PIN_C15 = 365,\n    CFG_PIN_C16 = 366,\n    CFG_PIN_C17 = 367,\n    CFG_PIN_C18 = 368,\n    CFG_PIN_C19 = 369,\n    CFG_PIN_C20 = 370,\n    CFG_PIN_C21 = 371,\n    CFG_PIN_C22 = 372,\n    CFG_PIN_C23 = 373,\n    CFG_PIN_C24 = 374,\n    CFG_PIN_C25 = 375,\n    CFG_PIN_C26 = 376,\n    CFG_PIN_C27 = 377,\n    CFG_PIN_C28 = 378,\n    CFG_PIN_C29 = 379,\n    CFG_PIN_C30 = 380,\n    CFG_PIN_C31 = 381,\n    CFG_PIN_P0 = 400,\n    CFG_PIN_P1 = 401,\n    CFG_PIN_P2 = 402,\n    CFG_PIN_P3 = 403,\n    CFG_PIN_P4 = 404,\n    CFG_PIN_P5 = 405,\n    CFG_PIN_P6 = 406,\n    CFG_PIN_P7 = 407,\n    CFG_PIN_P8 = 408,\n    CFG_PIN_P9 = 409,\n    CFG_PIN_P10 = 410,\n    CFG_PIN_P11 = 411,\n    CFG_PIN_P12 = 412,\n    CFG_PIN_P13 = 413,\n    CFG_PIN_P14 = 414,\n    CFG_PIN_P15 = 415,\n    CFG_PIN_P16 = 416,\n    CFG_PIN_P17 = 417,\n    CFG_PIN_P18 = 418,\n    CFG_PIN_P19 = 419,\n    CFG_PIN_P20 = 420,\n    CFG_PIN_P21 = 421,\n    CFG_PIN_P22 = 422,\n    CFG_PIN_P23 = 423,\n    CFG_PIN_P24 = 424,\n    CFG_PIN_P25 = 425,\n    CFG_PIN_P26 = 426,\n    CFG_PIN_P27 = 427,\n    CFG_PIN_P28 = 428,\n    CFG_PIN_P29 = 429,\n    CFG_PIN_P30 = 430,\n    CFG_PIN_P31 = 431,\n    CFG_PIN_LORA_MISO = 1001,\n    CFG_PIN_LORA_MOSI = 1002,\n    CFG_PIN_LORA_SCK = 1003,\n    CFG_PIN_LORA_CS = 1004,\n    CFG_PIN_LORA_BOOT = 1005,\n    CFG_PIN_LORA_RESET = 1006,\n    CFG_PIN_IRRXLED = 1007,\n    CFG_PIN_IRTXLED = 1008,\n    CFG_PIN_LCD_RESET = 1009,\n    CFG_PIN_LCD_ENABLE = 1010,\n    CFG_PIN_LCD_DATALINE4 = 1011,\n    CFG_PIN_LCD_DATALINE5 = 1012,\n    CFG_PIN_LCD_DATALINE6 = 1013,\n    CFG_PIN_LCD_DATALINE7 = 1014,\n    CFG_NUM_LCD_COLUMNS = 1015,\n    CFG_NUM_LCD_ROWS = 1016,\n    // /pxtapp/hf2dbg.h\n    HF2DBG_H = 1,\n    // /pxtapp/pins.h\n    BUTTON_ACTIVE_HIGH_PULL_DOWN = 17,\n    BUTTON_ACTIVE_HIGH_PULL_UP = 33,\n    BUTTON_ACTIVE_HIGH_PULL_NONE = 49,\n    BUTTON_ACTIVE_LOW_PULL_DOWN = 16,\n    BUTTON_ACTIVE_LOW_PULL_UP = 32,\n    BUTTON_ACTIVE_LOW_PULL_NONE = 48,\n    // /pxtapp/platform.h\n    PAGE_SIZE = 4096,\n    IMAGE_BITS = 4,\n    DEFAULT_NEOPIXEL_PIN = 0,\n    TEMPERATURE_NOMINAL_VALUE = 25,\n    TEMPERATURE_NOMINAL_READING = 10000,\n    TEMPERATURE_BETA = 3380,\n    TEMPERATURE_SERIES_RESISTOR = 10000,\n    LIGHTSENSOR_SENSITIVITY = 868,\n    LIGHTSENSOR_LOW_THRESHOLD = 128,\n    LIGHTSENSOR_HIGH_THRESHOLD = 896,\n    P0_0 = 0,\n    P0_1 = 1,\n    P0_2 = 2,\n    P0_3 = 3,\n    P0_4 = 4,\n    P0_5 = 5,\n    P0_6 = 6,\n    P0_7 = 7,\n    P0_8 = 8,\n    P0_9 = 9,\n    P0_10 = 10,\n    P0_11 = 11,\n    P0_12 = 12,\n    P0_13 = 13,\n    P0_14 = 14,\n    P0_15 = 15,\n    P0_16 = 16,\n    P0_17 = 17,\n    P0_18 = 18,\n    P0_19 = 19,\n    P0_20 = 20,\n    P0_21 = 21,\n    P0_22 = 22,\n    P0_23 = 23,\n    P0_24 = 24,\n    P0_25 = 25,\n    P0_26 = 26,\n    P0_27 = 27,\n    P0_28 = 28,\n    P0_29 = 29,\n    P0_30 = 30,\n    P0_31 = 31,\n    P1_0 = 32,\n    P1_1 = 33,\n    P1_2 = 34,\n    P1_3 = 35,\n    P1_4 = 36,\n    P1_5 = 37,\n    P1_6 = 38,\n    P1_7 = 39,\n    P1_8 = 40,\n    P1_9 = 41,\n    P1_10 = 42,\n    P1_11 = 43,\n    P1_12 = 44,\n    P1_13 = 45,\n    P1_14 = 46,\n    P1_15 = 47,\n    P1_16 = 48,\n    P1_17 = 49,\n    P1_18 = 50,\n    P1_19 = 51,\n    P1_20 = 52,\n    P1_21 = 53,\n    P1_22 = 54,\n    P1_23 = 55,\n    P1_24 = 56,\n    P1_25 = 57,\n    P1_26 = 58,\n    P1_27 = 59,\n    P1_28 = 60,\n    P1_29 = 61,\n    P1_30 = 62,\n    P1_31 = 63,\n    // /pxtapp/pxt.h\n    DEVICE_ID_BUTTON_SLIDE = 3000,\n    DEVICE_ID_MICROPHONE = 3001,\n    DEVICE_ID_FIRST_BUTTON = 4000,\n    DEVICE_ID_FIRST_TOUCHBUTTON = 4100,\n    // /pxtapp/pxtbase.h\n    PXT32 = 1,\n    PXT64 = 1,\n    PXT_REFCNT_FLASH = 65534,\n    VTABLE_MAGIC = 249,\n    Undefined = 0,\n    Boolean = 1,\n    Number = 2,\n    String = 3,\n    Object = 4,\n    Function = 5,\n    BoxedString = 1,\n    BoxedNumber = 2,\n    BoxedBuffer = 3,\n    RefAction = 4,\n    RefImage = 5,\n    RefCollection = 6,\n    RefRefLocal = 7,\n    RefMap = 8,\n    RefMImage = 9,\n    MMap = 10,\n    User0 = 16,\n    PXT_IOS_HEAP_ALLOC_BITS = 20,\n    IMAGE_HEADER_MAGIC = 135,\n    Int8LE = 1,\n    UInt8LE = 2,\n    Int16LE = 3,\n    UInt16LE = 4,\n    Int32LE = 5,\n    Int8BE = 6,\n    UInt8BE = 7,\n    Int16BE = 8,\n    UInt16BE = 9,\n    Int32BE = 10,\n    UInt32LE = 11,\n    UInt32BE = 12,\n    Float32LE = 13,\n    Float64LE = 14,\n    Float32BE = 15,\n    Float64BE = 16,\n    NUM_TRY_FRAME_REGS = 3,\n    GC = 0,\n    // /pxtapp/pxtconfig.h\n    PXT_UF2_FAMILY = 2913282112,\n    // /pxtapp/uf2format.h\n    BOOTLOADER_START = 0,\n    BOOTLOADER_END = 8192,\n    // /pxtapp/uf2hid.h\n    UF2_HID_H = 1,\n}\n",
            "dmac.cpp": "#include \"dmac.h\"\n\nnamespace pxt {\n\n#ifdef CODAL_DMAC\nSINGLETON(WDMAC);\n#endif\n\n}",
            "dmac.h": "#ifndef __DMAC_H\n#define __DMAC_H\n\n#include \"pxt.h\"\n\nnamespace pxt {\n\n#ifdef CODAL_DMAC\nclass WDMAC {\n  public:\n    CODAL_DMAC dmac;\n\n    WDMAC() {}\n};\n\nWDMAC* getWDMAC();\n#endif\n\n}\n\n#endif",
            "enums.d.ts": "// Auto-generated. Do not edit.\n\n\n    declare const enum PulseValue {\n    //% block=high\n    High = 4,  // DEVICE_PIN_EVT_PULSE_HI\n    //% block=low\n    Low = 5,  // DEVICE_PIN_EVT_PULSE_LO\n    }\n\n\n    declare const enum PinEvent {\n    //% block=\"pulse high\"\n    PulseHigh = 4,  // DEVICE_PIN_EVT_PULSE_HI\n    //% block=\"pulse low\"\n    PulseLow = 5,  // DEVICE_PIN_EVT_PULSE_LO\n    //% block=\"rise\"\n    Rise = 2,  // DEVICE_PIN_EVT_RISE\n    //% block=\"fall\"\n    Fall = 3,  // DEVICE_PIN_EVT_FALL\n    }\n\n\n    declare const enum PinPullMode {\n    //% block=\"down\"\n    PullDown = 0,\n    //% block=\"up\"\n    PullUp = 1,\n    //% block=\"none\"\n    PullNone = 2,\n    }\ndeclare namespace led {\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "hf2.cpp": "#include \"pxt.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#ifndef USB_HANDOVER\n#define USB_HANDOVER 1\n#endif\n\n#if USB_HANDOVER\n#define UF2_DEFINE_HANDOVER 1\n#endif\n\n#include \"uf2format.h\"\n\nstatic void *stackCopy;\nstatic uint32_t stackSize;\n//#define LOG DMESG\n#define LOG(...) ((void)0)\n\n//#define LOG DMESG\n#define LOG(...) ((void)0)\n\nstatic volatile bool resume = false;\n\nusing namespace codal;\n\n#ifdef HF2_HID\nstatic const char hidDescriptor[] = {\n    0x06, 0x97, 0xFF, // usage page vendor 0x97 (usage 0xff97 0x0001)\n    0x09, 0x01,       // usage 1\n    0xA1, 0x01,       // collection - application\n    0x15, 0x00,       // logical min 0\n    0x26, 0xFF, 0x00, // logical max 255\n    0x75, 8,          // report size 8\n    0x95, 64,         // report count 64\n    0x09, 0x01,       // usage 1\n    0x81, 0x02,       // input: data, variable, absolute\n    0x95, 64,         // report count 64\n    0x09, 0x01,       // usage 1\n    0x91, 0x02,       // output: data, variable, absolute\n    0x95, 1,          // report count 1\n    0x09, 0x01,       // usage 1\n    0xB1, 0x02,       // feature: data, variable, absolute\n    0xC0,             // end\n};\n\nstatic const HIDReportDescriptor reportDesc = {\n    9,\n    0x21,                  // HID\n    0x100,                 // hidbcd 1.00\n    0x00,                  // country code\n    0x01,                  // num desc\n    0x22,                  // report desc type\n    sizeof(hidDescriptor), // size of 0x22\n};\n\nstatic const InterfaceInfo ifaceInfoHID = {\n   &reportDesc,\n    sizeof(reportDesc),\n    1,\n    {\n        2,    // numEndpoints\n        0x03, /// class code - HID\n        0x00, // subclass\n        0x00, // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {USB_EP_TYPE_INTERRUPT, 1},\n    {USB_EP_TYPE_INTERRUPT, 1},\n};\n#endif\n\nstatic const InterfaceInfo ifaceInfo = {\n    NULL,\n    0,\n    0,\n    {\n        0,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        42,   // subclass\n        1,    // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {0, 0},\n    {0, 0},\n};\n\nstatic const InterfaceInfo ifaceInfoEP = {\n    NULL,\n    0,\n    2,\n    {\n        2,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        42,   // subclass\n        1,    // protocol\n        0x02, // string\n        0x00, // alt\n    },\n    {USB_EP_TYPE_BULK, 0},\n    {USB_EP_TYPE_BULK, 0},\n};\n\nint HF2::stdRequest(UsbEndpointIn &ctrl, USBSetup &setup)\n{\n#ifdef HF2_HID\n    if (!useHID)\n        return DEVICE_NOT_SUPPORTED;\n    if (setup.bRequest == USB_REQ_GET_DESCRIPTOR)\n    {\n        if (setup.wValueH == 0x21)\n        {\n            InterfaceDescriptor tmp;\n            fillInterfaceInfo(&tmp);\n            return ctrl.write(&tmp, sizeof(tmp));\n        }\n        else if (setup.wValueH == 0x22)\n        {\n            return ctrl.write(hidDescriptor, sizeof(hidDescriptor));\n        }\n    }\n#endif\n    return DEVICE_NOT_SUPPORTED;\n}\n\n// same as in microbit\n#define CTRL_GET_REPORT 0x01\n#define CTRL_SET_REPORT 0x09\n#define CTRL_OUT_REPORT_H 0x2\n#define CTRL_IN_REPORT_H 0x1\n\nvoid HF2::prepBuffer(uint8_t *buf) {\n    memset(buf, 0, 64);\n    target_disable_irq();\n    if (dataToSendLength) {\n        if (dataToSendPrepend) {\n            dataToSendPrepend = false;\n            buf[0] = HF2_FLAG_CMDPKT_BODY | 4;\n            memcpy(buf + 1, pkt.buf, 4);\n        } else {\n            int flag = dataToSendFlag;\n            int s = 63;\n            if (dataToSendLength <= 63) {\n                s = dataToSendLength;\n            } else {\n                if (flag == HF2_FLAG_CMDPKT_LAST)\n                    flag = HF2_FLAG_CMDPKT_BODY;\n            }\n\n            buf[0] = flag | s;\n            memcpy(buf + 1, dataToSend, s);\n            dataToSend += s;\n            dataToSendLength -= s;\n        }\n    }\n    target_enable_irq();\n}\n\nvoid HF2::pokeSend() {\n    if (!allocateEP || !CodalUSB::usbInstance->isInitialised())\n        return;\n\n    uint8_t buf[64];\n    for (;;) {\n        prepBuffer(buf);\n        if (!buf[0])\n            break;\n        in->write(buf, sizeof(buf));\n    }\n}\n\nint HF2::classRequest(UsbEndpointIn &ctrl, USBSetup &setup) {\n    if (allocateEP)\n        return DEVICE_NOT_SUPPORTED;\n\n    if ((setup.bmRequestType & USB_REQ_DIRECTION) == USB_REQ_HOSTTODEVICE) {\n        if (setup.bRequest != CTRL_SET_REPORT || setup.wValueL != 0 ||\n            setup.wValueH != CTRL_OUT_REPORT_H)\n            return DEVICE_NOT_SUPPORTED;\n        if (setup.wLength > 64)\n            return DEVICE_NOT_SUPPORTED;\n        ctrlWaiting = true;\n        CodalUSB::usbInstance->ctrlOut->startRead();\n        ctrl.wLength = 0; // pretend we're done\n    } else {\n        if (setup.bRequest != CTRL_GET_REPORT || setup.wValueL != 0 ||\n            setup.wValueH != CTRL_IN_REPORT_H)\n            return DEVICE_NOT_SUPPORTED;\n        if (setup.wLength != 64)\n            return DEVICE_NOT_SUPPORTED;\n\n        uint8_t buf[64];\n        prepBuffer(buf);\n        ctrl.write(buf, sizeof(buf));\n    }\n\n    return DEVICE_OK;\n}\n\nconst InterfaceInfo *HF2::getInterfaceInfo() {\n#ifdef HF2_HID\n    if (useHID)\n        return &ifaceInfoHID;\n#endif\n    return allocateEP ? &ifaceInfoEP : &ifaceInfo;\n}\n\nint HF2::sendSerial(const void *data, int size, int isError) {\n    if (!gotSomePacket)\n        return DEVICE_OK;\n\n    for (;;) {\n        pokeSend();\n\n        while (dataToSendLength) {\n            fiber_sleep(5);\n            pokeSend();\n        }\n\n        if (size < 0)\n            break;\n\n        target_disable_irq();\n        // there could be a race\n        if (!dataToSendLength) {\n            dataToSend = (const uint8_t *)data;\n            dataToSendPrepend = false;\n            dataToSendFlag = isError ? HF2_FLAG_SERIAL_ERR : HF2_FLAG_SERIAL_OUT;\n            dataToSendLength = size;\n            size = -1;\n        }\n        target_enable_irq();\n    }\n\n    return 0;\n}\n\n// Recieve HF2 message\n// Does not block. Will store intermediate data in pkt.\n// `serial` flag is cleared if we got a command message.\nint HF2::recv() {\n    uint8_t buf[64];\n    int len;\n\n    if (allocateEP)\n        len = out->read(buf, sizeof(buf));\n    else\n        len = CodalUSB::usbInstance->ctrlOut->read(buf, sizeof(buf));\n    // DMESG(\"HF2 read: %d\", len);\n\n    if (len <= 0)\n        return len;\n\n    if (!allocateEP)\n        CodalUSB::usbInstance->ctrlIn->write(\"\", 0);\n\n    uint8_t tag = buf[0];\n    // serial packets not allowed when in middle of command packet\n    usb_assert(pkt.size == 0 || !(tag & HF2_FLAG_SERIAL_OUT));\n    int size = tag & HF2_SIZE_MASK;\n    usb_assert(pkt.size + size <= (int)sizeof(pkt.buf));\n    memcpy(pkt.buf + pkt.size, buf + 1, size);\n    pkt.size += size;\n    tag &= HF2_FLAG_MASK;\n    if (tag != HF2_FLAG_CMDPKT_BODY) {\n        if (tag == HF2_FLAG_CMDPKT_LAST)\n            pkt.serial = 0;\n        else if (tag == HF2_FLAG_SERIAL_OUT)\n            pkt.serial = 1;\n        else\n            pkt.serial = 2;\n        int sz = pkt.size;\n        pkt.size = 0;\n        return sz;\n    }\n    return 0;\n}\n\nint HF2::sendResponse(int size) {\n    dataToSend = pkt.buf;\n    dataToSendPrepend = false;\n    dataToSendFlag = HF2_FLAG_CMDPKT_LAST;\n    dataToSendLength = 4 + size;\n    pokeSend();\n    return 0;\n}\n\nint HF2::sendResponseWithData(const void *data, int size) {\n    if (dataToSendLength)\n        oops(90);\n    if (size <= (int)sizeof(pkt.buf) - 4) {\n        memcpy(pkt.resp.data8, data, size);\n        return sendResponse(size);\n    } else {\n        dataToSend = (const uint8_t *)data;\n        dataToSendPrepend = true;\n        dataToSendFlag = HF2_FLAG_CMDPKT_LAST;\n        dataToSendLength = size;\n        pokeSend();\n        return 0;\n    }\n}\n\nstatic void copy_words(void *dst0, const void *src0, uint32_t n_words) {\n    uint32_t *dst = (uint32_t *)dst0;\n    const uint32_t *src = (const uint32_t *)src0;\n    while (n_words--)\n        *dst++ = *src++;\n}\n\n#ifndef QUICK_BOOT\n#ifdef SAMD21\n#define DBL_TAP_PTR ((volatile uint32_t *)(HMCRAMC0_ADDR + HMCRAMC0_SIZE - 4))\n#endif\n#ifdef SAMD51\n#define DBL_TAP_PTR ((volatile uint32_t *)(HSRAM_ADDR + HSRAM_SIZE - 4))\n#endif\n#define DBL_TAP_MAGIC_QUICK_BOOT 0xf02669ef\n#define QUICK_BOOT(v) *DBL_TAP_PTR = v ? DBL_TAP_MAGIC_QUICK_BOOT : 0\n#endif\n\nint HF2::endpointRequest() {\n    if (!allocateEP && !ctrlWaiting)\n        return 0;\n\n    int sz = recv();\n\n    if (!sz)\n        return 0;\n\n    uint32_t tmp;\n\n    if (pkt.serial) {\n        // TODO raise some event?\n        return 0;\n    }\n\n    LOG(\"HF2 sz=%d CMD=%x\", sz, pkt.buf32[0]);\n\n    // one has to be careful dealing with these, as they share memory\n    HF2_Command *cmd = &pkt.cmd;\n    HF2_Response *resp = &pkt.resp;\n\n    uint32_t cmdId = cmd->command_id;\n    resp->tag = cmd->tag;\n    resp->status16 = HF2_STATUS_OK;\n\n#define checkDataSize(str, add) usb_assert(sz == 8 + (int)sizeof(cmd->str) + (int)(add))\n\n    gotSomePacket = true;\n\n    switch (cmdId) {\n    case HF2_CMD_INFO:\n        return sendResponseWithData(uf2_info(), strlen(uf2_info()));\n\n    case HF2_CMD_BININFO:\n        resp->bininfo.mode = HF2_MODE_USERSPACE;\n        resp->bininfo.flash_page_size = 0;\n        resp->bininfo.flash_num_pages = 0;\n        resp->bininfo.max_message_size = sizeof(pkt.buf);\n        resp->bininfo.uf2_family = PXT_UF2_FAMILY;\n        return sendResponse(sizeof(resp->bininfo));\n\n    case HF2_DBG_RESTART:\n        *HF2_DBG_MAGIC_PTR = HF2_DBG_MAGIC_START;\n        target_reset();\n        break;\n\n    case HF2_CMD_RESET_INTO_APP:\n        QUICK_BOOT(1);\n        NVIC_SystemReset();\n        break;\n    case HF2_CMD_RESET_INTO_BOOTLOADER:\n        QUICK_BOOT(0);\n        NVIC_SystemReset();\n        break;\n\n#if USB_HANDOVER\n    case HF2_CMD_START_FLASH:\n        sendResponse(0);\n        hf2_handover(in->ep);\n        usb_assert(0); // should not be reached\n        break;\n#endif\n\n    case HF2_CMD_WRITE_WORDS:\n        checkDataSize(write_words, cmd->write_words.num_words << 2);\n        copy_words((void *)cmd->write_words.target_addr, cmd->write_words.words,\n                   cmd->write_words.num_words);\n        break;\n\n    case HF2_CMD_READ_WORDS:\n        checkDataSize(read_words, 0);\n        tmp = cmd->read_words.num_words;\n        usb_assert(tmp <= sizeof(pkt.buf) / 4 - 1);\n        copy_words(resp->data32, (void *)cmd->read_words.target_addr, tmp);\n        return sendResponse(tmp << 2);\n\n    case HF2_CMD_DMESG:\n#if DEVICE_DMESG_BUFFER_SIZE > 0\n        return sendResponseWithData(codalLogStore.buffer, codalLogStore.ptr);\n#else\n        break;\n#endif\n\n    case HF2_DBG_GET_GLOBAL_STATE: {\n        HF2_GLOBAL_STATE_Result gstate = {\n            .num_globals = (uint32_t)getNumGlobals(), //\n            .globals_addr = (uint32_t)globals,\n        };\n        return sendResponseWithData(&gstate, sizeof(gstate));\n    }\n\n    case HF2_DBG_RESUME:\n        globals[0] = (TValue)cmd->data32[0];\n        resume = true;\n        return sendResponse(0);\n\n    case HF2_DBG_GET_STACK:\n        return sendResponseWithData(stackCopy, stackSize);\n\n    default:\n        // command not understood\n        resp->status16 = HF2_STATUS_INVALID_CMD;\n        break;\n    }\n\n    return sendResponse(0);\n}\n\nHF2::HF2(HF2_Buffer &p) : gotSomePacket(false), ctrlWaiting(false), pkt(p), allocateEP(true), useHID(false) {}\n\n\nstatic const InterfaceInfo dummyIfaceInfo = {\n    NULL,\n    0,\n    0,\n    {\n        0,    // numEndpoints\n        0xff, /// class code - vendor-specific\n        0xff,   // subclass\n        0xff,    // protocol\n        0x00, // string\n        0x00, // alt\n    },\n    {0, 0},\n    {0, 0},\n};\n\n\nconst InterfaceInfo *DummyIface::getInterfaceInfo() {\n    return &dummyIfaceInfo;\n}\n\n//\n//\n// Debugger\n//\n//\n\nstruct ExceptionContext {\n    uint32_t excReturn; // 0xFFFFFFF9\n    uint32_t r0;\n    uint32_t r1;\n    uint32_t r2;\n    uint32_t r3;\n    uint32_t r12;\n    uint32_t lr;\n    uint32_t faultInstrAddr;\n    uint32_t psr;\n};\n\nstruct Paused_Data {\n    uint32_t pc;\n};\nstatic Paused_Data pausedData;\n\nvoid bkptPaused() {\n\n// waiting for https://github.com/lancaster-university/codal/pull/14\n#ifdef DEVICE_GROUP_ID_USER\n    // the loop below counts as \"system\" task, and we don't want to pause ourselves\n    fiber_set_group(DEVICE_GROUP_ID_SYSTEM);\n    // pause everyone else\n    fiber_pause_group(DEVICE_GROUP_ID_USER);\n#endif\n\n    while (!resume) {\n        // DMESG(\"BKPT\");\n        hf2.pkt.resp.eventId = HF2_EV_DBG_PAUSED;\n        hf2.sendResponseWithData(&pausedData, sizeof(pausedData));\n        // TODO use an event\n        for (int i = 0; i < 20; ++i) {\n            if (resume)\n                break;\n            fiber_sleep(50);\n        }\n    }\n\n    if (stackCopy) {\n        xfree(stackCopy);\n        stackCopy = NULL;\n    }\n\n#ifdef DEVICE_GROUP_ID_USER\n    fiber_resume_group(DEVICE_GROUP_ID_USER);\n    // go back to user mode\n    fiber_set_group(DEVICE_GROUP_ID_USER);\n#endif\n\n    resume = false;\n}\n\nextern \"C\" void handleHardFault(ExceptionContext *ectx) {\n    auto instr = (uint16_t *)ectx->faultInstrAddr;\n\n    DMESG(\"FLT %p\", instr);\n\n    if (ectx->faultInstrAddr & 0x80000000) {\n        ectx->faultInstrAddr &= ~0x80000000;\n        // switch to step-over mode\n        globals[0] = (TValue)3;\n        return;\n    }\n\n    DMESG(\"BB %p %p %p lr=%p r0=%p\", instr[-1], instr[0], instr[1], ectx->lr, ectx->r0);\n\n    if (instr[0] == 0x6840) {\n        // ldr r0, [r0, #4] -- entry breakpoint\n        ectx->faultInstrAddr += 2;\n        // we're being ask for step-over mode\n        if (ectx->r0 == 3) {\n            // switch to debugger-attached-no-stepping mode\n            globals[0] = (TValue)0;\n            ectx->lr |= 0x80000000;\n        }\n        return;\n    }\n\n    if (instr[0] == 0x6800) {\n        // ldr r0, [r0, #0]\n        ectx->lr = ectx->faultInstrAddr + 3; // next instruction + thumb mode\n        pausedData.pc = ectx->faultInstrAddr + 2;\n        void *ssp = (void *)(ectx + 1);\n        stackSize = DEVICE_STACK_BASE - (uint32_t)ssp;\n        if (stackCopy)\n            xfree(stackCopy);\n        stackCopy = xmalloc(stackSize);\n        memcpy(stackCopy, ssp, stackSize);\n        ectx->faultInstrAddr = ((uint32_t)(&bkptPaused) & (~1U));\n        return;\n    }\n\n    while (1) {\n    }\n}\n\nextern \"C\" void HardFault_Handler(void) {\n    asm(\"push {lr}; mov r0, sp; bl handleHardFault; pop {pc}\");\n}\n\n#endif",
            "hf2.h": "#ifndef DEVICE_HF2_H\n#define DEVICE_HF2_H\n\n#if CONFIG_ENABLED(DEVICE_USB)\n\n#include \"HID.h\"\n#include \"uf2hid.h\"\n\n#define HF2_BUF_SIZE 256\n\ntypedef struct {\n    uint16_t size;\n    uint8_t serial;\n    union {\n        uint8_t buf[HF2_BUF_SIZE];\n        uint32_t buf32[HF2_BUF_SIZE / 4];\n        uint16_t buf16[HF2_BUF_SIZE / 2];\n        HF2_Command cmd;\n        HF2_Response resp;\n    };\n} HF2_Buffer;\n\nclass HF2 : public CodalUSBInterface {\n    void prepBuffer(uint8_t *buf);\n    void pokeSend();\n\n    const uint8_t *dataToSend;\n    volatile uint32_t dataToSendLength;\n    bool dataToSendPrepend;\n    uint8_t dataToSendFlag;\n\n    bool gotSomePacket;\n    bool ctrlWaiting;\n\n  public:\n    HF2_Buffer &pkt;\n\n    bool allocateEP;\n    bool useHID;\n\n    int sendResponse(int size);\n    int recv();\n    int sendResponseWithData(const void *data, int size);\n\n    HF2(HF2_Buffer &pkt);\n    virtual int endpointRequest();\n    virtual int classRequest(UsbEndpointIn &ctrl, USBSetup &setup);\n    virtual int stdRequest(UsbEndpointIn &ctrl, USBSetup &setup);\n    virtual const InterfaceInfo *getInterfaceInfo();\n    int sendSerial(const void *data, int size, int isError = 0);\n\n    virtual bool enableWebUSB() { return !useHID; }\n};\n\nclass DummyIface : public CodalUSBInterface {\n  public:\n    virtual const InterfaceInfo *getInterfaceInfo();\n};\n\n#endif\n\n#endif\n",
            "hf2dbg.h": "#ifndef HF2DBG_H\n#define HF2DBG_H 1\n\n// we use a location at the top of the stack to store a magic value\n// which causes us to stop at the very first break point in the program\n#define HF2_DBG_MAGIC_PTR ((uint32_t *)(DEVICE_STACK_BASE - (DEVICE_STACK_SIZE - 4)))\n#define HF2_DBG_MAGIC_START 0xf0ebac7f\n\n#define HF2_DBG_GET_GLOBAL_STATE 0x53fc66e0\nstruct HF2_GLOBAL_STATE_Result {\n    uint32_t num_globals;\n    uint32_t globals_addr;\n};\n\n#define HF2_DBG_RESTART 0x1120bd93\n#define HF2_DBG_RESUME 0x27a55931\n#define HF2_EV_DBG_PAUSED 0x3692f9fd\n#define HF2_DBG_GET_STACK 0x70901510\n\n#endif\n",
            "i2c.cpp": "#include \"pxt.h\"\n#include \"ErrorNo.h\"\n#include \"CodalDmesg.h\"\n#include \"configkeys.h\"\n\n#ifdef CODAL_I2C\n\nnamespace pins {\n\nclass CodalI2CProxy {\nprivate:\n  DevicePin* sda;\n  DevicePin* scl;\n  CODAL_I2C i2c;\npublic:\n  CodalI2CProxy* next;\npublic:\n  CodalI2CProxy(DevicePin* _sda, DevicePin* _scl)\n    : sda(_sda)\n    , scl(_scl)\n    , i2c(*_sda, *_scl) \n    , next(NULL)\n  {\n\n  }\n\n  CODAL_I2C* getI2C() {\n    return &(this->i2c);\n  }\n  \n  bool matchPins(DevicePin* sda, DevicePin* scl) {\n      return this->sda == sda && this->scl == scl;\n  }\n\n  Buffer readBuffer(int address, int size, bool repeat = false)\n  {\n    Buffer buf = mkBuffer(NULL, size);\n    int status = this->i2c.read(address << 1, buf->data, size, repeat);\n    if (status != ErrorCode::DEVICE_OK) {\n      buf = 0;\n    }\n    return buf;\n  }\n\n  int writeBuffer(int address, Buffer buf, bool repeat = false)\n  {\n    return this->i2c.write(address << 1, buf->data, buf->length, repeat);\n  }\n};\n\n}\n\nnamespace I2CMethods {\n/**\n  * Read `size` bytes from a 7-bit I2C `address`.\n  */\n//%\nBuffer readBuffer(I2C_ i2c, int address, int size, bool repeat = false)\n{\n  return i2c->readBuffer(address, size, repeat);\n}\n\n/**\n  * Write bytes to a 7-bit I2C `address`.\n  */\n//%\nint writeBuffer(I2C_ i2c, int address, Buffer buf, bool repeat = false)\n{\n  return i2c->writeBuffer(address, buf, repeat);\n}\n\n}\n\nnamespace pins {\n\nstatic I2C_ i2cs(NULL);\n/**\n* Opens a Serial communication driver\n*/\n//% help=pins/create-i2c\n//% parts=i2c\nI2C_ createI2C(DigitalInOutPin sda, DigitalInOutPin scl) {\n  // pick up defaults\n  if (!sda || !scl) {\n    DMESG(\"i2c: lookup default pins\");\n    sda = LOOKUP_PIN(SDA);\n    scl = LOOKUP_PIN(SCL);\n  }\n\n  // lookup existing devices\n  auto dev = i2cs;\n  while(dev) {\n    if (dev->matchPins(sda, scl)) {\n      DMESG(\"i2c: found existing i2c\");\n      return dev;\n    }\n    dev = dev->next;\n  }\n\n  // allocate new one\n  DMESG(\"i2c: mounting on new device\");\n  auto ser = new CodalI2CProxy(sda, scl);\n  // push in list\n  ser->next = i2cs;\n  i2cs = ser;\n  return ser;\n}\n\n}\n\nnamespace pxt {\n  CODAL_I2C* getI2C(DigitalInOutPin sda, DigitalInOutPin scl) {\n    auto i2c = pins::createI2C(sda, scl);\n    return i2c->getI2C();\n  }\n}\n\n#endif",
            "i2c.ts": "namespace pins {\n    /**\n     * Read one number from an I2C address.\n     */\n    //% help=pins/i2c-read-number weight=5 group=\"i2c\" inlineInputMode=\"external\"\n    //% blockId=pins_i2c_readnumber block=\"i2c read number at address %address|of format %format|repeated %repeated\"\n    export function i2cReadNumber(address: number, format: NumberFormat, repeated?: boolean): number {\n        const buf = pins.i2cReadBuffer(address, pins.sizeOf(format), repeated)\n        if (!buf)\n            return undefined\n        return buf.getNumber(format, 0)\n    }\n\n    /**\n     * Write one number to an I2C address.\n     */\n    //% help=pins/i2c-write-number weight=4 group=\"i2c\"\n    //% blockId=i2c_writenumber block=\"i2c write number|at address %address|with value %value|of format %format|repeated %repeated\"\n    export function i2cWriteNumber(address: number, value: number, format?: NumberFormat, repeated?: boolean): void {\n        if (format == undefined)\n            format = NumberFormat.UInt8LE;\n        const buf = control.createBuffer(pins.sizeOf(format))\n        buf.setNumber(format, 0, value)\n        pins.i2cWriteBuffer(address, buf, repeated)\n    }\n\n    /**\n     * Write a value in a I2C register.\n     * @param address I2c address of the device\n     * @param register register index\n     * @param value value to write\n     * @param valueFormat format of the value, default is UInt8LE\n     */\n    //% weight=3 group=\"i2c\"\n    //% help=pins/i2c-write-register\n    //% blockId=i2c_writereg block=\"i2c write register|at address $address|at register $register|value $value\"\n    export function i2cWriteRegister(address: number, register: number, value: number, valueFormat?: NumberFormat): void {\n        if (valueFormat === undefined)\n            valueFormat = NumberFormat.UInt8LE;\n        const valueSize = pins.sizeOf(valueFormat);\n        const buf = control.createBuffer(1 + valueSize);\n        buf.setNumber(NumberFormat.UInt8LE, 0, register);\n        buf.setNumber(valueFormat, 1, value);\n        pins.i2cWriteBuffer(address, buf);\n    }\n\n    /**\n     * Read the value from a I2C register.\n     * @param address I2c address of the device\n     * @param register register index\n     * @param valueFormat format of the value, default is UInt8LE\n     */\n    //% weight=3 group=\"i2c\"\n    //% help=pins/i2c-read-register\n    //% blockId=i2c_readreg block=\"i2c read register|at address $address|at register $register\"\n    export function i2cReadRegister(address: number, register: number, valueFormat?: NumberFormat): number {\n        if (valueFormat === undefined)\n            valueFormat = NumberFormat.UInt8LE;\n        pins.i2cWriteNumber(address, register, NumberFormat.UInt8LE);\n        return pins.i2cReadNumber(address, valueFormat);\n    }\n\n    /**\n     * Read `size` bytes from a 7-bit I2C `address`.\n     */\n    //%\n    export function i2cReadBuffer(address: number, size: number, repeat: boolean = false): Buffer {\n        return pins.i2c().readBuffer(address, size, repeat);\n    }\n\n    /**\n     * Write bytes to a 7-bit I2C `address`.\n     */\n    //%\n    export function i2cWriteBuffer(address: number, buf: Buffer, repeat: boolean = false): number {\n        return pins.i2c().writeBuffer(address, buf, repeat);\n    }\n\n    let _i2c: I2C;\n    /**\n     * Gets the default I2C bus\n     */\n    //%\n    export function i2c() {\n        if (!_i2c) {\n            const sda = pins.pinByCfg(DAL.CFG_PIN_SDA);\n            const scl = pins.pinByCfg(DAL.CFG_PIN_SCL);\n            _i2c = pins.createI2C(sda, scl);    \n        }\n        return _i2c;        \n    }\n\n    export class I2CDevice {\n        public address: number;\n        private _hasError: boolean;\n        constructor(address: number) {\n            this.address = address\n        }\n        public readInto(buf: Buffer, repeat = false, start = 0, end: number = null) {\n            if (end === null)\n                end = buf.length\n            if (start >= end)\n                return\n            let res = i2cReadBuffer(this.address, end - start, repeat)\n            if (!res) {\n                this._hasError = true\n                return\n            }\n            buf.write(start, res)\n        }\n        public write(buf: Buffer, repeat = false) {\n            let res = i2cWriteBuffer(this.address, buf, repeat)\n            if (res) {\n                this._hasError = true\n            }\n        }\n        public begin(): I2CDevice {\n            this._hasError = false;\n            return this;\n        }\n        public end() {\n        }\n        public ok() {\n            return !this._hasError\n        }\n    }\n}\n",
            "icons.jres": "{\n  \"*\": {\n    \"namespace\": \"icons\",\n    \"dataEncoding\": \"base64\"\n  },\n  \"heart\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0ElEQVR4nO3dMW4USRQG4NcrkVjObTgAF+AAFneCBDmFBG6zmyPIuQAHsNe55cQStcGM2Z311KPL3T2uNt+XMp73q2b+MZbsehEAAABAF4Zf/PtxRJxExFFEPJt59m1E3ETEVURcP+QJSilnEfE2Il5FxOl80SIi4u+I+BYRH4dh+PLA53B+Kz+/rCCnEfFi5lA1F7E50NFKKe8i4v0ycXZHRcT5MAwfGr/O+W1HxYrPr1aQ44h4uVic/b7HyE/C7Sff5/j1d8C5lIh43fBJ6Pz+NzJWen5/VB58smyWyTPfxuFe3NjOetPweOe3a7XnVyvI0YJBalpmvlosxTwznd+0md2cX60gc/9ANEbLzLl/oBzjecNjnd99qzy/WkGAUBBIKQgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJGoFuT1oivaZTXdAzeSy4bHO775Vnl+tIDcLBqlpmfltsRTzzHR+02Z2c361glwtGKSmZebH2FxGdihlO3Ms57drtedXK8h1bK5jPJSLaLhfdntD33kc5kW+uzrza8PXOL9/rfr8nsLl1W9icylZy71LY1zG5r8Fn9Z8+XLG+U07PwAAAAAAAABgRynlrJTyVynlsszvcvvcZ/LJt7p8pZR3C4Ta50fZ7OyWT7515Cub5v44UMC7kKObLJ98h8pX+3X33vdoy7dLvmmq+WoF6X2PtnzTZso3cubelpZSDvnXZj8NwzDqU0O+/eSbZl8+t5pAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkKgVpPc92vLdJ980e/PVCtL7Hm35ps2Ub+TMWkF636Mt3y75pmnN9/Pqx0Pcbjflakr55HuUfHchz0opf5ZSLhYIdrF97qmXG8sn36PkAwAAAAAAAAB2lJ73VMsn32PmKz3vqZZPvsfMVzraUy2ffI+Zz570ceSbZrX57ElfZqZ802Z2k8+e9AbyTbPGfG41gYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSBhT/p48k2zynz2pC8zU75pM7vJZ0/6OPJN89Ty9b+nWj75HjPfXciz0vGeavnke8x8AAAAAAAAAPD7+dVKrOOIOImIo4h4NvPs24i4iYiriLh+yBNsf03gbWz2y53OFy0iNr9y/S0iPg7D8OUhTyDftHzRwfsvK8hpRLyYOVTNRTT+DUDZ/ILZ+2Xi7I6KiPNhGD40fZF8P0fFA/JFJ++/WkGOI+LlYnH2+x4jv5NsP/k+x+FWBZeIeD32k1C++yOjIV909P6r/T3IybJZJs/sZo92hXy7WvN18/6rFeRowSA1LTO72aM9w2Pn8pTydfP+qxVk7h+IxmiZOfcPlGM8b3isfPe15Ovm/edWE0goCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQStYLcHjRF+8xu9mhXyHdfS75u3n+1gtwsGKSmZWY3e7RneOxcnlK+bt5/tYJcLRikpmVm73u05dvVmq+b91+tINexuY7xUC6i4X7e7Q1953GYF/nu6syvY79Avh3N+aKj999TuLz6TWwuJWu5d2mMy9j8t+DTxMuh5Vvx5dUAAAAAAAAAwH+t+ldNovN89pCv//Vd7Z706DyfPeQ7Vvv6rnJPenSezx7yvVb5+q51T3rv+ewhnzazm3xr3ZPeez57yKfN7CbfWvek957PHvJpM7vJ51YTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBJr3ZPeez57yKfN7CbfWvek957PHvJpM7vJt9Y96b3ns4d82sxu8q1yT3p0ns8e8ntW+/q6vLruye9xj87PL/rPBwAAABzKP8/KS45dYO2PAAAAAElFTkSuQmCC\"\n  },\n  \"smallheart\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE5ElEQVR4nO3dMY5URxQF0NdGTtAQY3sB3gALsNgTJBapneA9WXbOBryAARIiRABBO5i2Ru2hLv9P9W9V9ZyT8nveVfXcgZGaelUAAADAEHbf+POrqnpaVY+r6vsTz/5SVZ+q6n1Vfbzn15BPvvtalC8V5Ieq+unEoVquq+rdytfId0u+Ps183zVecFXnC1eHWVcrnpfvmHx9mvlaBXm6XZamNTPl65sp38KZrYI83jBIy5qZ8vXNlG/hzFZBTv0L0RJrZsrXN1O+hTNbBQFKQSBSEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCFoF+XLWFOtnytc3U76FM1sF+bRhkJY1M+XrmynfwpmtgrzfMEjLmpny9c2Ub+HMR42HP1fVvqqebBbn2HVVfVjxvHzH5OvTzOfy6jb5+jyEfAAAAAAAAADwwEz9UZP9fv9LVb2sqmd1szb4lN5V1Zuqer3b7f6659dwfpOf37R70vf7/a9V9ds2cY5HVdWr3W73+8rXOb/DqJr4/FoFuaqqnzeL83X/1MKfhIeffH/Wt/8GPJV9VT1f8ZPQ+f1vZE16frPuSX9Z53tz6zDrxYrnnd+xac9v1j3pzzZLcZqZzq9v5jDnN+ue9FP/QrnEjyuedX53TXl+bjWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAhm3ZO+6g6oE3m74lnnd9eU5zfrnvQ3m6U4zUzn1zdzmPObdU/667q5jOxc9oeZSzm/Y9OeX6sgH+vmOsZzua4V98sebuh7Ved5k/+7OvPvFa9xfremPr9LuLz6Rd1cSrbm3qUl3tbNPwv+mPny5cT52ZMOAAAAAAAAAOtcwkdNht3zLZ896adycXu+5bsdVfakn8TF7PmW7+7Isie92yXt+ZbvmD3pJ3BJe77l65s5zPefPenLrfn/EvLdZU86XBoFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgsCd9uTV7vuW7y570Tpe051u+vpnDfP/Zk77M2j3f8h2zJ73TRe35lu+IPen3dPF7vuWzJx0AAAAAAAAALsvUHzWpwfPZQz7/+zvtnvQaPJ895EemfX+n3JNeg+ezh/yrpnx/Z92TPno+e8j7Zg6Tb9Y96aPns4e8b+Yw+Wbdkz56PnvI+2YOk8+tJhAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCwax70kfPZw9538xh8s26J330fPaQ980cJt+se9JHz2cPed/MYfJNuSe9Bs9nD/kd076/Lq9uu/g97jX4+dX4+QAAAAAAAADggfFRkzb5+lxEPnvSl5Gvz7T5Wp/mvarzhavDrKsVz8t3TL4+zXz2pG8zU76+mcPksyd9m5ny9c0cJp896dvMlK9v5jD53GoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBDYk77NTPn6Zg6Tz570bWbK1zdzmHz2pG8zU76+mcPke9R4+HPd7N9+slmcY9dV9WHF8/Idk69PM5/Lq9vk6/MQ8gEAAADn8i9uSXT/dv6GSgAAAABJRU5ErkJggg==\"\n  },\n  \"yes\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHUlEQVR4nO3dQY5UZRQF4FsaJ6Qdoy7ADbAA455gYpjqBPdkdM4GXADCxBFhIINy0G2k0u+efsVfr/ir+L4h3e09eckRiOU7VQAAAMAUdg98/aaqHlfVo6r66sS331fVu6p6U1VvP/KfIZ98H2tVvlSQb6rquxOH6ryqqtdH/ox8/5NvTJvvi+YHbup84eru1s0R3y/fIfnGtPm6gjzeLkvrmJvyjd2Ub+XNriCPNgzSOeamfGM35Vt5syvIqf9CtMYxN+UbuynfyptdQYBSEIgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEgq4g78+a4vib8o3dlG/lza4g7zYM0jnmpnxjN+VbebMryJsNg3SOuSnf2E35Vt78svnmf6pqX1Vfbxbn0Kuq+vuI75fvkHxj2nxeXt2Tb8znkA8AAAAAAAAAPjM+atKTb8xwvv1+/0NVPauqJ3U7C31Kr6vqZVW92O12v3ffZCd9HfnGHJ1vv9//VFU/bxPn8FRVPd/tdr8sfbEryE1Vfb9ZpGV/1vp/08h339Xku/ud47d6+E84p7Kvqh+Xfiexk77NTfnGbj6r85Wj7m49XfqCnfRtbso3dvPJZimOvGknfZub8o3dPPVfyNf4dukXvdUEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSCwk77NTfnGbh77jq9T+GvpF+2kb3NTvrGbLzdLceRNO+nb3JRv7OaLun2Z27ns727e0xXkbd2+LvJcXtVx72+V79BV5bt7w+HzOk9J/nv16B+LWR744alfblzyXXW+u1eQPq3bl7otvrdqwF91+8eqX9PLqwEAAAAAAACAD/moSe/q882wQ/6AT/787KSvc3X5ZtkhD6Z4fnbS17uafDPtkDemeX520re5OXu+aXbIG9M8Pzvp29ycPd80O+SNaZ6fnfRtbs6eb5od8sY0z89bTSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAjvp29ycPd80O+SNaZ6fnfRtbs6eb5od8sY0z89O+jY3Z883zQ55Y5rnZyd9navKN9MOeWOa5+fl1b2rz3cBO+RTPz8AAAAAAAAA+PzEj5rY0bZDPuAqPqrTFsSO9gE75GMudmd+sSB2tBfZIR9zkTvz3cfd7WiP3fT8xm5Ok68riB3tsZue39jNafJ1BbGjPXbT8xu7OU0+bzWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAi6gtjRHrvp+Y3dnCZfVxA72mM3Pb+xm9Pk6wpiR3vspuc3dnOafIsFsaN9jx3yMRe7M7/m5dV2tO2Qf4yreHk1AAAAAAAAAPChh4Ymp/5P/XbIr/6jHJ88XyrIFDvVHTvkBy52hzyYIl9XkGl2qpfYIV90kTvkjWnydf8/yDQ71Q075GM35Vt5syvINDvVDTvkYzflW3mzK8g0O9UNO+RjN+VbedNbTSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEgq4g0+xUN+yQj92Ub+XNriDT7FQ37JCP3ZRv5c2uINPsVDfskI/dlG/lza4g0+xUL7FDfs/F7pA3psl3DS+vtkN+wS+HfsDs+QAAAIBz+RdDw2v5jDe3GQAAAABJRU5ErkJggg==\"\n  },\n  \"no\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFCElEQVR4nO3dMY5URxQF0NeWnCBysBfgDbAAy3uCxCK1E7wny87ZgBcAJkckBO1g2sJN/7r+f6p7VPXnnJQZ3lNNXRBSU7cKAAAAGMIh/eLxePyxql5V1Yuqen7l2X9X1duqenM4HP645+/xtKqeVdWTqvr2WoudfK6qT1X1oao+3vP3sF/HfiPcv2ZAjsfjz1X1y5WXWhxVVa8Ph8OvG7/veVV9f4N9lryruwPdwn5fbN5vlPu3GJBTcn9v/foNHKvqpw1/kzytqh9uuM+Sv2r9n4T2u7R6v5Hu3zeNb3hVD7dcnWa93PD1z261yJVm2q9v5jD3rxWQF7fbpWnLzCc32+I6M+3XN3OY+9cKyLX/QbTGdxu+9tr/oLz2TPv1zRzm/rUCApSAQCQgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQtAKy9Y2la3i/4Ws/32yL68y0X9/MYe5fKyBvb7hIy5aZn262xXVm2q9v5jD3rxWQN3X3mNZDOZ5mrvXhVotcaab9+mYOc/8WA3J6Ye51PcyS/z79+OeG7/lYd89ZPpR3te19Wfud27TfSPdvzePVL+vuUa0t71at8b7u/lr7zePV97L7/Sa4fwAAAAAAAADwyPxfUeIMH0XQ4+787mPV+aWA6NE+jaod9rg7vzPN82sFRI/2VyNrRz3uzm/R4vm1/j+IHu1ze+txd34rZ7YCoke7b6bz65s5zPm1AqJH+9Keetyd38qZXjWBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAhaAdGjfWlPPe7Ob+XMVkD0aPfNdH59M4c5v1ZA9Gif21uPu/NbObMVED3aX+yux935XWie3x4erx65R9v57fj8AAAAAAAAAODxmfqjJjX4fnrI5//5TtuTXoPvp4f8zLQ/3yl70mvw/fSQL5ry5ztrT/ro++kh75s5zH6z9qSPvp8e8r6Zw+w3a0/66PvpIe+bOcx+XjWBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAhm7UkffT895H0zh9lv1p700ffTQ943c5j9Zu1JH30/PeR9M4fZb8qe9Bp8Pz3kF6b9+Xq8uk0PeZ/d/3wBAAAAAAAA4PGZ+qMmesidX4d996TrIT/j/PrsqyddD/ki59dnVz3pesj7Zjq/lTNn7UnXQ9430/mtnDlrT7oe8r6Zzm/lTK+aQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEs/ak6yHvm+n8Vs6ctSddD3nfTOe3cuasPel6yPtmOr+VM6fsSddDfsH59dlnT7oecufXQU86AAAAAAAAAGwWP2qiR7v7owj2m7zHvRkQPdpnNveQl/3+a9oe98WA6NFetLqHvOy3ZMoe99bH3fVo9820X9/MYe5fKyB6tPtm2q9v5jD3rxUQPdp9M+3XN3OY++dVEwgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBoBUQPdp9M+3XN3OY+9cKiB7tvpn265s5zP1rBUSPdt9M+/XNHOb+LQZEj/aFTT3kZb+vTdvjvubxaj3aO30cugbfb4L7BwAAADyUfwDmcbblze7mOAAAAABJRU5ErkJggg==\"\n  },\n  \"happy\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF2klEQVR4nO3dPXIUVxQF4DOmnLhE7J8FsAEW4PKeIHGR2gnsiTI5G/ACBCSOKAII2sEMJY+ld+mn7pl6Pfq+lJbuqeYdCaqkdxMAAABgCLtv/PlVkh+T/JDk+5Vnf0nyKcmHJB/v+Tnkk+++ZuWrCvJTkl9WDtVyneR958fId0O+ZZr5vmt8wFXOFy6HWVcdz8t3TL5lmvlaBfnxdFmaembKt2ymfDNntgrywwmDtPTMlG/ZTPlmzmwVZO3/EM3RM1O+ZTPlmzmzVRAgCgIlBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBQqsgX86aon+mfMtmyjdzZqsgn04YpKVnpnzLZso3c2arIB9OGKSlZ6Z8y2bKN3Pmo8bDn5NMSR6fLM6x6yT/dDwv3zH5lmnmc3l1m3zLPIR8AAAAAAAAAPDAbPpHTaZp+jXJ8yRPs18bvKb3Sd4mebnb7f665+fw/jb+/ja7J32apt+T/HGaOMejkrzY7XZ/dn6c93cYlQ2/v1ZBrpI8OVmcu/2dmV8JD1/5Xufb3wHXMiX5reMroff3v5HZ6Pvb6p705znfX24Os551PO/9Hdvs+9vqnvSnJ0uxzkzvb9nMYd7fVvekr/0fyjl+7njW+7ttk+/PrSZQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFLa6J73rDqiVvOt41vu7bZPvb6t70t+eLMU6M72/ZTOHeX9b3ZP+MvvLyM5lOsycy/s7ttn31yrIx+yvYzyX63TcL3u4oe9FzvOX/PXqzDcdH+P93dj0+7uEy6ufZX8pWc+9S3O8y/6fBa+2fPlyxfuzJx0AAAAAAAAA+mz6R00in3z3d9l70iPff8m3TDNf66d5r3K+cDnMuup4Xr5j8i3TzLfVPenyLZsp38yZW92TLt+ymfLNnLnVPenyLZsp38yZbjWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoLDVPenyLZsp38yZW92TLt+ymfLNnLnVPenyLZsp38yZjxoPf85+v/Xjk8U5dp3kn47n5Tsm3zLNfC6vbpNvmYeQDwAAAAAAAAAemPJHTaZp+jXJ8yRPs1/Lu6b3Sd4mebnb7f665+cY/UcR5FuQb4Tz1yzINE2/J/lj5VB3jkryYrfb/dn5cUPs0S7Id6M73yjn786CHJr7uvXnJzAl+a3jO8lVkicnzHOXvzP/K6F8t83ON9L5a/0+yPOcL1wOs551PD/MHu0Vnl3LJeUb5vy1CvL0dFmaemYOs0d7hWfXckn5hjl/rYKs/R+iOX7ueHaYPdorPLuWS8o3zPlzqwkUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoChVZBeu9YWsO7jmeH2aO9wrNruaR8w5y/VkHenjBIS8/MYfZor/DsWi4p3zDnr1WQl9lfpnUu02HmXMPs0V7h2bVcUr5hzt+dBTncMPci5wn59erHNx0f8zH76yzP5Tp998vKd6wr30jnb87l1c+yv1Sr596qOd5l/23tlcur7+Xi823g/AEAAAAAAADAA/OtRYlb+FGEYfe4y7csXwY4f1VB7NE+jMo99rjLdzMq98iXQc5fqyD2aP9vZDr2uMt3e2Q68mWg89f6fRB7tI/17nGX71hvvmHOX6sg9mgvmynfspnDnL9WQezRvq3n9xHku60n3zDnz60mUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBRaBbFH+7aePe7y3daTb5jz1yqIPdrLZsq3bOYw569VEHu0j/XucZfvWG++Yc5fqyD2aN/o3uMu35HufBno/F3C5dXD7tGWb/Ee8qHPHwAAAHBG/wKcHIXJ5Tep/gAAAABJRU5ErkJggg==\"\n  },\n  \"sad\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFqElEQVR4nO3dPZJTRxQF4CNTTlxD7J8FeAMswOU9QeIitRPYkwtyNuAFDJA4ogggeA4kbMRMX15PS/Jr+L6Up7mnWn00TJWqOwEAAAA2YfeZf79K8n2S75J8e+LZ75O8TfI6yZs7/gz55LurVfmqgvyQ5KcTh2q5TvKq8zXy/Ue+Mc183zRecJXLhcth1lXH8/Idk29MM1+rIN+fL0tTz0z5xmbKt3JmqyDfnTFIS89M+cZmyrdyZqsgp/6DaI2emfKNzZRv5cxWQYAoCJQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKrYK8v2iK/pnyjc2Ub+XMVkHenjFIS89M+cZmyrdyZqsgr88YpKVnpnxjM+VbOfNe4+F3SZYk988W59h1kr87npfvmHxjmvkcXt0m35ivIR8AAAAAAAAAfGWm/qrJsiy/JHmU5EH21waf0qskL5I82e12z+74M6zf5Os37T3py7L8luT388Q5HpXk8W63+6PzddbvMCoTr1+rIFdJfj5bnNv9lZWfhIdPvj/z+d+Ap7Ik+bXjk9D6fTIyk67frPekP8rl3twcZj3seN76HZt2/Wa9J/3B2VKcZqb1G5u5mfWb9Z70U/9BucaPHc9av5umXD+nmkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQmPWe9K4zoE7kZcez1u+mKddv1nvSX5wtxWlmWr+xmZtZv1nvSX+S/WFkl7IcZq5l/Y5Nu36tgrzJ/jjGS7lOx/myhxP6Hucyb/KHozOfd7zG+v1n6vX7Eg6vfpj9oWQ95y6t8TL7/xY8nfnw5Yr1c086AAAAAAAAAPSZ+qsmkU++u/uy70mPfB+Tb0wzX+vbvFe5XLgcZl11PC/fMfnGNPPNek+6fGMz5Vs5c9Z70uUbmynfypmz3pMu39hM+VbOdKoJFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAoVZ70mXb2ymfCtnznpPunxjM+VbOXPWe9LlG5sp38qZ9xoPv8v+fuv7Z4tz7DrJ3x3Py3dMvjHNfA6vbpNvzNeQDwAAAAAAAAC+MlN/1WRZll+SPEryIPtrg0/pVZIXSZ7sdrtnd/kB8o3lywb237T3pC/L8luS388T53hUkse73e6PrhfJ9++o3CFfNrL/WgW5SvLz2eLc7q+s/E1y+OT7M5//DXgqS5Jf134SyndzZDryZUP7b9Z70h/lcm9uDrMedjwv37HefJvZf7Pek/7gbClOM1O+sZmb2X+z3pN+6j8o1/ix41n5burJt5n951QTKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAqz3pPedYbWibzseFa+m3rybWb/zXpP+ouzpTjNTPnGZm5m/816T/qT7A8ju5TlMHMt+Y715tvM/msV5E32xzFeynU6zuc9nND3OJd5kz8cnfl87QvkO9KdLxvaf1/C4dUPsz+UrOfcpTVeZv/fgqeDh0PLN/Hh1QAAAAAAAADAx8qvmrhHe/irCPKNf5Xof91/zYK4R/tI9z3uke9j3fm2sv9uLYh7tG+1+h73yHeb1fm2tP9aX3d3j/bYTPnGZm5m/7UK4h7tsZnyjc3czP5rFcQ92mMz5RubuZn951QTKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAqtgrhHe2ymfGMzN7P/WgVxj/bYTPnGZm5m/7UK4h7tsZnyjc3czP67tSDu0b6h6x73yPeprnxb2n9rDq92j/YXejh0Np5vgv0HAAAAXMo/WNaFyX18J6sAAAAASUVORK5CYII=\"\n  },\n  \"confused\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFd0lEQVR4nO3dMW5TWxAG4N8PvQaFmsdbABvIAhB7ShqUFpqwJwR9NsACAjRUiAKK+wob8UxyhntzbMuHfF/LdWY01u8QyZpJAAAAgKOw+s2/nyR5nORhkr93XPt7kq9JPiX5csefoT/93dWs/qqA/JPk3x031XKd5OPC1+jvJ/31afb3V+MFJzlcc9nUOlnwvP626a9Ps79WQB7vr5emJTX111dTfzNrtgLycI+NtCypqb++mvqbWbMVkF3/QTTHkpr666upv5k1WwEBIiBQEhAoCAgUBAQKAgIFAYGCgEBBQKAgIFAQECgICBQEBAoCAgUBgYKAQEFAoCAgUBAQKLQC8v2gXSyvqb++mvqbWbMVkK97bKRlSU399dXU38yarYB82mMjLUtq6q+vpv5m1nzQePhbkinJo721s+06yecFz+tvm/76NPuzvLpNf33uQ38AAAAAAAAAcM8M/VWTaZqeJTlPcpr12eBd+pjkKsnlarV6e8efYX6Dz2/YO+nTNL1I8nI/7WyXSnKxWq1eLXyd+W1KZeD5tQJykuTp3tq53fvM/CTcfPK9ye9/A+7KlOT5gk9C8/ulZAad36h30s9zuDc3m1pnC543v23Dzm/UO+mne+tiNzXNr6/m0cxv1Dvpu/6Dco4nC541v5uGnJ+tJlAQECgICBQEBAoCAgUBgYKAQEFAoCAgUBAQKAgIFAQECgICBQGBgoBAQUCgICBQEBAoCAgURr2TvmgH1I58WPCs+d005PxGvZN+tbcudlPT/PpqHs38Rr2Tfpn1MrJDmTY15zK/bcPOrxWQL1mvYzyU6yzYL7vZ0HeRw7zJP1ZnvlvwGvP7aej5/QnLq8+yXkq2ZO/SHB+y/m/B65GXL1fMz510AAAAAAAAAFhm6K+aRH/6u7s/+0569Pd/+uvT7K/1bd6THK65bGqdLHhef9v016fZ36h30vXXV1N/M2uOeiddf3019Tez5qh30vXXV1N/M2vaagIFAYGCgEBBQKAgIFAQECgICBQEBAoCAgUBgYKAQEFAoCAgUBAQKAgIFAQECgICBQGBgoBAYdQ76frrq6m/mTVHvZOuv76a+ptZc9Q76frrq6m/mTUfNB7+lvV960d7a2fbdZLPC57X3zb99Wn2Z3l1m/763If+AAAAAAAAAOCeGfqrJtM0PUtynuQ067PBu/QxyVWSy9Vq9faOP8P8Bp/fsHfSp2l6keTlftrZLpXkYrVavVr4OvPblMrA82sF5CTJ0721c7v3mflJuPnke5Pf/wbclSnJ8wWfhOb3S8kMOr9R76Sf53Bvbja1zhY8b37bhp3fqHfST/fWxW5qml9fzaOZ36h30nf9B+UcTxY8a343DTk/W02gICBQEBAoCAgUBAQKAgIFAYGCgEBBQKAgIFAQECgICBQEBAoCAgUBgYKAQEFAoCAgUBAQKIx6J33RDqgd+bDgWfO7acj5jXon/WpvXeympvn11Tya+Y16J/0y62VkhzJtas5lftuGnV8rIF+yXsd4KNdZsF92s6HvIod5k3+szny34DXm99PQ8/sTllefZb2UbMnepTk+ZP3fgtcjL1+umJ876QAAAAAAAACwTPlVE3e03SHv8EfMrxkQd7S3uEPeZ9j53RoQd7Rv5Q55nyHn1/q6uzvafTXNr6/m0cyvFRB3tPtqml9fzaOZXysg7mj31TS/vppHMz9bTaAgIFAQECgICBQEBAoCAgUBgYKAQEFAoCAgUBAQKAgIFAQECgICBQGBgoBAQUCgICBQEBAotALijnZfTfPrq3k082sFxB3tvprm11fzaObXCog72n01za+v5tHM79aAuKN9gzvkfYad35zl1e5ou0N+F/dhfgAAAMCh/AecHIXJK5h09QAAAABJRU5ErkJggg==\"\n  },\n  \"angry\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8klEQVR4nO3dMW4USRQG4Ne7IkHe2IYDcAEOYHEnnCCnkJjb7OYIci6wB7Ah2chysJaoDWa87Ky7Ht2u7qF7/H2px/N+PfVvZDGuigAAAAAWocu+WEo5jYiziHgZEScTz/4SEZ8j4qLruo8PfI+jiDiOiKcR8WSqYFu3EXETEV8j4vqB7yFfQ74lPH/VgpRS3kTE24lD9Y6KiPOu696N/L6TiHg+Q54+l7FZ6BjyfTc631Kev96CbJv7ofb1GZSIeDXiX5KjiHgxY54+f8bwn4Ty3Tc435Kev18q33AW+wsX21mvR7z+eK4gE82Ur23mYp6/WkFezpelaszMp7OlmGamfG0zF/P81Qoy9S9EQzwb8dqpf6GceqZ8bTMX8/zVCgKEgkBKQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgUSvI2DOWpnA14rW3s6WYZqZ8bTMX8/zVCvJ5xiA1Y2bezJZimpnytc1czPNXK8hFbA7T2peynTnU17mCTDRTvraZi3n+eguyPWHuPPYT8u7ox08jvuc6NsdZ7stljDtfVr5do/It6fkbcnj169gcqjXm3KohrmLzz9p7h1c/yMHnW8HzBwAAAAAAAACPzI8uSlzDRxHc425/DzFof1lB3KO9HRUHeI+7/e2o7q9WEPdo/29kHNA97vbXq3d/tb8HcY/2rkO7x93+Bs6sFcQ92m0z7a9t5mL2VyuIe7TvO6R73O1v4EynmkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQqBXEPdr3HdI97vY3cGatIO7Rbptpf20zF7O/WkHco73r0O5xt7+BM2sFcY/2dwd3j7v93VPd3yEcXr3ke7Tt74D3BwAAAAAAAACPz6o/ahLyyfdwh31Pesj3X/K1qearfZr3KPYXLrazjka8Xr5d8rWp5lvrPenytc2Ub+DMtd6TLl/bTPkGzlzrPenytc2Ub+BMp5pAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFjrPenytc2Ub+DMtd6TLl/bTPkGzlzrPenytc2Ub+DMXysv/js291v/NlucXZcR8deI18u3S7421XwOr66Tr81jyAcAAAAAAAAAfFdKOS2l/FFKuSrTu9q+96l88q0uXynlzQyh+nwrpbyRT77V5Cub5n7bU8C7kIObLJ98+8pX+3uQs/jxJ32n1EXE6xGvl2+XfG2q+WoFeTlflqoxM+VrmynfwJm9LS2llHmz9Ou6btBPDfn6ydemL59TTSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBI1AryZa8pNq5GvFa+++Rr05uvVpDPMwapGTNTvraZ8g2cWSvIRWyu4d2Xsp05lHy75GszNt+/Rz/u43S7lqMp5ZPvp+S7C3laSvm9lHI5Q7DL7Xu3Hm4sn3w/JR8AAAAAAAAAPD7plVjb/4Y/i839bScTz/4Sm09QXnRd9/GB73EUEccR8TQinkwVbOs2Im4i4mtEXD/kDexv/furFqRsPsD1duJQvaMi4rzruncjv+8kIp7PkKfPZYz8GwX727Ha/dUu8TyNiA+1r8+gRMSrET8JjyLixYx5+vwZA38S2l+vVe5vrfekH88VZKKZ9tc2czH7W+s96U9nSzHNTPtrm7mY/dUKMvUvREM8G/HaqX+hnHqm/bXNXMz+nGoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQGKt96TfzpZimpn21zZzMftb6z3pN7OlmGam/bXNXMz+1npP+te5gkw00/7aZi5mf70F2Z4wdx77CXl39OOnEd9zHZvjLPflMkacL2t/96x2f0MOr34dm0O1xpy7NMRVbP5Ze3/ghy/b3+HuDwAAANiXfwDTXfEJIYpjngAAAABJRU5ErkJggg==\"\n  },\n  \"asleep\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF3klEQVR4nO3dPY4cVRQF4NNYJGgc87MAFoAXgNiTnSCnkJg9IcjNAljA2CSOEIEJiqAbcMvzrl/N62q98nxfOtVzj2rqTHuk9rsJAAAAMIXDB75+k+TzJJ8l+fTCs/9O8leSP5L8ec/vIZ9899WVryrIF0m+unColtskr1e+Rr7/yTemme+Txgtucr1wOc26WXG9fOfkG9PM1yrI59tlaVozU76xmfJ1zmwV5LMNg7SsmSnf2Ez5Ome2CnLpP4h6rJkp39hM+TpntgoCREGgpCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUGgV5O+rplg/U76xmfJ1zmwV5K8Ng7SsmSnf2Ez5Ome2CvLHhkFa1syUb2ymfJ0zHzUufptkSfJ4szjnbpO8WXG9fOfkG9PM5/DqNvnGPIR8AAAAAAAAAPDAlB81WZbl2yTPkjzJcS3vJb1O8jLJi8Ph8Mt9vsHs+TL5RyVmv38z5GsWZFmW75P8cOFQd45K8vxwOPy46kWT58ske75bZr9/s+S7syCn5v7c+voGliTf9f6mmT1fju8cX2+Y5y6/p/OdZPb7N1O+1v8HeZbrhctp1tMV18+eb5o93w2z379p8rUK8mS7LE1rZs6eb5o93w2z379p8rX+ibVsm+Vuh8Oh67fG7PmSfLNpkLbfei6a/f7NlM+pJlBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUWgVZdcbShbxace3s+abZ890w+/2bJl+rIC83DNKyZubs+abZ890w+/2bJl+rIC9yPEzrWpbTzF6z55tmz3fD7Pdvmnx3FuR0wtzzXCfkv0c//tr7gtnz5XjC4e1Gee5ymxXn885+/2bK13N49dMcD9X68sLBXuX4tvbT4OHG0+bLPg6vnvb+zZ4PAAAAAAAAAB6eD63EmvqjEpFPvvvrylcVZOo935HvXfKNaeZrfdz9JtcLl9OsmxXXy3dOvjHNfK2CzL7nW76xmfJ1zmwVZPY93/KNzZSvc2arIJf+g6jHmpnyjc2Ur3OmU02goCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKLQKMvueb/nGZsrXObNVkNn3fMs3NlO+zpmtgsy+51u+sZnydc581Lj4bY77ox9vFufcbZI3K66X75x8Y5r5HF7dJt+Yh5APAAAAAAAAAB6YXX/UZFmWb5M8S/Ikx7XBl/Q6ycskLw6Hwy/3+QbyjeXLBM/fbvekL8vyfZIftolzPirJ88Ph8OOqF8n336jcI18mef5aBblJ8vVmce72ezrfSU6/+X7Oh98BL2VJ8l3vb0L53h+ZFfky0fO31z3pz3K9H25Os56uuF6+c2vzTfP87XVP+pPNUlxmpnxjM6d5/va6J/3Sf1D2+HLFtfK9b02+aZ4/p5pAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUNjrnvRVZ2hdyKsV18r3vjX5pnn+9ron/eVmKS4zU76xmdM8f3vdk/4ix8PIrmU5zewl37m1+aZ5/loF+TPH4xiv5TYrzuc9ndD3PNf5If97dOavvS+Q78zqfJno+fsYDq9+muOhZGvOXerxKsd/Fvw0eDi0fDs+vBoAAAAAAAAAeNeuP2oS+eS7v497T3rke5d8Y5r5Wp/mvcn1wuU062bF9fKdk29MM99e96TLNzZTvs6Ze92TLt/YTPk6Z+51T7p8YzPl65zpVBMoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECnvdky7f2Ez5OmfudU+6fGMz5eucudc96fKNzZSvc+ajxsVvc9xv/XizOOduk7xZcb185+Qb08zn8Oo2+cY8hHwAAADAtfwDbK2ONrQZz3kAAAAASUVORK5CYII=\"\n  },\n  \"surprised\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFc0lEQVR4nO3dP25UVxQG8G8SpUFODWQBbMALiNiT3SC30Jg9Iei9ARbAnyYVogjFpJhBycR+h/d8543uNb9fmzHn07E+EyTrngQAAADowuYH//0syeMkj5L8duTZ35J8TfI5yZf7/AHb7fbPJJdJzpM8OV60JMmnJDdJrjebzdt7/hn2N/j+qoI8SfLHkUNN+ZDdQmfbbrcvkrxcJ87hqCRXm83m1cKvs7/9qAy8v6mCnCV5tlqcu73PzJ+E+598b/LjvwGPZZvk+YKfhPb3v5EZdH+/THz48bpZmmde5nTf3OxnXSz4vP0dGnZ/UwV5tGKQKUtmnq+W4jgz7a9tZjf7myrIsf9BNMeSmcf+B+UcTxd81v5uG3J/UwUBoiBQUhAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKEwV5NtJUyyfuegNqCP5uOCz9nfbkPubKsjXFYNMWTLzZrUUx5lpf20zu9nfVEE+rxhkypKZ19k9RnYq2/3Muezv0LD7myrIl+yeYzyVD1nwvuz+hb6rnOab/P3pzHcLvsb+/jX0/h7C49UX2T1KtuTdpTk+Zve/Ba9Hfny5Yn9t+wMAAAAAAACAn8/Qv2oS+eS7v4d9Jz3y/Zd8bSbzTf0271lOFy77WWcLPi/fIfnaTOYb9U66fG0z5Zs5c9Q76fK1zZRv5sxR76TL1zZTvpkzvWoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQGHUO+nytc2Ub+bMUe+ky9c2U76ZM0e9ky5f20z5Zs78deLDf2d33/r31eIc+pDkrwWfl++QfG0m83m8epp8bX6GfAAAAAAAAADwk/GrJtOa82232z+TXCY5z+6s8TF9SnKT5Hqz2by955/R9f7SQT530udZnG+73b5I8nKdOIejklxtNptXC7+u6/2lk3xTBTlL8my1OHd7n/k/abrOt/+b401+/Df0sWyTPF/wN0nX+0tH+dxJX2fmZU5XjuxnXSz4fO/76yafO+nrzDxfLcVxZva+v27yuZO+zsxj/4N8jqcLPtv7/rrJ51UTKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBArupK8zc+kbUMfwccFne99fN/ncSV9n5s1qKY4zs/f9dZPPnfR1Zl5n95jbqWz3M+fqfX/d5JsqyJfsnmM8lQ9Z9n5r1/n2Lxxe5TQl+f706LsFX9P1/tJRPo9XTzvW49UX2T3qtuTdqjk+Zve/Va89Xn0v7qQDAAAAAAAAwGJD/6qJO+T21+Bh30l3h/yA/bV5WHfS3SG/k/21eVB30t0hb5tpfzNnjnon3R3ytpn2N3PmqHfS3SFvm2l/M2d61QQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBwqh30t0hb5tpfzNnjnon3R3ytpn2N3PmqHfS3SFvm2l/M2cOeSfdHfJb7K/Nw7yT7g65/TVwJx0AAAAAAAAAFhv6V03SeT53yMf//g57Jz2d53OH/MCw398h76Sn83zukN9pyO/vqHfSe8/nDnnbzG7yjXonvfd87pC3zewm36h30nvP5w5528xu8nnVBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYHCqHfSe8/nDnnbzG7yjXonvfd87pC3zewm36h30nvP5w5528xu8g15Jz2d53OH/JZhv78er57mDnmbB//9BQAAAE7oHzt4fMP9uDtRAAAAAElFTkSuQmCC\"\n  },\n  \"silly\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGGElEQVR4nO3dMW4USRQG4Ne7IkHe2MABuAAHsLgTThApJHCb3RxB7gtwABuSjSwHi0RtMMOyI6YeXa7uoRh/X+qeeb9Q/2NGateLAAAAAIYwZT8spZxFxHlEPImIBwvP/hgRFxHxepqmd7d8j5OIOI2I+xFxb6lgW58j4iYiPkXE9S3fQ76OfCPcf9WClFKeR8TLhUPtHRURL6ZpetX4ugcR8WiFPPtcxuYftIV83zTnG+X+21uQbXPf1n6+ghIRTxt+k5xExOMV8+zzIeZ/Esr3vdn5Rrr/fqu84DwOFy62s541XH+6VpCFZsrXN3OY+69WkCfrZalqmXl/tRTLzJSvb+Yw91+tIEt/IZrjYcO1S3+hXHqmfH0zh7n/agUBQkEgpSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkKgVpPWMpSVcNVz7ebUUy8yUr2/mMPdfrSAXKwapaZl5s1qKZWbK1zdzmPuvVpDXsTlM61DKduZcn9YKstBM+fpmDnP/7S3I9oS5F3GYkF+Pfnzf8Jrr2BxneSiX0Xa+rHy7mvKNdP/NObz6WWwO1Wo5t2qOq9j8Wnvj8OpbOfp8v8D9BwAAAAAAAAB3zI8WJQ79KELIJ9/tzcqXFWToPdoh3//J16ear/a4+0kcLlxsZ500XC/fLvn6VPPVCjL6Hm35+mbKN3NmrSCj79GWr2+mfDNn1goy+h5t+fpmyjdzplNNIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEjUCjL6Hm35+mbKN3NmrSCj79GWr2+mfDNn1goy+h5t+fpmyjdz5u+Vi/+Jzf7oP1aLs+syIv5uuF6+XfL1qeZzeHWdfH3uQj4AAAAAAAAA4JtSylkp5a9SylVZ3tX2vc/kk++Xy1dKeb5CqH2+lFKeyyffL5OvbJr75UABv4ac3WT55DtUvtrfg5zHj5/0XdIUEc8arpdvl3x9qvlqBXmyXpaqlpny9c2Ub+bMvS0tpZR1s+w3TdOsTw359pOvz758TjWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIFEryMeDpti4arhWvu/J12dvvlpBLlYMUtMyU76+mfLNnFkryOvYrOE9lLKdOZd8u+Tr05rvv6MfD3G6Xc/RlPLJ91PyfQ15Vkr5s5RyuUKwy+179x5uLJ98PyUfAAAAAAAAANw9P1qJdRIRpxFxPyLuLTz7c0TcRMSniLi+5XvI15Fv+5jFeWz28z1YLlpEbB5Zv4iI19M0vbvNG4yQLyvIg4h4tHComsto/xsA+b5pzlc2D+i9XCfO7qiIeDFN06umFw2Sr1aQk4h4vFqk/T7E/E9C+b43O9/2k/ltHG7VcomIp3N/k4yUr/b3IKfr5umeKV/fzGH2kFcMk69WkPvrZalqmSlf38xh9pAvcO1S9s6sFWTpL5RztMyUr2/m0l9453jYcO0w+ZxqAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkCiVpDPB03RPlO+vpnD7CGvGCZfrSA3KwapaZkpX9/MYfaQL3DtUpr2pH9aMUhNy0z5+maOvod8mHy1glzH5jjLQ7mMtvNl5dvVlG97guCLOMxN+PVoz/dzXzBSPodX1x19vu0Rn89ic2hay7lVc1zF5r8tbzoPrx42HwAAAAAAAADcPR41qTv6fCPsIc+MkM+e9HmOLt8oe8irLxoknz3p8x1NvpH2kO+9eKB89qSvM3P0fMPsIa8YJp896evMHD3fMHvIF7h2KfakdzqmfMPsIa8YJp9TTSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBI2JO+zszR8w2zh7ximHz2pK8zc/R8w+whX+DapdiT3umY8g2zh7ximHz2pM9zVPlG2kO+z0j5HF5dd/T5Rt9DPno+AAAA4ID+BZBL4D8AYb8+AAAAAElFTkSuQmCC\"\n  },\n  \"fabulous\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFs0lEQVR4nO3dMXIURxQG4Dd2OaHkGOMDcADrACruJCWUUkjEbeycglw+AAdYQeKIIjBVtINZGa+18+jRzCw9q+9LWe37afHvomLpFwEAAAC0r5RyVkr5o5RyU+Z3s33uM/nkW12+UsrzBULt86WU8lw++VaTr/TN/XKggLchq5ssn3yHyvfDQMaLiOhqf0Mz6CLifMTj5dsl3zSD+YYKcrpclkFjZso3baZ8lTP3trSUUpbNsl/XdVWvGvLtJ980+/INvYMAoSCQUhBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSAwV5P1BU/RuRjxWvrvkm2ZvvqGCXC8YZMiYmfJNmylf5cyhglxFxCFvlijbmbXk2yXfNGPz/Xv14yFut5tyNaV88n2XfLchz0opv5dSNgsE22yfe+rlxvLJ913yAQAAAAAAAMDDk67E2v4z/EX0+9t+mXn2++g/QXnVdd2b+zxB6/ki4iQiHkfEo4j4aa5gW58j4lNEfIiIj/d5gtbPr4V8gwUp/Qe4Xswcau+oiLjsuu7lqC9qPF/039BfF8izzyZG/h+K1s+vlXxDSzzPIuL10K8voETEs9pXmtbzRf/O8XTBPPu8i8p3ktbPr6V89qTXGZvv8VJBZprZ+vk1k8+e9GVmPlosxTwzWz+/ZvLZkz5Cbb6I+G3RIMP+rHlQ6+fXUj63mkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQsCe93ph8nxdLMc/M1s+vmXz2pC8z89NiKeaZ2fr5NZPPnvQ6Y/N9WCrITDNbP79m8u0tyPaGucs4TMjbqx/f1n5B6/miv+Fws1CefTYx4n7e1s+vpXw1l1efR3+p1pOZg91E/7b2auLlxs3mi3VcXt3s+bWeDwAAAAAAAAAenm+txGr6oxIhn3z3V5UvK0jTe75Dvv+Sb5rBfEMfdz+Jw4WL7ayTEY+Xb5d80wzmGypI63u+5Zs2U77KmUMFaX3Pt3zTZspXOXOoIHP/QFRjzEz5ps2Ur3KmW00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSAwVpPU93/JNmylf5cyhgrS+51u+aTPlq5w5VJDW93zLN22mfJUzfxx48N/R74/+ebE4uzYR8deIx8u3S75pBvO5vHqYfNM8hHwAAAAAAAAA8MCs+qMmpZSziLiIiNPo1wbP6X1EXEfEVdd1b+75HM5v5ee32j3ppZTnEfFimTi7oyLisuu6lyO/zvltR8WKz2+oICcR8XSxOPu9i8pXwu0r3+v49jvgXEpEPBvxSuj8/jcyVnp+a92TfhGH++bGdtb5iMc7v12rPb+17kk/XSzFPDOd37SZzZzfWvekz/0DZY0nIx7r/O5a5fm51QQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBxFr3pI+6A2omNyMe6/zuWuX5rXVP+vViKeaZ6fymzWzm/Na6J/0q+svIDqVsZ9ZyfrtWe35DBfkY/XWMh7KJEffLbm/ou4zDfJNvr858O+JrnN9Xqz6/Y7i8+jz6S8nG3LtU4yb6vxa8WvPlyxnnZ086AAAAAAAAAIxzDB81aXbPt3z2pM/l6PZ8y/d1VNiTPouj2fMt392RYU/6ZMe051u+Xfakz+CY9nzLN21mM3/+7EmvN+b/S8h3lz3pcGwUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJe9LrjdnzLd9d9qRPdEx7vuWbNrOZP3/2pNcZu+dbvl32pE90VHu+5dthT/o9Hf2eb/nsSQcAAABm8g/9piLdiLW0aAAAAABJRU5ErkJggg==\"\n  },\n  \"meh\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFn0lEQVR4nO3dMW4UWRAG4OpdbYJMzLIH4ADrAyDuZCfIKSTmTghy7wE4gA3JRohgCXqDGSQs5hWv3d1Dtf19KT2uX2/0e4w0ehUBAAAAlDBk/ziO4/OIOI+I04j4c+HZHyPiKiIuh2F4d5cfUD1fRJxExJOIeBQRfywVbO9rRHyJiE8R8fkuP6D6+VXI1yzIOI4vI+LVwqEOjoqIi2EYXk96UfF8sXtD/1ohzyHXsXvDu1U/vyr5DhZk39y3rX9fwRgRL3p/01TPF7tPjmcr5jnkQ3R+klQ/v0r5fmu84DyOFy72s84mPF8935O1giw0s/r5lcnXKsjpelmapsysnu/RaimWmVn9/Mrka/2JNa6b5bBhGLp+a1TPFxF/rxqk7Z+eh6qfX6V8rU8QIBQEUgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAolWQSbdsbSQmwnPVs/3dbUUy8ysfn5l8rUKcrVikJYpM6vn+7JaimVmVj+/MvlaBbmM3WVaxzLuZ/aqnu/TWkEWmln9/MrkO1iQ/Q1zF3GckN+ufnzf+4Lq+WJ3w+H1SnkOuY4J9/NWP79K+Xourz6L3aVaTxcOdhO7j7U3My83LpsvtnF5ddnzq54PAAAAAAAAAB6en63EKv1ViZBPvrvrypcVpPSe75Dve/LN08zX+rr7SRwvXOxnnUx4Xr7b5Junma9VkOp7vuWbN1O+zpmtglTf8y3fvJnydc5sFWTp/xD1mDJTvnkz5euc6VYTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBKtglTf8y3fvJnydc5sFaT6nm/55s2Ur3NmqyDV93zLN2+mfJ0zf288/F/s9kc/Xi3ObdcR8e+E5+W7Tb55mvlcXt0m3zwPIR8AAAAAAAAAPDC+atJ27/ON4/g8Is4j4jR2a5eX9DEiriLichiGd3f8Gb/8/OxJ73Pv8o3j+DIiXq0T5/aoiLgYhuH1xNeVOL9WQU4i4tlqcQ77EP2/CeX7UXe+/SfH2/j5XxBLGSPixYRPkjLnZ0/6OjOr5zuP45Uj9rPOJjxf5vzsSV9nZvV8p6ulWGZmmfOzJ32dmdXzLf0f8h5PJzxb5vzcagIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAwp70dWZWzzf1jq8l3Ex4tsz52ZO+zszq+a5WS7HMzDLnZ0/6OjOr57uM3WVuxzLuZ/Yqc36tgnyO3XWMx3Id0+6Xle+2Sfn2NxxexHFK8u3q0fcTXlPm/Fxe3Xbv8+2vID2L3aVuU+6t6nETuz+r3mz58moAAAAAAAAA4Hu+atJmD/k89+L9tSe9jz3k82z2/bUnvZ895PNs8v21J32dmfaQz5tZJp896evMtId83swy+exJX2emPeTzZpbJ51YTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBL2pK8z0x7yeTPL5LMnfZ2Z9pDPm1kmnz3p68y0h3zezDL57EnvYw/5PJt9f11e3WYP+Tz3/v0FAAAAAAAAgIdn0181sYf83n+V45fn2+yedHvIb9nsHvJEiXyb3JNuD/lBm9xD3lAm31b3pNtDPm+mfJ0zt7on3R7yeTPl65y51T3p9pDPmylf50y3mkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQ2OqedHvI582Ur3PmVvek20M+b6Z8nTO3uifdHvJ5M+XrnLnJPen2kP9gs3vIG8rkuw+XV9tDvuHLoX+iej4AAADgWP4HgkqdvpUqExIAAAAASUVORK5CYII=\"\n  },\n  \"tshirt\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF1ElEQVR4nO3dMW4UWRAG4OqVSCxyAwfgAMsBLO4ECXIKCdxmN0eQswfYA9jrHDmxxNugx2gtpovu6e6hpvf7UsZTv9rvt0EaXkUAAAAAJXTZH7bWLiLidUS8iIgnC8/+JyK+RMT7rus+HfIG1fNFxOOIOI+Is4h4tFSwnbuIuI2Im4j4esgbVH9+FfINFqS19iYi3i4cau+oiLjsuu7dpC8qni/6b+izFfLscxX9N3y06s+vSr69Bdk19+PQn6+gRcTLsT9pqueL/jfH8xXz7PN3jPxNUv35Vcr328AXvI7jhYvdrFcTXl893/laQRaaWf35lck3VJAX62UZNGVm9Xxnq6VYZmb151cm39Bfsdq6Wfbrum7UT43q+SLi91WDDPtrzIuqP79K+YZ+gwChIJBSEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIDBVk0h1LC7me8Nrq+e5WS7HMzOrPr0y+oYJ8WTHIkCkzq+e7XS3FMjOrP78y+YYK8j76y7SOpe1mjlU9381aQRaaWf35lcm3tyC7G+Yu4zgh769+/Dz2C6rni/6Gw6uV8uxzFRPu563+/CrlG3N59avoL9V6unCw6+h/rX2Yeblx2XxxGpdXl31+1fMBAAAAAAAAAA+01i5aa3+21q7b8q53730hn3wnl6+19maFUPt8a/1ObPnkO418rW/utyMFvA85usnyyXesfPakjyPfPCebz570dWbKN29mmXz2pE8g3zynmM+tJpBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgk7EkfT755TjKfPenrzJRv3swy+exJH0e+ebaW7/vVj8e43W7O1ZTyyfdL8t2HvGit/dFau1oh2NXuvedebiyffL8kHwAAAAAAAAD8//xsJdbjiDiPiLOIeLTw7LuIuI2Im4j4esgb7D4m8Dr6/XJPlosWEf1Hrr9ExPuu6z4d8gbyzcsXBc5fVpAnEfFs4VBDrmLi/wFo/QfM3q4T5+GoiLjsuu7dpC+S7/uoOCBfFDl/QwV5HBHPV4uz398x8jfJ7iffxzjequAWES/H/iSU78eRMSFfFDp/Q/8f5HzdLLNnltmjPUC+h6bmK3P+hgpytmKQIVNmltmjvcBrl7KlfGXO31BBlv4H0RhTZi79D8oxnk54rXw/mpKvzPlzqwkkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCiaGC3B01xfSZZfZoD5DvR1PylTl/QwW5XTHIkCkzy+zRXuC1S9lSvjLnb6ggNysGGTJlZvU92vI9NDVfmfM3VJCv0V/HeCxXMeF+3t0NfZdxnG/y/dWZn8d+gXwPTM4Xhc7fFi6vfhX9pWRT7l0a4zr6vxZ8mHk5tHwnfHk1AAAAAAAAAPBfW/ioSdk93/LZk74Ue9IPt8l8UeT82ZM+zqb2kFfPF4XOnz3p42xtD3n1fGXOnz3p68yUb97MMufPnvTxtrSHvHq+MufPrSaQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJOxJH29Le8ir5ytz/uxJX2emfPNmljl/9qSPs7U95NXzlTl/9qT/3Ob2kFfPF4XO3xYury6751s+e9IBAAAAAAAAYFu28FGTsnu+5bMnfSn2pB9uk/miyPmzJ32cTe0hr54vCp0/e9LH2doe8ur5ypw/e9LXmSnfvJllzp896eNtaQ959Xxlzp9bTSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBI2JM+3pb2kFfPV+b82ZO+zkz55s0sc/7sSR9na3vIq+crc/7sSf+5ze0hr54vCp2/LVxeXXbPt3z2pAMAAAAL+RdTjm3JtMq/IQAAAABJRU5ErkJggg==\"\n  },\n  \"rollerskate\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyUlEQVR4nO3dMW4USRQG4NcrkVjObTgAF+AAFneCBDmFBG6zmyPIuQAHsNe55cQStcGMQbN2Pbrc3ePq4ftSZub9KvgHjzSuFwEAAAB0YfjNnx9HxElEHEXEs5ln30bETURcRcT1I19Dvgn5SilnEfE2Il5FxOl80SIi4t+I+BYRH4dh+PKYF+ghX1aQ04h4MXOomovYBG4h3y/N+Uop7yLi/TJxdkdFxPkwDB+antRJvlpBjiPi5WKRHvY9xr8Tynff6Hzbd+bP8fufIOZSIuL12P9Jesr3V+UJJ8vmmTxTvmkz38b+/vHFdtabhsd3k69WkKPlslS1zJRv2sxXi6WYZ2Y3+WoFmfsD5RgtM+WbNnPuD7xjPG94bDf5agUBQkEgpSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkKgV5HavKdpnyjdtZusdX3O4bHhsN/lqBblZMEhNy0z5ps38tliKeWZ2k69WkKsFg9S0zJRv2syPsbksbV/KduZY3eSrFeQ6NtdZ7stFtN0vK9+upnzbGwTPYz//CO+u9vw69gk95XN5dd3B59te8fkmNpemtdxbNcZlbH5s+TTx8upu8wEAAAAAAADAn8dXTeoOPl8Pe8gzPeSzJ32cg8vXyx7y6pM6yWdP+ngHk6+nPeQPPrijfPakLzOz93zd7CGv6CafPenLzOw9Xzd7yGd47FzsSZ/okPJ1s4e8opt8bjWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIGFP+jIze8/XzR7yim7y2ZO+zMze83Wzh3yGx87FnvSJDilfN3vIK7rJZ0/6OAeVr6c95A/pKZ/Lq+sOPl/ve8h7zwcAAAAAAAAA7CilnJVS/imlXJb5XW5f+0w++VaXr5TyboFQD/lRNjux5ZNvHfnKprk/9hTwLuToJssn377y1b7u3s2e6gr5dsk3TfOe9G72VM/w2LnIN80q8z3Y0lLKPn+b66dhGEa9a8j3MPmmeSifW00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSNQK0s2e6gr57pNvmqY96d3sqZ7hsXORb5pV5qsVpJs91RXy7ZJvmtZ8P69+3MftdlOuppRPvifJdxfyrJTydynlYoFgF9vXnnq5sXzyPUk+AAAAAAAAAGBH6XlPtXzyPWW+0vOeavnke8p8paM91fLJ95T57EkfR75pVpvPnvRlZso3bWY3+exJbyDfNGvM51YTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBL2pI8n3zSrzGdP+jIz5Zs2s5t89qSPI980h5av/z3V8sn3lPnuQp6VjvdUyyffU+YDAAAAAAAAgD/P71ZiHUfESUQcRcSzmWffRsRNRFxFxPVjXmD7NYG3sdkvdzpftIjYfOX6W0R8HIbhyyNfw/mt/PyygpxGxIuZQ9VcROPvAJTNF8zeLxNnd1REnA/D8KHxec5vOypWfH61ghxHxMvF4jzse4x8J9y+832O/a0KLhHxuuGd0Pn9b2Ss9Pxqvw9ysmyWyTO72aNd4fx2rfb8agU5WjBITcvMbvZoVzi/aTO7Ob9aQeb+QDRGy8y5P1CO8bzhsc7vvlWen1tNIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEjUCnK71xTtM7vZo13h/O5b5fnVCnKzYJCalpnd7NGucH7TZnZzfrWCXC0YpKZlZu97tJ3frtWeX60g17G5jnFfLqLhftntDX3nsZ+/5LurM782PMf5/bLq8zuEy6vfxOZSspZ7l8a4jM2PBZ/WfPlyxvlNOz8AAABgj/4DKpNLjifM3PsAAAAASUVORK5CYII=\"\n  },\n  \"duck\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFW0lEQVR4nO3dMXIcVRQF0DdQJC4R27AAFoAXQLEnO6GcQmL2REFuFsACZJwQuRzgYAhGYKZm/tP/+t1Tr0fnpG7p36ruK1tlqW8EAAAAUMLunj+/iYinEfEkIr5Y+OyPEfEhIt5FxPuHfIL9fv9dRLyMiOcR8Wy5aBER8WdEvImI17vd7teHfILq+aL4/Y0C+bKCPIuIrxcO1XIbhxvebb/f/xARP64T5/ioiHi12+1+Gvqg4vmi+P2NIvlaBbmJiG9Wi3PeH9H5lebuK/Mvcf/fgEvZR8T3vV+pq+eL4vc3CuX7rHHx03WzTJ/5Mi738MXdWS8Grq+er/r9LZOvVZAnKwZpGTnz+Wopljmzer7q97dMvlZBlv6GqMfImUt/w9vjq4Frq+erfn/L5GsVBAgFgZSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkCiVZCPF00xfuboO5aW8Hbg2ur5qt/fMvlaBfmwYpCWkTPfrJZimTOr56t+f8vkaxXk3YpBWkbOfB2Hl6Vdyv7uzF7V81W/v2XytQryPg6vY7yU2xh4f+vdGwRfxWUewn9f7flb7wdUzxfF728UyncNL69+EYeXpo28F6rH2zj8s+XnyZdXl80Xxe9v1M8HAAAAAAAAAI9M+qMm1Xe+5bOTPmFuJ736zrd8n44KO+mzxnbSq+98y3d6ZNhJnzW0k15951u+Y3bS5w3tpFff+ZZv7swyO+QLXLuUoZ306jvf8p2ykz7HTjqMUhBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJFoFqb7zLd8pO+lzhnbSq+98yzd3Zpkd8gWuXcrQTnr1nW/5jtlJn9e/k15951u+I3bS5z1sJ736zrd8dtIn2EkHAAAAAAAAgGH3DU2W/q/+6jvk8m0/X1aQEjvVLdV3yOX7dFRsOF+rIGV2qs+pvkMu3+mRsdF8rd8HKbNT3VB9h1y+Y5vN1ypImZ3qhuo75PLNnVkmX6ul364YJPN7z0X7/f6Sv633n91u1/VVTb7ztpjPW00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSLQKUmanuqH6Drl8pzaZr1WQMjvVDdV3yOWbO7NMvlZByuxUN1TfIZfv2GbztQpSZqf6nOo75PId2XS+a3h5ddkdcvmuOx8AAAAAAAAAPD7X8KMmdr6vNF8UeP7spHccFRve+W5+UPF8UeT5s5PeZ7M732cvLp4vCj1/dtL7bHbnu6F6vjLPn530dc6Ub+7MMs9fqyBLf0PUY+TMpb+h7DHy+wjynRrJV+b581YTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBJ20vttcue7oXq+Ms+fnfR1zpRv7swyz5+d9D6b3fluqJ6vzPNnJ/1+m975Pqd6vij0/F3Dy6vL7mjLN71DXvr5AwAAAAAAAIDHZ9M/ahLyyfdw172THvL9n3xzmvlaP817E5cLF3dn3QxcL98x+eY08211J12+uTPl6zxzqzvp8s2dKV/nmVvdSZdv7kz5Os/0VhNIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEElvdSZdv7kz5Os/c6k66fHNnytd55lZ30uWbO1O+zjM/b1z8dxz2rb9cLc6x24j4a+B6+Y7JN6eZz8ur2+Sb8xjyAQAAAJfyD92s8bBtlgWFAAAAAElFTkSuQmCC\"\n  },\n  \"house\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF90lEQVR4nO3dMW4UWRAG4JqVSJBzGw7ABTiAxZ0gQaSQwG12cwQ5F+AA9jq3nCDxNpgBduR55W5391Btvi9lPPXr0b+NpeFVBAAAAFDC5o4/P4mI04h4HBGPZp79LSJuIuIqIq7v+R6l87XWziPiVUQ8j4iz+aJFRMS/EfElIt5vNptP93yP0ucXBfJlBTmLiKczh+q5iO1f+Bil87XWXkfE22Xi7I+KiDebzebdyK8rfX5RJF+vICcR8WyxOId9jeHfaUrn2/3k+Bh3/4SeS4uIFyN+kpQ+vyiU76/Oi0+XzTJ5ZvV8r+J45YjdrJcjXl/9/Mrk6xXk8YJBesbMrJ7v+WIp5plZ/fzK5OsVZO5fiIYYM7N6vrl/IR/iyYjXVj+/Mvl6BQFCQSClIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQ6BXk21FTjJ9ZPd/YO6DmcDnitdXPr0y+XkFuFgzSM2Zm9XxfFksxz8zq51cmX68gVwsG6Rkzs3q+97G9zO1Y2m7mUNXPr0y+XkGuY3sd47FcxLj7W0vn291w+CaOU5IfV49+HvE1pc8vCuVzeXXfXJdXv4ztpW5j7q0a4jK2/6z64PLqe5kjHwAAAAAAAAD8YVb9UZPqe8jlW/8e99XuSa++h1y+X6NixXvcV7knvfoecvluj4yV7nFf65706nvI5du32j3ua92TXn0PuXzTZpZ5/ta6J736HnL5blvlHne3mkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQWOue9Op7yOW7bZV73Ne6J736HnL5ps0s8/ytdU969T3k8u1b7R73Ve5Jr76HXL49q97j/hAury67h1y+B7/HHQAAAAAAAAD4pbV23lr7p7V22eZ3uXvvc/nkW12+1trrBUId8r1td3bLJ9868rVtc78fKeCPkIObLJ98x8rX+7h79T3a8u2Tb5puvl5Bqu/Rlm/aTPkGzjzY0tbaMf+32U+bzWbQdw35DpNvmkP53GoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQKJXkOp7tOW7Tb5pDubrFaT6Hm35ps2Ub+DMXkGq79GWb59804zN9/Pqx2Pcbjflakr55Pst+X6EPG+t/d1au1gg2MXuvadebiyffL8lHwAAAAAAAAD8ee5aiXUSEacR8TgiHs08+1tE3ETEVURc3+cNdh8TeBXb/XJn80WLiO1Hrr9ExPvNZvPpPm8g37R8UeD5ywpyFhFPZw7VcxEj/w9A237A7O0ycfZHRcSbzWbzbtQXyfdzVNwjXxR5/noFOYmIZ4vFOexrDPxJsvvO9zGOtyq4RcSLod8J5bs9Mkbki0LPX+//g5wum2XyzDJ7tDvk2zc2X5nnr1eQxwsG6Rkzs8we7RleO5eHlK/M89cryNy/EA0xZubcv1AO8WTEa+W7bUy+Ms+fW00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSPQK8u2oKcbPLLNHu0O+28bkK/P89Qpys2CQnjEzy+zRnuG1c3lI+co8f72CXC0YpGfMzOp7tOXbNzZfmeevV5Dr2F7HeCwXMeJ+3t0NfW/iOH/JP67O/Dz0C+TbMzpfFHr+HsLl1S9jeynZmHuXhriM7T8LPky8HFq+FV9eDQAAAAAAAAD830P4qIk9387vPuxJn8mq93z3OL899qRPtNo934c4v4PsSZ9gtXu+O5zfwJn2pC8z0/lNm1nm/OxJH26Ve747nN/AmW41gYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSBhT/pwq9zz3eH8Bs60J32Zmc5v2swy52dP+jCr3fPd4fwGzrQn/W6r3vN9iPO7xZ70e3jwe76dnz3pAAAAsBr/ATSEGnDLtmOQAAAAAElFTkSuQmCC\"\n  },\n  \"tortoise\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF7ElEQVR4nO3dMY5cxRoF4NMgEmuIbVgAG2ABFnuyE+QUErObR44g9wZYwAxOiCwHWKJe0G3z+s3U71tT3c29nu9Lfbv/o5p7etzSnaoEAAAAWIXdR/79KsnjJI+SfHHi2e+SvE3yOsmbe76HfPLd16J8VUGeJPn6xKF6rpP8Mfga+f4h35xuvs86L7jK5cLlMOtq4Hr5jsk3p5uvV5DH58vSNTJTvrmZ8i2c2SvIozMG6RmZKd/cTPkWzuwV5NRfiJYYmSnf3Ez5Fs7sFQSIgkBJQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGg0CvIu4umGJ8p39xM+RbO7BXk7RmD9IzMlG9upnwLZ/YK8vqMQXpGZso3N1O+hTM/71z8V5KW5MuzxTl2neTPgevlOybfnG4+m1f3yTfnIeQDAAAAAAAAgAdm04+atNaeJnme5Nvsjw0+pT+SvErycrfb/XqfN5BvLl9WcP9t9pz01tr3SX44T5zjUUle7Ha7H4deJN+HUblHvqzk/usV5CrJN2eLc7ffs/A3yeGT75d8/DfgqbQk3y39JJTv9sgM5MuK7r+tnpP+PJf74eYw69nA9fIdG823mvtvq+ekf3u2FKeZKd/czNXcf1s9J/3UXyiX+GrgWvluG8m3mvvPriZQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFLZ6TvrQHloncjNwrXy3jeRbzf231XPSX50txWlmyjc3czX331bPSX+Z/WZkl9IOM5eS79hovtXcf72CvMl+O8ZLuc7A/ryHHfpe5DI/5PdbZ/629AXyHRnOlxXdf5/C5tXPst+UbGTfpSVusv9vwU+Tm0PLt+HNqwEAAAAAAACAxVprT1trP7fWbtrp3Rze+6l88m0uX2vt+zOEusvfbX9mt3zybSNf2zf37wsFfB9ycZPlk+9S+XqPu6/9HG35jsk3p5uvV5C1n6Mt39xM+RbOvLOlrbVL/rXZB7vdbtGnhnx3k2/OXfnsagIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAoVeQtZ+jLd9t8s25M1+vIGs/R1u+uZnyLZzZK8jaz9GW75h8c0bzfdj68RK7281sTSmffP9Kvvchn7bW/tNauz5DsOvDe89ubiyffP9KPgAAAAAAAAB4eD52JNZVksdJHiX54sSz3yV5m+R1kjf3eYPDYwLPsz9f7snpoiXZP3L9KsnL3W736z3fw/ptfP2qgjxJ8vWJQ/VcZ/BvANr+AbMfzhPneFSSF7vd7sfB11m/w6hseP16BblK8s3Z4tzt9yz8JDx88v2Syx0V3JJ8N/BJaP3+b2Q2un69vwd5fN4s0zNXc452h/U7ttn16xXk0RmD9IzMXM052h3Wb27matavV5BTfyFaYmTmqb9QLvHVwLXW77ZNrp9dTaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAo9Ary7qIpxmeu5hztDut32ybXr1eQt2cM0jMyczXnaHdYv7mZq1m/XkFenzFIz8jMtZ+jbf2ObXb9egV5k/12jJdynYH9ZQ879L3IZX7I77fO/G3gNdbvH5tev09h8+pn2W9KNrLv0hI32f+34Kctb75csX5z6wcAAAAAAAAAD8+mHzWJfPLd36d9Tnrk+1/yzenm6z3Ne5XLhcth1tXA9fIdk29ON99Wz0mXb26mfAtnbvWcdPnmZsq3cOZWz0mXb26mfAtn2tUECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgcJWz0mXb26mfAtnbvWcdPnmZsq3cOZWz0mXb26mfAtnft65+K/sz7f+8mxxjl0n+XPgevmOyTenm8/m1X3yzXkI+QAAAIBL+S+Xv8exkeeOeAAAAABJRU5ErkJggg==\"\n  },\n  \"butterfly\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGqElEQVR4nO3dQW5TSRSF4VMtZRJlnsACWAAswGJPyQRlCpOwG5gjmMMCWIBN5lEmkXJ7UM+0on51u8qv6uW6+b9pYt+jio4dhHNLAgAAAAAAISTvi2a2kXQl6Y2ki86zf0n6LukmpfT1kCeInk/SmaRzSaeSTnoFmzxIupd0K+nukCeIfn4R8hULYmbvJL3vHGp2lKTrlNKHpgcFz6f8A305IM+crfIPvFr084uSb7YgU3O/lL4+gEl6W/tKEz2f8jvHq4F55vxU5TtJ9POLlO+vwgOutF44TbMuG74/er7zUUE6zYx+fmHylQryZlyWopaZ0fOdDkvRZ2b08wuTr/Qrlo3NMi+lVPWqET2fpNdDg5T9qPmm6OcXKV/pHQSAKAjgoiCAg4IADgoCOCgI4KAggIOCAA4KAjgoCOCgIICDggAOCgI4KAjgoCCAg4IADgoCOCgI4KAggKNUkKYdS53sGr43er6HYSn6zIx+fmHylQryfWCQkpaZ0fPdD0vRZ2b08wuTr1SQG+VlWmuxaWat6PluRwXpNDP6+YXJN1uQacPctdYJuV/9+K32AdHzKW843A7KM2erhv280c8vUr6a5dWXyku1XnQOtlN+W/u4cLlx2Hw6juXVYc8vej4AAAAAAAAAAAAAAPCEmW3M7LOZ7ay/3fTcG/KR7+jymdm7AaHmPFq+E5t85DuOfJab+7hSwH3I6iaTj3xr5eOe9DrkW+Zo83FP+piZ5Fs2M0w+7klvQL5ljjEfW00ABwUBHBQEcFAQwEFBAAcFARwUBHBQEMBBQQAHBQEcFARwUBDAQUEABwUBHBQEcFAQwEFBAAcFARwUBHBwT3o98i1zlPm4J33MTPItmxkmH/ek1yHfMv+3fL9XP66x3W7Jakryke9Z8u1Dbszsk5ltBwTbTs+9dLkx+cj3LPkAAAAAAAAAAAAAAPjz/NeVWGeSziWdSjrpPPtB0r2kW0l3Bz5H6HzTxxiulO+/u+gXTVL+SPh3STcppa8HPkfo81OAfF5BLiS97ByqZKv2vwEInc/yB+Dej4nzdJSk65TSh8bHhT4/BclXKsiZpFfD4sz7qfpXmtD5pneOL1rvKmOT9LbhnST0+SlQvtLfg5yPzbJ4ZvR8Ye75Loh+fmHylQpyOjBIScvM6PnC3PNdEP38wuQrFaT3P4hqtMyMnq/3P8hrvGj43ujnFyYfW00ABwUBHBQEcFAQwEFBAAcFARwUBHBQEMBBQQAHBQEcFARwUBDAQUEABwUBHBQEcFAQwEFBAAcFARwUBHCUCvKwaor2mdHzhbnnuyD6+YXJVyrI/cAgJS0zo+cLc893QfTzC5OvVJDbgUFKWmZGzxf9nu/o5xcmX6kgd8rrGNeyVdv+1tD5pg2H11qnJPvVo98aHhP6/BQoH8ury3otr75UXurWsreqxk7516qPLK8+SI98AAAAAAAAAAAAAADgH2a2MbPPZraz/nbTc2/IR76jy2dm7waEmvNo+U5x8pHvOPJZbu7jSgH3IaubTD7yrZWv9HH36Pd8k+8p8i1TzFcqSPR7vsm3bCb5KmfOttTM1vxruN9SSlWvGuSbR75l5vKx1QRwUBDAQUEABwUBHBQEcFAQwEFBAAcFARwUBHBQEMBBQQAHBQEcFARwUBDAQUEABwUBHBQEcFAQwEFBAEepINHv+Sbfv5Fvmdl8pYJEv+ebfMtmkq9yZqkg0e/5Jt9T5FumNd/v1Y9rbLdbspqSfOR7lnz7kBsz+2Rm2wHBttNzL11uTD7yPUs+AAAAAAAAAAAAAAD+PO6VWNN/w18p39920Xn2L+VPUN6klL4e8gTR80k6k3Qu6VTSSa9gkwdJ95JuJd0d8gTRzy9CvmJBLH+A633nULOjJF2nlD40PSh4PuUf6MsBeeZs1fg3FNHPL0q+0iWeG0lfSl8fwCS9rX2liZ5P+Z3j1cA8c36q8p0k+vlFysc96XVa852PCtJpZvTzC5OPe9LHzDwdlqLPzOjnFyYf96Q3qM0n6fXQIGU/ar4p+vlFysdWE8BBQQAHBQEcFARwUBDAQUEABwUBHBQEcFAQwEFBAAcFARwUBHBQEMBBQQAHBQEcFARwUBDAQUEABwUBHNyTXq8l38OwFH1mRj+/MPm4J33MzPthKfrMjH5+YfJxT3qd1ny3o4J0mhn9/MLkmy3ItGHuWuuE3K9+/Fb7gOj5lDccbgflmbNVw37e6OcXKV/N8upL5aVaLzoH2ym/rX1cuNw4bD4dx/LqsOcXPR8AAAAAAFjR37pFnk41Gl9cAAAAAElFTkSuQmCC\"\n  },\n  \"stickfigure\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+UlEQVR4nO3dMW5TWRQG4OORaKL0CSyADbCAiD1Bg9JCA7uZ6RH0bIAFJJM+ShOJO4UdZjL4Ht7LfTbH4ftaHJ9fF/9xIjn3RAAAAAAlrH7y78cRcRIRRxHxZOHZtxFxExFXEXH9wOcona+1dhYRryPiRUScLhctIiL+jogvEfF+tVp9euBzlD6/KJAvK8hpRDxbOFTPRaz/w+cona+19iYi3u4mzv1REXG+Wq3ezfy60ucXRfL1CnIcEc93Fme7rzH9O03pfJt3jo/x83fopbSIeDnjnaT0+UWhfH90Hnyy2yzDM6vnex37K0dsZr2a8fjq51cmX68gRzsM0jNnZvV8L3aWYpmZ1c+vTL5eQZb+hWiKOTOr51v6F/Ipns54bPXzK5OvVxAgFARSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCiV5BbveaYv7M6vnm3gG1hMsZj61+fmXy9Qpys8MgPXNmVs/3ZWcplplZ/fzK5OsV5GqHQXrmzKye732sL3Pbl7aZOVX18yuTr1eQ61hfx7gvFzHv/tbS+TY3HJ7Hfkpyd/Xo5xlfU/r8olA+l1f3LXV59atYX+o2596qKS5j/WPVB5dXP8gS+QAAAAAAAACAf7XWzlprf7XWLtvyLjfPfSaffAeXr7X2ZgehtvnW1jvF5ZPvMPK1dXO/7SngXcjJTZZPvn3l633cvfqeb/nuk29MN1+vINX3fMs3NlO+iTO3trS1ts+/hvtutVpN+q4h33byjdmWz60mkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCR6Bam+51u+H8k3Zmu+XkGq7/mWb2ymfBNn9gpSfc+3fPfJN2Zuvu9XP+7jdruRqynlk++X5LsLedZa+7O1drGDYBeb5x693Fg++X5JPgAAAAAAAAD4/fxsJdZxRJxExFFEPFl49m1E3ETEVURcP/A5SufbfIzhdaz3350uFy0i1h8J/xIR71er1acHPkfp84sC+bKCnEbEs4VD9VzE/L8BKJ2vrT8A93Y3ce6Piojz1Wr1bubXlT6/KJKvV5DjiHi+szjbfY3p32lK59u8c3yM/a0ybhHxcsY7Senzi0L5en8PcrLbLMMzq+crs+e7o/r5lcnXK8jRDoP0zJlZPV+ZPd8d1c+vTL5eQZb+hWiKOTOr51v6F/Ipns54bPXzK5PPrSaQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJHoFud1rivkzq+crs+e7o/r5lcnXK8jNDoP0zJlZPV+ZPd8d1c+vTL5eQa52GKRnzszq+arv+a5+fmXy9QpyHevrGPflIubd31o63+aGw/PYT0nurh79PONrSp9fFMrn8uq+pS6vfhXrS93m3Fs1xWWsf6z64PLqB1kiHwAAAAAAAAD8Zg76oyb2kDu/AY97T7o95Pc4vzGPa0+6PeRbOb8xj2pPuj3kYzOd38SZh7on3R7ysZnOb+LMQ92Tbg/52EznN3GmW00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSBzqnnR7yMdmOr+JMw91T7o95GMznd/EmYe6J90e8rGZzm/izIPck24P+Q+c35jHuSfdHnLnN8CedAAAAAAAAACYLf2oiT3awx9FkO/A97h3C2KP9j2z95CHfP91sHvctxbEHu2tJu8hD/m2Ocg97r2Pu9ujPTZTvrGZZV5/vYLYoz02U76xmWVef72C2KM9NlO+sZllXn9uNYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEg0SuIPdpjM+Ubm1nm9dcriD3aYzPlG5tZ5vXXK4g92mMz5RubWeb1t7Ug9mj/YNYe8pDv/w52j/uUy6vt0X6kl0NH8XwH8PoDAAAA9uUf0jPoA1IKTsUAAAAASUVORK5CYII=\"\n  },\n  \"ghost\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFt0lEQVR4nO3dMW4USRQG4NcrkVjObTgAF+AAFnfCCXIKCdxmN0eQcwEOYOPccmKJ2mDGXkYz/eh2dc9Uz35fynjer0f/47XWVEUAAAAATej+8OenEXEWEScR8WLi2Q8RcR8RtxFx95w3KKVcRMRlRLyJiPPpokVExM+I+B4Rn7qu+/qcN5CvLl808PxlBTmPiFcTh+pzHauFDlZKeR8RH+aJszkqIq66rvs46ovkexoVz8gXjTx/fQU5jYjXs8XZ7UcM/E6y/uT7En/+DjiVEhFvh34Syrc9Mkbki4aev796Xnw2b5bqmZexv7/cWM96N+L18m0am6+Z56+vICczBukzZuab2VJMM1O+upnNPH99BZn6B6Ihxsyc+gfKIV6OeK1828bka+b56ysIEAoCKQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgURfQR72mmL8zFFnaE3kZsRr5ds2Jl8zz19fQe5nDNJnzMzvs6WYZqZ8dTObef76CnI7Y5A+Y2Z+itVhZPtS1jOHkm/T2HzNPH99BbmL1XGM+3IdI87nXZ/QdxX7+Ut+PDrz29AvkG/D6HzR0PN3DIdXv4vVoWRjzl0a4iZW/1nwufJwaPkWfHg1AAAAAAAAAPC79FdN3KN93Pe4h/39cX+9BXGP9oaju8c97O9pVCT721kQ92jvdDT3uIf9bY2Mnv31/bq7e7TrZtpf3cxm9tdXEPdo1820v7qZzeyvryDu0a6baX91M5vZn1NNIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEj0FcQ92nUz7a9uZjP76yuIe7TrZtpf3cxm9tdXEPdo1820v7qZzexvZ0Hco73lqO5xD/v7Xbq/IYdXu0f7SO9xD/ur3R8AAAAAAAAA8J9SykUp5Z9Syk2Z3s36vS/kk29x+Uop72cItcuvsroTWz75lpGvrJr7a08BH0MObrJ88u0r31LvSZdvk3x1ju6edPnqZso3cObOlpZS9vmvuZ50XTfoU0O+3eSrsyufU00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCz1nnT5tslX56juSZevbqZ8A2cu9Z50+TbJV2dsvqejH/dxul3N0ZTyyXeQfI8hL0opf5dSrmcIdr1+79rDjeWT7yD5AAAAAAAAAIANpeV7quWT75D5Ssv3VMsn3yHzlYbuqZZPvkPmc0/6MPLVWWw+96TPM1O+upnN5HNP+gjy1VliPqeaQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBwT/pw8tVZZD73pM8zU766mc3kc0/6MPLVObZ87d9TLZ98h8z3GPKiNHxPtXzyHTIfAAAAAAAAAPz/pFdirf83/GWs7m87n3j2z1j9BuWnruu+PvM9TiPiLCJOIuLFVMHWHiLiPiJuI+LuOW9gf8vfX29ByuoXuD5MHGrnqIi46rru48ivO4+IVzPk2eU6Rv4bBfvbsNj99V3ieRERX/r+fAYlIt6O+CQ8jYjXM+bZ5UcM/CS0v50Wub+l3pN+NleQiWbaX93MZva31HvST2ZLMc1M+6ub2cz++goy9Q9EQ7wc8dqpf6Cceqb91c1sZn9ONYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgsdR70h9mSzHNTPurm9nM/pZ6T/r9bCmmmWl/dTOb2d9S70m/nSvIRDPtr25mM/vbWZD1CXNXsZ+Qj0c/fhvxNXexOs5yX65jxPmy9rdlsfsbcnj1u1gdqjXm3KUhbmL1be3zkR++bH/Huz8AAABgX/4FumZ97KsUtWoAAAAASUVORK5CYII=\"\n  },\n  \"sword\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE40lEQVR4nO3dMY4UVxQF0NeWnCBysBfgDbAAy3uCBJHaCd6TZedswAsAkyMSgnYwY1mjoS5V86ta7/eckzLwrrq4HiON6lYBAAAALZy+8etPq+pZVT2pqu93vv2lqj5X1ceq+vTAP6N1vvP5/HNVvaqqF1X1fL9oVVX1T1W9q6q3p9Ppzwf+Ga0/v2qQLxXkeVX9uHOoJe/r5oFv0Trf+Xx+XVW/HhPn7qmqenM6nX7b+Ptaf37VJN9SQZ5W1U+Hxfm6v2v9f2la57v9zvFHffs79F7OVfXLhu8krT+/apTvu4UvfnZsluGb3fO9qsuVo25vvdzw9d0/vzb5lgry5MAgS7bc7J7vxWEp9rnZ/fNrk2+pIHv/g2iNLTe759v7H+Rr/LDha7t/fm3yLRUEKAWBSEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBYKsiXi6bYfrN7vq3vgNrDhw1f2/3za5NvqSCfDwyyZMvN7vneHZZin5vdP782+ZYK8vHAIEu23Oye723dvMztUs63N9fq/vm1ybdUkE918zrGS3lf297f2jrf7RsO39RlSvLfq0f/2vB7Wn9+1Sifl1cv2+vl1S/r5qVuW95btcaHuvnfqt+9vPpB9sgHAAAAAAAAAI+MHzVZZid9zFU8Xzvp69hJHzPt87WTvp6d9DFTPl876cfctJM+drNNPjvpx9y0kz52s00+O+nH3LSTPnazTT5vNYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCOykH3PTTvrYzTb57KQfc9NO+tjNNvnspB9z00762M02+eykr2Mnfcy0z9fLq5fZSR9z9c8XAAAAAAAAAB4fP2qyzE76mKt4vnbS17GTPmba52snfT076WOmfL520o+5aSd97GabfHbSj7lpJ33sZpt8dtKPuWknfexmm3zeagKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgENhJP+amnfSxm23y2Uk/5qad9LGbbfLZST/mpp30sZtt8tlJX8dO+phpn6+XVy+zkz7m6p8vAAAAAAAAADw+U/+oSfcdcvnm33Gfdie9+w65fP+fqol33KfcSe++Qy7f/ZM16Y77rDvp3XfI5btr2h33WXfSu++Qyzd2s83fv1l30rvvkMt335Q77t5qAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQzLqT3n2HXL77ptxxn3UnvfsOuXxjN9v8/Zt1J737Drl8d0274z7lTnr3HXL57ph6x/0aXl7ddodcvqvfcQcAAAAAAACAR2bqHzWp5vnskM//fKfdSa/m+eyQ3zHt851yJ72a57ND/lVTPt9Zd9K757NDPnazTb5Zd9K757NDPnazTb5Zd9K757NDPnazTT5vNYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCGbdSe+ezw752M02+WbdSe+ezw752M02+WbdSe+ezw752M02+abcSa/m+eyQ3zPt8/Xy6mVXv+NezT+/6p8PAAAAuJR/ATEXlVHvyECcAAAAAElFTkSuQmCC\"\n  },\n  \"giraffe\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE+UlEQVR4nO3dPY4cVRQF4NtIJBY5PwtgA14AYk92gpxCYvaEIPcGWICNc+TEQRP0IGs09U6/mqqy3+v5vtRj36PSnBEW7TpVAAAAwBBO6RfP5/NPVfWyqp5X1Xc73/6nqt5U1evT6fTnY/6A0fNV1TdV9W1VPauqr/cKdudjVX2oqvdV9e8j/wz5ruRrFuR8Pv9SVb/uHGrxVFW9Op1Ov636TYPnq0thfzggz5K3dSn0GvJ90sy3WJC7n8x/tH79AOeq+rn3J/Xo+eryk+/HA/Ms+bv6f1LL99Bivq8aX/yyPt83X93derHi60fP9+1RQXa6KV/nzVZBnh8YpGXNzdHzPTssxT435eu82SrI3n/h7fH9iq8dPd/ef6Hc+6Z8nTdbBQFKQSBSEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCFoFWfsOoz28W/G1o+f7eFiKfW7K13mzVZA3BwZpWXNz9HwfDkuxz035Om+2CvK6Li9L+1zOdzd7jZ7v/VFBdropX+fNxYLcvUHwVX2eb8L/X+35V+9vGD1fXd7Q9/agPEve1rr338p3XzNfz8urX9TlpWlr3gvV411d/rPl940vrx42Xw3w8uUr5NuWDwAAAAAAAACemGtDmEP/r3476Tf/UY4vni8VZIid6hY76fdMu0MeDJGvVZBhdqqX2ElfNOUOecMw+Vr/HmSYneoGO+nbbsrXebNVkGF2qhvspG+7KV/nzVZBhtmpbrCTvu2mfJ03vdUEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBoFWSYneoGO+nbbsrXebNVkGF2qhvspG+7KV/nzVZBhtmpbrCTvu2mfJ03WwUZZqd6iZ30B6bdIW8YJt8tvLzaTvrEL4e+YvR8AAAAAAAAAPDE3MJHTeyk3+5HOb54PjvpHafKTvpW0+azk97HTvp2U+azk97HTvp2U+azk37MzdGfn3ydN+2k97OTvs2U+bzVBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgsJPez076NlPms5N+zM3Rn598nTftpPexk77dlPnspF9nJ327afPdwsur7aRP/HLoK0bPBwAAAAAAAABPzC181GTYnXT55t+Zt5PecaoesZMu36dTNfHOvJ30Pqt20uV7eLIm3Zm3k95n7U66fPdNuzNvJ/2Ym/JtuznM95+d9H5r/r2JfA9NuTPvrSYQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGd9H5rdtLle2jKnXk76cfclG/bzWG+/+yk91m7ky7ffdPuzNtJv271Trp890y9M38LL68ediddvpvfmQcAAAAAAACAJ+YWPmpi59vzeww76TuZeue7xfO7x076RtPufC/x/BbZSd9g2p3vBs+v86ad9GNuen7bbg7z/Oyk95ty57vB8+u86a0mECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBnfR+U+58N3h+nTftpB9z0/PbdnOY52cnvc+0O98Nnl/nTTvp1029873E83vATvoj3PzOt+dnJx0AAACm8R/nWLbllDXkpAAAAABJRU5ErkJggg==\"\n  },\n  \"skull\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF/klEQVR4nO3dMW4cVxYF0NsDOBGUS/YCvAEvQPCepMRQaifybmZyw861AS+AtHJBiQDXBE1x1Oj+j/VZVe3PmnNSNfkuiv+SItD8LwEAAACGcHjg358neZHkWZJvVp79OcmnJB+SfHzMJ5im6VWSN0l+SPJyvWhJkr+SvE/y7nA4/P6YTyDfsnwZ4PxVBXmZ5LuVQ7Xc5PhAZ5um6ackP28T53RUkreHw+GXrg+S735UHpEvg5y/VkGeJ/l+sziX/ZmZP0nuvvP9lod/Aq5lSvLj3O+E8p2PTEe+DHT+/tV48Yttsyye+SbX++LmbtbrjtfLd6o33zDnr1WQZxsGaemZ+cNmKdaZKd+ymcOcv1ZB1v6FaI6emWv/QjnHtx2vle9cT75hzl+rIEAUBEoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgKFVkE+XzVF/8yuO7RWctvxWvnO9eQb5vy1CvJpwyAtPTPfb5ZinZnyLZs5zPlrFeTDhkFaema+y/EysmuZ7mbOJd+p3nzDnL9WQT7meB3jtdyk437euxv63uY6X+QvV2f+MfcD5DvRnS8Dnb89XF79OsdLyXruXZrjNsf/Fvy68HJo+Z7w5dUAAAAAAAAAwNfKt5rYo73vPe7x/B58fs2C2KN9Ynd73OP53Y9K8fwuFsQe7Yt2s8c9nt/ZyDSeX+vt7vZoL5vp+S2bOczzaxXEHu1lMz2/ZTOHeX6tgtijvWym57ds5jDPz60mUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBRaBbFHe9lMz2/ZzGGeX6sg9mgvm+n5LZs5zPNrFcQe7WUzPb9lM4d5fhcLYo/2mV3tcY/n97Xy+c25vNoe7Z3ucY/nt/T5AQAAAAAAAAD/M03Tq2ma/jNN0+20vtu7z/1KPvmeXL5pmn7aINQlf0/Hndjyyfc08k3H5v59pYBfQs5usnzyXSvfU92TLt8p+ZbZ3Z50+ZbNlG/mzIstnabpmn/Nde9wOMz6riHfZfItcymfW02goCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKDzVPenynZNvmV3tSZdv2Uz5Zs58qnvS5Tsl3zK9+e6vfrzG7XZLrqaUT75/JN+XkK+mafr3NE03GwS7ufvcSy83lk++fyQfAAAAAAAAAPz/eWgl1vMkL5I8S/LNyrM/J/mU5EOSj4/5BHdvE3iT4365l+tFS3J8y/X7JO8Oh8Pvj/kE8i3LlwHOX1WQl0m+WzlUy006/wZgOr7B7Odt4pyOSvL2cDj80vVB8t2PyiPyZZDz1yrI8yTfbxbnsj8z8yfJ3Xe+33K9VcFTkh/nfieU73xkOvJloPPX+nuQF9tmWTxzmD3aDfKd6s03zPlrFeTZhkFaemYOs0d7hdeuZU/5hjl/rYKs/QvRHD0z1/6Fco5vO14r37mefMOcP7eaQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBoFeTzVVP0zxxmj3aDfOd68g1z/loF+bRhkJaemcPs0V7htWvZU75hzl+rIB82DNLSM3P0PdrynerNN8z5axXkY47XMV7LTTru5727oe9trvNF/nJ15h9zP0C+E935MtD528Pl1a9zvJSs596lOW5z/G/Brwsvh5bvCV9eDQAAAAAAAAB8bQ9vNRl2z7d89qSvxZ70x9tlvgxy/uxJn2dXe8hHz5eBzp896fPsbQ/56PmGOX/2pG8zU75lM4c5f/akz7enPeSj5xvm/LnVBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCPenz7WkP+ej5hjl/9qRvM1O+ZTOHOX/2pM+ztz3ko+cb5vzZk/6w3e0hHz1fBjp/e7i8etg93/LZkw4AAACs5L+H4EzOKL34ywAAAABJRU5ErkJggg==\"\n  },\n  \"umbrella\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF40lEQVR4nO3dQW4TSRQG4NcjsYmyT+AAXIADRNwJNihb2MBtZvYI9lyAAySTfZRNJGoWdpix7Hp0pdqm4vm+Lbbfr07/NpGcehEAAADAEKZf/PtpRJxFxElEPFt49n1E3EXETUTcPuYFSikXEfE2Il5FxPly0SIi4u+I+BYRH6dp+vKYF5CvL18McP9lBTmPiBcLh6q5itUFna2U8i4i3u8nzuaoiLicpulD05Pk+zkqHpEvBrn/agU5jYiXe4uz2/eY+Umyfuf7HL/+BFxKiYjXc98J5dseGQ35YqD774/Kg8/2m6V75ts43A831rPeNDxevk2t+Ya5/2oFOdljkJqWma/2lmKZmfL1zRzm/qsVZOlfiOZombn0L5RzPG94rHzbWvINc//VCgKEgkBKQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgUSvI/UFTtM9sOkNrIdcNj5VvW0u+Ye6/WkHu9hikpmXmt72lWGamfH0zh7n/agW52WOQmpaZH2N1GNmhlPXMueTb1JpvmPuvVpDbWB3HeChX0XA+7/qEvss4zA/54ejMr3OfIN+G5nwx0P13DIdXv4nVoWQt5y7NcR2r/xZ86jwcWr4nfHg1AAAAAAAAADBbKeWilPJXKeW6LO96/doX8sn35PKVUt7tIdQuP8pqZ7d88j2NfGXV3B8HCvgQcnaT5ZPvUPlqX3cffY+2fJvk61PNVyvI6Hu05eubKd/MmTtbWko55F+b/TRN06x3Dfl2k6/PrnxONYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgUSvI6Hu05dsmX5+d+WoFGX2Ptnx9M+WbObNWkNH3aMu3Sb4+rfl+Hv14iNPteo6mlE++35LvIeRFKeXPUsrVHoJdrV+793Bj+eT7LfkAAAAAAAAA4P/nVyuxTiPiLCJOIuLZwrPvI+IuIm4i4vaRrzF0vvXXGN7Gav/d+XLRImL1lfBvEfFxmqYvj3yNoa9fDJAvK8h5RLxYOFTNVbT/DcDQ+crqC3Dv9xNnc1REXE7T9KHxeUNfvxgkX60gpxHxcm9xdvse899phs63/uT4HIdbZVwi4nXDJ8nQ1y8Gylf7e5Cz/Wbpnjl6vmH2fFeMfv2GyVcryMkeg9S0zBw93zB7vitGv37D5KsVZOlfiOZomTl6vqV/IZ/jecNjR79+w+RzqgkkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCiVpB7g+aon3m6PmG2fNdMfr1GyZfrSB3ewxS0zJz9HzD7PmuGP36DZOvVpCbPQapaZk5er7R93yPfv2GyVcryG2sjmM8lKtoO7916HzrEw4v4zAleTh69GvDc4a+fjFQPodX1y11ePWbWB3q1nJu1RzXsfpv1SeHVz/KEvkAAAAAAAAA4H8m/aqJPd/2pHc4iq+aVAtiz/cGe9L7HNeedHu+d7Invc9R7Um357tvpuvXN3OYfLWC2PPdN9P165s5TL5aQez57pvp+vXNHCafU00goSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSNQKYs9330zXr2/mMPlqBbHnu2+m69c3c5h8tYLY89030/XrmzlMvp0Fsed7iz3pfY5zT7o93/akdziKw6sBAAAAAAAAgP960nvS5bMnvcNx70mX799RYU96r+Paky7f9siwJ73XUe1Jl2+TPen9jmpPunx9M4fZQ77AY5dyVHvS5dtmT3ofe9KhlYJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIPFU96TLt82e9D5HtSddvr6Zw+whX+CxSzmqPenybbInvd/x7EmXb4M96f2Oc0+6fPakd7AnHQAAAJ6SfwCf6hpwMVaGmQAAAABJRU5ErkJggg==\"\n  },\n  \"snake\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFE0lEQVR4nO3dMY5bVRQG4GMQTTTUARbAAsgCIvaUNCgtNGFPCPqwABYwIQ1VlCIpTGHDYOx75r6571nnvfm+djxzfl35t8aSfU8EAAAAUMIu++F+v38eES8j4llEfDXz7D8j4k1EvN7tdr8+5A9UzxcRNxHxNCKeRMQXcwU7+hQRHyLiXUS8f+DfkO+efM2C7Pf7HyLix5lDXRwVEa92u91Pk36peL44FPabBfJcchuHQk8h351mvosFOb4y/9L6+QL2EfF97yt19XxxeOX7dsE8l/wR/a/U8p27mO+zxoNfxvWefHGc9WLC46vne7pUkJlmytc5s1WQZwsGaZkys3q+J4ulmGemfJ0zWwWZ+w1vj68nPLZ6vrnfUM49U77Oma2CAKEgkFIQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEi0CjL1DqM5vJ3w2Or5Pi2WYp6Z8nXObBXkzYJBWqbMrJ7vw2Ip5pkpX+fMVkFex+GytGvZH2f2qp7v3VJBZpopX+fMiwU53iD4Kq7zJPznas/fen+her443NB3u1CeS25j2v238p1q5uu5vPpFHC5Nm3IvVI+3cfi35efBy6vL5osCly/fQ76xfAAAAAAAAADwyNiT3rb5PenVz69CPnvSO0bFBvekVz+/KvnsSe+zqT3p1c+vUj570vtsbU969fMrk8+e9GVmltnz3VD9/Mrka/2Ldc1v6/1rt9t1vWpUzxcR3y0apO33ngdVP79K+dxqAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkDCnvR+W9qTXv38yuSzJ32ZmWX2fDdUP78y+exJ77O1PenVz69MPnvS77e5PenVz69SPnvS2za/J736+VXPBwAAAAAAAACPz30rsdbwUYmye77D+a3+/LKC2PN9HBX2pI9Y9fm1CmLP9/9Ghj3pI1Z7fq3vg9jzfcqe9DGrPb9WQez5Hpvp/MZmljm/VkHmfkPUY8rMud9Q9pjyfQTnd26V5+dWE0goCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSrYLY833OnvQxqzy/VkHs+R6b6fzGZpY5v1ZB7Pk+ZU/6mNWeX6sg9nzfsSd9zKrPbwuXV1feo+38Nnx+AAAAAAAAAPD4bOGjJmX3fMtnT/pcNrfnW767UWFP+iw2s+dbvvORYU/6sC3t+ZbvlD3pM9jSnm/5xmaWef7Zk95vyvcl5DtnTzpsjYJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIGFPer8pe77lO2dP+qAt7fmWb2xmmeefPel9pu75lu+UPemDNrXnW74T9qQ/0Ob3fMtnTzoAAAAAAAAAbMuqP2oS8sn3cNvekx7y/Zd8Y5r5Wp/mvYnrhYvjrJsJj5fvlHxjmvnWuiddvrGZ8nXOXOuedPnGZsrXOXOte9LlG5spX+dMt5pAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFjrnnT5xmbK1zlzrXvS5RubKV/nzLXuSZdvbKZ8nTM/bzz4Yxz2W3+5WJxTtxHx14THy3dKvjHNfC6vbpNvzGPIBwAAAFzL3/Yj4OZvgj/VAAAAAElFTkSuQmCC\"\n  },\n  \"rabbit\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE50lEQVR4nO3dTW4UVxQF4FuRMkHMIVlAFgALiLInmERMkwnZU5TMYQFZAD9zxIRBZ2AH3O5+J1V+Va3Xpe8bGtv36prTsiW7ThUAAAAwhCn94+Fw+LmqXlbV86p6uvLsD1X1pqpeT9P01wM/x+OqelJVj6rq+7UWu/Wlqj5X1ceq+vSQT+B+fferAfZrBuRwOPxaVb+tvNTZUVX1apqm3xd+3NOq+nGDfc55Vzf/IWdzvyOL71eD7Hc2ILevfH+2/n0Dh6r6ZcEr4eOq+mnDfc75p2a+ErrfWbPvVwPt913jnV/W5b64dTvrxYL3f7LVIivNdL++mcPs1wrI8w0XaVky89FmW6wz0/36Zg6zXysga/9AOccPC9537R/Y1p7pfn0zh9mvFRCgBAQiAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgaAVkKXPMFrD+wXv+2WzLdaZ6X59M4fZrxWQNxsu0rJk5ufNtlhnpvv1zRxmv1ZAXtfNw8gu5XA7c66PWy2y0kz365s5zH5nA3L7hL5XdZkv8n+Pzvx7wcd8qpvHRV7Ku1rwfFn3O7HofjXQfnMeXv2ibh5KtuS5S3O8r5tvC/7Y68OX3e/6H14NAAAAAAAAANylJ71NT3qfXfyqiZ70efSk99GT3mlXPd/ud5ae9A576/l2v76Zw+ynJ32bme7XN3OY/fSkbzPT/fpmDrOfp5pAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAR60reZ6X59M4fZT0/6NjPdr2/mMPvpSd9mpvv1zRxmPz3p8+hJ76Mn/QF23/Ptftf/8GoAAAAAAAAA4K6r7km33773qwF+1eRqe9Lt921U7XC/0pN+PLIW9Hzb73Rk7Wi/0pN+YmnPt/2O7W0/PemdM+3XN3P0/YbpSW99i3XJv4b7apqmWa9q9jtvL/tV1bNNF2l7e/8NnmoCgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBBca0+6/U7taT896Z0z7dc3c/T99KTfs7Tn237H9rafnvQ7Fvd82+/I7vYrPelVtULPt/32vV8N8PBqAAAAAAAAAOAuPeltu+j5TtxPT/oarrrnu8X9juhJ73S1Pd/nuN9ZetI7XG3Pd4P7zZypJ32bmcP0fDe438yZrYCs/QPbHEv+HmH0/db+gXLtme43c6anmkAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBHrS57vKnu8G95s5U0/6NjOH6flucL+ZM/Wkz3O1Pd8N7jdzpp70/3fVPd/nuN8JPekPsPueb/fTkw4AAAAAAAAAy+hJb7NfHz3pK9llT7r9vo0qPenddtWTbr/TkaUnvcveetLtd0xP+gr21JNuv76Zw/Skt77FuuRfm301TdOsVzX7nbeX/arq2aaLtL29/wZPNYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCPSkz2e/PnrSO+2pJ91+fTP1pN+zt550+x3Tk95hdz3p9juiJ/2Bdt+Tbj896QAAAMBK/gVsdTwSu+HRwQAAAABJRU5ErkJggg==\"\n  },\n  \"cow\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF2klEQVR4nO3dMW4USRQG4NcrkVjObTgAF+AAFneCBDmFBG6zmyPIuQAHsNe55cQStcGMYUeeftvl6h6qZ78vZWbeL0/9NpbG9SIAAACALgzZP5ZSLiLibUS8iojzmWf/HRHfIuLjMAxfnvgapxFxFhEnEfFsrmBb9xFxFxE3EXH7xNeQryFfD+dvtCCllHcR8X7mUHtHRcTlMAwfKp93HhEvFsizz1VsvqA15PulOl8v529vQbbN/Tz27wsoEfG64ifJaUS8XDDPPt9j+ndC+R6bnK+n8/fHyBPexuHCxXbWm4rHny0VZKaZ8rXN7Ob8jRXk1XJZRtXMPFksxTwz5Wub2c35GyvI3L8QTfG84rFz/0I590z52mZ2c/7GCgKEgkBKQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgMVaQ2juW5nBd8dj7xVLMM1O+tpndnL+xgnxbMMiYmpl3i6WYZ6Z8bTO7OX9jBfkYm8u0DqVsZ051s1SQmWbK1zazm/O3tyDbG+Yu4zAhH65+/FrxnNvYXGd5KFdRd7+sfLuq8vV0/qZcXv0mNpdq1dxbNcV1bH6sfXJ59ZMcfb4VnD8AAAAAAAAA+J+xJ33c0X+UIzrP18P5syd9mqPbQx6d5+vl/NmTPt3R7CGPzvP1dP7sSV9mpnxtM7s5f/akLzNTvraZ3Zw/e9KXmSlf28xuzp9bTSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBI2JO+zEz52mZ2c/7sSV9mpnxtM7s5f/akLzNTvraZ3Zw/e9KnOao95NF5vp7Onz3p447+cujoPN8Kzh8AAAAAAAAA8Esp5aKU8lcp5brM73r72hfyybe6fKWUdwuE2udH2ezElk++deQrm+b+OFDAh5CTmyyffIfKt9Y96fLtkq/N0e1Jl69tpnwTZ+5taSnlkH/N9dMwDJO+a8i3n3xt9uVzqwkkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCibXuSZfvMfnaHNWedPnaZso3ceZa96TLt0u+NrX5fl79eIjb7VquppRPvt+S7yHkRSnlz1LK1QLBrrav3Xq5sXzy/ZZ8AAAAAAAAAPD/818rsU4j4iwiTiLi2cyz7yPiLiJuIuL2KS+w/ZjA29jslzufL1pEbD5y/S0iPg7D8OUpLyBfW77o4PxlBTmPiBczhxpzFZV/A1A2HzB7v0yc3VERcTkMw4eqJ8n3c1Q8IV90cv7GCnIaES8Xi7Pf95j4k2T7ne9zHG5VcImI11O/E8r3eGRU5IuOzt/Y34OcLZuleWY3e7RHyLerNl8352+sICcLBhlTM7ObPdozPHYux5Svm/M3VpC5fyGaombm3L9QTvG84rHyPVaTr5vz51YTSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBJjBbk/aIr6md3s0R4h32M1+bo5f2MFuVswyJiamd3s0Z7hsXM5pnzdnL+xgtwsGGRMzcze92jLt6s2Xzfnb6wgt7G5jvFQrqLift7tDX2XcZg3+eHqzK9TnyDfjup80dH5O4bLq9/E5lKymnuXpriOzX8LPjVeDi3fii+vBgAAAAAAAAD+bdUfNYnO89lDvv73d7V70qPzfPaQ71jt+7vKPenReT57yPda5fu71j3pveezh7xtZjf51ronvfd89pC3zewm31r3pPeezx7ytpnd5HOrCSQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgKJte5J7z2fPeRtM7vJt9Y96b3ns4e8bWY3+da6J733fPaQt83sJt8q96RH5/nsIX9kte+vy6vHHf0e9+j86xf95wMAAAAO5R/MoQmmFihqmAAAAABJRU5ErkJggg==\"\n  },\n  \"quarternote\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE8ElEQVR4nO3dQY4VZRQF4PtMnBDmoAtwAyzAuCeYEKY6wT0ZnbMBFwAyJ0wYPAfdxnTaOl3V/1/P+4rvm1pwT97LAUk6daoAAACAFk4P/PenVfWsqp5U1beTb3+pqs9V9bGqPj3y92id73w+/1hVr6rqRVU9nxetqqr+qqp3VfX2dDr9/sjfo/XnVw3ypYI8r6rvJ4da8r5uvvAtWuc7n8+vq+rnfeLcPVVVb06n0y8bf13rz6+a5FsqyNOq+mG3OP/tz1r/J03rfLd/c/xWD/8NPcu5qn7a8DdJ68+vGuX7ZuHhZ/tmGb7ZPd+rulw56vbWyw3Pd//82uRbKsiTHYMs2XKze74Xu6WYc7P759cm31JBZv+DaI0tN7vnm/0P8jW+2/Bs98+vTb6lggClIBApCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBEsF+XLRFNtvds+39R1QM3zY8Gz3z69NvqWCfN4xyJItN7vne7dbijk3u39+bfItFeTjjkGWbLnZPd/bunmZ26Wcb2+u1f3za5NvqSCf6uZ1jJfyvra9v7V1vts3HL6py5Tkn1eP/rHh17T+/KpRPi+vXjbr5dUv6+alblveW7XGh7r536pfvbz6UWbkAwAAAAAAAICvjB81WWYnfcwhvl876evYSR9ztd+vnfT17KSPucrv1076PjftpI/dbJPPTvo+N+2kj91sk89O+j437aSP3WyTz1tNIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCO+n73LSTPnazTT476fvctJM+drNNPjvp+9y0kz52s00+O+nr2Ekfc7Xfr5dXL7OTPubw3y8AAAAAAAAAfH38qMkyO+ljDvH92klfx076mKv9fu2kr2cnfcxVfr920ve5aSd97GabfHbS97lpJ33sZpt8dtL3uWknfexmm3zeagKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgENhJ3+emnfSxm23y2Unf56ad9LGbbfLZSd/npp30sZtt8tlJX8dO+pir/X69vHqZnfQxh/9+AQAAAAAAAODrE3/UpPvOt3x20geM7aR33/mW799TZSd91Lad9O473/LdP1l20kdt2knvvvMt31120sdt2knvvvMt39jNNjvkE56dZdNOevedb/nus5M+xk46bKUgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgESwXpvvMt33120sds2knvvvMt39jNNjvkE56dZdNOevedb/nuspM+bv1Oevedb/nusJM+7nE76d13vuWzkz7ATjoAAAAAAAAAbGYnfdnh81X/H+X43/PZSV9xqg6Yr5rskAct8tlJX+dQ+arRDvmCNvnspK9ztHxtdsgnPDuLnfRBR8rXZod8wrOz2EkfdKR8bXbIJzw7i5102EpBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAI7KSvd6R8bXbIJzw7i530QUfK12aHfMKzs9hJH3C0fG12yCc8O4ud9Ec6XL5qtEO+oE0+O+nLDp+vGrwc+gHd8wEAAACX8jdzZLbl0C/0iwAAAABJRU5ErkJggg==\"\n  },\n  \"eigthnote\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFM0lEQVR4nO3dQY4VVRgF4P+ZOCHMQRfgBliAcU8wMUx1gnsyOmcDLgBkTpgweA66JXa6799V/W61J5fvm1pwT27lgCSdOlUAAABAhNM9//1pVT2rqidV9e3ksz9X1aeq+lBVHx/4e0TnO5/PP1bVq6p6UVXP50Wrqqq/q+ptVb05nU5/PPD3iL6/CsjXFeR5VX0/OdTIu7p64XtE5zufzz9X1S/HxLl5VFW9Pp1Ov+78ddH3VyH5RgV5WlU/HBbnbn/V9j9povNd/83xe93/N/Qs56r6acffJNH3V0H5vhk8/OzYLBefmZ7vVT1eOer6rJc7nk+/v5h8o4I8OTDIyJ4z0/O9OCzFnDPT7y8m36ggs/9BtMWeM9Pzzf4H+Rbf7Xg2/f5i8o0KApSCQEtBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkBDQaAxKsjnR02x/8z0fHu/ATXD+x3Ppt9fTL5RQT4dGGRkz5np+d4elmLOmen3F5NvVJAPBwYZ2XNmer43dfUxt8dyvj5zq/T7i8k3KsjHuvoc42N5V/u+3xqd7/oLh6/rcUry76dH/9zxa6Lvr4Ly+Xj12KyPV7+sq4+67flu1Rbv6+p/q37z8eoHmZEPAAAAAAAAAL4yftRkbPmd9PR8FfB+7aRvs9xOenq+Cnm/dtK3W2YnPT1fBb1fO+nHnJm+k56eL+b92kk/5sz0nfT0fDHv1076MWem76Sn54t5v75qAg0FgYaCQENBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkDDTvoxZ6bvpKfni3m/dtKPOTN9Jz09X8z7tZN+zJnpO+np+WLer530bZbaSU/PV0Hv18erx5bfSU/PV+HvFwAAAAAAAAC+Pn7UZGz5nfRyf/fen530bZbbSS/39+Woau7PTvp2y+ykl/u7dWQN7s9O+jFn2iG/7MyY+7OTfsyZdsgvOzPm/uykH3OmHfLLzoy5P181gYaCQENBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkBDQaBhJ/2YM+2QX3ZmzP3ZST/mTDvkl50Zc3920o850w75ZWfG3J+d9G2W2kkv9/df7f35ePXY8jvp5f4uvT8AAAAAAAAA+Mq0P2qSsFPdkW/tnfQKyDcsSMpO9fAXyfflqFpwJ71C8t1ZkKSd6jsflu/WkbXQTnoF5Rv9uHvMTvWAfDettpMek29UkJid6gnPzrJSvvSd9Jh8o4LE7FQPyHfbSjvpMfl81QQaCgINBYGGgkBDQaChINBQEGgoCDQUBBoKAg0FgYaCQENBoKEg0FAQaCgINBQEGgoCDQWBxqggMTvVA/LdttJOeky+UUFidqonPDvLSvnSd9Jj8o0KErNTPSDfTavtpMfku7MgSTvVd5HvhuV20iso35aPV8fuVMu39k565ecDAAAAAAAAgK+MnfSx5fNV/o9y/O/57KRvOKoWzFchO+SNiHx20rdZKl8F7ZAPxOSzk77NavlidsgnPDuLnfQLrZQvZod8wrOz2Em/0Er5YnbIJzw7i5102EtBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkBDQaChINCwk77dSvlidsgnPDuLnfQLrZQvZod8wrOz2Em/wGr5YnbIJzw7i530B1ouXwXtkA/E5LOTPrZ8vgr4OPQ90vMBAAAAj+Uf73PYeRwCFc4AAAAASUVORK5CYII=\"\n  },\n  \"pitchfork\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFsklEQVR4nO3dQU4VWRQG4FOdOCHMQRfgBlwAcU8yMUx1orvpnhuduwEXADInTEi8PXgPO7TvHqu4Vc9bj++bNnD+HPJjk+g9EQAAAEAXhuw/llLOIuI8Il5FxOnMs79HxNeI+DAMw+dHfo3jiDiJiKOIeDZXsK27iLiNiOuIuHnMF7C/9e+vWpBSytuIeDdzqJ2jIuJiGIb3Ez/vNCJeLJBnl8vYLHQ0+3tgtfvbWZBtcz/V/vsCSkS8nvCT8DgiXi6YZ5dvMfInof3ttMr9/VX5hPPYX7jYznoz4eNPlgoy00z7a5vZzf5qBXm1XJaqKTOPFksxz0z7a5vZzf5qBZn7F6Ixnk/42Ll/oZx7pv21zexmf7WCAKEgkFIQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEjUCjLpDaOZXE342LvFUswz0/7aZnazv1pBvi4YpGbKzNvFUswz0/7aZnazv1pBPsTmMa19KduZY10vFWSmmfbXNrOb/e0syPaFuYvYT8j7px+/TPicm9g8Z7kvlzHhfVn7+8Vq9zfm8eo3sXlUa8q7S2NcxeaPtY8H/viy/R3u/gAAAAAAAADgiXEnve4g7nz/hv25kz6L1d75TtjfdlS4kz6LVd75rrC//40Md9KbrfLOd4X9PeRO+gxWeee7wv5GznQnfZmZ9tc2s5v9edUEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYQ76cvMtL+2md3sz530ZWbaX9vMbvbnTvoyM+2vbWY3+3MnfZzV3vmusL//uJP+SE/hzrf9uZMOAAAAAAAAAHMppZyVUv4ppVyV+V1tv/aZfPKtLl8p5e0CoXb5UTY3seWTbx35yqa5P/YU8D7k6CbLJ9++8q31Trp8D8nX5uDupMvXNlO+kTN3trSUss9/zfXTMAyjfmrIt5t8bXbl86oJJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAom13kmX71fytTmoO+nytc2Ub+TMtd5Jl+8h+dpMzffz6cd9vG7X8jSlfPL9kXz3Ic9KKX+XUi4XCHa5/dqtjxvLJ98fyQcAAAAAAAAAT8/vTmIdR8RJRBxFxLOZZ99FxG1EXEfEzSO/Rtf5tn+N4Tw29+9O54sWEZu/Ev41Ij4Mw/D5kV+j6/1FB/mygpxGxIuZQ9VcxvR/A9B1vrL5C3DvlonzcFREXAzD8H7i53W9v+gkX60gxxHxcrE4u32L8T9pus63/ZPjU+zvlHGJiNcT/iTpen/RUb7avwc5WTZL88ze83Vz57ui9/11k69WkKMFg9RMmdl7vm7ufFf0vr9u8tUKMvcvRGNMmdl7vrl/IR/j+YSP7X1/3eTzqgkkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCiVpB7vaaYvrM3vN1c+e7ovf9dZOvVpDbBYPUTJnZe75u7nxX9L6/bvLVCnK9YJCaKTN7z9f7ne/e99dNvlpBbmLzHOO+XMa091u7zrd94fAi9lOS+6dHv0z4nK73Fx3l83h13VyPV7+JzaNuU96tGuMqNv9b9dHj1Y8yRz4AAAAAAAAAeGL8VZM6d9LbHMT31530cdxJb7Pa76876eO5k95mld9fd9KXmelOetvMbvK5k77MTHfS22Z2k8+d9GVmupPeNrObfF41gYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSDhTvoyM91Jb5vZTT530peZ6U5628xu8rmTvsxMd9LbZnaTz530cdxJb7Pa76/Hq+vcSW9z8N9fAAAAYI/+BXw0Caa5hJIxAAAAAElFTkSuQmCC\"\n  },\n  \"target\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFeElEQVR4nO3dMY5bVRgF4N9INFH6BBbAAsgCEHtKGpQWmrAnBH1YAAtISB+lSWGKGYiMff/xm/dsnTvzfW08uUfP72QykuedKgAAACDC7o4/f1pVz6rqSVV9vfHZn6vqU1V9qKqP9/w7ovPt9/sfqupVVb2oqufbRauqqr+r6m1Vvdntdr/f8++Ivn4VkK8ryPOq+nbjUCPv6uYNXyI6336//6mqfr5MnMOjqur1brf7ZeHXRV+/Csk3KsjTqvruYnFO+6vO/5cmOt/td47f6u7v0FvZV9WPC76TRF+/Csr31eDFzy6bZfWZ6fle1fXKUbdnvVzw+vTrF5NvVJAnFwwysuTM9HwvLpZimzPTr19MvlFBtv6B6BxLzkzPt/UP5Of4ZsFr069fTL5RQYBSEGgpCDQUBBoKAg0FgYaCQENBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0RgX5fNUUy89Mz7f0GVBbeL/gtenXLybfqCCfLhhkZMmZ6fneXizFNmemX7+YfKOCfLhgkJElZ6bne1M3D3O7lv3tmedKv34x+UYF+Vg3j2O8lne17Pmt0flun3D4uq5Tkn8fPfrHgq+Jvn4VlM/Dq8e2enj1y7p5qNuS51ad433d/LfqVw+vvpct8gEAAAAAAADAIzP1R03Sd8jlm3/Hfdqd9PQdcvm+HFUT77hPuZOevkMu3/GRNemO+6w76ek75PIdmnbHfdad9PQdcvnWnRlz/826k56+Qy7fsSl33D3VBBoKAg0FgYaCQENBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYHGrDvp6Tvk8h2bcsd91p309B1y+dadGXP/zbqTnr5DLt+haXfcp9xJT98hl+/A1DvuD+Hh1bE75PI9+B13AAAAAAAAAHhk2o+apO9op+er8I9KpF+/hHzDgqTvaKfnq5Cd75H065eS72RB0ne00/NV0M73KenXLynf6OPu6Tva6flidr4H0q9fTL5RQdJ3tNPzxex8D6Rfv5h8o/9iXfO3zf6z2+3O+lcjPV9VfX/RIGN/nvOi9OuXlM9TTaChINBQEGgoCDQUBBoKAg0FgYaCQENBoKEg0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBojAqSvqOdni9m53sg/frF5BsVJH1HOz1fzM73QPr1i8k3Kkj6jnZ6vpid74H06xeT72RB0ne00/NV0M73KenXLynfOQ+vjt3RTs9Xczy8Ovb6pecDAAAAAAAAgMfnrkmsGT4qYef7geargPuvK4id79ujauKd7+EXheerkPtvVBA73/87sibd+T754vB8FXT/jX4fxM73oWl3vgfS88Xcf6OC2Pled6Z8686Muf9GBdn6B6JzLDlz6x8oz7Hk9xHkO7YkX8z956km0FAQaCgINBQEGgoCDQWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkBDQaChINBQEGgoCDRGBbHzfWzKne+B9Hwx99+oIHa+150p37ozY+6/UUHsfB+adud7ID1fzP03Koid7y+m3vk+JT1fBd1/D+Hh1bE72vI97J15AAAAAAAAAHh8pv6oSYXns0M+//s77U56heezQ35g2vd3yp30Cs9nh/ykKd/fWXfS0/PZIV93Zky+WXfS0/PZIV93Zky+WXfS0/PZIV93Zkw+TzWBhoJAQ0GgoSDQUBBoKAg0FAQaCgINBYGGgkBDQaChINBQEGgoCDQUBBoKAg0FgYaCQENBoDHrTnp6Pjvk686MyTfrTnp6Pjvk686MyTfrTnp6Pjvk686MyTflTnqF57NDfmTa99fDq8ce/I57hV+/ys8HAAAAXMs/4tr5dC58svsAAAAASUVORK5CYII=\"\n  },\n  \"triangle\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFX0lEQVR4nO3dsW5URxQG4LNBNJapTXiAvAAPYOWdoEG0SUPeJumjpOcF8gA2bqiQCywxKXYBrfAcZjz3LrP297Xc3fNrpN+LpfWcCAAAAGAKm+/8+2lEnEXESUQ8Xnj2TURcR8RVRHy443vIJ99dNeXLCvI0Ip4tHKrmIiLedb5Gvq/kG1PN91PlBadxuHCxm3Xa8bx8++QbU81XK8jZelmqembKNzZTvsaZtYKcrBikpmemfGMz5WucWSvI0r8QteiZKd/YTPkaZ9YKAoSCQEpBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSBRK8jNQVP0z5RvbKZ8jTNrBbleMUhNz0z5xmbK1zizVpCrFYPU9MyUb2ymfI0zH1Ue/hgRJSKerBZn30VEvO94Xr598o2p5nN5dZ18Yx5CPgAAAAAAAAB4YHzVpG44XynlPCJeRsTz2K41XtK7iHgbEW82m80/d3yPqc8vJshnT3qb7nyllFcR8ds6cfZHRcTrzWbze+frpj6/mCRfrSCnEfHLanFu91+0/6SZOt/uk+Pv+P4n9FJKRPza8Uky9fnFRPnsSV9n5ss4XDliN+tFx/Ozn980+exJX2fm89VSLDNz9vObJp896evMXPoX8hY/dzw7+/lNk8+tJpBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgk7ElfZ2bvHVBLuOx4dvbzmyafPenrzHy7WoplZs5+ftPksyd9nZlvYnuZ26GU3cxWs5/fNPlqBfkQ2+sYD+Ui+u5vnTrf7obD13GYkny+evTfjtdMfX4xUT6XV9ctdXn1i9he6tZzb1WLy9j+t+oPl1ffiT3pAAAAAAAAANDtqL9qYg+58xtwv/ek20O+x/mNuV970u0hv5XzG3Ov9qTbQz420/k1zjzWPen2kI/NdH6NM491T7o95GMznV/jTLeaQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJA41j3p9pCPzXR+jTOPdU+6PeRjM51f48xj3ZNuD/nYTOfXOPMo96TbQ/4N5zfmfu5Jt4fc+Q2wJx0AAAAAAAAAllVKOS+l/FVKuSzLu9y997l88h1dvlLKqxVC3eZT2e7slk++48hXts39dKCAn0M2N1k++Q6Vr/Z199n3aMu3T74x1Xy1gsy+R1u+sZnyNc68taWllEP+tdkXm82m6aeGfLeTb8xt+dxqAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkCiVpDZ92jL9y35xtyar1aQ2fdoyzc2U77GmbWCzL5HW7598o3pzffl6sdD3G43cjWlfPL9kHyfQ56XUv4spVysEOxi996jlxvLJ98PyQcAAAAAAAAAD8/3VmKdRsRZRJxExOOFZ99ExHVEXEXEhzu+h3zy3VVTvqwgTyPi2cKhai6i/28A5PtKvjHVfLWvu5/G4cLFbtZpx/Py7ZNvTDVfrSBn62Wp6pkp39hM+Rpn1gpysmKQmp6Z8o3NlK9xZq0gS/9C1KJnpnxjM+VrnOlWE0goCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQStYLcHDRF/0z5xmbK1zizVpDrFYPU9MyUb2ymfI0zawW5WjFITc9M+cZmytc481Hl4Y+xXa7+ZLU4+y4i4n3H8/Ltk29MNZ/Lq+vkG/MQ8gEAAACH8j9qsKYdhQgxPgAAAABJRU5ErkJggg==\"\n  },\n  \"lefttriangle\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGklEQVR4nO3dPY4UVxQG0NuWnCBysBfgDbCAkfcECSK1E7wbO7fsnA14ATOQIxIknoPuAY+m6rpq6lVzX3NOOtV9P1Xpmx+p590IAAAAoIRD9sXW2lVEvIiIZxHxtPPstxHxJiJeHw6Hvx74Ho8j4klEPIqI73sFO/kYER8i4l1EvH/ge8g3eL7ZgrTWXkbEL51DTY6KiFeHw+HXla97GhE/7pBnynUcC72GfF8Mm2+yIKefHH/OfX0HLSJ+XvGT5HFE/LRjnin/xPLvhPLdN2S+72YufhHnK0ecZj1fcf2TvYJ0minftpll8s0V5NmOQeasmflotxR9Zsq3bWaZfHMF6f0H+RI/rLi29x9svWfKt21mmXxzBQFCQSClIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQmCvI2jOMerhZce3H3VL0mSnftpll8s0V5M2OQeasmflhtxR9Zsq3bWaZfHMFeR3Hw9zOpZ1mLvVuryCdZsq3bWaZfJMFOZ1w+CrOU5Lbo0f/XvGa93E8LvJcrmPd+bLy3TVsviWHVz+P46Fua86tWuImjr9W/ebw6geRb5se+QAAAAAAAADgGzP0nvTq+aL+RyXku9Q96dXzRZE93wn5vrisPenV80WhPd8z5LvvovakV89XZs93h2t7GTLfqHvSq+crs+e7w7W9DJlv1D3p1fOV2fPd4dpehsznVBNIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEqPuSa+er8ye7w7X9jJkvlH3pFfPV2bPd4drexky36h70qvnK7Pnu8O1vQyZb8g96dXzRaE93zPku+sy96RXzxcFDl/+H/LZkw4AAAAAAAAAKwy9Jz2KfxTB/Rv/oybD7kmPInu057h/d9iTvtFF7SF3/ybZk77Bpe0hd/+2zSyTb9Q96WX2aM9w/7bNLJNv1D3pZfZoz3D/ts0sk8+pJpBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkRt2TXmaP9gz3b9vMMvlG3ZNeZo/2DPdv28wy+Ubdk15mj/YM92/bzDL5htyTHoX2aE9x/+6xJ/0BLn4Pufs3/uHVAAAAAAAAAMB/2ZM+7+I/KuH52pPey7B7vud4vnfYk97BkHu+p3i+k+xJ32jIPd8zPN+FM+1J32dm9Xye78KZ9qTvM7N6Ps934UynmkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQsCd9n5nV83m+C2fak77PzOr5PN+FM+1J32dm9Xye78KZ9qQvM+ye7yme7z32pD/At3J4tedrTzoAAAAAAAAA9NBau2qt/dFau2n93Zze+0o++YbL11p7uUOoKZ/acWe3fPKNka8dm/vpTAFvQy5usnzynSvfqHvS5btLvm1m8426J12+bTPlWzhzsqWttXP+t9lnh8Nh0XcN+abJt81UPqeaQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJAYdU+6fPfJt81kvlH3pMu3baZ8C2eOuiddvrvk22Ztvs9HP57jdLstR1PKJ99XyXcb8qq19ntr7XqHYNen9956uLF88n2VfAAAAMAZ/QsAIPjNRI6mtwAAAABJRU5ErkJggg==\"\n  },\n  \"chessboard\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7klEQVR4nO3dMY5TZxQF4OtIaRA9JAvIBlhAlD1BE9EmDdlTlPRsIAuA0CMaCqcYRyNj/2f85trW+z3f1zJwnw46A0jmnSoAAABgFTYP/PjzqnpRVc+q6vsz3/5aVV+q6lNVfX7ML7Ddbn+uqjdV9aqqXp7v0aqq6t+qel9V7zabzV+P/DXkN3l+qSAvq+rHMz/UyIe6C/Rk2+3216r67TKPs3+qqt5uNpvfF/48+e1O1cT5jQryvKp+utjjHPdPnfidcPed7896+E/Ac9lW1S8LvhPK75uTNWl+3w2++MVln6V9801d7ze3drdeL/h6+e2bNr9RQZ5d8EFGltx8dbGnOM9N+fVuria/UUHO/Q+iUyy5ee5/UJ7ihwVfK79DU+Y3KghQCgKRgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQDAqyNerPsXym4veAXUmHxd8rfwOTZnfqCBfLvggI0tuvr/YU5znpvx6N1eT36ggny74ICNLbr6ru5eRXct2d/NU8ts3bX6jgnyuu9cxXsuHWvB+2d0b+t7WdX6T/3915t8Lfo787k2d3y28vPp13b2UbMl7l07xse7+WvDHzC9fTuTXyw8AAAAAAAAAnp74URM72nbIG24iv2FB7GjvsUPeM21+RwtiR/soO+Q9U+Y3+ri7He3eTfn1bq4mv1FB7Gj3bsqvd3M1+Y0KYke7d1N+vZuryc9bTSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEglFB7Gj3bsqvd3M1+Y0KYke7d1N+vZuryW9UEDvavZvy691cTX5HC2JH+4Ad8p5p8zvl5dV2tO2QP8ZTyA8AAAAAAAAAnpiHhhJn+CiCHXL5PcZJ+aWC2NHenSo75B1T5zcqiB3tb06WHfKOafMb/X8QO9r77JD3TJvfqCB2tHs35de7uZr8RgWxo33IDnnPlPl5qwkECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQDAqiB3tQ3bIe6bMb1QQO9q9m/Lr3VxNfqOC2NHeZ4e8Z9r8RgWxo33PDnnP1Pndwsur17yjLb8bzg8AAAAAAAAAnp74URM72nbIG24iv2FB7GjvsUPeM21+RwtiR/soO+Q9U+Y3+ri7He3eTfn1bq4mv1FB7Gj3bsqvd3M1+Y0KYke7d1N+vZuryc9bTSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEglFB7Gj3bsqvd3M1+Y0KYke7d1N+vZuryW9UEDvavZvy691cTX5HC2JH+4Ad8p5p8zvl5dV2tO2QP8ZTyA8AAAAAAAAAnpiHhhJn+CiCHXL5PcZJ+aWC2NHenSo75B1T5zcqiB3tb06WHfKOafMb/X8QO9r77JD3TJvfqCB2tHs35de7uZr8RgWxo33IDnnPlPl5qwkECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQDAqiB3tQ3bIe6bMb1QQO9q9m/Lr3VxNfqOC2NHeZ4e8Z9r8RgWxo33PDnnP1Pndwsur17yjLb8bzg8AAAC4ov8AwGjpQ+5xFXQAAAAASUVORK5CYII=\"\n  },\n  \"diamond\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFF0lEQVR4nO3dMY4UZxAF4BpLThA52AfwBTiA5TtBYpHaCb6TZedcwAcAkyMSgnGwa9nDzv+2e/+ZVXXzfSm7VKlmHgvS0K8KAAAAaOFwz68/rapnVfWkqr698OzPVfWpqj5U1ccH/h6t9zsejz9W1auqelFVzy+3WlVV/V1Vb6vqzeFw+OOBv0fr+1WD/VJAnlfV9xdeauRd3bzga7Te73g8/lxVv1xnndNRVfX6cDj8uvL7Wt+vmuw3CsjTqvrhauuc91ct/5Om9X63Pzl+r/t/Ql/Ksap+WvGTpPX9qtF+3wy++Nl1d5me2X2/V/V44ajbWS9XfH33+7XZbxSQJ1dcZGTNzO77vbjaFpeZ2f1+bfYbBeTS/yBaYs3M7vtd+h/kS3y34mu736/NfqOAACUgEAkIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEo4B8ftQt1s/svt/aZ0BdwvsVX9v9fm32GwXk0xUXGVkzs/t+b6+2xWVmdr9fm/1GAflwxUVG1szsvt+bunmY22M53s5cqvv92uw3CsjHunkc42N5V+ue39p6v9snHL6uxwnJv48e/XPF97S+XzXaz8Orxy718OqXdfNQtzXPrVrifd38teo3D69+kEvsBwAAAAAAAABfmU1/1EQPuftN2HdPuh7yE+43Z1896XrIz3K/ObvqSddDPjfT/RbO3GpPuh7yuZnut3DmVnvS9ZDPzXS/hTM91QQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAINhqT7oe8rmZ7rdw5lZ70vWQz810v4Uzt9qTrod8bqb7LZy5yZ50PeR3uN+cffak6yF3vwl60gEAAAAAAABgtfhREz3a0x9FsN/Ge9yHAdGjfWJ1D3nZ7/822+N+NiB6tM9a3ENe9jtnkz3uo4+769Gem2m/uZlt3n+jgOjRnptpv7mZbd5/o4Do0Z6bab+5mW3ef55qAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQjAKiR3tupv3mZrZ5/40Cokd7bqb95ma2ef+NAqJHe26m/eZmtnn/nQ2IHu07VvWQl/2+tNke9yUPr9ajvdOHQ1fz/Tbw/gMAAAAAAACAr8x9RYlb+CiCHnf3e4hF90sB0aN9O6p22OPufieG9xsFRI/2FyNrRz3u7nfW2fuN/j+IHu1Te+txd7+FM0cB0aM9N9P95ma2ud8oIHq079pTj7v7LZzpqSYQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAsEoIHq079pTj7v7LZw5Coge7bmZ7jc3s839RgHRo31qbz3u7rdw5iggerT/s7sed/e7Y3i/PTy8unOPtvvt+H4AAAAAAAAA8PXZ9EdNqvl+esi3//putie9mu+nh/zEZl/fTfakV/P99JCftcnXd6s96d3300M+N7PNflvtSe++nx7yuZlt9ttqT3r3/fSQz81ss5+nmkAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBFvtSe++nx7yuZlt9ttqT3r3/fSQz81ss99We9K776eHfG5mm/022ZNezffTQ37HZl9fD68e00M+Z/evLwAAAPCI/gFIfqYbRE+aDAAAAABJRU5ErkJggg==\"\n  },\n  \"smalldiamond\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7ElEQVR4nO3dMY5TVxQG4OOgNGioSbKAbIAFROwJmog2acieoqRnA1nAAA0VooDCKewospj78+5cP+s+z/e1PM/5da1/zEjWPVUAAADAFHbf+PebqnpaVY+r6vszz/5SVZ+q6n1Vfbznz5BPvvtalC8V5Ieq+unMoVpuq+pd52vk+598Y5r5vmu84KYuF66Os246npfvlHxjmvlaBXm6Xpamnpnyjc2Ub+HMVkEerxikpWemfGMz5Vs4s1WQc/9BtETPTPnGZsq3cGarIEApCEQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCQasgXy6aon+mfGMz5Vs4s1WQTysGaemZKd/YTPkWzmwV5P2KQVp6Zso3NlO+hTMfNR7+XFX7qnqyWpxTt1X1oeN5+U7JN6aZz+XVbfKNeQj5AAAAAAAAAOCB8VWTtuF8+/3+l6p6WVXP6rDW+JzeVdWbqnq92+3+uufPmPr8aoJ89qQv051vv9//WlW/rRPndFRVvdrtdr93vm7q86tJ8rUKclNVP68W527/1PLfNFPnO35y/Fnf/oQ+l31VPe/4JJn6/GqifPakrzPzZV2uHHWc9aLj+dnPb5p89qSvM/PZainOM3P285smnz3p68w89x/kS/zY8ezs5zdNPreaQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgE9qSvM7P3DqhzeNvx7OznN00+e9LXmflmtRTnmTn7+U2Tz570dWa+rsNlbpeyP85cavbzmyZfqyAf63Ad46XcVt/9rVPnO95w+KouU5L/rh79u+M1U59fTZTP5dVt57q8+kUdLnXrubdqibd1+G/VHy6vvhd70gEAAAAAAACg26a/amIPufMbcN170u0hP+H8xlzXnnR7yO/k/MZc1Z50e8jHZjq/hTO3uifdHvKxmc5v4cyt7km3h3xspvNbONOtJhAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCwVb3pNtDPjbT+S2cudU96faQj810fgtnbnVPuj3kYzOd38KZm9yTbg/5V5zfmOvck24PufMbYE86AAAAAAAAAHTb9FdNavJ89pBv//3d7J70mjyfPeQnNvv+bnJPek2ezx7yO23y/d3qnvTZ89lDPjZzmnxb3ZM+ez57yMdmTpNvq3vSZ89nD/nYzGnyudUEAgWBQEEgUBAIFAQCBYFAQSBQEAgUBAIFgUBBIFAQCBQEAgWBQEEgUBAIFAQCBYFAQSDY6p702fPZQz42c5p8W92TPns+e8jHZk6Tb6t70mfPZw/52Mxp8m1yT3pNns8e8q9s9v11eXWbPeRjrv79BQAAAAAAAICHx1dN2uQbcxX57ElfRr4xm83X+jbvTV0uXB1n3XQ8L98p+cY089mTvs5M+cZmTpPPnvR1Zso3NnOafPakrzNTvrGZ0+RzqwkECgKBgkCgIBAoCAQKAoGCQKAgECgIBAoCgYJAoCAQKAgECgKBgkCgIBAoCAQKAoGCQGBP+joz5RubOU0+e9LXmSnf2Mxp8tmTvs5M+cZmTpPvUePhz3XYv/1ktTinbqvqQ8fz8p2Sb0wzn8ur2+Qb8xDyAQAAAJfyL3WaU2vK5kXFAAAAAElFTkSuQmCC\"\n  },\n  \"square\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFJElEQVR4nO3dQW4UVxAG4OpI2SD2kBwgF8gBRrkTbCy2yYbcBvZRss8FcgAb9ogNkiuLGRtZ7i5187rHr4fv2wamfqT6baGYVxEAAABA/zLzkJnvM/Mm13dz+uyDfPLtLl9mXm0QasxtZl7JJ99u8uWxubdnCngXcnaT5ZPvXPl+mMj4OiKGuX+gFQwR8WrBr5fvIfnaTOabKsiv22WZtGSmfG0z5Zs5c7SlmZnbZhk3DMOsrxryjZOvzVi+qe8gQCgIlBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBApTBflw1hRHNwt+rXyPyddmNN9UQf7dMMiUJTPla5sp38yZUwV5GxHnfFkiTzPnku8h+doszXf/9OM5XrdreZpSPvmeJN9dyENmvsvM6w2CXZ8+u/VxY/nke5J8AAAAAAAAAPD9KU9inf43/Os43m97ufLsD3H8Ccq3wzD8/Y2f8TwiXkTEs4j4ca1gJ18i4nNEfIyIT9/4GfI15Oth/yYLkscf4Pp95VCjoyLizTAMfyz8fS8j4ucN8oy5juX/RkG+rxbn62X/po54HiLir6n/voGMiN8WfCd5HhG/bJhnzH8x/yuhfI/NztfT/u31TvqLrYKsNFO+tpnd7N9e76Q/2yzFOjPla5vZzf5NFWTtvxDN8dOCX7v2XyjXnilf28xu9s+rJlBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgU9non/ctmKdaZKV/bzG72b6930j9vlmKdmfK1zexm//Z6J/3jVkFWmilf28xu9m+0IKcX5t7EeULePf34z4Lf8ymOz1mey3Use19WvocW5etp/+Y8Xv0qjo9qLXm3ao6bOH5b+9Pj1d/k4vPtYP8AAAAAAAAA4DvjTvq0i/9Rjug8Xw/75076PBd3hzw6z9fL/rmTPt/F3CGPzvP1tH/upG8zU762md3snzvp28yUr21mN/vnTvo2M+Vrm9nN/nnVBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoCBQWBgoJAQUGgoCBQUBAoKAgUFAQKCgIFBYGCO+nbzJSvbWY3++dO+jYz5Wub2c3+uZO+zUz52mZ2s3/upM9zUXfIo/N8Pe2fO+nTLv5x6Og83w72DwAAAAAAAAC+M+6kT7v4H+WIzvP1sH/upM9zcXfIo/N8veyfO+nzXcwd8ug8X0/75076NjPla5vZzf65k77NTPnaZnazf+6kbzNTvraZ3eyfV02goCBQUBAoKAgUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKLiTvs1M+dpmdrN/7qRvM1O+tpnd7J876dvMlK9tZjf75076PBd1hzw6z9fT/rmTPu3iH4eOzvPtYP8AAAAAAAAAgK8y85CZ7zPzJtd3c/rsg3zy7S5fZl5tEGrMbR5vYssn3z7y5bG5t2cKeBdydpPlk+9c+fZ6J12+h+Rrc3F30uVrmynfzJmjLc3Mc/5rrnvDMMz6qiHfOPnajOXzqgkUFAQKCgIFBYGCgkBBQaCgIFBQECgoCBQUBAoKAgUFgYKCQEFBoKAgUFAQKCgIFBQECgoChb3eSZfvMfnaXNSddPnaZso3c+Ze76TL95B8bZbmu3/68Ryv27U8TSmffE+S7y7kITPfZeb1BsGuT5/d+rixfPI9ST4AAADgjP4Hm2pLjkVf1VMAAAAASUVORK5CYII=\"\n  },\n  \"smallsquare\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE6ElEQVR4nO3dP44URxQH4DdGTtAQY3wAX4ADWNwJEkRqEnwny865gA+wQEKECCAYghkbWrP1tmqqe9TV+33p9uz7qbd/+0earRcBAAAArMLujo/vI+JxRDyMiJ9nnv01Ij5HxIeI+HTh55BPvktV5csK8ktE/DpzqJKbiHjf+Br5vpOvTzHfT4UX7ON64eI0a99wvXxT8vUp5isV5PFyWYpaZsrXN1O+ypmlgjxcMEhJy0z5+mbKVzmzVJC5/yCq0TJTvr6Z8lXOLBUECAWBlIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQKJUkK9XTdE+U76+mfJVziwV5POCQUpaZsrXN1O+ypmlgnxYMEhJy0z5+mbKVznzQeHiLxFxiIhHi8WZuomIjw3XyzclX59iPodXl8nX5z7kAwAAAAAAAIB7Zui3mhwOh98j4kVEPI3j2uA5vY+ItxHxZrfb/X3JJ5CvL1+s4Pkbdk/64XB4GRF/LBNnOioiXu12u9dNL5Lv/1FxQb5YyfNXKsg+In5bLM7t/o3KnySn73x/xd0/AedyiIhntd8J5TsfGQ35YkXP36h70l/E9b64cZr1vOF6+aZa863m+Rt1T/rTxVLMM1O+vpmref5G3ZM+9x+UNZ40XCvfuZZ8q3n+nGoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQGLUPelNZ2jN5F3DtfKda8m3mudv1D3pbxdLMc9M+fpmrub5G3VP+ps4HkZ2LYfTzFryTbXmW83zVyrIpzgex3gtN9FwPu/phL5XcZ0v8n9HZ/5T+wL5JprzxYqevy0cXv08joeStZy7VONdHH8t+LPzcGj5Bj68GgAAAAAAAAD40RbeamLPt/t3CXvSZzL0nu8S92/CnvROw+75vo37dyt70jsMu+e7wP2rnGlP+jIz3b++mau5f/ak1xtyz3eB+1c506kmkFAQSCgIJBQEEgoCCQWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCTsSa835J7vAvevcqY96cvMdP/6Zq7m/tmTXmfYPd8F7l/lTHvS7zb0nu/buH9n7Em/wOb3fLt/9qQDAAAAAAAAQJstvNVktXu+5bMnfS6b2/Mt3/dRYU/6LDaz51u+85FhT3q3Le35lm/KnvQZbGnPt3x9M1fz/NmTXq/l/yXkO2dPOmyNgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIKEgkFAQSCgIJBQEEgoCCQWBhIJAQkEgYU96vZY93/Kdsye905b2fMvXN3M1z5896XVa93zLN2VPeqdN7fmWb8Ke9Attfs+3fPakAwAAAAAAAMC2DP1Wk5BPvstte096yPcj+foU85XezbuP64WL06x9w/XyTcnXp5hv1D3p8vXNlK9y5qh70uXrmylf5cxR96TL1zdTvsqZTjWBhIJAQkEgoSCQUBBIKAgkFAQSCgIJBYGEgkBCQSChIJBQEEgoCCQUBBIKAgkFgYSCQEJBIDHqnnT5+mbKVzlz1D3p8vXNlK9y5qh70uXrmylf5cwHhYu/xHG/9aPF4kzdRMTHhuvlm5KvTzGfw6vL5OtzH/IBAAAA1/IN7YSWk669SX0AAAAASUVORK5CYII=\"\n  },\n  \"scissors\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFUUlEQVR4nO3dMW6cRRgG4G+RaCL6AAfgAjkA4k5Jg9JCE+6EoM8FOEBC+ihNiqVYU0TZeT3rnd/6/vXztB57Ps3odWTFnrcKAAAAaOGQPng8Hn+uqldV9aKqvl+8979V9baq3hwOh78e8gW6z1dV31XV86p6VlXfrhrszueq+lRVH6rq4wO/Ruv5OtzvMCDH4/HXqvpt8VBnt6qq14fD4feLPqn5fHW60B83mOecd3W68Eu0nq/L/Z4NyF1y/xx9fAPHqvpl9jt19/nq9J35pw3nOeefmv9O3Xq+Tvf7zeATXtXjDVd3e728YH33+Z5vNciiPbvP1+Z+RwF5sd0sQ5fs2X2+Z5tNsWbP7vO1ud9RQFb/QDTjhwvWdp9v9Q+8q/fsPl+b+x0FBCgBgUhAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgGAXk0jeWVnh/wdru833ebIo1e3afr839jgLydsNBRi7Zs/t8nzabYs2e3edrc7+jgLyp02Naj+V4t+es7vN92GqQRXt2n6/N/Z4NyN0Lc6/rcYb8/+nHv2c/oft8dXpB8N1G85zzri57/7b1fJ3ud+bx6pd1elTrknehZryv0z9rf1z5eHXb+ar549DVfL4d3C8AAAAAAAAAPDF60sduvifd+d1/fnrSJ7aqG+xJd35fGJ6fnvQ5N9WT7vzOOnt+etLn3FpPuvOb3FNP+jZ76iG/bs8256cnfd4t9aQ7v8k9vWoCgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBDoSZ93Sz3pzm9yTz3p2+yph/y6Pducn570ObfWk+78JvfUk36/m+tJd35fGZ6fnvSxm+9Jd35X98wDAAAAAAAAwBNzX5Fj9//qbz2fHvL9328KSIue6qD1fHrIv7Db+x0FpE1P9UDr+fSQn7XL+x39PUibnuoFa1fRQ36dXd7vKCBteqoXrF1FD/l1dnm/o4C06alesHYVPeTX2eX9etUEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAYBaRNT/WCtavoIb/OLu93FJA2PdUL1q6ih/w6u7zfUUDa9FQvWLuKHvLr7PJ+RwFp01M90Ho+PeRf2e39erx6TA/5dW7+fgEAAAAAAADg6Ym/atK957v7fNX8VyWc3xU96d17vrvPV016vkec3xcu60nv3vPdfb5q1PN9jvM766Ke9O49393na9PzPeD8JvccBaR7z3f3+dr0fA84v8k9RwHp3vPdfb42Pd8Dzm9yT6+aQCAgEAgIBAICgYBAICAQCAgEAgKBgEAgIBAICAQCAoGAQCAgEAgIBAICgYBAICAQCAgEo4B07/nuPl+bnu8B5ze55ygg3Xu+u8/Xpud7wPlN7jkKSPee7+7zten5HnB+k3ueDUj3nu/u81Wjnu9znN9XHtaT3r3nu/t81eDx5cT56UkHAAAAAAAAgMvoSR+7iZ7ve7Ser8P96kmf2Kp23PMdtJ6vy/3qSZ+z257vgdbzdbpfPelzdtvzvWDtKrvscdeTvs2ebXq+F6xdZZc97nrS5+2y53vB2lV22ePuVRMIBAQCAYFAQCAQEAgEBAIBgUBAIBAQCAQEAgGBQEAgEBAIBAQCAYFAQCAQEAgEBAIBgUBP+rxd9nwvWLvKLnvc9aRvs2ebnu8Fa1fZZY+7nvQ5u+35XrB2lV32uOtJv9+ue74HWs/X6X71pI89hZ7v1vPt4H4BAACAx/IfV5v6DSxvZ+4AAAAASUVORK5CYII=\"\n  },\n    \"arrownorth\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTg1QjQxRjlFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTg1QjQxRkFFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBODVCNDFGN0VDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBODVCNDFGOEVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrDq62kAAAdCSURBVHja7N2xbhRXFIfxWbQURnSOBesKN+lS+QEQXZTniUMS0SYROM8TQYWgd5UujV3tghJ3CBdY2twbBoTMzLKT2b1z5/r3SSNHZOEcnfG3M7Nanf9kuVxWAJq5YQQAQQCCAAQBEjJt+sPJZPLhP2+H4044boXj5oZrvwvH23C8Dseb//lvZN3f6enpt7u7uz/s7Ox8M51Ov9pkc5eXl/9cXFz8eX5+/uTg4OBpifNL3V/TB1aTxj98L8jdcOwnEnUejlcd/07W/c3n899ms9mPCXpbLhaLx/v7+z+VNL8h+mty4cYKc1M1V9W1bnd8Z8m2v3jlCHI8TNTbJNaKNUuZX079tQlyZ4DbvTtbem3y/uJtVfzFTdjbJNQ8KmV+OfXXJsitARq8taXXJu8vPnOkbq5jTed3zZptgtwcoMGbW3pt8v42/UC+Zs29UuaXU38+5gVWQBCAIABBAIIABAEIAhAEIAhAEIAgAAgCEAQgCEAQgCAAQQCCAAQBrrMg7wbo5d2WXpu8v7jULXVzoebfpcwvp/7aBHk7QINvt/Ta5P3FjYepm+tY0/lds2abIK8HaPD1ll6bvL+4DjT8SBm8sqxrFjG/nPprEyTuKp0nbG5eddvfmnV/cVduXAeaSJL/Vo+Gms9KmV9O/a3azRux3Lj/8uqjenn13iabi88c9fLqY8urN9Nf1+XVwLWiy/JqAAQBCAIQBCAIQBCAIABBAIIABTP9wv+XQ94jh3y5XN4PP2K45mH1PtZ4k8RY5ZNwHE8mkxclzi+H37/R5qTnnkMe5vpz+PFLiv7C8Sics19Lml+VSU56myDR3K8TX83+WvdKEt/57t2790eVLmp5eXZ29t2674T1leN5yv7C8WDdK0nu86uvHMl//8J5e7PuM4gc8ivvGR1zyI9S9xeO7wuan5z0PjVHkEN+OMD8Dguan5z0PjVHkEN+d4D5zQqan5x0YAwQBCAIQBCAIABBAIIABAEIAhAEIAgAggAEAQgCEAQgCEAQgCAAQYDrLIgc8s9rdskhfzXA/BYFzU9Oep+aI8ghPxlgficFzU9Oep+aI8ghP07dX12zlPnJSb9CUTnk9YbDR6n6q96vHn1ZyvwqOekf7/mKziGvV5DGjYdxqdtsw/Nb1LdVv/dcXi3HXU46sNYb2tq3WAAIAhAEIAiwDaZjarbpISoHfKhBEIwcby5usQCCAAQBxvAMkmuO9lBfhel6H29+459f61dNcszR/tDrUDnubSe46UEzt/l92ntO82t7SB9ifmt/F+vs7CzLHO1PBMkmR7vpJOeYQ35FkGzm1yTIUPMLNZ+u9QwiR7tfTfMrZ36NgsjR7lfT/MqZX6MgcrT71TS/cubnY15gBQQBCAIQBCAIQBCAIABBAIIABAEIAoAgAEEAggAEAQgCEAQgCEAQ4NoKIke7X03zK2d+jYLI0e5X0/zKmV+jIHK0+9U0v3Lm1yiIHO3PKCrH3fzWn9/KGOjccrSv7OaNZLF8uW2/bE7za9jNm8X8VgXopJ7f6HPSpSSZXeoZ+ZgXWAFBAIIABAE2zqhioOWRgyDw5uIWCyAIQBDgOj+DJP0qwv8g6/6Wy+X98COGQx5W72OXN8mrcJyE4zg8X7wocX459LfqqybJc7Q7/p2s+wtz/Tn8+CVBb/EEPgrn7NeS5lflkuPeIsggOdod3mmy7q++cjyvEuZ8h+NBhyuJ89vQX1OOe9szSNY52iPo76hKnPMdju8Lml82/bUJknWO9gj6Oxygv8OC5pdNf22CZJ2jPYL+7g7Q36yg+WXTn495gRUQBCAIQBCAIABBAIIABAEIAhAEIAgAggAEAQgCEAQgCEAQgCAAQYDrLEjWOdoj6O/VAP0tCppfNv21CZJ1jvYI+jsZoL+TguaXTX9tgmSdoz2C/o6rxDnfdc1S5pdNf22CZJ2jnXt/9YbDR4kk+bB69GUp88upvy/FQFtu3H95ddx4GJe6zTbc36K+rfrd8urN9Df6nHRgq5diOelANwgCEAQgCEAQgCAAQQCCAAQBSkVO+hb7Oz09/XZ3d/eHnZ2db6bT6VebbO7y8vKfi4uLP8/Pz58cHBw8LXF+lZz0jxSXkz6fz3+bzWY/JuhtuVgsHu/v7/9U0vyqTHLSb6wwN1VzVV3rdsd3lmz7i1eOIMfDRL1NYq1Ys5T55dSfnPQt1Iy3VVXinPRQ86iU+VVy0nvXzLq/+MyRurmONZ3fNWvKSd9CzU0/kK9Zc6+U+VVy0oFxQBCAIABBAIIABAEIAhAEIAhAEIAgAAgCEAQgCEAQgCAAQQCCAAQBrrMgcrR71IxL3VI3F2r+Xcr8KjnpvWtm3V/ceJi6uY41nd81a8pJ30LNuA60SpyTXtcsYn6VnPTPKConPe7KjetAE0ny3+rRUPNZKfOr5KR/vOe7Dsurj+rl1XubbC4+c9TLq48tr95Mf2vnpANYfYsFgCAAQQCCANvgXwEGAEF8maNQU+JAAAAAAElFTkSuQmCC\"\n  },\n    \"arrownortheast\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3Njk4REZFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3Njk4RTBFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNDM5M0RCMEVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTc2OThERUVDM0MxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pts1YdYAAAXoSURBVHja7N3BbuNEHAfgBqWHVr0VVNpTe9nbPgfwQBR4AgT7Pqt9D25c2lNKBbmt2kMjBbsUVBHHmenE47H9fVIEWgXmr0l+seON/Jut1+sDoNkXtgAEBAQEBAQymjf94Ww2+/dfT6rHWfU4rh6He177qXo8VI/76vH5jf+Poue7ubn59vT09Pro6Oj9fD7/cp/DrVarvx4fH39bLpe/Xl1dfTJf+nxNF6xmjX/4T0C+rh4XmYK6qB5/RP43Rc+3WCx+Pj8//6Hezo5nW9/d3f1ycXHxk/nS5osJSP3J/C7z0ez3iE/qouerP/kuLy8/Znhx/3N7e/td6Ce1+Zrnq9b8FPod5KyH072zjp6bfb7qtOD7nC/uy5rX5tv/fNsCctzDG/C4o+dmn68+Z849XMya5gtfc1tADnt4Ax529Nzs81VfKL/KfrUl4kus+cLnc5kXWggICAgICAgICAgICAgICAgICAgIICAgICAgICAgICAgICAgIDDlgDz1MMtTR8/NPt9qtfoz93D1jdDMt//5tgXkoYc34ENHz80+X33HvtzDxaxpvvA1twXkvoc34H1Hz80+33K5/FD9I2fxyrq+hab59j/ftoDUdxBcZBxwcRB3/9ui56vvIFjfzjLTi/x868yY+9+aL3y+tnvz1ty8Ou3m1d+8uvnyXu/1VJ+nv9x8+UPCzaHN92q+2JtXw6Q0ZcFlXmghICAgICAgICAgICBQvrktSNN07bwk/k7LEQR6O4L4qckb5uvrpzqxRzM96bvn05OeOF9J+xfzsyE96Zvz6UnvYL6S9q+a5XNIQPSkN8+nJ918z/Skh8+nJ32C8+lJD19TT/oE59OTHj6fy7zQQkBAQEBAQEBAQEBAQEBAQEBAQEAAAQEBAQEBAQEBAQEBAQEBgSkHRE/6iOfTkx4+n570Cc6nJz18TT3pE5xPT3r4fHrSJzifnvTw+fSkJ85X0v7FVnrrSdeT3v3Hj36QUb+WLvNCCwGBFirYnAo65XMEgT0eQUr/4umTEKdYgoJTLBAQEBCYzHeQ0nu+9ZCn9ZDbv4H2pEcGpNf5dn05L62HvGH2XvYv9KKGnvRNjT3fWwLS+3w7fgRYXA/5/wLS2/6FBERPevqaesg317y2f/vfPz3pHaxZeg+5/QtfU096B2uW3kNu/8L3z2VeaCEgICAgICAgICAgICAgICAgICAggICAgICAgICAgICAgICAgMCUA6KHPGHN0nvI7V/4/ulJ72DN0nvI7V/4mnrSO1iz9B5y+xe+f3rSO5iv9B5y+xe+f7PSe74bhy5gvsBbaBbTQ75l9uz7F1M4VGxPOlEhHQQlnm/bI5d5oYWAQItdBTrgCAIICAgIdP4dhDClXyL3XdIRBAQESj3FyvpThFh6yMfdM1/C+6+onvSo/6CAHvJtL3gpPfOvv4MMrSe9hP1rO8U6yTjcwctaJzFHjkzheH4/VWv9WK8Z+clX7P6ZL3y+Qfak6yFPXtN8gWsOsiddD3nymuYLXHOQPel6yJPXNF/gmi7zQgsBAQEBAQEBAQEBAQEBAQEBAQEBAQQEBAQEBAQEBAQEBAQEBASmHBA92ptrjqaH3Hzhaw6yJ10PefKa5gtcc5A96XrIk9c0X+Cag+xJ10Oetn/mC5+vqJ70WH33kO+4N2/2/Yu8N28v80V2lvR+c+1dAaHt0DKgAh096W97PV3mhRYCAgICAgJ7p+V2pF84ERCE2SkWOIKMQAl/z+Ao4QgC5RxBSu0hf6XIn8IM5ac65kvoSS+hh3yHonrcS+ghH/L+lTBf8E9N9JBv0EM+0fkaA6KHPHlN841kvsaA6CFPXtN8I5mvMSB6yJPXNN9I5nOZF1oICAgICAgICAgICAgICAgICAgICCAgICAgICAgICAgICAgICAw2YDoIU9e03wjma8xIHrIk9c030jmawyIHvLkNc03kvkaA6KHfIMe8onO11oD3XcPeYBibr5cQg/5kPevhPmCe9KBllMsQEBAQEBAoCN/CzAA4zI4JJmHknUAAAAASUVORK5CYII=\"\n  },\n    \"arroweast\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTg1QjQxRkRFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTg1QjQxRkVFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBODVCNDFGQkVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBODVCNDFGQ0VDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkRp+VEAAAbPSURBVHja7N09bhtHGAZg0SALCepsQyY7HcBXiMvkQPFfLhA4ym2Swk1yA1c5gDtSsqNGMOSChJkdhQ4UYpfeITmzP3weYGFBWHM+zfjlz2o932C5XB4B5R6YAhAQEBAQEMhoWPbNwWDw9cvT4jgrjpPiGO157Hlx3BbHVXF82vIxWl3f+/fvf3j48OGL4+Pjp8Ph8NE+i1ssFn9//vz5r+vr61/Oz8/f9nH+ctdXdsFqUPrNfwPypDgmmYI6LY7LyL/T6vqm0+nP4/H4ZZjOxLUtZ7PZm8lk8rpP89dEfWVZeLAhubmKO1qNdRr5zNLa+sIrR6Zw3D2fFWO9CmP2Zf7aVF9VQM4aeLt3lujc7PUVb6ueZwrH/TFf9GX+2lRfVUBOGijwJNG52esLnzlyFxc5pvWtOWZVQEYNFDhKdG72+ooP5I+zX22JuwhgfWuO6TIvbCAgICAgICAgICAgICAgICAgICAggICAgICAgICAgICAgICAgMAhB2TeQC3zROdmr2+xWHzMXVzYSK4v89em+qoCcttAgbeJzs1eX9jxMHdxkWNa35pjVgXkqoECrxKdm72+6+vri+KPnI1XlmEL0r7MX5vqqwpI2Kt0mrG46VHc/q2tri/slRu2A80UkrutRyP357W+NevbtDdvYHPj3Tav/v7e5tV73SsrfM5ZbV59YfPq/dQXu3k1HJSYzasBAQEBAQEBAQEBAQGBThiagt2UXTtvE7/T8goCjb2CuBVhi/qaulUn9tVMH/dvr68+6TvW16b5i7ltSB/3evOnT/oB1qePe/350yf9AOvTx73+mPqkH2B9+rjXH1Of9AOsTx/3+mO6zAsbCAgICAgICAgICAgICAgICAgICAggICAgICAgICAgICAgICAgcMgB0Ue7x/Xp415/TH3SD7A+fdzrj6lP+gHWp497/TH1ST/A+vRxrz9/+qTvWF+b5i+2pbc+7vqkp3961B+k12vpMi9sICAgICAgICCQky63O3KVyCsICAggILC/gITOpDc3N3/O5/OPyz0LjxkeO7L76f8UD/OsOH4vjtly/2arx362bX3mrwfzF369vn4EoY928fWXZXpfwlhbLO5PueoLY8XWZ/66N3+lWSj7ZkhVpuL+E/NMuHrmy1pfzDOh+evm/JVlofQtVgf6aP+Yu77C84ifxfz1ZP5K7+ZdLBYfcrcKDv8lczQaPa75DBju3x9nXuDLwWBQa8zi/a356+D8lY05qLhdu5F7uAc1f+u2bOgec/X1u76yVy2XeWHby7wgIICAgICAgICAgICAgICAgICAgAACAgICAgICAgICAgICAn0OSAf6aM8amKvLiJ/F/PVk/koD0oE+2u8aWOB3iX4W89fi+SsNSAf6aP+au77iuKh7svnr0fzZetTWo+YvcuvRr0If7Zubmz/CRl4JNg/+EB57x82XvyuO38JGaAkmbrp67F02XzZ/HZq/sizokw73AlLrMwggICAgICAgICAg0CpDU7C95tpY1ONyvVcQEBBo61us0+I4K46T4hjteex5cdwWx1VxfNryMVpZ3723Nlnri33LF26zCM0rj4+Pnw6Hw0f7LC7cPh7ukA03AZ6fn7/t6vpuutXkSXFMMgU1NJW8jPw7jddX9Q+yqflbr2fTZ5Bwg954PH55lL6b7HI2m72ZTCav276+MbeanGYs7mg11mnkM4v6tqwvvHJkCsddTouxXkXeVNma+asKyFkDb/fOEp2rvjUd6OPemvmrCshJAwWeJDpXfWvCZ47cxUWO2Zr5qwrIqIECR4nOVd/6lZnh8HHu4iIvArRm/lzmhQ0EBAQEBAQEBAQEBAQEBAQEBAQEBBAQEBAQEBAQEBAQEBAQEBA45IDMG6hlnuhc9a3pQB/31sxfVUBuGyjwNtG56lvTgT7urZm/qoBcNVDgVaJz1bemA33cWzN/VQEJe5VOMxY3PYrb/1Z9O9QX9soN24FmCsnd1qOR+/O2Zv6+1Qba5tUb6vvG3rzZ64vZmzcIfcjvbV69172ywuec1ebVF13ZvLo0C/qk7/DUqIFO79fTZV7YQEBAQEBAYO90ufUhGK8gICAgICAg0JEP6W412aE+fci7v776pCeqTx/y7q2vPumZ6tOHvD/rq096gjH1Ie/P+uqTnmBMfcj7s776pCcYUx/y/qyvy7ywgYCAgICAgICAgICAgICAgICAgIAAAgICAgICAgICAgICAgICAoccEH3IdxhTH/L+rK8+6QnG1Ie8P+urT3qCMfUh78/66pOeoD59yPuzvvqkJ6xPH/JurW/tPunA5rdYgICAgICAQAr/CDAAdzClt1skhsMAAAAASUVORK5CYII=\"\n  },\n    \"arrowsoutheast\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3Njk4RTNFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3Njk4RTRFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTc2OThFMUVDM0MxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTc2OThFMkVDM0MxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu4vAMQAAAXfSURBVHja7N3BTtxWFAZgUw0LUHZQUVjBprs+R6u+T1P1CaqmD9S8R3bdwGooatlFsABpakekBeLx2HM99vH190mjqCnpPb3mH3sc5H9vtVoVQL2vbAEICAgICAgMaFH3m3t7e59+vby8/OHo6Oing4OD7xaLxdd9Lvz4+Pj3/f39h9vb298vLi7eb/mfeVO+TsrXYfna73lvHsrXXfm6KV8fN33x85sdn/dv6Pnqbrg8myX0/kWYr3b/1m3qcrn89fT09OfqH3cc0tX19fVvZ2dnv3T8c9+Ur7OB3kiW5euvjgEZfL6OAQm1fxHmq9u/2kus8szx/UDh+HQMq7Wqs1XHd5ahNq94WuuN+eY3X21AysuqtwOF47+QPK3Z1skIl6Mn5pvffLUBqT5zDD1dxzUPR9jAQ/PNb77agPT9gbzV3YLF4rjDl++PsIH75pvffG7zQgMBAQEBAQEBAQEBAQEBAQEBAQEBAQQEBAQEBAQEBAQEBAQEBARmG5DqoW5DD1Ku+U+HL38YYa8ezDe/+WoDUj3xcOjpOq55N8IG3plvfvPVBqR6HGj5y5DFIatyzXcdvv5mhA28Md/85qsNSPWs3OpxoEOFpFqr4/N5q2epLgfcvGXR7fmy5stkvr2m57k+Pbz67dPDq4/7nKj6zPH08Op3Hl7dz3weXr2D/dtiU9kQkEgcy7Rj6DYvNBAQEBAQEBAQEBAQEBAQEBDI1WLDvw/9owhRe9wj/ajJlI9vhPmaftQkdI92tB53Pen9Ht8ick96EbxHW4972v6Zr/186wISukdbj3vymuZruea6gITu0dbjnrym+VquuS4goXu09bgnr2m+lmu6zQsNBAQEBAQEBAQEBAQEBAQEBAQEBAQQEBAQEBAQEBAQEBAQEBAQmHNAQvdo63FPXtN8LddcF5DQPdp63JPXNF/LNdcFJHSPth735DXN13LNdQEJ3aOtxz1t/8zXfr5NNdBTeHh1iB53Pen9H99CT3o+9KTneQzd5oUGAgINFrbApQwTDohrewQEby4+g0AmZ5Cx33lcvuAMAgICGV5iRe/5nkoPuR736e9fqJ70z7M8/wwScb42n5Mi9Liv+4aMdHwj7V82PemFHvcX3++59bhH2r9J9qQXety/OMg59bhH2r9J9qQXetxT17R/LdecZE96oce9bs1j+9f//rnNCw0EBAQEBAQEBAQEBAQEBAQEBAQEBBAQEBAQEBAQEBAQEBAQEBCYc0D0aCesqcc9n/2bZE96occ9dU3713LNSfakF3rcX8uqxz3S/k2yJ73Q4/5Cbj3ukfYvVE96x2fzjjbf6xnXGbvHfcOzeUMc30j7N8medDVi9m7M/XKbFxoICAgIbCd8DbRCTwQEby4uscAZpFdRb1M6mziDAAICaZdYg/4owhaXC3rcM+xxjzRfqJ70tp9BIvSktwhIqPlefwaJ0OPe+D8UpCd9XUCqd75vBz6b/fn6TNIQkFHmK+f52DIg4eZ7HpCqh/z8/PyPYriq5dXV1dWPbc8kY81Xrvm+7WcQPekZzxe9x11Pevqa5ktYM3qPu5709DXNl7Bm9B53PekwEQICAgICAgICAgICAgICAgICAgICCAgICAgICAgICAgICAgICMw5IHrSM54veo+7nvT0Nc2XsGb0Hnc96elrmi9hzeg97nrSv5RVT3qhh/yFrj3uetL/v2ZufHh11J7vTSLOV9cPMnaP+yZ60jed9xTo9EaBznbfbwsHFdbz9yAgICAgICAgICAgICAgIJCrSfakT2U+PeR60vtS25O+Qej59JBPb77J9aRvOHOEnU8P+TTn05M+0Hx6yPOZT0/6DtbUQ57PfHrSd7CmHvJ85nObFxoICAgICAgICAgICAgICAgICAgICCAgICAgICAgICAgICAgICAw54DoIU9YUw95PvPpSd/BmnrI85lPT/oO1tRDns98etJ3MJ8e8nzmC92T3sIUHl6thzy3nnSg+RILEBAQEBAQ2IV/BRgAn5AtvLT5juoAAAAASUVORK5CYII=\"\n  },\n    \"arrowsouth\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzQzOTNEQTZFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzQzOTNEQTdFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBODVCNDFGRkVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBODVCNDIwMEVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrnT/wkAAAdjSURBVHja7N0/bxNZFIbxMTJFULoEEacizXZU6UFUoP08BARKiUCQfJ+lhA+Qim6bUNlBkA6RgkjeOzCs+DN2ZrB9587N75GuvGLNnqMz84xnLO99B9PptABQzxUjAAgCEAQgCBCRYd0fDgaD7/+4HtaNsK6FdXXJtb+E9Tms92F9+sP/RtL9HR8f39/Y2NhbW1u7NRwOry+zufPz8w9nZ2dvT09PD3Z2dl7lOL/Y/dV9YTWo/cNvgmyFtR1J1HFYJy3/TtL9jcfj56PR6FE5zhX3Np1MJi+2t7cf5zS/Lvqrc+HKHHNjNVdUtdZbXlmS7S98ctyLJMfX61lZq/y0ymV+KfU3S5AbHdzu3VjRe6P3F26rHkaS439JqppZzC+l/mYJcq2DBq+t6L3R+yufOWI317Km49uw5ixBrnbQ4NUVvTd6f8t+IG9YczOX+aXUn695gTkQBCAIQBCAIABBAIIABAEIAhAEIAgAggAEAQgCEAQgCEAQgCAAQYDLLMiXDnr5sqL3Ru+v3NQtdnOh5sdc5pdSf7ME+dxBg59X9N7o/ZU7HsZurmVNx7dhzVmCvO+gwfcrem/0/srtQMNLzOCVaaj5Mpf5pdTfLEHKvUrHEZsbF+32b026v3Kv3HI70FiSlLVa7s/r+Dbsb97evCU2N1588+qH1ebVm8tsrnzmqDavfmnz6uX013bzauBS0WbzagAEAQgCEAQgCEAQgCAAQQCCABkzvODf+ynCAv1Np9M74eVBWLthjZbc3ySso7AOB4PBmxznl0J/ctJX1F+Y65Pw8rSIkJMe1n44Zs9yml+RSE76LEFKc/+K/Gn2b4srTdL9hZneDi+vi3hR0OVBvNvik8TxrekvHLdPTZ9B5GgvVnOviJyTXtXMZX5y0hesmXp/ux30t5vR/OSkL1gz9f5GHfS3ldH85KQDfYAgAEEAggAEAQgCEAQgCEAQgCAAQQAQBCAIQBCAIABBAIIABAEIAlxmQeRoL1Zz0kF/JxnNT076gjVT7++og/6OMpqfnPQFa6be32EROSc9rIOM5icn/ReyykmvdjjcjyjJfsv9eR3fhv3JSV9hf9Xm1eWOh+WmbltL7u+kuq06sHn1cvqTkw7Mv6A1vsUCQBCAIMAfM0y9wbr7whTwnEYQZPjQ6eLiFgsgCEAQgCBATx/Sj4+P729sbOytra3dGg6H15dZ+Pz8/MPZ2dnb09PTg52dnVd/+JDX+U8RzC/v+c38qcl4PH4+Go0eFRFyvieTyYvt7e3Htf8yoRz3H3u56JuYFOY364Tsen5NvsXqYn6Nf4v17t27ezdv3vyniJjzHWr+XWdySjnuP+ZozzvI4cqXxPzmCNLp/C4SpKv5hZqvGj2DhI+1h0XknO+qZlOSzvk2v3zmVytIec8Xe3otayad821++cyvVpBlPxA1+rZgONxs8fakc77NL5/5+ZoXmANBAIIABAEIAhAEIAhAEIAgAEEAggAgCEAQgCAAQQCCAAQBCAIQBLi0gpSbasVuJNT82OLtSed8m18+86sVpNxxLnaDLWsmnfNtfvnMr1aQcjvGInLOd6j5ssX7k875Nr985lcrSLlDX7kdY6wmy1ot95dNOufb/PKZ39wY6Grz4IfV5sGby2yqvOerNg9+Oe/gppTj3mZv3hTmd8HevJ3Nr2nCVOz59TInXYyY2XU5L1/zAnMgCEAQ4M9IPgZaHjkIAhcXt1gAQQCCAAQBcOFDetSfIrQl1Rzy70yn0zvh5UFYu2GNljy/SVhHYR2Gh/E3Oc4vhfNvkFIOeau/kEiO+xw5noSXpzH6C2s/HLNnOc2v6DDHvYkgneRoN/0kSSWHfI4ct8PL65j9hXW36SdJ6vOrPjk6y3Fv8gwiR/uXa0bLHPK92P1VNXOZXzLn3yxB5GgvVnO3g/ntZjS/ZM6/WYLI0f69Zpv/H2HUwfy2MppfMuefr3mBORAEIAhAEIAgAEEAggAEAQgCEAQgCACCAAQBCAIQBCAIQBCAIABBgMssiBzt32u2ySGfdDC/k4zml8z5N0sQOdqL1TzqYH5HGc0vmfNvliBytH+mbQ75Yez+wjrIaH7JnH+zBJGj/eP9Ussc8mqHw/2IJ+F+m/155bg3P/8GKeWQtyWFHPe5l81vm1eXOx6Wm7ptLXl+J9Vt1cGCm1cnO7+ioxz3NoIAlwY56UBLCAIQBCAIQBCAIABBAIIABAFypdc56YUc997nkKfeX29z0gs57t/pTQ556v21+anJesTmiqrWessrS7L9lTnkkeT4ej0ra5WfVrnML6X+epmTXshx/02SvuaQp95fL3PSCznui9Z0fBvW7GVOeiHHva7mZi7zK+SkA/2AIABBAIIABAEIAhAEIAhAEIAgAEEAEAQgCEAQgCAAQQCCAAQBCAJcZkGSzkkv5LjX1fyYy/wKOekL15TjvlhNx7dhzV7mpBdy3H+ltznkqffXy5z0Qo77T/Q5hzz1/nqdk17Ice9VDnnq/TXOSQcw/xYLAEEAggAEAVbBfwIMABHqkLV5zl8hAAAAAElFTkSuQmCC\"\n  },\n    \"arrowsouthwest\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3Njk4RTdFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3Njk4RThFQzNDMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTc2OThFNUVDM0MxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTc2OThFNkVDM0MxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgEb5sEAAAXPSURBVHja7N3NbuNUGAZgd9QuWs2uoNKumg077mPE/TCIK+DvftBwHezYtKuECrobtYtGCja0Q8jEHjtOjr9jP48UCZWE83Ha13GsyO/RarUqgO1e2QIQEBAQEBBI6HjbD4+Ojl7+8XX5uCgfZ+XjZM9rP5WPh/JxVz7e7/jfMN/afOsXXNZ+h9nu383NzZvz8/NvTk9Pvzo+Pv58n8Mtl8s/Hx8ff7u/v/9pNpv9url/H/Zx6w//3dwvysdVoqDOy8cfHV9jvo35OgYk9P7N5/PvLy8vv63+Vw4822qxWPx4dXX13bYsvGo4sqTavOJ5rdcdj8zmG+l81TtHonD8cyyp1qrW7PIZ5GKA072LAz3XfJnNV55WvU0Ujg8hqU7lugTkbIANPDvQc82X2XzVZ47Uw9WtWReQkwE28ORAzzVfZvOVH8g/Sz1c3UUAl3mhgYCAgICAgICAgICAgICAgICAgIAAAgICAgICAgICAgICAgICAlMOyNMAszwd6Lnmy2y+5XL5V+rhqhvJdQnIwwAb+HCg55ovs/mqOx6mHq5uzbqA3A2wgXcHeq75Mpuvuh1o4tlW5Zo/dwlIdS/VecIB50W3+7eab8TzzWazd4vF4ofqDzdFOKpbj1ZrbvuXTffmrbg5tJtXD7Z/zzevfvt88+q93iur+pyzdvPqd5v71zYg7HJIClBr53e4n9+by7zQ4NgWOHpTzzsIjOkdJEpttXcJASGz0AqzUywQEBAQEBAY94f0kF9FGOqrMG0/jEef70XqHvIdDP73l11PejXvUPPVfddpcw8jzFcT2P9eMEAPecfXhdg/PekTnC9SD3n0/dOTPsH5IvWQR98/PekTnC9SD3n0/dOTPsH5IvWQR98/l3mhgYCAgICAgICAgICAgICAgICAgIAAAgICAgICAgICAgICAgICAlMOiJ7vEc8XqYc8+v7pSZ/gfJF6yKPvn570Cc4XqYc8+v7pSZ/gfJF6yKPvX3Y96Wv35k0+X8d78w46X808/5O6h3wHg+9fdj3pETsKVbCNg5506EhAoIGWW6cweAcBAQEBAZ9B2Lvol6K9g4CAwIROsaL2aOshH/f+RZqv9qsmUXu0I/akb31BsP3bMnuYHveagMTtSdej/RE95An3r4jek65Hu9+a9q/3mrF70vVo91vT/vVeM3ZPuh7tfmvav95r6kmHHAgICAgICAgICAgICAgICAgICAgIICAgICAgICAgICAgICAgIDDZgOjR7rem/eu9ZuyedD3a/da0f73XjN2Trke735r2r/easXvS9Wh/RA95wv0rculJj9ijHbEnvU6k/auZ3c2r9aQfRm7FnQp0duMyLwgICAjsnRLPkZ/b5/ZZSUAQlIwOdk6xYEzvII6E+JAOAgKZn2JF7fmOPl8uPe6p59vB4PNl15P+Isp8DV/VCdHz3fCZLfl8HV8TY/+2/fD29vbN9fX1L0W6KuNVuebXbb+0WL1zRJmv5o+yOvJ9mfhs4PdylvctAzLIfB3eScLsX5Y96XrIe69pvpZrZtmTroe895rma7lmlj3pesh7r2m+lmu6zAsNBAQEBAQEBAQEBAQEBAQEBAQEBAQQEBAQEBAQEBAQEBAQEBAQmGxAovd86yHvvab5Wq6ZZU+6HvLea5qv5ZpZ9qTrIe+9pvlarpllT7oe8o9k20Mefb7setLXRZjvE/fDHb7nu7lPxc2rx9aTHo2OwnH/Ll3mhQZKPB2haeAdBAQEBAQEBAQEBAQEBLKmJ33C8xW+aqIn3Xy19KRvzKcn3XzrR2Y96Rvz6Uk33ws96S3X1JM+wfkKPemt19STPsH5Cj3prdd0mRcaCAgICAgICAgICAgICAgICAgICAggICAgICAgICAgICAgICAgMNmA6Ekf93yFnvTWa+pJn+B8hZ701mvqSZ/gfIWe9NZr6kmf4HyFnvTW8+lJn/B8hZtX79aTDjScYgECAgICAgIH8rcAAwDOgyqtx7KFLQAAAABJRU5ErkJggg==\"\n  },\n    \"arrowwest\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzQzOTNEQUFFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzQzOTNEQUJFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNDM5M0RBOEVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNDM5M0RBOUVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvkudBoAAAcJSURBVHja7N3BctNWFIdxmbEXyWRHIcQ7PwCvUJbtAxUY+gKlpW/TLmDRvgGrPgA7i5SyYZiwSAZXFwwTQHKubOtKV/l9M3fKpI7PyRGfbQnl/ier1aoAUM8NIwAIAhAEIAiQkGndFyeTyac/HlXruFqH1ZrtufZ5tc6qdVqtt1s+x6D7e/HixY83b968f3BwcHc6nd7aZ3MXFxev3r1798/r169/WywWz8Y4v9T91V2wmtR+8aMgd6o1TyTqslovW37PoPtbLpe/nJycPAzj7Li3VVmWv87n80djml8f/dW5cGODuamaK9a1jlq+sgy2v/DOkUiOD69noVaoOZb5Dam/JkGOe/i4d9zRY5P3V32sepBIjs+ShI9yY5nfkPprEuSwhwYPO3ps8v7COUfq5lrWdHwjazYJMuuhwVlHj03eX3VC/l3yqy3tLgI4vpE1XeYFNkAQgCAAQQCCAAQBCAIQBCAIQBCAIAAIAhAEIAhAEIAgAEEAggAEAa6zIOc99HLe0WOT93dxcfFf6ubCRnJjmd+Q+msS5KyHBs86emzy/sKOh6mba1nT8Y2s2STIaQ8Nnnb02OT9he1AE/e2qmo+Gcv8htRfkyBhr9JlwuaWRbv9Wwfd32KxeFqW5ePwFzeFHGHr0VBzLPMbUn+b9uYN2Nx4982rH6w3r97rXlnhPOfS5tVPxzi/YuCbVwPXijabVwMgCEAQgCBAF0yNoJuTuyHhoot3EIAgAEEAggDjOEmXQ75FDnlft+pscbHArSZX9JdtTvqQcsi/nmFf82sSpOEqlpz0iPllmZMuh3y3+ekvvr8sc9LlkO9cU3+RNbPMSZdDvnNN/UXWzDInXQ75zjX1F1nTZV5gAwQBCAIQBCAIQBCAIABBAIIABAEIAoAgAEEAggAEAQgCEAQgCEAQ4DoLIof825pyyK9hf1nmpMsh37mm/iJrZpmTLod855r6i6yZZU66HPLd5qe/+P6yzkkfSg55w968yefXcm/ewR/fQk76OBDBNt7j6DIvsAGCABuQcusjDLyDAAQBCAIQBCAIQBBgvIKEWznevHnz1/n5+b+rPROeMzx3VeOHbZuvnuZetf6o1nK1f5br5/5+2/7MbwTzC/+8/vUKhBzy6s/vV93zPtTa4uD+nKq/UKttf+aX3/xqXaj7YjA3UXOfm2yTQ75+5UvaX6jZ5pXP/PKbX50LtR+xMsghv5+6v2r9FPtg8xvP/Grv5g2/Xpo6ajnUnM1mtyNfAcvqP3cSn6+Vk8lkHvPA6vOt+WU4v6rm7ShBijS/iPStrZE3Na16ur9cf+Pur+5dy2VeYNvLvABBABAEIAhAEIAgAEEAggAEAQgCEAQAQQCCAAQBCAIQBCAIQBBgzIJkkEP+sodZlS1+FvMbyfxqBckgh/x5Dwf4eUc/i/kNeH61gmSQQ/4kdX/V+j32weY3ovnZetTWo+bXcuvRT6w3D/47bOTVwebBr8Jzt9kys+Yghy00/wwboXUwuHL93Pe27c/88ppfnQty0oFLgkSdgwAgCEAQYBemRrD/z61DwvmkdxCAIABBAIIABAFGwVVXsY6qdVytw2rN9lz7vFpn1Tqt1tttniDcJhDCFw8ODu5Op9Nb+2wu3P4c7vAMN84tFotnbb730pWjpPPb4oraoI/vEPrbdKtJCHmcJxJ1WbT8HYVwg9nJycnDovs01FVZlr/O5/NHtf9zQPNredvQoI/vUOZ3Y4O5qZor1rWO2rxzJJLjw9+xUKvlTYGDnp/+4vtrEuS4h4970TUzyCEf9Pz0F1+zSZDDHhqMrhnOOVI317LmoOenv/iaTYLMemgwumbqkPl1zVtd/Cx9zE9/8TVd5gU2QBCAIABBAIIABAEIAhAEIAhAEIAgAAgCEAQgCEAQgCAAQQCCAAQBrrMg5z30El0zgxzyQc9Pf/E1mwQ566HB6JoZ5JAPen76i6/ZJMhpDw1G18wgh3zQ89NffM0mQcJepcuEzS2LFvu3LhaLp2VZPi4+BtR3LkfYejTUbPE9g56f/uL7uyoGOofNqx+sN6/e615Z4Tzn0ubVjXIMaX5bRHrbvPqq+clJ3/HtRUbhqI+ly7zABqTceoXGBryDAAQBCAIQBCAIQBCAIEDWZJ2TXshx3yrH3fGN7y/bnPRCjvsnNua45zq/Qk76F4wq51uO+3iOb5Y56YUc928kkePeTX9Z5qQXctx3ren4RtbMMie9kONeV1OOewf9ucwLbIAgAEEAggAEAQgCEAQgCEAQgCAAQQAQBCAIQBCAIABBAIIABAEIAlxnQeRo71BTjvt4jm+WOemFHPddazq+kTWzzEkv5Lh/jRz3jvrLMie9kOP+hRxy3LvrL+uc9EKO+5U57jnPrxhqTjqAzR+xABAEIAhAEKAL/hdgAD6YnLy8rsWVAAAAAElFTkSuQmCC\"\n  },\n    \"arrownorthwest\": {\n    \"icon\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzQzOTNEQUVFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzQzOTNEQUZFQzNCMTFFQTkwMDREMjM3Rjg3MzY4NzkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNDM5M0RBQ0VDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNDM5M0RBREVDM0IxMUVBOTAwNEQyMzdGODczNjg3OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pncgm/sAAAXOSURBVHja7N3NThtXGAbgceQuQOxoRGEFm+xyH1HvJ/25gqrt/VTtdXTXDaxMo5ZdBIsguTPgShYaDzNz7PF3jp9HsiIlkPPpjF//gc47Wy6XFdDujS0AAQEBAQGBCc3b/nI2mz39eX19/eH09PS7o6Oj9/P5/OttLvz4+Pjvw8PDn3d3d79cXV39Pub/MF/afLWT+nZW347r21dbvm99qW/39e1Tffucw3xtH1jNWv+yDshisfjp/Pz8hwlCury9vf354uLixyHfZL60+Wrf1LeLiR6IF/Xt7+jz9Q7Izc3Nh8vLy9+af59owGW95rd9HwmbR2bzjZ9v9cj8buJXK38NeCbZy3x1Fj73eg/SvCyY8OI+BbVe82PfLzZf2nyrly1TO8txvtaANK+Zp55uyJrmS17zeA93wOMc52sNyLbfUPb6tGA+fzvga82XMN8O3vBue80w8/mYFzoICAgICAgICAgICAgICAgICAgICCAgICAgICAgICAgICAgICBwsAFpDiWbepB6zX8GfK35Euarng9Nm9qXHOdrDUhzYt/U0w1Z03zJa97v4Q54n+N8rQFpjrOs/5iyOGS5WrMX86XNVz0ftzm1TznO1xqQ5oS+5jjLiS7y09GZ9Zp/9P0G86XNVz2fcLiY8M63qIadzxtmvo1n8zZWhy9/XB2+/HabEzWvmVeHL/+aeDi0+RxevZX5Bh1eDYemLQs+5oUOAgICAgICAgICAgICAgJZm9uCcdp+qMQ4kX8w3RkQPeTj5lu74Hv/VYkc51uz91+F0ZM+cr6ui726A4bo+c5hvg3PIHrS1+9vufWQvxKQMD3fOczXEhA96S/3SA95sjPzbX8+Pem7WVMPeSHz6UnfwXyVHvJi5vNzEOggICAgICAgICAgICAgICAgICAgIICAgICAgICAgICAgICAgIDAwQZED3nafJUe8mLm05O+mzX1kBcyn570HcxX6SEvZj496TuYr9JDXsx8etJHztfjbN6Gw6t7zNdxurue9FypP9ieKPc3PekwkIBABw1Tmb8swDMIeAbJ+Y2xZxMBIXMeXLzEAgEBAYEc3oPoIU/r+bZ/w/bv/3/f13yte5VTT/qLDQzd8x1t/9Znj7R/63sX8fq+2fTIV1/c76f6IKNZq1lzwPecTLh51WqtkyHPHPZv/P5Fmi/LnvQqeM+3/UteU0964pqhe77tX/KaetJb1iymh9z+Ja+pJx1yICAgICAgICAgICAgICAgICAgICCAgICAgICAgICAgICAgICAwMEGRA952pr2L3lNPemJa4bu+bZ/yWvqSX+hqB5y+5e8pp709YtbWg+5/Uvbv0pP+rie9H0fbjy05zvS/rWczRti/zrO5o0xX0496VqSyt67iDP6mBcEBMZR4omXqh0v8TyDQCnPIPrIERA8uAhIOXz0XDbvQUBAYDcvsfbeU53jfHrc03rcI13frl81mbyneuD3hJgv0v5t+H2r9m8I1uMe4foO+TmIHu2C59Pj3n//NgVEj3bB8+lx77/mpoDo0S54Pj3u/dfcFBA92gXPp8e9/5o+5oUOAgICAgICAgICAgICAgICAgICAgIICAgICAgICAgICAgICAgIHHJA9GgXPJ8e9/5rbgqIHu2C59Pj3n/NTQHRo13wfHrc+6+5KSB6tAueT497//17rQba4dWvzBdp/4aczduI1OMe4fpm35MekQKdsq+lj3mhg4CAgICAgICAgICAgICAgECp9KTvYL5cetKjX98IPe560hPny7UnPfr13UePu55082UxX6Qedz3p5gs3X6Qedz3p5gs3X6Qedz3p5gs3X6Qedx/zQgcBAQEBAQEBAQEBAQEBAQEBAQEBAQQEBAQEBAQEBAQEBAQEBAQOOSB6yM23t/ki9bjrSTdfuPki9bjrSTdfuPki9bjrSTdfuPki9bjrSU+cL+ee9CqPw6sn63Hv3ZMOdL/EAgQEBAQEBHbhPwEGAINqOacrDo3YAAAAAElFTkSuQmCC\"\n  }\n}",
            "keyvaluestorage.cpp": "#include \"pxt.h\"\n#include \"KeyValueStorage.h\"\n\nnamespace pxt {\n\nclass WKeyValueStorage {\n#ifdef CODAL_NVMCONTROLLER\n    CODAL_NVMCONTROLLER controller;\n#else\n    NVMController controller;\n#endif\n    KeyValueStorage storage;\n  public:\n\n    WKeyValueStorage()\n    : controller()\n    , storage(controller) {\n    }\n\n    bool isSupported() {\n#ifdef CODAL_NVMCONTROLLER\n      return true;\n#else\n      return false;\n#endif\n    }\n\n    int put(String key, Buffer data) {\n#ifdef CODAL_NVMCONTROLLER\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        return storage.put(mkey, data->data, data->length);\n#else\n        return -1;\n#endif\n    }\n\n    Buffer get(String key) {\n#ifdef CODAL_NVMCONTROLLER\n        Buffer buf = NULL;\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        auto entry = storage.get(mkey);\n        if (entry) {\n          buf = mkBuffer(entry->value, sizeof(entry->value));\n          free(entry);\n        }\n        return buf;\n#else\n        return NULL;\n#endif\n    }\n\n    void remove(String key) {\n#ifdef CODAL_NVMCONTROLLER\n        ManagedString mkey(key->getUTF8Data(), key->getUTF8Size());\n        storage.remove(mkey);\n#endif\n    }\n\n    void clear() {\n#ifdef CODAL_NVMCONTROLLER\n        storage.wipe();\n#endif\n    }\n};\nSINGLETON(WKeyValueStorage);\n\n}\n\nnamespace configStorage {\n  /**\n  * Puts an entry in the device storage. Key may have up to 16 characters (bytes).\n  * @param key the identifier (max 16 characters)\n  * @param value the data (max 32 characters)\n  */\n  //%\n  void setBuffer(String key, Buffer value) {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->put(key, value);\n  }\n\n  /**\n  * Gets an entry from the device storage. Key may have up to 16 characters (bytes).\n  * @param key the identifier (max 16 characters)\n  */\n  //%\n  Buffer getBuffer(String key) {\n    auto kvm = pxt::getWKeyValueStorage();\n    return kvm->get(key);\n  }\n\n  /**\n  * Removes the key from local storage\n  * @param key the identifier (max 16 characters)\n  */\n  //%\n  void removeItem(String key) {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->remove(key);\n  }\n\n  /**\n  * Clears the local storage\n  */\n  //%\n  void clear() {\n    auto kvm = pxt::getWKeyValueStorage();\n    kvm->clear();\n  }\n}\n",
            "keyvaluestorage.ts": "namespace configStorage {\n    /**\n     * Stores the value at the key entry\n     * @param key identifier of the key (max 16 characters)\n     * @param value identifier of the value (max 32 characters)\n     */\n    export function setItem(key: string, value: string) {\n        if (value == null)\n            configStorage.removeItem(key);\n        else\n        {\n            let idx = 0;\n            let buf = control.createBuffer(value.length + 1);\n            buf[idx++] = value.length;\n            let valBuf = control.createBufferFromUTF8(value);\n\n            for (let i = 0; i < valBuf.length; i++)\n                buf[idx++] = valBuf[i];\n\n            configStorage.setBuffer(key, buf);\n        }\n    }\n\n    /**\n     * Retrieves the value at the key entry\n     * @param key identifier of the key (max 16 characters)\n     */\n    export function getItem(key: string): string {\n        const buf = configStorage.getBuffer(key);\n\n        if (!buf)\n            return undefined;\n\n        let idx = 0;\n        let count = buf[idx++];\n        const retBuf = control.createBuffer(count);\n\n        for (let i = 0; i < count; i++)\n            retBuf[i] = buf[idx++];\n\n        return retBuf.toString();\n    }\n}\n",
            "led.cpp": "#include \"pxt.h\"\n#include \"led.h\"\n\n\nnamespace pxt {\n\n  TeknikioDevice teknikioDevice;\n\n  void initTeknikio() {\n    teknikioDevice.init();\n  }\n}\n\n\n//% color=#7600A8 weight=101 icon=\"\\uf205\"\nnamespace led {\n\n    typedef uint32_t ImageLiteral_;\n    /**\n     * Draws an image on the LED screen.\n     * @param leds the pattern of LED to turn on/off\n     * @param interval time in milliseconds to pause after drawing\n     */\n    //% help=basic/show-leds\n    //% weight=95 blockGap=8\n    //% imageLiteral=1 async\n    //% blockId=device_show_leds\n    //% block=\"show leds\" icon=\"\\uf00a\"\n    //% parts=\"ledmatrix\"\n    void showLeds(uint32_t leds, int interval = 400) {\n      //uBit.display.print(MicroBitImage(imageBytes(leds)), 0, 0, 0, interval);\n    }\n\n\n    /**\n     * Turn on the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED starting at 0\n     * @param y the vertical coordinate of the LED starting at 0\n     */\n    //% help=led/plot weight=78\n    //% blockId=device_plot block=\"plot|x %x|y %y\" blockGap=8\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=5\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    void plot(int x, int y) {\n      teknikioDevice.display.image.setPixelValue(x, y, 0xff);\n    }\n\n\n    /**\n     * Turn off the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED\n     * @param y the vertical coordinate of the LED\n     */\n    //% help=led/unplot weight=77\n    //% blockId=device_unplot block=\"unplot|x %x|y %y\" blockGap=8\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=5\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    void unplot(int x, int y) {\n      teknikioDevice.display.image.setPixelValue(x, y, 0);\n    }\n\n        /**\n     * Get the brightness state of the specified LED using x, y coordinates. (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED\n     * @param y the vertical coordinate of the LED\n     */\n    //% help=led/point-brightness weight=76\n    //% blockId=device_point_brightness block=\"point|x %x|y %y brightness\"\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=4\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    //% advanced=true\n    int pointBrightness(int x, int y) {\n      return teknikioDevice.display.image.getPixelValue(x, y);\n    }\n}",
            "led.h": "#include \"Display.h\"\n#include \"TeknikioDevice.h\"\n//#include \"MicroBitImage.h\"\n\nnamespace pxt {\n\nextern TeknikioDevice teknikioDevice;\n\nvoid initTeknikio();\n\n};\n\n\n#undef PXT_MAIN\n#define PXT_MAIN                                                                                   \\\n    int main() {                                                                                   \\\n        pxt::initTeknikio();                                                                     \\\n        pxt::start();                                                                              \\\n        return 0;                                                                                  \\\n    }",
            "led.ts": "/**\n * Control of the LED screen.\n */\n\n\nenum IconNames {\n    //% block=\"heart\"\n    //% jres=icons.heart\n    Heart = 0,\n    //% block=\"small heart\"\n    //% jres=icons.smallheart\n    SmallHeart,\n    //% block=\"yes\"\n    //% jres=icons.yes\n    Yes,\n    //% block=\"no\"\n    //% jres=icons.no\n    No,\n    //% block=\"happy\"\n    //% jres=icons.happy\n    Happy,\n    //% block=\"sad\"\n    //% jres=icons.sad\n    Sad,\n    //% block=\"confused\"\n    //% jres=icons.confused\n    Confused,\n    //% block=\"angry\"\n    //% jres=icons.angry\n    Angry,\n    //% block=\"asleep\"\n    //% jres=icons.asleep\n    Asleep,\n    //% block=\"surprised\"\n    //% jres=icons.surprised\n    Surprised,\n    //% block=\"silly\"\n    //% jres=icons.silly\n    Silly,\n    //% block=\"fabulous\"\n    //% jres=icons.fabulous\n    Fabulous,\n    //% block=\"meh\"\n    //% jres=icons.meh\n    Meh,\n    //% block=\"t-shirt\"\n    //% jres=icons.tshirt\n    TShirt,\n    //% block=\"roller skate\"\n    //% jres=icons.rollerskate\n    Rollerskate,\n    //% block=\"duck\"\n    //% jres=icons.duck\n    Duck,\n    //% block=\"house\"\n    //% jres=icons.house\n    House,\n    //% block=\"tortoise\"\n    //% jres=icons.tortoise\n    Tortoise,\n    //% block=\"butterfly\"\n    //% jres=icons.butterfly\n    Butterfly,\n    //% block=\"stick figure\"\n    //% jres=icons.stickfigure\n    StickFigure,\n    //% block=\"ghost\"\n    //% jres=icons.ghost\n    Ghost,\n    //% block=\"sword\"\n    //% jres=icons.sword\n    Sword,\n    //% block=\"giraffe\"\n    //% jres=icons.giraffe\n    Giraffe,\n    //% block=\"skull\"\n    //% jres=icons.skull\n    Skull,\n    //% block=\"umbrella\"\n    //% jres=icons.umbrella\n    Umbrella,\n    //% block=\"snake\"\n    //% jres=icons.snake\n    Snake,\n    //% block=\"rabbit\"\n    //% jres=icons.rabbit\n    Rabbit,\n    //% block=\"cow\"\n    //% jres=icons.cow\n    Cow,\n    //% block=\"quarter note\"\n    //% jres=icons.quarternote\n    QuarterNote,\n    //% block=\"eigth note\"\n    //% jres=icons.eigthnote\n    EigthNote,\n    //% block=\"pitchfork\"\n    //% jres=icons.pitchfork\n    Pitchfork,\n    //% block=\"target\"\n    //% jres=icons.target\n    Target,\n    //% block=\"triangle\"\n    //% jres=icons.triangle\n    Triangle,\n    //% block=\"left triangle\"\n    //% jres=icons.lefttriangle\n    LeftTriangle,\n    //% block=\"chess board\"\n    //% jres=icons.chessboard\n    Chessboard,\n    //% block=\"diamond\"\n    //% jres=icons.diamond\n    Diamond,\n    //% block=\"small diamond\"\n    //% jres=icons.smalldiamond\n    SmallDiamond,\n    //% block=\"square\"\n    //% jres=icons.square\n    Square,\n    //% block=\"small square\"\n    //% jres=icons.smallsquare\n    SmallSquare,\n    //% block=\"scissors\"\n    //% jres=icons.scissors\n    Scissors\n}\n\n//% color=#5C2D91 weight=101 icon=\"\\uf205\" advanced=true\nnamespace led {\n\n    /**\n     * Get the on/off state of the specified LED using x, y coordinates. (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED\n     * @param y the vertical coordinate of the LED\n     */\n    //% help=led/point weight=76\n    //% blockId=device_point block=\"point|x %x|y %y\"\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=4\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    export function point(x: number, y: number): boolean {\n        return led.pointBrightness(x, y) > 0;\n    }\n\n    // what's the current high value\n    let barGraphHigh = 0;\n    // when was the current high value recorded\n    let barGraphHighLast = 0;\n\n    /**\n     * Displays a vertical bar graph based on the `value` and `high` value.\n     * If `high` is 0, the chart gets adjusted automatically.\n     * @param value current value to plot\n     * @param high maximum value. If 0, maximum value adjusted automatically, eg: 0\n     */\n    //% help=led/plot-bar-graph weight=20\n    //% blockId=device_plot_bar_graph block=\"plot bar graph of %value up to %high\" icon=\"\\uf080\" blockExternalInputs=true\n    //% parts=\"ledmatrix\"\n    export function plotBarGraph(value: number, high: number): void {\n        // const now = input.runningTime();\n        // console.logValue(\"\", value);\n        // value = Math.abs(value);\n\n        // // auto-scale \"high\" is not provided\n        // if (high > 0) {\n        //     barGraphHigh = high;\n        // } else if (value > barGraphHigh || now - barGraphHighLast > 10000) {\n        //     barGraphHigh = value;\n        //     barGraphHighLast = now;\n        // }\n\n        // // normalize lack of data to 0..1\n        // if (barGraphHigh < 16 * Number.EPSILON)\n        //     barGraphHigh = 1;\n\n        // // normalize value to 0..1\n        // const v = value / barGraphHigh;\n        // const dv = 1 / 16;\n        // let k = 0;\n        // for (let y = 4; y >= 0; --y) {\n        //     for (let x = 0; x < 3; ++x) {\n        //         if (k > v) {\n        //             unplot(2 - x, y);\n        //             unplot(2 + x, y);\n        //         } else {\n        //             plot(2 - x, y);\n        //             plot(2 + x, y);\n        //         }\n        //         k += dv;\n        //     }\n        // }\n    }\n\n    /**\n     * Toggles a particular pixel\n     * @param x pixel column\n     * @param y pixel row\n     */\n    //% help=led/toggle weight=77\n    //% blockId=device_led_toggle block=\"toggle|x %x|y %y\" icon=\"\\uf204\" blockGap=8\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=4\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    export function toggle(x: number, y: number): void {\n        if (led.point(x, y)) {\n            led.unplot(x, y);\n        } else {\n            led.plot(x, y);\n        }\n    }\n\n    /**\n     * Draws the selected icon on the LED screen\n     * @param icon the predefined icon id\n     * @param interval the amount of time (milliseconds) to show the icon. Default is 600.\n     */\n    //% weight=90 blockGap=8\n    //% blockId=basic_show_icon\n    //% block=\"show icon %i\" icon=\"\\uf00a\"\n    //% parts=\"ledmatrix\"\n    //% help=basic/show-icon\n    //% icon.fieldEditor=\"imagedropdown\"\n    //% icon.fieldOptions.columns=\"5\"\n    //% icon.fieldOptions.width=\"380\"\n    //% icon.fieldOptions.maxRows=4\n    export function showIcon(icon: IconNames, interval = 600) {\n        // let res = images.iconImage(icon)\n        // res.showImage(0, interval)\n    }\n}",
            "leveldetector.ts": "namespace pins {\n    export class LevelDetector {\n        public id: number;\n        public min: number;\n        public max: number;\n        public lowThreshold: number;\n        public highThreshold: number;\n        private transition: number;\n        private transitionMs: number;\n        private _level: number;\n        private _state: number;\n        public onHigh: () => void;\n        public onLow: () => void;\n        public onNeutral: () => void;\n        public transitionWindow: number;\n        // minimum duration (ms) between events\n        public transitionInterval: number;\n\n        static LEVEL_THRESHOLD_NEUTRAL = 0;\n\n        constructor(id: number,\n            min: number, max: number,\n            lowThreshold: number, highThreshold: number) {\n            this.id = id;\n            this.min = min;\n            this.max = max;\n            this.lowThreshold = lowThreshold;\n            this.highThreshold = highThreshold;\n            this.transitionWindow = 4;\n            this.transitionInterval = 0;\n\n            this.onHigh = () => control.raiseEvent(this.id, DAL.LEVEL_THRESHOLD_HIGH);\n            this.onLow = () => control.raiseEvent(this.id, DAL.LEVEL_THRESHOLD_LOW);\n            this.onNeutral = undefined;\n\n            this.reset();\n        }\n\n        reset() {\n            this.transition = 0;\n            this.transitionMs = 0;\n            this._level = Math.ceil((this.highThreshold - this.lowThreshold) / 2);\n            this._state = LevelDetector.LEVEL_THRESHOLD_NEUTRAL;\n        }\n\n        get level(): number {\n            return this._level;\n        }\n\n        set level(level: number) {\n            this._level = this.clampValue(level);\n\n            if (this._level >= this.highThreshold) {\n                this.setState(DAL.LEVEL_THRESHOLD_HIGH);\n            }\n            else if (this._level <= this.lowThreshold) {\n                this.setState(DAL.LEVEL_THRESHOLD_LOW);\n            }\n            else {\n                this.setState(LevelDetector.LEVEL_THRESHOLD_NEUTRAL);\n            }\n        }\n\n        public setLowThreshold(value: number) {\n            this.lowThreshold = this.clampValue(value);\n            this.reset();\n        }\n\n        public setHighThreshold(value: number) {\n            this.highThreshold = this.clampValue(value);\n            this.reset();\n        }\n\n        private clampValue(value: number) {\n            if (value < this.min) {\n                return this.min;\n            }\n            else if (value > this.max) {\n                return this.max;\n            }\n            return value;\n        }\n\n        private setState(state: number) {\n            // not enough samples to change\n            if (this._state === state \n                || (this.transition++ < this.transitionWindow)\n                || (control.millis() - this.transitionMs) < this.transitionInterval) {\n                return;\n            }\n\n            this.transition = 0;\n            this.transitionMs = control.millis();\n            this._state = state;\n            switch (state) {\n                case DAL.LEVEL_THRESHOLD_HIGH:\n                    if (this.onHigh) this.onHigh();\n                    break;\n                case DAL.LEVEL_THRESHOLD_LOW:\n                    if (this.onLow) this.onLow();\n                    break;\n                case LevelDetector.LEVEL_THRESHOLD_NEUTRAL:\n                    if (this.onNeutral) this.onNeutral();\n                    break;\n            }\n        }\n    }\n}",
            "light.cpp": "#include \"light.h\"\n\n#if defined(NRF52_SERIES)\n#define SPI_SUPPORTED 0\n#else\n#define SPI_SUPPORTED 1\n#endif\n\n#if defined(SAMD21) || defined(SAMD51) || defined(STM32F4) || defined(NRF52_SERIES)\n#include \"neopixel.h\"\n#define BITBANG_SUPPORTED 1\n#else\n#define BITBANG_SUPPORTED 0\n#endif\n\n#define NEOPIXEL_MIN_LENGTH_FOR_SPI 24\n#define DOTSTAR_MIN_LENGTH_FOR_SPI 24\n\n#define LIGHTMODE_RGB 1\n#define LIGHTMODE_RGBW 2\n#define LIGHTMODE_RGB_RGB 3\n#define LIGHTMODE_DOTSTAR 4\n\nnamespace light {\nbool isValidMOSIPin(DigitalInOutPin pin) {\n    if (!pin)\n        return false;\n\n#if SAMD51\n    return ZSPI::isValidMOSIPin(*pin);\n#else\n    // TODO: support for SPI neopixels\n    // default SPI pins supported for now\n    return pin == LOOKUP_PIN(MOSI);\n#endif\n\n}\n\n// SPI\nvoid spiNeopixelSendBuffer(DevicePin* pin, const uint8_t *data, unsigned size) {\n    int32_t iptr = 0, optr = 100;\n    uint32_t len = optr + size * 3 + optr;\n    uint8_t *expBuf = new uint8_t[len];\n    memset(expBuf, 0, len);\n    uint8_t imask = 0x80;\n    uint8_t omask = 0x80;\n\n#define WR(k)                                                                                      \\\n    if (k)                                                                                         \\\n        expBuf[optr] |= omask;                                                                     \\\n    omask >>= 1;                                                                                   \\\n    if (!omask) {                                                                                  \\\n        omask = 0x80;                                                                              \\\n        optr++;                                                                                    \\\n    }\n\n    while (iptr < (int)size) {\n        WR(1);\n        WR(data[iptr] & imask);\n        imask >>= 1;\n        if (!imask) {\n            imask = 0x80;\n            iptr++;\n        }\n        WR(0);\n    }\n\n    auto spi = pxt::getSPI(pin, NULL, NULL);\n    spi->setFrequency(2400000);\n    spi->transfer(expBuf, len, NULL, 0);\n    delete expBuf;\n}\n\nvoid neopixelSendData(DevicePin* pin, int mode, const uint8_t* data, unsigned length) {\n    if (!pin || !length) return;\n\n#if BITBANG_SUPPORTED\n    if (SPI_SUPPORTED && length > NEOPIXEL_MIN_LENGTH_FOR_SPI && isValidMOSIPin(pin))\n        spiNeopixelSendBuffer(pin, data, length);\n    else\n        neopixel_send_buffer(*pin, data, length);\n #else\n     if (isValidMOSIPin(pin)) {\n         spiNeopixelSendBuffer(pin, data, length);\n     }\n #endif\n}\n\nvoid bitBangDotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    // first frame of zeroes\n    data->setDigitalValue(0);\n    for (unsigned i = 0; i < 32; ++i) {\n        clk->setDigitalValue(1);\n        clk->setDigitalValue(0);\n    }\n\n    // data stream\n    for (unsigned i = 0; i < length; ++i) {\n        auto x = buf[i];\n        for (uint8_t j = 0x80; j != 0; j >>= 1) {\n            data->setDigitalValue(x & j ? 1 : 0);\n            clk->setDigitalValue(1);\n            clk->setDigitalValue(0);\n        }\n    }\n    // https://cpldcpu.wordpress.com/2016/12/13/sk9822-a-clone-of-the-apa102/\n    // reset frame\n    //data->setDigitalValue(0);\n    //for (unsigned i = 0; i < 32 ; ++i) {\n    //    clk->setDigitalValue(1);\n    //    clk->setDigitalValue(0);\n    //}\n\n    // https://cpldcpu.wordpress.com/2014/11/30/understanding-the-apa102-superled/\n    data->setDigitalValue(1);\n    unsigned n = 32;\n    for (unsigned i = 0; i < n; ++i) {\n        clk->setDigitalValue(1);\n        clk->setDigitalValue(0);\n    }\n}\n\nstatic uint8_t ZERO_FRAME[4];\nstatic uint8_t ONE_FRAME[] = {1,1,1,1};\nvoid spiDotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    auto spi = pxt::getSPI(data, NULL, clk);\n\n    spi->transfer(ZERO_FRAME, sizeof(ZERO_FRAME), NULL, 0); // initial frame\n    spi->transfer(buf, length, NULL, 0);\n    spi->transfer(ZERO_FRAME, sizeof(ZERO_FRAME), NULL, 0); // reset frame\n    for(unsigned i = 0; i < length >> 3; i += 32)\n        spi->transfer(ONE_FRAME, sizeof(ONE_FRAME), NULL, 0); // final frame\n}\n\nvoid dotStarSendData(DevicePin* data, DevicePin* clk, int mode, const uint8_t* buf, unsigned length) {\n    if (!data || !clk || !buf || !length) return;\n\n    if (length > DOTSTAR_MIN_LENGTH_FOR_SPI && isValidMOSIPin(data))\n        spiDotStarSendData(data, clk, mode, buf, length);\n    else\n        bitBangDotStarSendData(data, clk, mode, buf, length);\n}\n\nvoid sendBuffer(DevicePin* data, DevicePin* clk, int mode, Buffer buf) {\n    if (!data || !buf || !buf->length) return;\n\n    if (mode == LIGHTMODE_DOTSTAR)\n        light::dotStarSendData(data, clk, mode, buf->data, buf->length);\n    else\n        light::neopixelSendData(data, mode, buf->data, buf->length);\n}\n\n\nvoid clear() {\n    auto neopix = LOOKUP_PIN(NEOPIXEL);\n    auto neonum = getConfig(CFG_NUM_NEOPIXELS, 0);\n    if (neopix && neonum >= 0) {\n        auto n = 3 * neonum;\n        uint8_t off[n];\n        memset(off, 0, sizeof(off));\n        light::neopixelSendData(neopix, 0x100, off, sizeof(off));\n    }\n\n    auto data = LOOKUP_PIN(DOTSTAR_DATA);\n    auto clk = LOOKUP_PIN(DOTSTAR_CLOCK);\n    auto dsnum = getConfig(CFG_NUM_DOTSTARS, 0);\n    if (data && clk && dsnum > 0) {\n        auto n = 4 * dsnum;\n        uint8_t off[n];\n        memset(off, 0, sizeof(off));\n        for(int i = 0; i < n; i += 4)\n            off[i] = 0xe0;\n        bitBangDotStarSendData(data, clk, 0x100, off, sizeof(off));\n    }\n}\n\n} // namespace pxt\n",
            "light.h": "#ifndef __PXT_LIGHT_H\n#define __PXT_LIGHT_H\n\n#include \"pxt.h\"\n\nnamespace light {\n    /**\n    * Clear onboard neopixels\n    */\n    void clear();\n\n    /**\n    * Send a programmable light buffer to the specified digital pin\n    * @param data The pin that the lights are connected to\n    * @param clk the clock line if any\n    * @param mode the color encoding mode\n    * @param buf The buffer to send to the pin\n    */\n    //%\n    void sendBuffer(DigitalInOutPin data, DigitalInOutPin clk, int mode, Buffer buf);\n\n    void neopixelSendData(DevicePin* pin, int mode, const uint8_t* data, unsigned length);\n}\n\n#endif",
            "ns.ts": "/**\n * Events and data from sensors.\n */\n//% color=\"#B4009E\" weight=98 icon=\"\\uf192\"\n//% groups='[\"other\", \"More\"]'\nnamespace input {\n}\n\n/**\n * Servos\n */\n//% color=\"#03AA74\" weight=88 icon=\"\\uf021\"\nnamespace servos {\n\n}\n\n/**\n * A Joint Asynchronous Communications, Device Agnostic Control.\n */\n//% color=\"#E79251\" weight=1 icon=\"\\uf185\"\n//% groups='[\"Broadcast\", \"Console\", \"Control\"]'\n//% blockGap=8\nnamespace jacdac {\n\n}",
            "pins.cpp": "#include \"pxt.h\"\n\nnamespace pxt {\nstatic DevicePin **pinPtrs;\nstatic uint8_t numPinPtrs;\nstatic uint8_t pinPos[DEV_NUM_PINS];\n\n//%\nDevicePin *getPin(int id) {\n\n    id &= CFG_PIN_NAME_MSK;\n\n    if (id >= DEV_NUM_PINS)\n        target_panic(PANIC_NO_SUCH_PIN);\n\n    // we could use lookupComponent() here - it would be slightly slower\n\n    int ptr = pinPos[id];\n    if (ptr == 0) {\n        pinPtrs = (DevicePin **)realloc(pinPtrs, (numPinPtrs + 1) * sizeof(void *));\n        bool isAnalog = IS_ANALOG_PIN(id);\n        // GCTODO\n        pinPtrs[numPinPtrs++] =\n            new DevicePin(DEVICE_ID_IO_P0 + id, (PinName)id,\n                          isAnalog ? PIN_CAPABILITY_AD : PIN_CAPABILITY_DIGITAL);\n        ptr = numPinPtrs;\n        pinPos[id] = ptr;\n    }\n    return pinPtrs[ptr - 1];\n}\n\n//%\nDevicePin *getPinCfg(int key) {\n    return getPin(getConfig(key));\n}\n\nvoid linkPin(int from, int to) {\n    if (from < 0 || from >= DEV_NUM_PINS)\n        target_panic(PANIC_NO_SUCH_PIN);\n    getPin(to);\n    pinPos[from] = pinPos[to];\n}\n\n//%\nDevicePin *lookupPin(int pinName) {\n    if (pinName < 0 || pinName == 0xff)\n        return NULL;\n    pinName &= CFG_PIN_NAME_MSK;\n    return getPin(pinName);\n}\n\n//%\nDevicePin *lookupPinCfg(int key) {\n    return lookupPin(getConfig(key));\n}\n\nCodalComponent *lookupComponent(int id) {\n    for (int i = 0; i < DEVICE_COMPONENT_COUNT; ++i) {\n        if (CodalComponent::components[i] && CodalComponent::components[i]->id == id)\n            return CodalComponent::components[i];\n    }\n    return NULL;\n}\n\n} // namespace pxt\n\nnamespace pins {\n/**\n* Get a pin by configuration id (DAL.CFG_PIN...)\n*/\n//%\nDigitalInOutPin pinByCfg(int key) {\n    return pxt::lookupPinCfg(key);\n}\n\n/**\n * Create a new zero-initialized buffer.\n * @param size number of bytes in the buffer\n */\n//%\nBuffer createBuffer(int size) {\n    return mkBuffer(NULL, size);\n}\n\n/**\n * Get the duration of the last pulse in microseconds. This function should be called from a\n * ``onPulsed`` handler.\n */\n//% help=pins/pulse-duration blockGap=8\n//% blockId=pins_pulse_duration block=\"pulse duration (s)\"\n//% weight=19\nint pulseDuration() {\n    return pxt::lastEvent.timestamp;\n}\n} // namespace pins\n",
            "pins.h": "#ifndef __PXT_PINS_H\n#define __PXT_PINS_H\n\n#define BUTTON_ACTIVE_HIGH_PULL_DOWN (ACTIVE_HIGH | 0x10)\n#define BUTTON_ACTIVE_HIGH_PULL_UP (ACTIVE_HIGH | 0x20)\n#define BUTTON_ACTIVE_HIGH_PULL_NONE (ACTIVE_HIGH | 0x30)\n#define BUTTON_ACTIVE_LOW_PULL_DOWN (ACTIVE_LOW | 0x10)\n#define BUTTON_ACTIVE_LOW_PULL_UP (ACTIVE_LOW | 0x20)\n#define BUTTON_ACTIVE_LOW_PULL_NONE (ACTIVE_LOW | 0x30)\n\n#define PIN(name) ((PinName)pxt::getConfig(CFG_PIN_##name, -1))\n#define LOOKUP_PIN(name) pxt::lookupPin(PIN(name))\n\n// these can be overridden in platform.h\n#ifndef CODAL_PIN\n#define CODAL_PIN CODAL_MBED::Pin\n#endif\n\n#ifndef CODAL_TIMER\n#define CODAL_TIMER CODAL_MBED::Timer\n#endif\n\n#ifndef CODAL_SPI\n#define CODAL_SPI CODAL_MBED::SPI\n#endif\n\n#ifndef CODAL_SERIAL\n#define CODAL_SERIAL CODAL_MBED::Serial\n#endif\n\n#ifndef IS_ANALOG_PIN\n#define IS_ANALOG_PIN(id) ((DEV_ANALOG_PINS >> (id)) & 1)\n#endif\n\ntypedef CODAL_PIN DevicePin;\n\ntypedef DevicePin *DigitalInOutPin;\ntypedef DevicePin *AnalogInOutPin;\ntypedef DevicePin *AnalogInPin;\ntypedef DevicePin *AnalogOutPin;\ntypedef DevicePin *PwmPin;\ntypedef DevicePin *PwmOnlyPin;\ntypedef Button *Button_;\n\nnamespace pxt {\nDevicePin *getPin(int id);\nDevicePin *getPinCfg(int key);\nDevicePin *lookupPin(int pinName);\nDevicePin *lookupPinCfg(int key);\nvoid linkPin(int from, int to);\nCodalComponent *lookupComponent(int id);\n}\n\n#define PINOP(op) name->op\n\n#endif\n",
            "pins.ts": "//% noRefCounting fixedInstances\ninterface DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogInPin extends DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogOutPin extends DigitalInOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface AnalogInOutPin extends AnalogInPin, AnalogOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface PwmOnlyPin extends DigitalInOutPin, AnalogOutPin {\n    // methods filled from C++\n}\n\n//% noRefCounting fixedInstances\ninterface PwmPin extends PwmOnlyPin, AnalogInOutPin {\n}\n\n/**\n * Control currents in Pins for analog/digital signals, servos, i2c, ...\n */\n//% color=#A80000 weight=85 icon=\"\\uf140\" advanced=true\n//% groups='[\"other\", \"Servo\", \"i2c\"]'\nnamespace pins {\n}",
            "pinsAnalog.cpp": "#include \"pxt.h\"\n\nnamespace AnalogInPinMethods {\n\n/**\n * Read the connector value as analog, that is, as a value comprised between 0 and 1023.\n * @param name pin to write to\n */\n//% help=pins/analog-read weight=53\n//% blockId=device_get_analog_pin block=\"analog read|pin %name\" blockGap=\"8\"\n//% blockNamespace=pins\n//% parts=\"photocell\" trackArgs=0\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nint analogRead(AnalogInPin name) {\n    return PINOP(getAnalogValue());\n}\n}\n\nnamespace AnalogOutPinMethods {\nvoid analogWrite(AnalogOutPin name, int value) __attribute__ ((weak));\n\n/**\n * Set the connector value as analog. Value must be comprised between 0 and 1023.\n * @param name pin name to write to\n * @param value value to write to the pin between ``0`` and ``1023``. eg:1023,0\n */\n//% help=pins/analog-write weight=52\n//% blockId=device_set_analog_pin block=\"analog write|pin %name|to %value\" blockGap=8\n//% blockNamespace=pins\n//% parts=\"analogled\" trackArgs=0\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% value.min=0 value.max=1023\nvoid analogWrite(AnalogOutPin name, int value) {\n    PINOP(setAnalogValue(value));\n}\n}",
            "pinsDigital.cpp": "#include \"pxt.h\"\n\nenum class PulseValue {\n    //% block=high\n    High = DEVICE_PIN_EVT_PULSE_HI,\n    //% block=low\n    Low = DEVICE_PIN_EVT_PULSE_LO\n};\n\nenum class PinEvent {\n    //% block=\"pulse high\"\n    PulseHigh = DEVICE_PIN_EVT_PULSE_HI,\n    //% block=\"pulse low\"\n    PulseLow = DEVICE_PIN_EVT_PULSE_LO,\n    //% block=\"rise\"\n    Rise = DEVICE_PIN_EVT_RISE,\n    //% block=\"fall\"\n    Fall = DEVICE_PIN_EVT_FALL,\n};\n\nenum class PinPullMode {\n    //% block=\"down\"\n    PullDown = 0,\n    //% block=\"up\"\n    PullUp = 1,\n    //% block=\"none\"\n    PullNone = 2\n};\n\nnamespace DigitalInOutPinMethods {\n/**\n * Read a pin or connector as either 0 or 1\n * @param name pin to read from\n */\n//% help=pins/digital-read weight=61\n//% blockId=device_get_digital_pin block=\"digital read|pin %name\" blockGap=8\n//% parts=\"slideswitch\" trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nbool digitalRead(DigitalInOutPin name) {\n    return PINOP(getDigitalValue()) != 0;\n}\n\n/**\n     * Set a pin or connector value to either 0 or 1.\n    * @param name pin to write to\n    * @param value value to set on the pin\n    */\n//% help=pins/digital-write weight=60\n//% blockId=device_set_digital_pin block=\"digital write|pin %name|to %value=toggleHighLow\"\n//% parts=\"led\" trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid digitalWrite(DigitalInOutPin name, bool value) {\n    PINOP(setDigitalValue(value));\n}\n\n/**\n* Make this pin a digital input, and create events where the timestamp is the duration\n* that this pin was either ``high`` or ``low``.\n*/\n//% help=pins/on-pulsed weight=16 blockGap=8\n//% blockId=pins_on_pulsed block=\"on|pin %pin|pulsed %pulse\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\n//% parts=\"slideswitch\" trackArgs=0\n//% deprecated=1 hidden=1\nvoid onPulsed(DigitalInOutPin pin, PulseValue pulse, Action body) {\n    pin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n    registerWithDal(pin->id, (int)pulse, body);\n}\n\n/**\n* Register code to run when a pin event occurs. \n*/\n//% help=pins/on-event weight=20 blockGap=8\n//% blockId=pinsonevent block=\"on|pin %pin|%event\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\n//% parts=\"slideswitch\" trackArgs=0\nvoid onEvent(DigitalInOutPin pin, PinEvent event, Action body) {\n    switch(event) {\n        case PinEvent::PulseHigh:\n        case PinEvent::PulseLow:\n            pin->eventOn(DEVICE_PIN_EVENT_ON_PULSE);\n            registerWithDal(pin->id, (int)event, body);\n            break;\n        case PinEvent::Rise:\n        case PinEvent::Fall:\n            pin->eventOn(DEVICE_PIN_EVENT_ON_EDGE);\n            registerWithDal(pin->id, (int)event, body);\n            break;    \n    }    \n}\n\n/**\n* Return the duration of a pulse in microseconds\n* @param name the pin which measures the pulse\n* @param value the value of the pulse (default high)\n* @param maximum duration in micro-seconds\n*/\n//% blockId=\"pins_pulse_in\" block=\"pulse in (s)|pin %name|pulsed %high||timeout %maxDuration (s)\"\n//% weight=18 blockGap=8\n//% help=\"pins/pulse-in\"\n//% blockNamespace=pins\n//% pin.fieldEditor=\"gridpicker\"\n//% pin.fieldOptions.width=220\n//% pin.fieldOptions.columns=4\nint pulseIn(DigitalInOutPin pin, PulseValue value, int maxDuration = 2000000) {\n    int pulse = PulseValue::High == value ? 1 : 0;\n    uint64_t tick = system_timer_current_time_us();\n    uint64_t maxd = (uint64_t)maxDuration;\n    while (pin->getDigitalValue() != pulse) {\n        if (system_timer_current_time_us() - tick > maxd)\n            return 0;\n    }\n\n    uint64_t start = system_timer_current_time_us();\n    while (pin->getDigitalValue() == pulse) {\n        if (system_timer_current_time_us() - tick > maxd)\n            return 0;\n    }\n    uint64_t end = system_timer_current_time_us();\n    return end - start;\n}\n\n/**\n* Set the pull direction of this pin.\n* @param name pin to set the pull mode on\n* @param pull one of the mbed pull configurations: PullUp, PullDown, PullNone\n*/\n//% help=pins/set-pull weight=17 blockGap=8\n//% blockId=device_set_pull block=\"set pull|pin %pin|to %pull\"\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid setPull(DigitalInOutPin name, PinPullMode pull) {\n    PullMode m = pull == PinPullMode::PullDown ? PullMode::Down : pull == PinPullMode::PullUp\n                                                                        ? PullMode::Up\n                                                                        : PullMode::None;\n    PINOP(setPull(m));\n}\n\n}",
            "pinsPWM.cpp": "#include \"pxt.h\"\n\nnamespace PwmPinMethods {\n}\n\nnamespace PwmOnlyPinMethods {\n\n/**\n * Set the Pulse-width modulation (PWM) period of the analog output. The period is in\n * **microseconds** or `1/1000` milliseconds.\n * If this pin is not configured as an analog output (using `analog write pin`), the operation has\n * no effect.\n * @param name analog pin to set period to\n * @param micros period in micro seconds. eg:20000\n */\n//% help=pins/analog-set-period weight=51\n//% blockId=device_set_analog_period block=\"analog set period|pin %pin|to (s)%period\"\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid analogSetPeriod(PwmOnlyPin name, int period) {\n    PINOP(setAnalogPeriodUs(period));\n}\n\n/**\n * Write a value to the servo to control the rotation of the shaft. On a standard servo, this will\n * set the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous\n * rotation servo, this will set the speed of the servo (with ``0`` being full-speed in one\n * direction, ``180`` being full speed in the other, and a value near ``90`` being no movement).\n * @param name pin to write to\n * @param value angle or rotation speed\n */\n//% help=pins/servo-write weight=41 group=\"Servo\"\n//% blockId=device_set_servo_pin block=\"servo write|pin %name|to %value=protractorPicker\" blockGap=8\n//% parts=microservo trackArgs=0\n//% blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\n//% value.defl=90\nvoid servoWrite(PwmOnlyPin name, int value) {\n    PINOP(setServoValue(value));\n}\n\n/**\n * Set the pin for PWM analog output, make the period be 20 ms, and set the pulse width.\n * The pulse width is based on the value it is given **microseconds** or `1/1000` milliseconds.\n * @param name pin name\n * @param duration pulse duration in micro seconds, eg:1500\n */\n//% help=pins/servo-set-pulse weight=40 group=\"Servo\" blockGap=8\n//% blockId=device_set_servo_pulse block=\"servo set pulse|pin %value|to (s) %duration\"\n//% parts=microservo blockNamespace=pins\n//% name.fieldEditor=\"gridpicker\"\n//% name.fieldOptions.width=220\n//% name.fieldOptions.columns=4\nvoid servoSetPulse(PwmOnlyPin name, int duration) {\n    PINOP(setServoPulseUs(duration));\n}\n\n/**\n* Indicates if the servo is running continuously\n*/\n//% blockHidden=1\nvoid servoSetContinuous(PwmOnlyPin name, bool continuous) {\n    // used by simulator\n}\n\n}",
            "pinscompat.ts": "// filled in by microbit",
            "platform.cpp": "#include \"pxt.h\"\n\n#include \"NRFLowLevelTimer.h\"\n\nnamespace pxt {\n\nstruct TimerConfig {\n    uint8_t id;\n    IRQn_Type irqn;\n    NRF_TIMER_Type *addr;\n};\n\n#define DEF_TIM(n)                                                                                 \\\n    { 0x10 + n, TIMER##n##_IRQn, NRF_TIMER##n }\n\nstatic const TimerConfig timers[] = {\n#ifdef NRF_TIMER0\n    DEF_TIM(0),\n#endif\n#ifdef NRF_TIMER1\n    DEF_TIM(1),\n#endif\n#ifdef NRF_TIMER2\n    DEF_TIM(2),\n#endif\n#ifdef NRF_TIMER3\n    DEF_TIM(3),\n#endif\n#ifdef NRF_TIMER4\n    DEF_TIM(4),\n#endif\n#ifdef NRF_TIMER5\n    DEF_TIM(5),\n#endif\n#ifdef NRF_TIMER6\n    DEF_TIM(6),\n#endif\n{0,(IRQn_Type)0,0}\n};\n\n#define DEF_TIMERS 0x11121013 // TIMER1 TIMER2 TIMER0 TIMER3\n\nstatic uint32_t usedTimers;\nstatic int timerIdx(uint8_t id) {\n    for (unsigned i = 0; timers[i].id; i++) {\n        if (id == timers[i].id)\n            return i;\n    }\n    return -1;\n}\nLowLevelTimer *allocateTimer() {\n    uint32_t timersToUse = getConfig(CFG_TIMERS_TO_USE, DEF_TIMERS);\n    for (int shift = 24; shift >= 0; shift -= 8) {\n        uint8_t tcId = (timersToUse >> shift) & 0xff;\n        int idx = timerIdx(tcId);\n        if (idx < 0 || (usedTimers & (1 << idx)))\n            continue;\n        auto dev = timers[idx].addr;\n        if (dev->INTENSET) // any irqs enabled?\n            continue; // then we won't allocate it\n        usedTimers |= 1 << idx;\n        DMESG(\"allocate TIMER%d\", tcId - 0x10);\n        return new NRFLowLevelTimer(dev, timers[idx].irqn);\n    }\n\n    target_panic(PANIC_OUT_OF_TIMERS);\n    return NULL;\n}\n\n\nstatic void initRandomSeed() {\n    int seed = 0xC0DA1;\n    /*\n    auto pinTemp = LOOKUP_PIN(TEMPERATURE);\n    if (pinTemp)\n        seed *= pinTemp->getAnalogValue();\n    auto pinLight = LOOKUP_PIN(LIGHT);\n    if (pinLight)\n        seed *= pinLight->getAnalogValue();\n    */\n    seedRandom(seed);\n}\n\n#if defined(NRF52840) || defined(NRF52833)\n#define IS_3_3_V() ((NRF_UICR->REGOUT0 & 7) == 5)\n#else\n#define IS_3_3_V() 1\n#endif\n\nstatic void disableNFConPins() {\n    // Ensure NFC pins are configured as GPIO. If not, update the non-volatile UICR.\n    if (NRF_UICR->NFCPINS || !IS_3_3_V()) {\n        DMESG(\"RESET UICR\\n\");\n        // Enable Flash Writes\n        NRF_NVMC->CONFIG = (NVMC_CONFIG_WEN_Wen << NVMC_CONFIG_WEN_Pos);\n        while (NRF_NVMC->READY == NVMC_READY_READY_Busy)\n            ;\n\n        // Configure PINS for GPIO use.\n        if (NRF_UICR->NFCPINS)\n            NRF_UICR->NFCPINS = 0;\n\n#if defined(NRF52840) || defined(NRF52833)\n        // Set VDD to 3.3V\n        if ((NRF_UICR->REGOUT0 & 7) != 5)\n            NRF_UICR->REGOUT0 = (NRF_UICR->REGOUT0 & ~7) | 5;\n#endif\n\n        // Disable Flash Writes\n        NRF_NVMC->CONFIG = (NVMC_CONFIG_WEN_Ren << NVMC_CONFIG_WEN_Pos);\n        while (NRF_NVMC->READY == NVMC_READY_READY_Busy)\n            ;\n\n        // Reset, so the changes can take effect.\n        NVIC_SystemReset();\n    }\n}\n\nvoid platform_init() {\n    initRandomSeed();\n\n    disableNFConPins(); // this is needed when P0_9 and P0_10 are to be used as regular pins\n\n    /*\n        if (*HF2_DBG_MAGIC_PTR == HF2_DBG_MAGIC_START) {\n            *HF2_DBG_MAGIC_PTR = 0;\n            // this will cause alignment fault at the first breakpoint\n            globals[0] = (TValue)1;\n        }\n    */\n}\n\n} // namespace pxt\n\nvoid cpu_clock_init() {\n    // missing in Codal\n}\n",
            "platform.h": "#ifndef __PXT_PLATFORM_H\n#define __PXT_PLATFORM_H\n\n#include \"Image.h\"\n#include \"NRF52Microphone.h\"\n#include \"NRF52SPI.h\"\n#include \"NRF52I2C.h\"\n#include \"NRF52Pin.h\"\n#include \"NRF52PWM.h\"\n#include \"NRF52Serial.h\"\n#include \"Timer.h\"\n#include \"MultiButton.h\"\n\n#define PAGE_SIZE 4096\n\n#if defined(NRF52840) || defined(NRF52833)\n#define DEV_NUM_PINS 48\n#else\n#define DEV_NUM_PINS 32\n#endif\n\n#define DEV_PWM_PINS 0x0000ffffffffULL // all pins are PWM pins it seems\n#define DEV_AIN_PINS 0x0000f000001fULL\n\n// Codal doesn't yet distinguish between PWM and AIN\n#define DEV_ANALOG_PINS (DEV_PWM_PINS | DEV_AIN_PINS)\n\n#define CODAL_PIN NRF52Pin\n#define CODAL_SPI NRF52SPI\n#define CODAL_I2C NRF52I2C\n#define CODAL_TIMER Timer\n#define CODAL_SERIAL NRF52Serial\n\n#define IMAGE_BITS 4\n\ntypedef uint8_t PinName;\n\n#define DEFAULT_NEOPIXEL_PIN P0_0\n\n// The parameters below needs tuning!\n\n/*\n * @param nominalValue The value (in SI units) of a nominal position.\n * @param nominalReading The raw reading from the sensor at the nominal position.\n * @param beta The Steinhart-Hart Beta constant for the device\n * @param seriesResistor The value (in ohms) of the resistor in series with the sensor.\n * @param zeroOffset Optional zero offset applied to all SI units (e.g. 273.15 for temperature\n * sensing in C vs Kelvin).\n */\n\n#define TEMPERATURE_NOMINAL_VALUE 25\n#define TEMPERATURE_NOMINAL_READING 10000\n#define TEMPERATURE_BETA 3380\n#define TEMPERATURE_SERIES_RESISTOR 10000\n#define TEMPERATURE_ZERO_OFFSET 273.5\n\n#define LIGHTSENSOR_SENSITIVITY 868 // codal has 912 now\n#define LIGHTSENSOR_LOW_THRESHOLD 128\n#define LIGHTSENSOR_HIGH_THRESHOLD 896\n\n\n#define P0_0 0\n#define P0_1 1\n#define P0_2 2\n#define P0_3 3\n#define P0_4 4\n#define P0_5 5\n#define P0_6 6\n#define P0_7 7\n#define P0_8 8\n#define P0_9 9\n#define P0_10 10\n#define P0_11 11\n#define P0_12 12\n#define P0_13 13\n#define P0_14 14\n#define P0_15 15\n#define P0_16 16\n#define P0_17 17\n#define P0_18 18\n#define P0_19 19\n#define P0_20 20\n#define P0_21 21\n#define P0_22 22\n#define P0_23 23\n#define P0_24 24\n#define P0_25 25\n#define P0_26 26\n#define P0_27 27\n#define P0_28 28\n#define P0_29 29\n#define P0_30 30\n#define P0_31 31\n#define P1_0 32\n#define P1_1 33\n#define P1_2 34\n#define P1_3 35\n#define P1_4 36\n#define P1_5 37\n#define P1_6 38\n#define P1_7 39\n#define P1_8 40\n#define P1_9 41\n#define P1_10 42\n#define P1_11 43\n#define P1_12 44\n#define P1_13 45\n#define P1_14 46\n#define P1_15 47\n#define P1_16 48\n#define P1_17 49\n#define P1_18 50\n#define P1_19 51\n#define P1_20 52\n#define P1_21 53\n#define P1_22 54\n#define P1_23 55\n#define P1_24 56\n#define P1_25 57\n#define P1_26 58\n#define P1_27 59\n#define P1_28 60\n#define P1_29 61\n#define P1_30 62\n#define P1_31 63\n\n#endif\n",
            "pxt.h": "#ifndef __PXT_H\n#define __PXT_H\n\n#include \"pxtbase.h\"\n\n#include \"CodalConfig.h\"\n#include \"CodalHeapAllocator.h\"\n#include \"CodalDevice.h\"\n#include \"CodalDmesg.h\"\n#include \"ErrorNo.h\"\n#include \"Timer.h\"\n#include \"Matrix4.h\"\n#include \"CodalCompat.h\"\n#include \"CodalComponent.h\"\n#include \"ManagedType.h\"\n#include \"Event.h\"\n#include \"NotifyEvents.h\"\n#include \"Button.h\"\n#include \"CodalFiber.h\"\n#include \"MessageBus.h\"\n\nusing namespace codal;\n\n// codal::ManagedString compat\n#define MSTR(s) codal::ManagedString((s)->data, (s)->length)\n#define PSTR(s) mkString((s).toCharArray(), (s).length())\n\n#include \"pins.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#include \"hf2.h\"\n#include \"hf2dbg.h\"\n#if CONFIG_ENABLED(DEVICE_MOUSE)\n#include \"HIDMouse.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\n#include \"HIDKeyboard.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\n#include \"HIDJoystick.h\"\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n#include \"USBJACDAC.h\"\n#endif\n#endif\n\nnamespace pxt {\n\n#if CONFIG_ENABLED(DEVICE_USB)\nextern CodalUSB usb;\nextern HF2 hf2;\n#if CONFIG_ENABLED(DEVICE_MOUSE)\nextern USBHIDMouse mouse;\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\nextern USBHIDKeyboard keyboard;\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\nextern USBHIDJoystick joystick;\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\nextern USBJACDAC *jacdacDebug;\n#endif\n#endif\n\n// Utility functions\nextern Event lastEvent;\nextern CODAL_TIMER devTimer;\nextern MessageBus devMessageBus;\nextern codal::CodalDevice device;\n\nvoid set_usb_strings(const char *uf2_info);\n\n} // namespace pxt\n\nnamespace pins {\nclass CodalSPIProxy;\nclass CodalI2CProxy;\n} // namespace pins\n\ntypedef pins::CodalI2CProxy* I2C_;\ntypedef pins::CodalSPIProxy* SPI_;\n\nnamespace pxt {\ncodal::LowLevelTimer *allocateTimer();\n\n#ifdef CODAL_I2C\nCODAL_I2C* getI2C(DigitalInOutPin sda, DigitalInOutPin scl);\n#endif\nCODAL_SPI* getSPI(DigitalInOutPin mosi, DigitalInOutPin miso, DigitalInOutPin sck);\n#ifdef CODAL_JACDAC_WIRE_SERIAL\nLowLevelTimer* getJACDACTimer();\n#endif\nclass PressureButton;\nuint32_t readButtonMultiplexer(int bits);\n}\n\nnamespace serial {\nclass CodalSerialDeviceProxy;\n}\n\ntypedef serial::CodalSerialDeviceProxy* SerialDevice;\n\nnamespace jacdac {\nclass JDProxyDriver;\n} // namespace network\n\ntypedef jacdac::JDProxyDriver* JacDacDriverStatus;\n\n#define DEVICE_ID_BUTTON_SLIDE 3000\n#define DEVICE_ID_MICROPHONE 3001\n#define DEVICE_ID_FIRST_BUTTON 4000\n#define DEVICE_ID_FIRST_TOUCHBUTTON 4100\n\n#endif\n",
            "pxt.json": "{\n    \"name\": \"core---nrf52\",\n    \"description\": \"The core library for Codal-based targets\",\n    \"dependencies\": {\n        \"base\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"dal.d.ts\",\n        \"codal.cpp\",\n        \"usb.cpp\",\n        \"pxt.h\",\n        \"led.h\",\n        \"platform.h\",\n        \"platform.cpp\",\n        \"pxtcore.h\",\n        \"pins.h\",\n        \"pins.cpp\",\n        \"pinsAnalog.cpp\",\n        \"pinsDigital.cpp\",\n        \"pinsPWM.cpp\",\n        \"pins.ts\",\n        \"pinscompat.ts\",\n        \"control.cpp\",\n        \"i2c.cpp\",\n        \"i2c.ts\",\n        \"spi.cpp\",\n        \"spi.ts\",\n        \"shims.d.ts\",\n        \"enums.d.ts\",\n        \"hf2.cpp\",\n        \"hf2.h\",\n        \"hf2dbg.h\",\n        \"uf2format.h\",\n        \"uf2hid.h\",\n        \"ns.ts\",\n        \"dmac.cpp\",\n        \"dmac.h\",\n        \"timer.ts\",\n        \"light.cpp\",\n        \"light.h\",\n        \"icons.jres\",\n        \"keyvaluestorage.cpp\",\n        \"keyvaluestorage.ts\",\n        \"leveldetector.ts\",\n        \"pxtparts.json\",\n        \"led.cpp\",\n        \"led.ts\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"cppDependencies\": {\n        \"accelerometer\": \"file:../accelerometer\",\n        \"buttons\": \"file:../buttons\",\n        \"jacdac\": \"file:../jacdac\",\n        \"lightsensor\": \"file:../lightsensor\",\n        \"switch\": \"file:../switch\",\n        \"mixer---nrf52\": \"file:../mixer---nrf52\"\n    },\n    \"yotta\": {\n        \"config\": {\n            \"codal\": {\n                \"component_count\": 64,\n                \"dmesg_buffer_size\": 1024\n            }\n        }\n    },\n    \"dalDTS\": {\n        \"includeDirs\": [\n            \"libraries/codal-core/inc\",\n            \"libraries/codal-nrf52840-dk/inc\",\n            \"libraries/codal-nrf52840-dk/model\",\n            \"pxtapp\"\n        ],\n        \"excludePrefix\": [\n            \"USB_\",\n            \"REQUEST_\",\n            \"LIS3DH_\",\n            \"FXOS8700_\",\n            \"HF2_\",\n            \"PXT_REF_TAG_\",\n            \"MS_\",\n            \"SCSI_\"\n        ]\n    }\n}\n",
            "pxtcore.h": "#ifndef __PXTCORE_H\n#define __PXTCORE_H\n\n#include \"CodalDmesg.h\"\n#include \"CodalHeapAllocator.h\"\n\n#define itoa(a, b) codal::itoa(a, b)\n\n#define GC_GET_HEAP_SIZE() device_heap_size(0)\n#define GC_STACK_BASE DEVICE_STACK_BASE\n#define xmalloc device_malloc\n#define xfree device_free\n\n#define GC_MAX_ALLOC_SIZE (16 * 1024)\n\n#endif\n",
            "pxtparts.json": "{\n    \"neopixel\": {\n        \"simulationBehavior\": \"neopixel\",\n        \"visual\": {\n            \"builtIn\": \"neopixel\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 19,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 28,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 3,\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"light.createStrip,light.createNeoPixelStrip\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"pin\"\n                },\n                {\n                    \"partParameter\": \"mode\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"dotstar\": {\n        \"simulationBehavior\": \"dotstar\",\n        \"visual\": {\n            \"builtIn\": \"dotstar\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 17,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 24,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 31,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 4,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 1\n                },\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"light.createAPA102Strip\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"dataPin\"\n                },\n                {\n                    \"pinInstantiationIdx\": 1,\n                    \"partParameter\": \"clkPin\"\n                },\n                {\n                    \"partParameter\": \"mode\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1, 2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    3\n                ]\n            }\n        ]\n    },\n    \"pixels\": {\n        \"simulationBehavior\": \"pixels\",\n        \"visual\": { \n            \"builtIn\": \"pixels\",\n            \"width\": 58,\n            \"height\": 113,\n            \"pinDistance\": 9,\n            \"pinLocations\": [\n                {\n                    \"x\": 10,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 17,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 24,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 31,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"numberOfPins\": 4,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"MOSI\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"SCK\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"solder\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"singleton\"\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1, 2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    3\n                ]\n            }\n        ]\n    },    \n    \"buttons\": {\n        \"simulationBehavior\": \"buttons\",\n        \"visual\": {\n            \"builtIn\": \"buttons\",\n            \"width\": 75,\n            \"height\": 45,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 30,\n                    \"y\": 45\n                }\n            ]\n        },\n        \"numberOfPins\": 2,\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"Button.onEvent,Button.isPressed,Button.wasPressed\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"button\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"slideswitch\": {\n        \"numberOfPins\": 3,\n        \"simulationBehavior\": \"slideswitch\",\n        \"visual\": {\n            \"builtIn\": \"slideswitch\",\n            \"width\": 100,\n            \"height\": 100,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 30,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 45,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"pinDefinitions\": [\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"DigitalInOutPin.digitalRead,DigitalInOutPin.onPulsed,DigitalInOutPin.onEvent\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"pin\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"microservo\": {\n        \"simulationBehavior\": \"microservo\",\n        \"visual\": {\n            \"builtIn\": \"microservo\",\n            \"width\": 74.85,\n            \"height\": 200,\n            \"pinDistance\": 10,\n            \"pinLocations\": [\n                {\n                    \"x\": 30,\n                    \"y\": 5\n                },\n                {\n                    \"x\": 37,\n                    \"y\": 5\n                },\n                {\n                    \"x\": 45,\n                    \"y\": 5\n                }\n            ]\n        },\n        \"numberOfPins\": 3,\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"croc\",\n                \"orientation\": \"+Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"PwmOnlyPin.servoWrite,servos.Servo.setAngle,servos.Servo.run,servos.Servo.setPulse\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    2\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    0,\n                    1\n                ]\n            }\n        ]\n    },\n    \"led\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"builtIn\": \"led\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"led\",\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"DigitalInOutPin.digitalWrite\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"analogled\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"builtIn\": \"led\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"led\",\n        \"pinDefinitions\": [\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"AnalogOutPin.analogWrite\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    },\n    \"photocell\": {\n        \"numberOfPins\": 3,\n        \"visual\": {\n            \"builtIn\": \"photocell\",\n            \"width\": 68,\n            \"height\": 180,\n            \"pinDistance\": 15,\n            \"pinLocations\": [\n                {\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 15,\n                    \"y\": 0\n                },\n                {\n                    \"x\": 60,\n                    \"y\": 0\n                }\n            ]\n        },\n        \"simulationBehavior\": \"photocell\",\n        \"pinDefinitions\": [\n            {\n                \"target\": \"threeVolt\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": {\n                    \"pinInstantiationIdx\": 0\n                },\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"male\",\n                \"orientation\": \"-Z\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"function\",\n            \"fullyQualifiedName\": \"AnalogInPin.analogRead\",\n            \"argumentRoles\": [\n                {\n                    \"pinInstantiationIdx\": 0,\n                    \"partParameter\": \"name\"\n                }\n            ]\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    }\n}",
            "shims.d.ts": "// Auto-generated. Do not edit.\ndeclare namespace light {\n\n    /**\n     * Send a programmable light buffer to the specified digital pin\n     * @param data The pin that the lights are connected to\n     * @param clk the clock line if any\n     * @param mode the color encoding mode\n     * @param buf The buffer to send to the pin\n     */\n    //% shim=light::sendBuffer\n    function sendBuffer(data: DigitalInOutPin, clk: DigitalInOutPin, mode: int32, buf: Buffer): void;\n}\ndeclare namespace control {\n\n    /**\n     * Determines if the USB has been enumerated.\n     */\n    //% shim=control::isUSBInitialized\n    function isUSBInitialized(): boolean;\n}\ndeclare namespace pins {\n\n    /**\n     * Get a pin by configuration id (DAL.CFG_PIN...)\n     */\n    //% shim=pins::pinByCfg\n    function pinByCfg(key: int32): DigitalInOutPin;\n\n    /**\n     * Create a new zero-initialized buffer.\n     * @param size number of bytes in the buffer\n     */\n    //% shim=pins::createBuffer\n    function createBuffer(size: int32): Buffer;\n\n    /**\n     * Get the duration of the last pulse in microseconds. This function should be called from a\n     * ``onPulsed`` handler.\n     */\n    //% help=pins/pulse-duration blockGap=8\n    //% blockId=pins_pulse_duration block=\"pulse duration (s)\"\n    //% weight=19 shim=pins::pulseDuration\n    function pulseDuration(): int32;\n}\n\n\ndeclare interface AnalogInPin {\n    /**\n     * Read the connector value as analog, that is, as a value comprised between 0 and 1023.\n     * @param name pin to write to\n     */\n    //% help=pins/analog-read weight=53\n    //% blockId=device_get_analog_pin block=\"analog read|pin %name\" blockGap=\"8\"\n    //% blockNamespace=pins\n    //% parts=\"photocell\" trackArgs=0\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=AnalogInPinMethods::analogRead\n    analogRead(): int32;\n}\n\n\ndeclare interface AnalogOutPin {\n    /**\n     * Set the connector value as analog. Value must be comprised between 0 and 1023.\n     * @param name pin name to write to\n     * @param value value to write to the pin between ``0`` and ``1023``. eg:1023,0\n     */\n    //% help=pins/analog-write weight=52\n    //% blockId=device_set_analog_pin block=\"analog write|pin %name|to %value\" blockGap=8\n    //% blockNamespace=pins\n    //% parts=\"analogled\" trackArgs=0\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% value.min=0 value.max=1023 shim=AnalogOutPinMethods::analogWrite\n    analogWrite(value: int32): void;\n}\n\n\ndeclare interface DigitalInOutPin {\n    /**\n     * Read a pin or connector as either 0 or 1\n     * @param name pin to read from\n     */\n    //% help=pins/digital-read weight=61\n    //% blockId=device_get_digital_pin block=\"digital read|pin %name\" blockGap=8\n    //% parts=\"slideswitch\" trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::digitalRead\n    digitalRead(): boolean;\n\n    /**\n     * Set a pin or connector value to either 0 or 1.\n     * @param name pin to write to\n     * @param value value to set on the pin\n     */\n    //% help=pins/digital-write weight=60\n    //% blockId=device_set_digital_pin block=\"digital write|pin %name|to %value=toggleHighLow\"\n    //% parts=\"led\" trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::digitalWrite\n    digitalWrite(value: boolean): void;\n\n    /**\n     * Make this pin a digital input, and create events where the timestamp is the duration\n     * that this pin was either ``high`` or ``low``.\n     */\n    //% help=pins/on-pulsed weight=16 blockGap=8\n    //% blockId=pins_on_pulsed block=\"on|pin %pin|pulsed %pulse\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4\n    //% parts=\"slideswitch\" trackArgs=0\n    //% deprecated=1 hidden=1 shim=DigitalInOutPinMethods::onPulsed\n    onPulsed(pulse: PulseValue, body: () => void): void;\n\n    /**\n     * Register code to run when a pin event occurs. \n     */\n    //% help=pins/on-event weight=20 blockGap=8\n    //% blockId=pinsonevent block=\"on|pin %pin|%event\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4\n    //% parts=\"slideswitch\" trackArgs=0 shim=DigitalInOutPinMethods::onEvent\n    onEvent(event: PinEvent, body: () => void): void;\n\n    /**\n     * Return the duration of a pulse in microseconds\n     * @param name the pin which measures the pulse\n     * @param value the value of the pulse (default high)\n     * @param maximum duration in micro-seconds\n     */\n    //% blockId=\"pins_pulse_in\" block=\"pulse in (s)|pin %name|pulsed %high||timeout %maxDuration (s)\"\n    //% weight=18 blockGap=8\n    //% help=\"pins/pulse-in\"\n    //% blockNamespace=pins\n    //% pin.fieldEditor=\"gridpicker\"\n    //% pin.fieldOptions.width=220\n    //% pin.fieldOptions.columns=4 maxDuration.defl=2000000 shim=DigitalInOutPinMethods::pulseIn\n    pulseIn(value: PulseValue, maxDuration?: int32): int32;\n\n    /**\n     * Set the pull direction of this pin.\n     * @param name pin to set the pull mode on\n     * @param pull one of the mbed pull configurations: PullUp, PullDown, PullNone\n     */\n    //% help=pins/set-pull weight=17 blockGap=8\n    //% blockId=device_set_pull block=\"set pull|pin %pin|to %pull\"\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=DigitalInOutPinMethods::setPull\n    setPull(pull: PinPullMode): void;\n}\n\n\ndeclare interface PwmPin {}\n\n\ndeclare interface PwmOnlyPin {\n    /**\n     * Set the Pulse-width modulation (PWM) period of the analog output. The period is in\n     * **microseconds** or `1/1000` milliseconds.\n     * If this pin is not configured as an analog output (using `analog write pin`), the operation has\n     * no effect.\n     * @param name analog pin to set period to\n     * @param micros period in micro seconds. eg:20000\n     */\n    //% help=pins/analog-set-period weight=51\n    //% blockId=device_set_analog_period block=\"analog set period|pin %pin|to (s)%period\"\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=PwmOnlyPinMethods::analogSetPeriod\n    analogSetPeriod(period: int32): void;\n\n    /**\n     * Write a value to the servo to control the rotation of the shaft. On a standard servo, this will\n     * set the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous\n     * rotation servo, this will set the speed of the servo (with ``0`` being full-speed in one\n     * direction, ``180`` being full speed in the other, and a value near ``90`` being no movement).\n     * @param name pin to write to\n     * @param value angle or rotation speed\n     */\n    //% help=pins/servo-write weight=41 group=\"Servo\"\n    //% blockId=device_set_servo_pin block=\"servo write|pin %name|to %value=protractorPicker\" blockGap=8\n    //% parts=microservo trackArgs=0\n    //% blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4\n    //% value.defl=90 shim=PwmOnlyPinMethods::servoWrite\n    servoWrite(value?: int32): void;\n\n    /**\n     * Set the pin for PWM analog output, make the period be 20 ms, and set the pulse width.\n     * The pulse width is based on the value it is given **microseconds** or `1/1000` milliseconds.\n     * @param name pin name\n     * @param duration pulse duration in micro seconds, eg:1500\n     */\n    //% help=pins/servo-set-pulse weight=40 group=\"Servo\" blockGap=8\n    //% blockId=device_set_servo_pulse block=\"servo set pulse|pin %value|to (s) %duration\"\n    //% parts=microservo blockNamespace=pins\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=220\n    //% name.fieldOptions.columns=4 shim=PwmOnlyPinMethods::servoSetPulse\n    servoSetPulse(duration: int32): void;\n\n    /**\n     * Indicates if the servo is running continuously\n     */\n    //% blockHidden=1 shim=PwmOnlyPinMethods::servoSetContinuous\n    servoSetContinuous(continuous: boolean): void;\n}\ndeclare namespace control {\n\n    /**\n     * Announce that an event happened to registered handlers.\n     * @param src ID of the MicroBit Component that generated the event\n     * @param value Component specific code indicating the cause of the event.\n     */\n    //% weight=21 blockGap=12 blockId=\"control_raise_event\"\n    //% help=control/raise-event\n    //% block=\"raise event|from %src|with value %value\" blockExternalInputs=1 shim=control::raiseEvent\n    function raiseEvent(src: int32, value: int32): void;\n\n    /**\n     * Determine the version of system software currently running.\n     */\n    //% blockId=\"control_device_dal_version\" block=\"device dal version\"\n    //% help=control/device-dal-version shim=control::deviceDalVersion\n    function deviceDalVersion(): string;\n\n    /**\n     * Allocates the next user notification event\n     */\n    //% help=control/allocate-notify-event shim=control::allocateNotifyEvent\n    function allocateNotifyEvent(): int32;\n\n    /** Write a message to DMESG debugging buffer. */\n    //% shim=control::dmesg\n    function dmesg(s: string): void;\n\n    /** Write a message and value (pointer) to DMESG debugging buffer. */\n    //% shim=control::dmesgPtr\n    function dmesgPtr(str: string, ptr: Object): void;\n}\n\n\ndeclare interface I2C {\n    /**\n     * Read `size` bytes from a 7-bit I2C `address`.\n     */\n    //% repeat.defl=0 shim=I2CMethods::readBuffer\n    readBuffer(address: int32, size: int32, repeat?: boolean): Buffer;\n\n    /**\n     * Write bytes to a 7-bit I2C `address`.\n     */\n    //% repeat.defl=0 shim=I2CMethods::writeBuffer\n    writeBuffer(address: int32, buf: Buffer, repeat?: boolean): int32;\n}\ndeclare namespace pins {\n\n    /**\n     * Opens a Serial communication driver\n     */\n    //% help=pins/create-i2c\n    //% parts=i2c shim=pins::createI2C\n    function createI2C(sda: DigitalInOutPin, scl: DigitalInOutPin): I2C;\n}\ndeclare namespace pins {\n\n    /**\n     * Opens a SPI driver\n     */\n    //% help=pins/create-spi\n    //% parts=spi shim=pins::createSPI\n    function createSPI(mosiPin: DigitalInOutPin, misoPin: DigitalInOutPin, sckPin: DigitalInOutPin): SPI;\n}\n\n\ndeclare interface SPI {\n    /**\n     * Write to the SPI bus\n     */\n    //% shim=SPIMethods::write\n    write(value: int32): int32;\n\n    /**\n     * Transfer buffers over the SPI bus\n     */\n    //% argsNullable shim=SPIMethods::transfer\n    transfer(command: Buffer, response: Buffer): void;\n\n    /**\n     * Sets the SPI clock frequency\n     */\n    //% shim=SPIMethods::setFrequency\n    setFrequency(frequency: int32): void;\n\n    /**\n     * Sets the SPI bus mode\n     */\n    //% shim=SPIMethods::setMode\n    setMode(mode: int32): void;\n}\ndeclare namespace configStorage {\n\n    /**\n     * Puts an entry in the device storage. Key may have up to 16 characters (bytes).\n     * @param key the identifier (max 16 characters)\n     * @param value the data (max 32 characters)\n     */\n    //% shim=configStorage::setBuffer\n    function setBuffer(key: string, value: Buffer): void;\n\n    /**\n     * Gets an entry from the device storage. Key may have up to 16 characters (bytes).\n     * @param key the identifier (max 16 characters)\n     */\n    //% shim=configStorage::getBuffer\n    function getBuffer(key: string): Buffer;\n\n    /**\n     * Removes the key from local storage\n     * @param key the identifier (max 16 characters)\n     */\n    //% shim=configStorage::removeItem\n    function removeItem(key: string): void;\n\n    /**\n     * Clears the local storage\n     */\n    //% shim=configStorage::clear\n    function clear(): void;\n}\n\n\n\n    //% color=#7600A8 weight=101 icon=\"\\uf205\"\ndeclare namespace led {\n\n    /**\n     * Draws an image on the LED screen.\n     * @param leds the pattern of LED to turn on/off\n     * @param interval time in milliseconds to pause after drawing\n     */\n    //% help=basic/show-leds\n    //% weight=95 blockGap=8\n    //% imageLiteral=1 async\n    //% blockId=device_show_leds\n    //% block=\"show leds\" icon=\"\\uf00a\"\n    //% parts=\"ledmatrix\" interval.defl=400 shim=led::showLeds\n    function showLeds(leds: uint32, interval?: int32): void;\n\n    /**\n     * Turn on the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED starting at 0\n     * @param y the vertical coordinate of the LED starting at 0\n     */\n    //% help=led/plot weight=78\n    //% blockId=device_plot block=\"plot|x %x|y %y\" blockGap=8\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=5\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1 shim=led::plot\n    function plot(x: int32, y: int32): void;\n\n    /**\n     * Turn off the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED\n     * @param y the vertical coordinate of the LED\n     */\n    //% help=led/unplot weight=77\n    //% blockId=device_unplot block=\"unplot|x %x|y %y\" blockGap=8\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=5\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1 shim=led::unplot\n    function unplot(x: int32, y: int32): void;\n\n    /**\n     * Get the brightness state of the specified LED using x, y coordinates. (0,0) is upper left.\n     * @param x the horizontal coordinate of the LED\n     * @param y the vertical coordinate of the LED\n     */\n    //% help=led/point-brightness weight=76\n    //% blockId=device_point_brightness block=\"point|x %x|y %y brightness\"\n    //% parts=\"ledmatrix\"\n    //% x.min=0 x.max=4 y.min=0 y.max=4\n    //% x.fieldOptions.precision=1 y.fieldOptions.precision=1\n    //% advanced=true shim=led::pointBrightness\n    function pointBrightness(x: int32, y: int32): int32;\n}\n\n// Auto-generated. Do not edit. Really.\n",
            "spi.cpp": "#include \"pxt.h\"\n#include \"ErrorNo.h\"\n\nnamespace pins {\n\nclass CodalSPIProxy {\nprivate:\n    DevicePin* mosi; \n    DevicePin* miso; \n    DevicePin* sck;\n    CODAL_SPI spi;\npublic:\n    CodalSPIProxy* next;\n\npublic:\n    CodalSPIProxy(DevicePin* _mosi, DevicePin* _miso, DevicePin* _sck)\n        : mosi(_mosi)\n        , miso(_miso)\n        , sck(_sck)\n        , spi(*_mosi, *_miso, *_sck) \n        , next(NULL)\n    {\n    }\n\n    CODAL_SPI* getSPI() {\n        return &spi;\n    }\n\n    bool matchPins(DevicePin* mosi, DevicePin* miso, DevicePin* sck) {\n        return this->mosi == mosi && this->miso == miso && this->sck == sck;\n    }\n\n    int write(int value) {\n        return spi.write(value);\n    }\n\n    void transfer(Buffer command, Buffer response) {\n        auto cdata = NULL == command ? NULL : command->data;\n        auto clength = NULL == command ? 0 : command->length;\n        auto rdata = NULL == response ? NULL : response->data;\n        auto rlength = NULL == response ? 0 : response->length;\n        spi.transfer(cdata, clength, rdata, rlength);\n    }\n\n    void setFrequency(int frequency) {\n        spi.setFrequency(frequency);\n    }\n\n    void setMode(int mode) {\n        spi.setMode(mode);\n    }\n};\n\nSPI_ spis(NULL);\n\n/**\n* Opens a SPI driver\n*/\n//% help=pins/create-spi\n//% parts=spi\nSPI_ createSPI(DigitalInOutPin mosiPin, DigitalInOutPin misoPin, DigitalInOutPin sckPin) {\n  auto dev = spis;\n  while(dev) {\n    if (dev->matchPins(mosiPin, misoPin, sckPin))\n      return dev;\n    dev = dev->next;\n  }\n\n  auto ser = new CodalSPIProxy(mosiPin, misoPin, sckPin);\n  ser->next = spis;\n  spis = ser;\n  return ser;\n}\n\n}\n\nnamespace pxt {\n\nCODAL_SPI* getSPI(DigitalInOutPin mosiPin, DigitalInOutPin misoPin, DigitalInOutPin sckPin) {\n    auto spi = pins::createSPI(mosiPin, misoPin, sckPin);\n    return spi->getSPI();\n}\n\n}\n\nnamespace SPIMethods {\n\n/**\n* Write to the SPI bus\n*/\n//%\nint write(SPI_ device, int value) {\n    return device->write(value);\n}\n\n/**\n* Transfer buffers over the SPI bus\n*/\n//% argsNullable\nvoid transfer(SPI_ device, Buffer command, Buffer response) {\n    if (!device)\n        target_panic(PANIC_CAST_FROM_NULL);\n    if (!command && !response)\n        return;\n    device->transfer(command, response);\n}\n\n/**\n* Sets the SPI clock frequency\n*/\n//%\nvoid setFrequency(SPI_ device, int frequency) {\n    device->setFrequency(frequency);\n}\n\n/**\n* Sets the SPI bus mode\n*/\n//%\nvoid setMode(SPI_ device, int mode) {\n    device->setMode(mode);\n}\n\n}\n",
            "spi.ts": "namespace pins {\n\n    let _spi: SPI;\n    /**\n    * Gets the default SPI driver\n    */\n    //%\n    export function spi() {\n        if (!_spi) {\n            const mosi = pins.pinByCfg(DAL.CFG_PIN_MOSI);\n            const miso = pins.pinByCfg(DAL.CFG_PIN_MISO);\n            const sck = pins.pinByCfg(DAL.CFG_PIN_SCK);\n            _spi = pins.createSPI(mosi, miso, sck);\n        }\n        return _spi;\n    }\n\n    /**\n     * Write to the SPI slave and return the response\n     * @param value Data to be sent to the SPI slave\n     */\n    //% help=pins/spi-write weight=5 advanced=true\n    //% blockId=spi_write block=\"spi write %value\"\n    export function spiWrite(value: number) {\n        return spi().write(value);\n    }\n\n    /**\n     * Write a given command to SPI bus, and at the same time read the response.\n     */\n    //% help=pins/spi-transfer weight=4 advanced=true\n    //% blockId=spi_transfer block=\"spi transfer %command into %response\"\n    export function spiTransfer(command: Buffer, response: Buffer) {\n        spi().transfer(command, response);\n    }\n\n    /**\n     * Set the SPI frequency\n     * @param frequency the clock frequency, eg: 1000000\n     */\n    //% help=pins/spi-frequency weight=4 advanced=true\n    //% blockId=spi_frequency block=\"spi frequency %frequency\"\n    export function spiFrequency(frequency: number) {\n        spi().setFrequency(frequency);\n    }\n\n    /**\n     * Set the SPI signal mode\n     * @param mode the mode, eg: 3\n     */\n    //% help=pins/spi-mode weight=3 advanced=true\n    //% blockId=spi_mode block=\"spi mode %mode\"\n    export function spiMode(mode: number) {\n        spi().setMode(mode);\n    }\n}",
            "test.ts": "let i = 1\nlet f = 0.5\nlet plus = i + f\nlet minus = i - f\n\nlet r = Math.random()\nlet ri = Math.randomRange(5, 10)\n\n",
            "timer.ts": "namespace control {\n    /**\n     * A timer\n     */\n    //% fixedInstances\n    export class Timer {\n        start: number;\n\n        constructor() {\n            this.start = control.millis();\n        }\n\n        /**\n         * Gets the elapsed time in millis since the last reset\n         */\n        //% blockId=timerMillis block=\"%timer|millis\"\n        millis(): number {\n            return control.millis() - this.start;\n        }\n\n        /**\n         * Gets the elapsed time in seconds since the last reset\n         */\n        //% blockId=timerSeconds block=\"%timer|seconds\"\n        seconds(): number {\n            return this.millis() / 1000;\n        }\n\n        /**\n         * Resets the timer\n         */\n        //% blockId=timerRest block=\"%timer|reset\"\n        reset() {\n            this.start = control.millis();\n        }\n\n        /**\n         * Pauses until the timer reaches the given amount of milliseconds\n         * @param ms how long to pause for, eg: 5, 100, 200, 500, 1000, 2000\n         */\n        //% blockId=timerPauseUntil block=\"%timer|pause until (ms) %ms\"\n        pauseUntil(ms: number) {\n            const remaining = this.millis() - ms;\n            pause(Math.max(0, remaining));\n        }\n    }\n\n    //% whenUsed fixedInstance block=\"timer 1\"\n    export const timer1 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 2\"\n    export const timer2 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 3\"\n    export const timer3 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 4\"\n    export const timer4 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 5\"\n    export const timer5 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 6\"\n    export const timer6 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 7\"\n    export const timer7 = new Timer();\n    //% whenUsed fixedInstance block=\"timer 8\"\n    export const timer8 = new Timer();\n}",
            "uf2format.h": "#ifndef UF2FORMAT_H\n#define UF2FORMAT_H 1\n\n#include <stdint.h>\n#include <stdbool.h>\n\n// All entries are little endian.\n\n#ifndef BOOTLOADER_START\n#define BOOTLOADER_START 0x0\n#endif\n\n#ifndef BOOTLOADER_END\n#define BOOTLOADER_END 0x2000\n#endif\n\n#ifndef UF2_BINFO\n#define UF2_BINFO ((UF2_BInfo *)(BOOTLOADER_END - sizeof(UF2_BInfo)))\n#endif\n\n#ifndef UF2_INFO_TXT\n#define UF2_INFO_TXT UF2_BINFO->info_uf2\n#endif\n\n\n#define UF2_MAGIC_START0 0x0A324655UL // \"UF2\\n\"\n#define UF2_MAGIC_START1 0x9E5D5157UL // Randomly selected\n#define UF2_MAGIC_END 0x0AB16F30UL    // Ditto\n\n// If set, the block is \"comment\" and should not be flashed to the device\n#define UF2_FLAG_NOFLASH 0x00000001\n\ntypedef struct {\n    // 32 byte header\n    uint32_t magicStart0;\n    uint32_t magicStart1;\n    uint32_t flags;\n    uint32_t targetAddr;\n    uint32_t payloadSize;\n    uint32_t blockNo;\n    uint32_t numBlocks;\n    uint32_t reserved;\n\n    // raw data;\n    uint8_t data[476];\n\n    // store magic also at the end to limit damage from partial block reads\n    uint32_t magicEnd;\n} UF2_Block;\n\ntypedef struct {\n    uint8_t version;\n    uint8_t ep_in;\n    uint8_t ep_out;\n    uint8_t reserved0;\n    uint32_t cbw_tag;\n    uint32_t blocks_remaining;\n    uint8_t *buffer;\n} UF2_HandoverArgs;\n\ntypedef void (*UF2_MSC_Handover_Handler)(UF2_HandoverArgs *handover);\ntypedef void (*UF2_HID_Handover_Handler)(int ep);\n\n// this is required to be exactly 16 bytes long by the linker script\ntypedef struct {\n    void *reserved0;\n    UF2_HID_Handover_Handler handoverHID;\n    UF2_MSC_Handover_Handler handoverMSC;\n    const char *info_uf2;\n} UF2_BInfo;\n\nstatic inline bool is_uf2_block(void *data) {\n    UF2_Block *bl = (UF2_Block *)data;\n    return bl->magicStart0 == UF2_MAGIC_START0 && bl->magicStart1 == UF2_MAGIC_START1 &&\n           bl->magicEnd == UF2_MAGIC_END;\n}\n\nstatic inline bool in_uf2_bootloader_space(const void *addr) {\n    return (BOOTLOADER_START + 0x100) <= (uint32_t)addr && (uint32_t)addr < (BOOTLOADER_END);\n}\n\nstatic inline const char *uf2_info(void) {\n    if (in_uf2_bootloader_space(UF2_INFO_TXT))\n        return UF2_INFO_TXT;\n    return \"N/A\";\n}\n\n#ifdef UF2_DEFINE_HANDOVER\nstatic inline void hf2_handover(uint8_t ep) {\n    const char *board_info = UF2_BINFO->info_uf2;\n    UF2_HID_Handover_Handler fn = UF2_BINFO->handoverHID;\n\n    if (in_uf2_bootloader_space(board_info) && in_uf2_bootloader_space((const void *)fn) &&\n        ((uint32_t)fn & 1)) {\n        // Pass control to bootloader; never returns\n        fn(ep & 0xf);\n    }\n}\n\nstatic inline void check_uf2_handover(uint8_t *buffer, uint32_t blocks_remaining, uint8_t ep_in,\n                                      uint8_t ep_out, uint32_t cbw_tag) {\n    if (!is_uf2_block(buffer))\n        return;\n\n    const char *board_info = UF2_BINFO->info_uf2;\n    UF2_MSC_Handover_Handler fn = UF2_BINFO->handoverMSC;\n\n    if (in_uf2_bootloader_space(board_info) && in_uf2_bootloader_space((const void *)fn) &&\n        ((uint32_t)fn & 1)) {\n        UF2_HandoverArgs hand = {\n            1, ep_in, ep_out, 0, cbw_tag, blocks_remaining, buffer,\n        };\n        // Pass control to bootloader; never returns\n        fn(&hand);\n    }\n}\n#endif\n\n#endif\n",
            "uf2hid.h": "#ifndef UF2_HID_H\n#define UF2_HID_H 1\n\n#define HF2_CMD_BININFO 0x0001\n// no arguments\n#define HF2_MODE_BOOTLOADER 0x01\n#define HF2_MODE_USERSPACE 0x02\nstruct HF2_BININFO_Result {\n    uint32_t mode;\n    uint32_t flash_page_size;\n    uint32_t flash_num_pages;\n    uint32_t max_message_size;\n    uint32_t uf2_family;\n};\n\n#define HF2_CMD_INFO 0x0002\n// no arguments\n// results is utf8 character array\n\n#define HF2_CMD_RESET_INTO_APP 0x0003\n// no arguments, no result\n\n#define HF2_CMD_RESET_INTO_BOOTLOADER 0x0004\n// no arguments, no result\n\n#define HF2_CMD_START_FLASH 0x0005\n// no arguments, no result\n\n#define HF2_CMD_WRITE_FLASH_PAGE 0x0006\nstruct HF2_WRITE_FLASH_PAGE_Command {\n    uint32_t target_addr;\n    uint32_t data[0];\n};\n// no result\n\n#define HF2_CMD_CHKSUM_PAGES 0x0007\nstruct HF2_CHKSUM_PAGES_Command {\n    uint32_t target_addr;\n    uint32_t num_pages;\n};\nstruct HF2_CHKSUM_PAGES_Result {\n    uint16_t chksums[0 /* num_pages */];\n};\n\n#define HF2_CMD_READ_WORDS 0x0008\nstruct HF2_READ_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n};\nstruct HF2_READ_WORDS_Result {\n    uint32_t words[0 /* num_words */];\n};\n\n#define HF2_CMD_WRITE_WORDS 0x0009\nstruct HF2_WRITE_WORDS_Command {\n    uint32_t target_addr;\n    uint32_t num_words;\n    uint32_t words[0 /* num_words */];\n};\n// no result\n\n#define HF2_CMD_DMESG 0x0010\n// no arguments\n// results is utf8 character array\n\ntypedef struct {\n    uint32_t command_id;\n    uint16_t tag;\n    uint8_t reserved0;\n    uint8_t reserved1;\n\n    union {\n        struct HF2_WRITE_FLASH_PAGE_Command write_flash_page;\n        struct HF2_WRITE_WORDS_Command write_words;\n        struct HF2_READ_WORDS_Command read_words;\n        struct HF2_CHKSUM_PAGES_Command chksum_pages;\n        uint8_t data8[0];\n        uint16_t data16[0];\n        uint32_t data32[0];\n    };\n} HF2_Command;\n\ntypedef struct {\n    union {\n        uint32_t eventId;\n        struct {\n            uint16_t tag;\n            union {\n                struct {\n                    uint8_t status;\n                    uint8_t status_info;\n                };\n                uint16_t status16;\n            };\n        };\n    };\n    union {\n        struct HF2_BININFO_Result bininfo;\n        uint8_t data8[0];\n        uint16_t data16[0];\n        uint32_t data32[0];\n    };\n} HF2_Response;\n\n#define HF2_FLAG_SERIAL_OUT 0x80\n#define HF2_FLAG_SERIAL_ERR 0xC0\n#define HF2_FLAG_CMDPKT_LAST 0x40\n#define HF2_FLAG_CMDPKT_BODY 0x00\n#define HF2_FLAG_MASK 0xC0\n#define HF2_SIZE_MASK 63\n\n#define HF2_STATUS_OK 0x00\n#define HF2_STATUS_INVALID_CMD 0x01\n\n#endif\n",
            "usb.cpp": "#include \"pxt.h\"\n\n#if CONFIG_ENABLED(DEVICE_USB)\n#include \"uf2format.h\"\n\nnamespace pxt {\nCodalUSB usb;\n\n// share the buffer; we will crash anyway if someone talks to us over both at the same time\nHF2_Buffer hf2buf;\nHF2 hf2(hf2buf);\n#ifdef HF2_HID\nHF2 hf2hid(hf2buf);\n#endif\nDummyIface dummyIface;\n\n#if CONFIG_ENABLED(DEVICE_MOUSE)\nUSBHIDMouse mouse;\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\nUSBHIDKeyboard keyboard;\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\nUSBHIDJoystick joystick;\n#endif\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\nUSBJACDAC *jacdacDebug;\n#endif\n\nstatic const DeviceDescriptor device_desc = {\n    0x12,   // bLength\n    0x01,   // bDescriptorType\n    0x0210, // bcdUSBL\n\n    // Class etc specified per-interface\n    0x00, 0x00, 0x00,\n\n    0x40, // bMaxPacketSize0\n    USB_DEFAULT_VID, USB_DEFAULT_PID,\n    0x4202, // bcdDevice - leave unchanged for the HF2 to work\n    0x01,   // iManufacturer\n    0x02,   // iProduct\n    0x03,   // SerialNumber\n    0x01    // bNumConfigs\n};\n\nstatic void start_usb() {\n    // start USB with a delay, so that user code can add new interfaces if needed\n    // (eg USB HID keyboard, or MSC)\n    fiber_sleep(100);\n    usb.start();\n}\n\nvoid platform_usb_init() __attribute__((weak));\nvoid platform_usb_init() {}\n\nvoid set_usb_strings(const char *uf2_info) {\n    static const char *string_descriptors[3];\n    static char serial[12];\n    itoa(target_get_serial() & 0x7fffffff, serial);\n\n    auto model = strstr(uf2_info, \"Model: \");\n    if (model) {\n        model += 7;\n        auto end = model;\n        while (*end && *end != '\\n' && *end != '\\r')\n            end++;\n        auto len = end - model;\n        auto dev = (char *)app_alloc(len + 10);\n        memcpy(dev, model, len);\n        strcpy(dev + len, \" (app)\");\n        // try to split into manufacturer and\n        auto sep = strstr(dev, \" / \");\n        if (sep) {\n            *sep = '\\0';\n            string_descriptors[0] = dev;\n            string_descriptors[1] = sep + 3;\n        } else {\n            string_descriptors[0] = dev;\n            string_descriptors[1] = dev;\n        }\n    }\n\n    string_descriptors[2] = serial;\n    usb.stringDescriptors = string_descriptors;\n}\n\nvoid usb_init() {\n    usb.deviceDescriptor = &device_desc;\n    set_usb_strings(UF2_INFO_TXT);\n\n    platform_usb_init();\n\n#ifdef STM32F4\n    // let's not waste EPs on the HF2 - it will run on CONTROL pipe instead\n    // this doesn't seem to currently work on SAMD, so only do it on STM, which\n    // has very few EPs\n    hf2.allocateEP = false;\n#endif\n    usb.add(hf2);\n\n#ifdef HF2_HID\n    hf2hid.useHID = true;\n    usb.add(hf2hid);\n#else\n    // the WINUSB descriptors don't seem to work if there's only one interface\n    // so we add a dummy interface\n    usb.add(dummyIface);\n#endif\n\n\n#if CONFIG_ENABLED(DEVICE_MOUSE)\n    usb.add(mouse);\n#endif\n#if CONFIG_ENABLED(DEVICE_KEYBOARD)\n    usb.add(keyboard);\n#endif\n#if CONFIG_ENABLED(DEVICE_JOYSTICK)\n    usb.add(joystick);\n#endif\n    // USBJACDAC ctor does a bunch of stuff, which we don't want in a static initializer\n#if CONFIG_ENABLED(DEVICE_JACDAC_DEBUG)\n    usb.add(*(jacdacDebug = new USBJACDAC()));\n#endif\n\n    create_fiber(start_usb);\n}\n\n} // namespace pxt\n\n#else\nnamespace pxt {\nvoid usb_init() {}\n} // namespace pxt\n#endif\n\nnamespace control {\n/**\n * Determines if the USB has been enumerated.\n */\n//%\nbool isUSBInitialized() {\n#if CONFIG_ENABLED(DEVICE_USB)\n    return pxt::usb.isInitialised();\n#else\n    return false;\n#endif\n}\n}\n\nnamespace pxt {\nstatic void (*pSendToUART)(const char *data, int len) = NULL;\nvoid setSendToUART(void (*f)(const char *, int)) {\n    pSendToUART = f;\n}\n\nvoid sendSerial(const char *data, int len) {\n#if CONFIG_ENABLED(DEVICE_USB)\n    hf2.sendSerial(data, len);\n#if HF2_HID\n    hf2hid.sendSerial(data, len);\n#endif\n#endif\n    if (pSendToUART)\n        pSendToUART(data, len);\n}\n\nvoid dumpDmesg() {\n    sendSerial(\"\\nDMESG:\\n\", 8);\n    sendSerial(codalLogStore.buffer, codalLogStore.ptr);\n    sendSerial(\"\\n\\n\", 2);\n}\n} // namespace pxt\n"
        },
        "teknikio-bluebird": {
            "README.md": "# Teknikio Bluebird\n\nThe Teknikio Bluebird library.\n\ndocker build -t pxt-teknikio .\ndocker run -p 3232:3232 pxt-teknikio:latest\n",
            "board.json": "{\n  \"driveDisplayName\": \"\",\n  \"visual\": {\n    \"image\": \"pkg://board.svg\",\n    \"useCrocClips\": true,\n    \"width\": 400,\n    \"height\": 300,\n    \"pinDist\": 10,\n    \"pinBlocks\": [{\n            \"x\": 103,\n            \"y\": 20,\n            \"labels\": [\"A2\"]\n        },\n        {\n            \"x\": 236,\n            \"y\": 34,\n            \"labels\": [\"A1\"]\n        },\n        {\n            \"x\": 171,\n            \"y\": 17,\n            \"labels\": [\"3.3VOUT\"]\n        },\n        {\n            \"x\": 172,\n            \"y\": 271,\n            \"labels\": [\"3.3VOUT\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 161.5,\n            \"labels\": [\"3.3VIN\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 148.3,\n            \"labels\": [\"D14\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 136.5,\n            \"labels\": [\"D13\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 123.5,\n            \"labels\": [\"D12\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 111.5,\n            \"labels\": [\"D11\"]\n        },\n        {\n            \"x\": 207.5,\n            \"y\": 99,\n            \"labels\": [\"D10\"]\n        },\n        {\n            \"x\": 219,\n            \"y\": 161.5,\n            \"labels\": [\"GND\"]\n        },\n        {\n            \"x\": 219,\n            \"y\": 148.3,\n            \"labels\": [\"D9\"]\n        },\n        {\n            \"x\": 219.4,\n            \"y\": 136.5,\n            \"labels\": [\"D8\"]\n        },\n        {\n            \"x\": 219,\n            \"y\": 123.5,\n            \"labels\": [\"D7\"]\n        },\n        {\n            \"x\": 219,\n            \"y\": 111.5,\n            \"labels\": [\"A6\"]\n        },\n        {\n            \"x\": 219,\n            \"y\": 99,\n            \"labels\": [\"A5\"]\n        },\n        {\n            \"x\": 238,\n            \"y\": 254,\n            \"labels\": [\"A4\"]\n        },\n        {\n            \"x\": 104,\n            \"y\": 270,\n            \"labels\": [\"A3\"]\n        },\n        {\n            \"x\": 51,\n            \"y\": 242,\n            \"labels\": [\"GND\"]\n        },\n        {\n            \"x\": 49,\n            \"y\": 51,\n            \"labels\": [\"GND1\"]\n        },\n        {\n            \"x\": 300,\n            \"y\": 222,\n            \"labels\": [\"GND2\"]\n        },\n        {\n            \"x\": 299,\n            \"y\": 65,\n            \"labels\": [\"GND3\"]\n        }\n    ],\n    \"leds\": [{\n            \"x\": 227,\n            \"y\": 173,\n            \"w\": 14.748972445423053,\n            \"h\": 14.748815073829538,\n            \"color\": \"neopixel\",\n            \"label\": \"NEOPIXEL\"\n        }\n    ],\n    \"touchPads\": [{\n            \"x\": 342,\n            \"y\": 38,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"A1\"\n        },\n        {\n            \"x\": 142,\n            \"y\": 15,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"A2\"\n        },\n        {\n            \"x\": 144,\n            \"y\": 391,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"A3\"\n        },\n        {\n            \"x\": 344,\n            \"y\": 368,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"A4\"\n        },\n        {\n            \"x\": 69,\n            \"y\": 228,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"GND\"\n        },\n        {\n            \"x\": 67,\n            \"y\": 62,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"GND1\"\n        },\n        {\n            \"x\": 288,\n            \"y\": 211,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"GND2\"\n        },\n        {\n            \"x\": 288,\n            \"y\": 78,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"GND3\"\n        },\n        {\n            \"x\": 175,\n            \"y\": 33,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"3.3VOUT\"\n        },\n        {\n            \"x\": 176,\n            \"y\": 255,\n            \"w\": 40,\n            \"h\": 40,\n            \"label\": \"3.3VOUT\"\n        }\n    ],\n    \"buttons\": []\n  },\n  \"gpioPinMap\": {\n        \"A1\": \"A1\",\n        \"A2\": \"A2\",\n        \"A3\": \"A3\",\n        \"A4\": \"A4\",\n        \"A5\": \"A5\",\n        \"A6\": \"A6\",\n        \"D7\": \"D7\",\n        \"D8\": \"D8\",\n        \"D9\": \"D9\",\n        \"D10\": \"D10\",\n        \"D12\": \"D11\",\n        \"D13\": \"D12\",\n        \"D14\": \"D13\",\n        \"GND1\": \"GND1\",\n        \"GND2\": \"GND2\",\n        \"GND3\": \"GND3\",\n        \"GND\": \"GND\",\n        \"NEOPIXEL\" : \"NEOPIXEL\"\n  },\n  \"spiPins\": {\n  },\n  \"groundPins\": [\n      \"GND\",\n      \"GND1\"\n  ],\n  \"threeVoltPins\": [\"3.3VIN\", \"3.3VOUT\"],\n  \"onboardComponents\": [\n    \"lightsensor\",\n    \"accelerometer\",\n    \"neopixel\"\n  ],\n  \"marginWhenBreadboarding\": [\n    0,\n    0,\n    80,\n    0\n  ]\n}\n",
            "board.svg": "<svg width=\"684\" height=\"509\" xmlns=\"http://www.w3.org/2000/svg\"><g transform=\"rotate(90 341.5 342)\" fill=\"none\" fill-rule=\"evenodd\"><path d=\"M234 682.67c-12.36-1.77-24.83-3.12-37.1-5.51-59.65-11.33-111-37.41-148.19-87.71-23.59-32-36.27-68.69-43.13-107.56-12.75-72.75-1.73-142.69 25.8-210.44C58.3 205 95.09 144.56 137.07 87c11.85-16.31 24.32-32.11 36.58-48.11 16.53-21.33 38.25-33.38 64.54-37.64 1.14-.31 2.39-.83 3.74-1.25h23.8c5.51 1.35 11.12 2.49 16.52 4 18.5 5.3 34.19 15.17 46.46 30.14 39.59 48.53 76.38 99.14 107.14 153.8C464.33 238.5 488.33 291.3 500 349c13.2 65.47 9.77 130-14.75 192.36-25.36 64.44-73 105-137.49 126.37a289.14 289.14 0 01-68.39 13.62 28.48 28.48 0 00-5.71 1.24c-13.23.08-26.43.08-39.66.08z\" fill=\"#036\" fill-rule=\"nonzero\"/><path fill=\"#F9F9F9\" fill-rule=\"nonzero\" d=\"M314.89 525.64v-14.76l1.45-.41 9.87 10.53 1-.1v-9.77h1.46v15.38L317.8 515h-1.15v10.39zM312.39 518.37c0 6.75-2.7 9.14-9.35 8.21a8.5 8.5 0 01-3.74-1.58c-2.39-1.77-3.74-11.23-1.15-12.58a20.91 20.91 0 019.77-1.66c1.67.1 3.22 2.7 4.37 4.26.52.98.1 2.2.1 3.35zm-2.7-2.19c.21-2.28-.42-3.94-4.47-3.94-3.74 0-6.34.62-6.34 3.74 0 1.76-.83 3.74.21 5.19a9.9 9.9 0 006 3.64c3.43.52 4.78-1.46 4.67-3.85\"/><path d=\"M67.13 300.44l.11-.1-.11.1z\" fill=\"#000\" fill-rule=\"nonzero\"/><path fill=\"#666\" fill-rule=\"nonzero\" d=\"M306.26 290.36h46.56v35.85h-46.56z\"/><path d=\"M330.37 303.87c2.91 0 5.82-.1 8.73 0 1.56.1 4 4.78 3.43 6.65-.94 2.7-1.66 5.92-6 5.09-1.66-.31-3.53.94-5.19.83a52.22 52.22 0 01-11.34-1.55c-1-.21-1.56-2.81-2-4.47-.72-2.81 2.5-6.55 5.41-6.65 2.28-.11 4.57-.21 7-.42l-.04.52z\" fill=\"#000\" fill-rule=\"nonzero\"/><path d=\"M273 659.39c.1 5.4.2 10.18.1 15a3.31 3.31 0 01-2.39 2.29c-3.904.33-7.826.4-11.74.21a3.74 3.74 0 01-2.39-2.6 70.44 70.44 0 01-.32-11.43c0-1 1.25-2.91 2.08-3 4.66-.47 9.47-.47 14.66-.47zM250.56 659.91c.21 5.2.21 9.77.52 14.24.1 2.28-.83 3-3 3-4.26 0-8.52 0-13.4.1-.21-5.09-.42-10.08-.52-15.06 0-.73.93-2.08 1.45-2.08 4.97-.11 9.96-.11 14.95-.2zM276.75 677c-.21-5.09-.32-9.87-.52-14.65-.11-2 .93-2.39 2.7-2.6a50.94 50.94 0 007.9-1.35c4.36-1 9.35.73 11.64 4.57 2.18 3.64 1.76 7.28-.52 10.81-2.5 3.95-5.93 5.09-10.92 4a42.4 42.4 0 00-5.09-.72 40 40 0 00-5.19-.06zm6.75-6.23a6.913 6.913 0 0012.89-5 7 7 0 00-8.94-4 6.82 6.82 0 00-3.95 8.94v.06zM229.57 677.26c-4.37.84-8.42 1.67-12.58 2.19a9 9 0 01-9.77-5.1 9.7 9.7 0 011.15-11.35c2.91-3.43 6.44-3.95 10.7-2.91 2.49.62 5.09.41 7.59.83 1 .21 2.7 1.25 2.7 2 .21 4.78.1 9.56.21 14.34zm-11-1.35a6.67 6.67 0 003.43-8.83V667a6.4 6.4 0 00-8.31-4 .78.78 0 00-.42.2 7.37 7.37 0 00-4.05 9.15 7.48 7.48 0 009.35 3.53v.03zM228 646.09a7.38 7.38 0 01-9.67-4.06.1.1 0 00-.1-.1 7.92 7.92 0 014.15-10.18c3.64-1.35 8.63.72 10 4.15a8.13 8.13 0 01-4.38 10.19zm-.63-2a5.78 5.78 0 002.81-7.17 5.35 5.35 0 00-7-2.91 5.45 5.45 0 004.15 10.08h.04zM283.29 644.94a7.8 7.8 0 01-10-3.94c-1.67-3.64.41-8.84 4.05-10.4a8.34 8.34 0 0110 4.16 7.71 7.71 0 01-4 10.08l-.05.1zm-8-5c.94 2.39 4.68 4 7.17 3.11 2.49-.89 4.06-4.78 3.12-7.17a5.47 5.47 0 00-7.27-2.7 5.65 5.65 0 00-3 6.76h-.02zM264.9 645.88c0-4.68-.21-9 0-13.3.1-.83 2.08-1.56 3.22-2.29.62.94 1.66 1.77 1.66 2.7.21 3.947.21 7.903 0 11.85 0 .83-1 2.39-1.56 2.39-1.14 0-2.28-.83-3.32-1.35zM248.69 646.4l-5.41.1c0-4.57-.1-9 .21-13.3.1-.83 1.77-1.77 2.91-2.18.31-.11 1.87 1.25 1.87 2.08.21 4.26.21 8.62.42 13.3zM236.53 647.75c-.31-5.4-.63-9.77-.63-14.13 0-.83 1.46-2.08 2.5-2.5.52-.21 2.29 1 2.29 1.77a83.75 83.75 0 01.2 12.47c0 .73-2.39 1.35-4.36 2.39zM255.55 645.88c-3.75 1.25-5.41.62-5.1-3.22.21-2.6-.52-5.41-.1-8 .21-1.46 1.87-2.6 2.91-3.95.73 1.24 1.87 2.49 2 3.84.31 3.768.406 7.55.29 11.33zM257.83 646c0-4.78-.1-9.35-.21-13.92 4.58-1.25 4.78-1.15 5 3.22.11 2.29.21 4.68.21 7 .3 4.1.09 4.31-5 3.7z\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path d=\"M227.38 644.11c-2.39 1-6.13-.52-7.17-2.91a5.76 5.76 0 012.91-7.06 5.34 5.34 0 017 2.91 5.63 5.63 0 01-2.74 7.06zM275.29 640a5.49 5.49 0 0110.19-4.06c.93 2.39-.73 6.24-3.12 7.17-2.39.93-6.13-.76-7.07-3.11z\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path d=\"M285.06 634.14c-30.76-.32-32.42 1.35-62.67 1.14-.1 15.48-14.86 26.71-15 42.09l91.24.83c.15-15.48-13.63-28.68-13.57-44.06z\" fill=\"#CCC\" fill-rule=\"nonzero\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"10.39\"><tspan x=\"311.48\" y=\"286.31\">RESET</tspan></text><path d=\"M177.92 129.59l-2.08 3L125 103.2l2.08-2.91 32 18.49c-2.08-1.76-4.16-3.63-6.24-5.61-20.58-18.7-21-19.12-19.43-21.93l2.8-3.53c.73-1.45-1.76 3.74 19 22.66 10.96 10.08 22.5 19.12 22.71 19.22z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M176.05 133.33c-.11-.1-13.83-5.61-27.86-10.08-26.81-8.62-34.19-3.63-34.19-3.53l2-3.53c1.66-2.81 6.86-5 33.36 3.53 14.13 4.57 27.95 10.08 28.06 10.18l-1.37 3.43z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"10.39\"><tspan x=\"295.51\" y=\"506.63\">P</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"10.39\"><tspan x=\"302.98\" y=\"506.63\">O</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"10.39\"><tspan x=\"311.48\" y=\"506.63\">W</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"10.39\"><tspan x=\"322.87\" y=\"506.63\">ER</tspan></text><path d=\"M245.67 412c0-3.95.11-8 0-11.95 0-2.29.94-3.22 3.33-3.12 8.21.1 16.52.1 24.73 0 2.5 0 3.64.83 3.54 3.33-.11 8-.11 15.9 0 23.9 0 2.39-1 3.43-3.54 3.43H249c-2.29 0-3.33-.94-3.33-3.22V412z\" fill=\"#000\" fill-rule=\"nonzero\"/><path fill=\"#CCC\" fill-rule=\"nonzero\" d=\"M205.14 95.25h97.84v111.31h-97.84z\"/><path d=\"M148.35 397.45c2.6.1 5.19.1 7.69 0 3-.32 3.84 2 3.84 3.74a3.54 3.54 0 01-3.12 3.74h-.83a203.954 203.954 0 00-15.9 0c-2.91.1-3.11-1.46-3.11-3.74 0-2.28.31-3.85 3.22-3.64 2.91.21 5.51-.1 8.21-.1zM148.14 420.93c2.49 0 5-.1 7.38.11 1.14.1 3.22.72 3.32 1.35a9.91 9.91 0 01-.62 5.19c-.21.52-2.29.32-3.53.32-4.58 0-9.15-.32-13.72-.11-3.54.21-4.47-1.45-3.85-4.36a3.65 3.65 0 012.5-2.29 78.8 78.8 0 018.52-.21z\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M138.16 399.94h20.68v23.69h-20.68z\"/><path d=\"M227.64 434.41h-2.48c-3.64 0-3.64 0-3.64-3.35 0-3.78 0-3.78 4.08-3.78h6.4c1.75 0 2.19.58 2.33 2.18.3 4.95.3 4.95-6.69 4.95zM183.66 435.87h-2.77c-4.08 0-4.08 0-4.08-4.08 0-4.51 0-4.51 4.66-4.51 2.33 0 4.81.14 7.14 0 1.89 0 2.47.72 2.62 2.62.15 5.97.15 5.97-7.57 5.97zM183.66 410h-2.77c-4.08 0-4.08 0-4.08-4.08 0-4.52 0-4.52 4.66-4.52h7.14c1.89 0 2.47.73 2.62 2.63.15 5.97.15 5.97-7.57 5.97zM227.64 408.78h-2.77c-4.08 0-4.08 0-4.08-4.08 0-4.51 0-4.51 4.66-4.51h7.14c1.89 0 2.47.73 2.62 2.62.14 5.97.14 5.97-7.57 5.97z\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path fill=\"#FCFCFC\" fill-rule=\"nonzero\" d=\"M180.89 392.18h48.49v47.62h-48.49z\"/><path d=\"M455.49 226.45c10.08 20.16 19.64 42.09 25.67 63.39-1.14.21-20.78 7.9-21.51 8-10.08 1.56-20.16 0-30.24-2.6-8.63-2.28-17.88-8.62-19.75-19-.2-9.67 2.29-15.9 7.69-22.87 9.15-11 11.23-11.84 20.06-18.81 5.82-3.12 17.04-7.49 18.08-8.11zm-34 47.18c1 7.17 9.67 12.47 17.56 10.6 7.38-1.77 12.37-10.39 10.5-17.77-2.2-7.668-9.978-12.307-17.77-10.6-7.28 1.87-13 10.7-10.29 17.77zM497 341.91c4.88 21.92 8.83 45.62 9.56 67.75-1.14-.1-22.14 2.6-22.76 2.6-10.08-.83-19.54-4.88-28.68-9.87-7.9-4.26-15.28-12.68-14.55-23.18 2.08-9.35 6-14.86 13-20.36 11.53-8.53 13.82-8.84 24.11-13.41 6.18-1.77 18.14-3.22 19.32-3.53zm-44.48 37.51c-.73 7.17 6.34 14.45 14.44 14.55 7.59.1 14.55-7.07 14.45-14.76-.1-7.69-7-14.65-14.65-14.55-7.49.11-15.18 7.28-14.24 14.76zM24.42 289.74c7.07-21.31 15.9-43.65 26.71-63 .94.73 20.26 9.14 20.89 9.46 8.21 5.92 14.24 14.23 19.54 23.17 4.57 7.69 6.54 18.81.52 27.33-6.66 7-12.79 9.56-21.62 10.71-14.24 1.35-16.32.41-27.54-.94-6.34-1.54-17.35-6.42-18.5-6.73zm57.37-9.36c4.36-5.82 2-15.69-4.89-19.85-6.44-4-16.11-1.45-20 5.2-3.89 6.65-1.51 16.11 5.1 20.06 6.49 3.74 16.67 1.56 19.79-5.41zM392.31 119.51c13.61 17.88 27 37.83 36.89 57.68-1.14.41-19 11.64-19.64 11.85-9.56 3.42-19.85 3.74-30.14 3-8.94-.62-19.12-5.2-22.86-15.07-2-9.35-.62-16 3.32-23.9 7-12.47 8.84-13.72 16.32-22.24 4.99-4.25 15.17-10.59 16.11-11.32zm-24.74 52.69c2.29 6.86 11.75 10.5 19.13 7.17 7-3.12 10.28-12.47 7-19.43-3.537-7.182-12.105-10.3-19.43-7.07-6.7 3.13-10.64 12.78-6.7 19.33zM503.82 470c-3.74 22.14-9 45.52-16.84 66.31-1-.52-21.41-5.93-22-6.24-9-4.68-16.32-12-22.86-19.95-5.61-7-9.36-17.57-4.68-27 5.51-7.9 11.22-11.43 19.64-13.93 13.93-3.43 16.11-2.91 27.33-3.32 6.59.95 18.26 3.96 19.41 4.13zm-55.29 18c-3.43 6.44.42 15.8 7.9 18.91 7.07 2.91 16.11-1 18.91-8.2 2.8-7.2-.93-16.11-8.1-19-7-2.81-16.73.93-18.71 8.31V488z\" fill=\"#999\" fill-rule=\"nonzero\"/><path d=\"M363.43 161.9c-1.45-12 11-23.27 23.11-23.27 12.723.38 22.977 10.55 23.46 23.27 0 12.28-11.15 23.43-23.43 23.27-13.12-.17-24.43-11.79-23.14-23.27z\" stroke=\"#CCC\" stroke-width=\"2\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M28.89 347.62c10.29 4.68 12.47 5 24.11 13.41 6.86 5.51 10.91 10.91 13 20.37.73 10.49-6.65 18.91-14.55 23.17-9.14 5-18.6 8.94-28.68 9.87-.73.11-21.62-2.7-22.76-2.59.72-22.14 4.56-45.85 9.55-67.76 1.14.21 13.1 1.76 19.33 3.53zm10.91 19.12c-7.99.19-14.451 6.564-14.75 14.55-.11 7.69 6.85 14.86 14.44 14.76 8.11-.1 15.17-7.28 14.45-14.55.93-7.5-6.76-14.65-14.14-14.76zM21.93 468.17c11.22.42 13.51-.1 27.33 3.33 8.42 2.49 14.24 6 19.64 13.92 4.57 9.46.94 20.06-4.68 27-6.54 8-13.82 15.28-22.86 20-.62.31-21 5.71-22 6.23-7.69-20.78-13-44.17-16.84-66.3 1.22-.35 12.86-3.45 19.41-4.18zm17.25 13.72c-7.264 3.23-10.803 11.52-8.11 19 2.81 7.17 12 11.22 18.92 8.21 7.48-3.12 11.32-12.47 7.89-18.92-2-7.38-11.74-11.12-18.7-8.31v.02zM462.46 582.59a151.28 151.28 0 01-18.92 25.67c-8.42 9.46-18.39 16.63-27.54 24.63-.62-1-16-15.38-16.42-16-5.71-8.42-8.62-18.19-10.6-28.38-1.66-8.83.21-19.84 8.73-26 8.63-4.36 15.28-4.67 23.9-2.8 13.93 3.53 15.59 5.09 25.67 10.08 5.51 3.86 14.24 12.07 15.18 12.8zm-57.16-10.5c-6 3.95-7.17 14-2.08 20.37 4.78 5.93 14.65 6.76 20.58 1.87 6.037-5.23 6.917-14.275 2-20.57-4.88-5.82-15.28-7.17-20.47-1.67h-.03zM63.7 574.9c10.09-5 11.75-6.55 25.67-10.08 8.63-1.87 15.38-1.46 23.91 2.91 8.52 6 10.39 17.15 8.73 26-2 10.18-4.89 20.06-10.6 28.37-.42.52-13.1 14.24-13.83 15.28-9-7.9-21.82-16.11-30.13-25.46-7.07-7.9-13.72-16.11-20.06-24.22.93-.85 10.91-9.06 16.31-12.8zm21.72 3.74c-4.892 6.306-4.015 15.334 2 20.58 5.92 5 15.8 4.16 20.58-1.87 5.09-6.34 3.94-16.42-2.08-20.37-5.3-5.41-15.7-4.05-20.48 1.66h-.02zM130.22 131.05c7.48 8.52 9.35 9.77 16.31 22.24 3.95 7.89 5.3 14.44 3.33 23.9-3.74 9.77-13.93 14.44-22.87 15.07-10.39.72-20.57.41-30.13-3-.63-.2-18.5-11.43-19.65-11.84 9.88-19.85 23.28-39.7 36.9-57.68.83.71 11.01 7.05 16.11 11.31zM132 153c-7-3.22-16.11.11-19.43 7.07-3.32 6.96 0 16.32 7 19.43 7.38 3.33 16.84-.31 19.23-7.17 3.89-6.47-.06-16.13-6.8-19.33z\" fill=\"#999\" fill-rule=\"nonzero\"/><path d=\"M291.09 496.44a.33.33 0 00.31-.31.27.27 0 00-.31-.31\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M291.09 496.13v37.41\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".99\"/><path d=\"M290.78 533.54c0 .21.2.31.41.31.21 0 .21-.1.31-.31M291.4 496.13c0-.21-.1-.42-.31-.42s-.42.11-.42.31v.11\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M291.09 534c.21 0 .31-.2.31-.41 0-.21-.1-.21-.31-.31\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M362.38 398.75a.27.27 0 00.31-.31.27.27 0 00-.31-.31M296.08 398.13a.31.31 0 000 .62\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path d=\"M362.59 398.13a.35.35 0 00-.52.1.31.31 0 000 .42M296.39 398.44a.28.28 0 00-.31-.31.28.28 0 00-.32.31M343.05 419.85a5.43 5.43 0 005.4-5.41 5.41 5.41 0 00-10.81 0 5.51 5.51 0 005.41 5.41M370.69 407.17a.374.374 0 00.62-.42.1.1 0 00-.1-.1M349.28 452a.28.28 0 00.32.31.28.28 0 00.31-.31\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path d=\"M371.21 407a.27.27 0 00-.31-.31.27.27 0 00-.31.31M296.08 451.54a.29.29 0 00-.32.32.28.28 0 00.32.31M349.6 452.27a.31.31 0 000-.62\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path d=\"M295.76 452a.28.28 0 00.32.31.28.28 0 00.31-.31\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><g fill=\"#D8D7D6\" fill-rule=\"nonzero\"><path d=\"M334.53 433.77h-14.24v-9.45z\"/><path d=\"M334.53 433.77l-14.24-9.45h14.24z\"/></g><g fill=\"#D8D7D6\" fill-rule=\"nonzero\"><path d=\"M382.85 433.77h-14.13v-9.45z\"/><path d=\"M382.85 433.77l-14.13-9.45h14.13z\"/></g><g fill=\"#D8D7D6\" fill-rule=\"nonzero\"><path d=\"M334.53 401.56h-14.24v-9.46z\"/><path d=\"M334.53 401.56l-14.24-9.46h14.24z\"/></g><path d=\"M266.77 362.57l-2.7.93c-1.25 5.3 1 8.42 5.82 10.08.72.21 1.87-.52 3.32-.93l4.47 8.31-10.29.31 1.15-3.53-7.07-2.6c-.73 2.39-5.51 2.7-3.12 7.07l-9.87 2.91c1-4.26 1.66-7.28 2.39-10.6l3.12 1.35c1.66-1.67 3.74-3.12 5.09-5.2 1.35-2.08-.52-6.44-2.81-8.1l4.58-7.8 5.92 7.8z\" stroke=\"#FFF\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M207.33 374h-2.81c0 3.12-.1 6.14 0 9 .1 2.18-.83 2.7-3 2.07V374l-5.1-.2v-3.43c2.39.2 2.39-1.35 2.39-3.12a35.52 35.52 0 01.42-5.72c.62-4.47 3.53-7.17 7.27-7 3.74.17 7.07 3.85 7.38 7.9.11 1.45-.1 2.91 0 4.36.1 1.45-.72 3 1.46 3.85.41.1.21 1.87.31 3.12l-5 .2c-.41 2.5-.73 4.89-1.14 7.28-.69.1-1.39.1-2.08 0l-.1-7.24z\" fill=\"#F9F9F9\" fill-rule=\"nonzero\"/><path d=\"M321.54 160.87a.28.28 0 00.31-.31h0a.28.28 0 00-.31-.31\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M191.43 257.31a.33.33 0 00.31-.31h0a.34.34 0 00-.31-.31h0\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".4\"/><path d=\"M294.83 621.15a.28.28 0 00.31-.32.28.28 0 00-.31-.31h0\" stroke=\"#900\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M295.14 620.83a.28.28 0 00-.31-.31h0a.28.28 0 00-.31.31\" stroke=\"#900\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".5\"/><path d=\"M241.62 432.11a.1.1 0 00.1.1l.11-.1\" stroke=\"#900\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M241.83 432a.1.1 0 00-.11.1l.11.1h0M278.72 400.62a.1.1 0 00-.1-.1h0a.1.1 0 00-.11.1\" stroke=\"#900\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M197.56 46.35c0-.1-.11-.1-.11-.1l-.1.1h0\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M197.56 46.25c0-.11-.11-.11-.21 0-.1.11-.1.1 0 .2M202.65 46.45v-.2h-.21M202.34 53.94a.1.1 0 00.1.1l.11-.1\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M202.65 46.35a.1.1 0 00-.1-.1l-.11.1h0M208.16 46.45c.1 0 .1-.1.1-.2s-.1-.11-.21-.11h0M208 53.94a.1.1 0 00.1.1l.11-.1\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M208.16 46.35c0-.1-.11-.1-.11-.1l-.1.1h0M210.13 54.14c.11 0 .11 0 .11-.1h0c0-.1-.11-.1-.11-.1h0\" stroke=\"#5B5B5B\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".2\"/><path d=\"M215.33 81.58a.21.21 0 10-.42 0M215.33 81.58a.4.4 0 00-.31-.1.36.36 0 00-.11.31M219.59 81.58a.23.23 0 00-.21-.21h0a.23.23 0 00-.21.21h0M270.72 81.58a.23.23 0 00-.21-.21h0a.23.23 0 00-.21.21h0M295.66 81.58a.23.23 0 00-.21-.21h0a.23.23 0 00-.21.21h0\" stroke=\"#900\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\".3\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"83.99\" cy=\"391.68\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"76.76\" y=\"400.26\">+</tspan></text><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"351.57\" cy=\"199.12\" r=\"14.24\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"157.34\" cy=\"199.12\" r=\"14.24\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"392.1\" cy=\"287.6\" r=\"14.24\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"112.13\" cy=\"286.31\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"347.62\" y=\"206.74\">-</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"153.19\" y=\"206.33\">-</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"18.71\"><tspan x=\"108.78\" y=\"292.43\">1</tspan></text><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"18.71\"><tspan x=\"385.33\" y=\"293.84\">4</tspan></text><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"134.16\" cy=\"555.57\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"130.03\" y=\"562.72\">-</tspan></text><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"377.35\" cy=\"555.57\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"373.21\" y=\"562.72\">-</tspan></text><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"91.19\" cy=\"482.31\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"18.71\"><tspan x=\"86.66\" y=\"487.45\">2</tspan></text><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"416.73\" cy=\"482.31\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"18.71\"><tspan x=\"411.35\" y=\"489.43\">3</tspan></text><circle fill=\"#FFF\" fill-rule=\"nonzero\" cx=\"175.11\" cy=\"300.13\" r=\"8.63\"/><circle stroke=\"#FFF\" fill=\"#D8D7D6\" fill-rule=\"nonzero\" cx=\"175.11\" cy=\"300.13\" r=\"8.63\"/><circle fill=\"#FFF\" fill-rule=\"nonzero\" cx=\"175.01\" cy=\"320.08\" r=\"8.63\"/><circle stroke=\"#FFF\" fill=\"#D8D7D6\" fill-rule=\"nonzero\" cx=\"175.01\" cy=\"320.08\" r=\"8.63\"/><path fill=\"#FFF\" fill-rule=\"nonzero\" d=\"M148.5 361.62h12.06v22.55H148.5z\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"148.5\" cy=\"372.46\" r=\"10.29\"/><circle stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" cx=\"419.54\" cy=\"391.68\" r=\"14.24\"/><text fill=\"#FFF\" font-family=\"Helvetica\" font-size=\"24.94\"><tspan x=\"412.33\" y=\"399.25\">+</tspan></text><path fill=\"#666\" fill-rule=\"nonzero\" d=\"M202.34 493.94h89.79v40.63h-89.79z\"/><path d=\"M280.7 498.1v.83c0 9.67-.32 9.88-21.31 8.63-2.39-.11-6.23-1.87-6.34-2.91a52 52 0 01-.1-13.3c.1-.94 2.6-2.5 4.26-2.6 6.34-.31 12.78-.31 19.12 0 1.56.1 3.74 1.66 4.05 2.6.63 2.18.21 4.47.32 6.75zM375.78 437.62v-39.8l-7.58-7.59h-39.91v47.39z\" fill=\"#000\" fill-rule=\"nonzero\"/><path d=\"M179.79 298.15c-.52-2.59-3.85-4.15-6.34-3.32a5.13 5.13 0 003.11 9.77h0c2.6-.94 4.27-4.16 3.23-6.45zM179.79 318.52c-.52-2.59-3.85-4.15-6.34-3.32a5.13 5.13 0 003.11 9.77c2.6-.97 4.27-4.16 3.23-6.45z\" stroke=\"#FFF\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><g transform=\"translate(187 291)\" fill=\"#D8D7D6\" fill-rule=\"nonzero\" stroke=\"#FFF\"><circle cx=\"95.05\" cy=\"29.08\" r=\"8.63\"/><path d=\"M99.83 27.52c-.52-2.59-3.85-4.15-6.34-3.32a5.13 5.13 0 103.12 9.77h0c2.7-.97 4.26-4.16 3.22-6.45z\"/><circle cx=\"95.05\" cy=\"9.13\" r=\"8.63\"/><path d=\"M99.83 7.57c-.52-2.6-3.85-4.16-6.34-3.33a5.13 5.13 0 103.12 9.77h0c2.7-.93 4.26-4.15 3.22-6.44z\"/><circle cx=\"72.5\" cy=\"8.92\" r=\"8.63\"/><path d=\"M77.28 7.47c-.52-2.6-3.85-4.16-6.34-3.33a5.13 5.13 0 003.11 9.77h0c2.6-1.04 4.26-4.16 3.23-6.44z\"/><circle cx=\"72.7\" cy=\"29.08\" r=\"8.63\"/><path d=\"M77.48 27.52c-.52-2.59-3.84-4.15-6.23-3.32a5.13 5.13 0 103.12 9.77c2.49-.97 4.05-4.16 3.11-6.45z\"/><circle cx=\"52.02\" cy=\"8.71\" r=\"8.63\"/><path d=\"M56.7 7.15c-.52-2.59-3.85-4.15-6.24-3.32a5.13 5.13 0 003.12 9.77h0c2.6-.94 4.16-4.16 3.12-6.45z\"/><circle cx=\"51.92\" cy=\"29.08\" r=\"8.63\"/><path d=\"M56.7 27.52c-.52-2.59-3.85-4.15-6.24-3.32a5.13 5.13 0 003.12 9.77c2.5-.97 4.16-4.16 3.12-6.45z\"/><circle cx=\"29.99\" cy=\"9.13\" r=\"8.63\"/><path d=\"M34.77 7.57c-.52-2.6-3.84-4.16-6.23-3.33a5.13 5.13 0 103.11 9.77c2.5-.93 4.06-4.15 3.12-6.44z\"/><circle cx=\"29.89\" cy=\"29.08\" r=\"8.63\"/><path d=\"M34.67 27.52c-.52-2.59-3.85-4.15-6.24-3.32a5.13 5.13 0 003.12 9.77c2.6-.97 4.16-4.16 3.12-6.45z\"/><circle cx=\"9.31\" cy=\"9.13\" r=\"8.63\"/><path d=\"M14.09 7.57c-.52-2.6-3.84-4.16-6.34-3.33a5.13 5.13 0 003.12 9.77h0c2.7-.93 4.26-4.15 3.22-6.44z\"/><circle cx=\"9\" cy=\"29.08\" r=\"8.63\"/><path d=\"M13.67 27.52c-.51-2.59-3.84-4.15-6.23-3.32a5.13 5.13 0 103.12 9.77c2.6-.97 4.15-4.16 3.11-6.45z\"/></g><path d=\"M119.1 222.08l-1.67 3.22-54.14-22.75 1.77-3.23 34.08 14.35-6.86-4.67c-22.76-16-23.28-16.32-22-19.23l2.39-3.84c.63-1.56-1.35 4 21.72 20.16 11.92 8.41 24.5 15.99 24.71 15.99z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M117.74 226c-.1 0-14.44-3.74-28.89-6.44-27.64-5.09-34.39.73-34.39.83l1.45-3.74c1.25-3 6.24-5.82 33.57-.73 14.65 2.7 29 6.44 29.1 6.55l-.84 3.53zM73.37 325.38l-.94 3.54-57.67-11 1-3.53 36.37 7c-2.6-1-5.09-2.08-7.69-3.22-25.53-10.97-26.15-11.17-25.53-14.3l1.46-4.26c.21-1.66-.42 4.16 25.46 15.17 13.51 5.82 27.44 10.6 27.54 10.6z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M73 329.54c-.1 0-14.86-.73-29.61-.31-28.17.72-33.47 7.79-33.47 8l.73-4c.62-3.22 4.88-7 32.74-7.69 14.86-.42 29.72.31 29.82.31l-.21 3.69zM59 431.28l.31 3.64-58 9-.21-3.64 36.58-5.72c-2.7-.1-5.5-.2-8.31-.41C1.66 432.53 1 432.53.52 429.41v-4.47c-.31-1.66.94 4.05 29.1 5.72 14.55.83 29.3.62 29.38.62z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M60 435.33c-.1 0-14.23 4.37-27.95 9.67-26.33 10.08-28.93 18.6-28.83 18.7l-.73-3.95c-.52-3.22 2.29-8.21 28.27-18.18 13.82-5.3 28.06-9.67 28.16-9.77l1.08 3.53zM81.06 529.9l1.77 3.22-48.95 32.53-1.66-3.22L63 542c-2.5 1-5.09 2.08-7.8 3.11-25.87 10.09-26.39 10.4-28.26 7.69l-1.87-4c-.94-1.35 2.59 3.22 28.78-7 13.8-5.45 27.15-11.8 27.21-11.9z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M83.66 533.12c-.11.11-11.12 9.88-21.41 20.48-19.64 20.16-18.39 29-18.29 29.09l-2.29-3.32c-1.76-2.7-1.35-8.42 18-28.37 10.33-10.71 21.39-20.58 21.49-20.68l2.5 2.8zM156 603.58l3.32 1.46-18.18 55.8-3.33-1.45 11.43-35.23c-1.35 2.39-2.7 4.78-4.15 7.27-14 24-14.24 24.53-17.36 23.59l-4-2c-1.56-.42 4 .94 18.18-23.38 7.53-12.64 13.97-25.85 14.09-26.06z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M159.94 604.62c0 .11-2.6 14.66-4.06 29.31-2.8 28 3.54 34.19 3.75 34.19l-3.85-1.12c-3.12-1-6.24-5.72-3.53-33.36 1.45-14.76 4.05-29.41 4.05-29.52l3.64.5zM350.64 111.3c20.78-18.91 18.29-24.11 19-22.65l2.81 3.53C374 95 373.6 95.4 353 114.11l-6.24 5.61 32-18.5 2.08 2.91-50.82 29.41-2.08-3c.14-.22 11.78-9.26 22.7-19.24z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M328.4 130.73c.1-.1 13.92-5.61 28.06-10.18 26.5-8.52 31.8-6.34 33.35-3.53l2 3.53c0-.1-7.38-5.09-34.19 3.53-14 4.47-27.75 10-27.85 10.08l-1.37-3.43zM411.64 206.91c23.07-16.21 21.09-21.62 21.72-20.16l2.39 3.84c1.25 3 .73 3.33-22 19.23-2.293 1.66-4.58 3.22-6.86 4.68l34.08-14.34 1.77 3.22-54.14 22.76-1.67-3.23s12.65-7.58 24.71-16z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M387.22 223.33c.1 0 14.55-3.85 29.09-6.55 27.34-5.09 32.32-2.28 33.57.73l1.46 3.74c0-.1-6.65-6-34.4-.83-14.45 2.7-28.79 6.44-28.89 6.44l-.83-3.53zM460.07 315.61c25.87-11 25.15-16.83 25.46-15.17l1.47 4.26c.63 3.22 0 3.33-25.56 14.24-2.6 1.14-5.2 2.18-7.69 3.22l36.37-7 1 3.53-57.68 11-.93-3.54c.12.06 14.05-4.72 27.56-10.54z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M432.73 326.73c.11 0 15-.72 29.83-.31 27.85.73 32.11 4.47 32.74 7.69l.72 3.95c0-.1-5.3-7.27-33.46-8-14.76-.42-29.41.31-29.62.31l-.21-3.64zM476.38 431.38c28.06-1.66 29.41-7.38 29.1-5.71v4.47c-.52 3.22-1.14 3.22-28.89 4.78-2.81.2-5.61.31-8.31.41l36.58 5.72-.21 3.64-58-9.05.35-3.64c0 .11 14.73.32 29.38-.62z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M447 432.63c.11 0 14.34 4.36 28.16 9.77 26 10 28.69 15 28.27 18.19l-.73 3.94c.11-.1-2.59-8.62-28.78-18.7-13.72-5.3-27.85-9.56-28-9.67l1.08-3.53zM363.83 630.6c14.24 24.32 19.85 22.87 18.17 23.4l-4 2c-3.12.94-3.33.42-17.36-23.59-1.45-2.39-2.8-4.88-4.15-7.27l11.43 35.22-3.33 1.46L346.37 606l3.33-1.45c.3.07 6.76 13.27 14.13 26.05z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M349.49 604.83c0 .1 2.6 14.76 4.06 29.51 2.8 27.65-.42 32.43-3.54 33.36l-3.84 1.15c.1 0 6.54-6.13 3.74-34.19-1.46-14.66-4-29.21-4.06-29.31l3.64-.52z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M417.27 268.57c-1.46-12 11-23.27 23.11-23.27 12.713.39 22.952 10.56 23.43 23.27 0 12.28-11.15 23.43-23.43 23.27-13.09-.17-24.38-11.84-23.11-23.27zM446.34 380.48c-1.45-12 11-23.27 23.11-23.27 12.713.39 22.952 10.56 23.43 23.27 0 12.28-11.15 23.43-23.43 23.27-13.09-.16-24.4-11.75-23.11-23.27zM443.68 496.55c-1.46-11.95 11-23.26 23.1-23.26 12.714.38 22.957 10.55 23.43 23.26 0 12.28-11.15 23.43-23.43 23.27-13.09-.16-24.4-11.82-23.1-23.27zM395.52 587.79c-1.45-12 11-23.27 23.11-23.27 12.711.395 22.947 10.562 23.43 23.27 0 12.28-11.15 23.43-23.43 23.27-13.09-.16-24.4-11.8-23.11-23.27zM117.81 187.43c-12.28.17-23.43-11-23.43-23.26.478-12.71 10.717-22.88 23.43-23.27 12.12 0 24.56 11.31 23.11 23.27 1.29 11.47-10.02 23.1-23.11 23.26zM64 294.1c-12.28.16-23.43-11-23.43-23.27.483-12.708 10.719-22.875 23.43-23.27 12.12 0 24.57 11.31 23.11 23.27C88.37 282.3 77.06 293.94 64 294.1zM34.9 406c-12.28.16-23.43-11-23.43-23.27.478-12.707 10.72-22.87 23.43-23.25 12.12 0 24.56 11.31 23.11 23.27C59.3 394.22 48 405.85 34.9 406zM37.57 522.09c-12.28.16-23.43-11-23.43-23.27.468-12.714 10.713-22.89 23.43-23.27 12.12 0 24.56 11.31 23.1 23.27 1.33 11.47-10.01 23.1-23.1 23.27zM93.72 614.32c-12.28.16-23.43-11-23.43-23.27.483-12.708 10.719-22.875 23.43-23.27 12.12 0 24.56 11.31 23.11 23.27 1.29 11.48-10.02 23.11-23.11 23.27z\" stroke=\"#CCC\" stroke-width=\"2\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M204.11 435.37c-10.22.13-19.5-9.15-19.5-19.37.4-10.578 8.92-19.041 19.5-19.37 10.09 0 20.45 9.42 19.24 19.37 1.07 9.55-8.35 19.23-19.24 19.37z\" fill=\"#D8D7D6\" fill-rule=\"nonzero\"/><path fill=\"#999\" fill-rule=\"nonzero\" d=\"M212.02 103.22h83.04v94.47h-83.04z\"/><path d=\"M221.62 79.64c-12.28.17-23.43-11-23.43-23.26.468-12.714 10.713-22.89 23.43-23.27 12.12 0 24.56 11.31 23.1 23.27 1.28 11.47-10.01 23.1-23.1 23.26zM290.93 79.64c-12.28.17-23.43-11-23.43-23.26.468-12.714 10.713-22.89 23.43-23.27 12.12 0 24.56 11.31 23.11 23.27 1.29 11.47-10.04 23.1-23.11 23.26z\" fill=\"#FFF\" fill-rule=\"nonzero\"/><path d=\"M301.56 357.59c.62-.003 1.23.155 1.77.46.509.285.93.704 1.22 1.21A3.58 3.58 0 01305 361v12.02a5.28 5.28 0 11-6.84 0V361a3.58 3.58 0 01.45-1.77 3.22 3.22 0 011.22-1.21 3.562 3.562 0 011.73-.43h0z\" stroke=\"#F9F9F9\" stroke-width=\"2\"/></g></svg>\n",
            "config.ts": "namespace config {\n    export const PIN_NEOPIXEL = DAL.P1_15;\n    export const NUM_NEOPIXELS = 1;\n\n    export const PIN_A0 = DAL.P1_14; // no AIN\n    export const PIN_A1 = DAL.P0_29;\n    export const PIN_A2 = DAL.P0_31;\n    export const PIN_A3 = DAL.P0_2;\n    export const PIN_A4 = DAL.P0_3;\n    export const PIN_A5 = DAL.P0_5;\n    export const PIN_A6 = DAL.P0_4;\n\n    export const PIN_D7 = DAL.P0_6;\n    export const PIN_D8 = DAL.P1_9;\n    export const PIN_D9 = DAL.P0_12;\n    export const PIN_D11 = DAL.P0_7;\n    export const PIN_D12 = DAL.P0_8;\n    export const PIN_D13 = DAL.P1_8;\n    export const PIN_D14 = DAL.P0_11;\n    export const PIN_D15 = DAL.P0_30;\n\n    export const PIN_FLASH_MISO = PIN_D11;\n    export const PIN_FLASH_MOSI = PIN_D12;\n    export const PIN_FLASH_SCK = PIN_D13;\n\n    export const PIN_LIGHT = DAL.P0_28;\n    export const PIN_JACK_SND = PIN_A0;\n    export const PIN_RX = PIN_D7;\n    export const PIN_TX = PIN_D8;\n\n    export const ACCELEROMETER_TYPE = DAL.ACCELEROMETER_TYPE_MPU6050;\n    export const PIN_ACCELEROMETER_SCL = DAL.P1_11;\n    export const PIN_ACCELEROMETER_SDA = DAL.P1_12;\n    export const PIN_ACCELEROMETER_INT = DAL.P1_10;\n}\n",
            "device.d.ts": "declare namespace pins {\n\n    //% fixedInstance shim=pxt::getPin(PIN_A1)\n    const A1: AnalogInPin;\n    //% fixedInstance shim=pxt::getPin(PIN_A2)\n    const A2: AnalogInPin;\n    //% fixedInstance shim=pxt::getPin(PIN_A3)\n    const A3: PwmPin;\n    //% fixedInstance shim=pxt::getPin(PIN_A4)\n    const A4: PwmPin;\n    //% fixedInstance shim=pxt::getPin(PIN_A5)\n    const A5: PwmPin;\n    //% fixedInstance shim=pxt::getPin(PIN_A6)\n    const A6: PwmPin;\n\n    //% fixedInstance shim=pxt::getPin(PIN_D7)\n    const D7: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D8)\n    const D8: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D9)\n    const D9: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D10)\n    const D10: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D12)\n    const D12: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D13)\n    const D13: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D14)\n    const D14: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_D15)\n    const LIGHT_ENABLE: DigitalInOutPin;\n    //% fixedInstance shim=pxt::getPin(PIN_LIGHT)\n    const LIGHT: AnalogInPin;\n\n    //% fixedInstance shim=pxt::getPin(PIN_NEOPIXEL)\n    const NEOPIXEL: DigitalInOutPin;\n\n}\n\ndeclare namespace rgb {\n\n}\n\ndeclare namespace sensors {\n\n}\n",
            "ns.ts": "\n//% color=\"#d65cd6\"\nnamespace input {\n}\n\n//% color=\"#F55D3E\"\nnamespace music {\n\n}\n\n//% color=\"#00b295\"\nnamespace control {\n\n}\n\n//% color=\"#EF2D56\" advanced=false\nnamespace pins {\n\n}\n\n//% color=\"#006E90\"\nnamespace serial {\n\n}\n\n//% color=\"#40bf4a\"\nnamespace loops {\n\n}\n",
            "pxt.json": "{\n    \"name\": \"teknikio-bluebird\",\n    \"description\": \"Support for Teknikio Bluebird - beta\",\n    \"dependencies\": {\n        \"core---nrf52\": \"*\",\n        \"mixer---nrf52\": \"*\",\n        \"pulse\": \"*\",\n        \"jacdac\": \"*\",\n        \"accelerometer\": \"*\",\n        \"lightsensor\": \"*\",\n        \"serial\": \"*\"\n    },\n    \"files\": [\n        \"README.md\",\n        \"device.d.ts\",\n        \"config.ts\",\n        \"ns.ts\",\n        \"board.json\",\n        \"board.svg\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    },\n    \"features\": [\n        \"uf2\",\n        \"pina0\",\n        \"serial\",\n        \"pina1\",\n        \"music\",\n        \"pinled\",\n        \"jacdac\",\n        \"neopixel\",\n        \"accelerometer\"\n    ]\n}\n"
        },
        "mixer---nrf52": {
            "SoundOutput.h": "#include \"NRF52PWM.h\"\n#include \"Synthesizer.h\"\n#include \"Mixer.h\"\n\nclass SoundOutput {\n  public:\n    NRF52PWM dac;\n\n    SoundOutput(DataSource &data) : dac(NRF_PWM0, data) {\n        dac.connectPin(*LOOKUP_PIN(JACK_SND), 0);\n    }\n\n    void setOutput(int output) { }\n};\n",
            "headphone.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"142\" height=\"180\" viewBox=\"0 0 142 180\"><rect ry=\".3\" rx=\"1\" y=\"58.615\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><rect ry=\".3\" rx=\"1\" y=\"32.043\" x=\"-8.878\" height=\"23.571\" width=\"17.143\" transform=\"rotate(-45)\" fill=\"#b3b3b3\"/><path d=\"M.346 7.296c-.394.39-.31 4.797-.18 4.898l13.404 10.18c.117.12.337 4.76.73 4.368l5.506-5.56.01.01 6.51-6.444c.39-.392-4.25-.614-4.366-.73L11.777.612c-.1-.132-4.51-.215-4.898.18L4.087 3.636l-.01-.01-3.73 3.67z\" fill=\"#b3b3b3\"/><rect ry=\"6.85\" rx=\"4.571\" y=\"84.758\" x=\"-20.128\" height=\"75.571\" width=\"39.643\" transform=\"rotate(-45)\"/><rect ry=\".374\" rx=\"1.038\" y=\"29.442\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"55.939\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\".374\" rx=\"1.038\" y=\"82.392\" x=\"-8.925\" height=\"2.228\" width=\"17.238\" transform=\"rotate(-45)\" fill=\"#fff\"/><rect ry=\"2.317\" rx=\"2.183\" y=\"158.876\" x=\"-9.774\" height=\"25.568\" width=\"18.935\" transform=\"rotate(-45)\"/><path d=\"M128.588 128.82s14.97 11.165 7.547 26.35c-8.426 17.24-25.57 20.653-25.57 20.653\" fill=\"none\" stroke=\"#000\" stroke-width=\"6.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>",
            "legacy.ts": "//% deprecated=true hidden=true\nenum Sounds {\n    //% block=\"power up\"\n    PowerUp,\n    //% block=\"power down\"\n    PowerDown,\n    //% block=\"jump up\"\n    JumpUp,\n    //% block=\"jump down\"\n    JumpDown,\n    //% block=\"ba ding\"\n    BaDing,\n    //% block=\"wawawawaa\"\n    Wawawawaa,\n    //% block=\"magic wand\"\n    MagicWand,\n    //% block=\"siren\"\n    Siren\n}\n\nnamespace music {\n    /**\n     * Get the melody string for a built-in melody.\n     * @param name the note name, eg: Note.C\n     */\n    //% help=music/sounds\n    //% blockId=music_sounds block=\"%name\"\n    //% blockHidden=true\n    //% name.fieldEditor=\"gridpicker\"\n    //% name.fieldOptions.width=285\n    //% name.fieldOptions.columns=3\n    export function sounds(name: Sounds): string {\n        switch (name) {\n            case Sounds.BaDing:\n                return 'b5:1 e6:3';\n            case Sounds.Wawawawaa:\n                return 'e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8';\n            case Sounds.JumpUp:\n                return 'c5:1 d e f g';\n            case Sounds.JumpDown:\n                return 'g5:1 f e d c';\n            case Sounds.PowerUp:\n                return 'g4:1 c5 e g:2 e:1 g:3';\n            case Sounds.PowerDown:\n                return 'g5:1 d# c g4:2 b:1 c5:3';\n            case Sounds.MagicWand:\n                return 'F#6:1-300 G# A# B C7# D# F F# G# A# B:6'; //A#7:1-200 A:1 A#7:1 A:1 A#7:2\n            case Sounds.Siren:\n                return 'a4 d5 a4 d5 a4 d5';\n            default:\n                return '';\n        }\n    }\n\n    let currMelody: Melody\n\n    /**\n     * Start playing a sound and don't wait for it to finish.\n     * Notes are expressed as a string of characters with this format: NOTE[octave][:duration]\n     * @param sound the melody to play\n     */\n    //% help=music/play-sound\n    //% blockId=music_play_sound block=\"play sound %sound=music_sounds\"\n    //% parts=\"headphone\"\n    //% weight=95 blockGap=8\n    //% deprecated=true hidden=true\n    export function playSound(sound: string) {\n        stopAllSounds();\n        currMelody = new Melody(sound);\n        currMelody.play();\n        pause(1);\n    }\n\n\n    /**\n     * Play a sound and wait until the sound is done.\n     * Notes are expressed as a string of characters with this format: NOTE[octave][:duration]\n     * @param sound the melody to play\n     */\n    //% help=music/play-sound-until-done\n    //% blockId=music_play_sound_until_done block=\"play sound %sound=music_sounds|until done\"\n    //% parts=\"headphone\"\n    //% weight=94 blockGap=8\n    //% deprecated=true hidden=true\n    export function playSoundUntilDone(sound: string) {\n        stopAllSounds();\n        currMelody = new Melody(sound);\n        currMelody.playUntilDone();\n    }\n}",
            "melody.cpp": "#include \"pxt.h\"\n#include \"SoundOutput.h\"\n#include \"melody.h\"\n\n//#define LOG DMESG\n#define LOG NOLOG\n\nnamespace music {\n\nSINGLETON(WSynthesizer);\n\nstatic const int16_t sinQ[256] = {\n    0,     201,   403,   605,   807,   1009,  1210,  1412,  1614,  1815,  2017,  2218,  2419,\n    2621,  2822,  3023,  3224,  3425,  3625,  3826,  4026,  4226,  4426,  4626,  4826,  5026,\n    5225,  5424,  5623,  5822,  6020,  6219,  6417,  6615,  6812,  7009,  7206,  7403,  7600,\n    7796,  7992,  8187,  8383,  8578,  8772,  8967,  9161,  9354,  9547,  9740,  9933,  10125,\n    10317, 10508, 10699, 10890, 11080, 11270, 11459, 11648, 11836, 12024, 12212, 12399, 12585,\n    12772, 12957, 13142, 13327, 13511, 13695, 13878, 14060, 14243, 14424, 14605, 14785, 14965,\n    15145, 15323, 15501, 15679, 15856, 16032, 16208, 16383, 16557, 16731, 16905, 17077, 17249,\n    17420, 17591, 17761, 17930, 18099, 18267, 18434, 18600, 18766, 18931, 19096, 19259, 19422,\n    19585, 19746, 19907, 20067, 20226, 20384, 20542, 20699, 20855, 21010, 21165, 21318, 21471,\n    21623, 21774, 21925, 22074, 22223, 22371, 22518, 22664, 22810, 22954, 23098, 23241, 23382,\n    23523, 23663, 23803, 23941, 24078, 24215, 24350, 24485, 24618, 24751, 24883, 25014, 25144,\n    25273, 25401, 25528, 25654, 25779, 25903, 26026, 26148, 26269, 26389, 26509, 26627, 26744,\n    26860, 26975, 27089, 27202, 27314, 27425, 27535, 27644, 27752, 27859, 27964, 28069, 28173,\n    28275, 28377, 28477, 28576, 28674, 28772, 28868, 28963, 29056, 29149, 29241, 29331, 29421,\n    29509, 29596, 29682, 29767, 29851, 29934, 30015, 30096, 30175, 30253, 30330, 30406, 30480,\n    30554, 30626, 30697, 30767, 30836, 30904, 30970, 31036, 31100, 31163, 31225, 31285, 31345,\n    31403, 31460, 31516, 31570, 31624, 31676, 31727, 31777, 31825, 31873, 31919, 31964, 32008,\n    32050, 32092, 32132, 32171, 32209, 32245, 32280, 32314, 32347, 32379, 32409, 32438, 32466,\n    32493, 32518, 32542, 32565, 32587, 32607, 32627, 32645, 32661, 32677, 32691, 32704, 32716,\n    32727, 32736, 32744, 32751, 32757, 32761, 32764, 32766, 32767};\n\ntypedef int (*gentone_t)(uintptr_t userData, uint32_t position);\n\nstatic int noiseTone(uintptr_t userData, uint32_t position) {\n    (void)userData;\n    (void)position;\n    // see https://en.wikipedia.org/wiki/Xorshift\n    static uint32_t x = 0xf01ba80;\n    x ^= x << 13;\n    x ^= x >> 17;\n    x ^= x << 5;\n    return (x & 0xffff) - 0x7fff;\n}\n\nstatic int sineTone(uintptr_t userData, uint32_t position) {\n    (void)userData;\n    int p = position >= 512 ? position - 512 : position;\n    int r;\n    if (p < 256) {\n        r = sinQ[p];\n    } else {\n        r = sinQ[511 - p];\n    }\n    return position >= 512 ? -r : r;\n}\n\nstatic int sawtoothTone(uintptr_t userData, uint32_t position) {\n    (void)userData;\n    return (position << 6) - 0x7fff;\n}\n\nstatic int triangleTone(uintptr_t userData, uint32_t position) {\n    (void)userData;\n    return position < 512 ? (position << 7) - 0x7fff : ((1023 - position) << 7) - 0x7fff;\n}\n\nstatic int squareWaveTone(uintptr_t wave, uint32_t position) {\n    return position < (102 * (wave - SW_SQUARE_10 + 1)) ? -0x7fff : 0x7fff;\n}\n\nstatic int silenceTone(uintptr_t userData, uint32_t position) {\n    (void)userData;\n    (void)position;\n    return 0;\n}\n\nstatic gentone_t getWaveFn(uint8_t wave) {\n    switch (wave) {\n    case SW_TRIANGLE:\n        return triangleTone;\n    case SW_SAWTOOTH:\n        return sawtoothTone;\n    case SW_NOISE:\n        return noiseTone;\n    case SW_SINE:\n        return sineTone;\n    default:\n        if (SW_SQUARE_10 <= wave && wave <= SW_SQUARE_50)\n            return squareWaveTone;\n        else\n            return silenceTone;\n    }\n}\n\n#define CLAMP(lo, v, hi) ((v) = ((v) < (lo) ? (lo) : (v) > (hi) ? (hi) : (v)))\n\nint WSynthesizer::updateQueues() {\n    const int maxTime = 0xffffff;\n    while (1) {\n        WaitingSound *p;\n        int minLeft = maxTime;\n        for (p = waiting; p; p = p->next) {\n            int timeLeft =\n                p->state == SoundState::Waiting ? p->startSampleNo - currSample : maxTime;\n            if (timeLeft <= 0) {\n                break;\n            }\n            if (timeLeft < minLeft)\n                minLeft = timeLeft;\n        }\n        if (p) {\n            PlayingSound *snd;\n            int minIdx = -1;\n            for (unsigned i = 0; i < MAX_SOUNDS; ++i) {\n                snd = &playingSounds[i];\n                if (snd->sound == NULL)\n                    break;\n                if (minIdx == -1 ||\n                    playingSounds[minIdx].startSampleNo < playingSounds[i].startSampleNo)\n                    minIdx = i;\n                snd = NULL;\n            }\n            // if we didn't find a free slot, expel the oldest sound\n            if (!snd)\n                snd = &playingSounds[minIdx];\n            if (snd->sound)\n                snd->sound->state = SoundState::Done;\n            snd->sound = p;\n            p->state = SoundState::Playing;\n            snd->startSampleNo = currSample;\n            snd->currInstr = (SoundInstruction *)p->instructions->data;\n            snd->instrEnd = snd->currInstr + p->instructions->length / sizeof(SoundInstruction);\n            for (auto p = snd->currInstr; p < snd->instrEnd; p++) {\n                CLAMP(20, p->frequency, 20000);\n                CLAMP(20, p->endFrequency, 20000);\n                CLAMP(0, p->startVolume, 1023);\n                CLAMP(0, p->endVolume, 1023);\n                CLAMP(1, p->duration, 60000);\n            }\n            snd->prevVolume = -1;\n        } else {\n            // no more sounds to move\n            return minLeft;\n        }\n    }\n}\n\nint WSynthesizer::fillSamples(int16_t *dst, int numsamples) {\n    if (numsamples <= 0)\n        return 1;\n\n    int timeLeft = updateQueues();\n    int res = waiting != NULL;\n\n    // if there's a pending sound to be started somewhere during numsamples,\n    // split the call into two\n    if (timeLeft < numsamples) {\n        fillSamples(dst, timeLeft);\n        LOG(\"M split %d\", timeLeft);\n        fillSamples(dst + timeLeft, numsamples - timeLeft);\n        return 1;\n    }\n\n    memset(dst, 0, numsamples * 2);\n\n    uint32_t samplesPerMS = (sampleRate << 8) / 1000;\n    float toneStepMult = (1024.0 * (1 << 16)) / sampleRate;\n    const int MAXVAL = (1 << (OUTPUT_BITS - 1)) - 1;\n\n    for (unsigned i = 0; i < MAX_SOUNDS; ++i) {\n        PlayingSound *snd = &playingSounds[i];\n        if (snd->sound == NULL)\n            continue;\n\n        res = 1;\n\n        SoundInstruction *instr = NULL;\n        gentone_t fn = NULL;\n        snd->currInstr--;\n        uint32_t toneStep = 0;\n        int32_t toneDelta = 0;\n        int32_t volumeStep = 0;\n        uint32_t tonePosition = snd->tonePosition;\n        uint32_t samplesLeft = 0;\n        uint8_t wave = 0;\n        int32_t volume = 0;\n        uint32_t prevFreq = 0;\n        uint32_t prevEndFreq = 0;\n\n        for (int j = 0; j < numsamples; ++j) {\n            if (samplesLeft == 0) {\n                instr = ++snd->currInstr;\n                if (instr >= snd->instrEnd) {\n                    break;\n                }\n                wave = instr->soundWave;\n                fn = getWaveFn(wave);\n\n                samplesLeft = (uint32_t)(instr->duration * samplesPerMS >> 8);\n                volumeStep = ((int)(instr->endVolume - instr->startVolume) << 16) / samplesLeft;\n\n                if (j == 0 && snd->prevVolume != -1) {\n                    // restore previous state\n                    samplesLeft = snd->samplesLeftInCurr;\n                    volume = snd->prevVolume;\n                    toneStep = snd->prevToneStep;\n                    toneDelta = snd->prevToneDelta;\n                    prevFreq = instr->frequency;\n                    prevEndFreq = instr->endFrequency;\n                } else {\n                    LOG(\"#sampl %d %p\", samplesLeft, instr);\n                    volume = instr->startVolume << 16;\n                    if (prevFreq != instr->frequency || prevEndFreq != instr->endFrequency) {\n                        toneStep = (uint32_t)(toneStepMult * instr->frequency);\n                        if (instr->frequency != instr->endFrequency) {\n                            uint32_t endToneStep = (uint32_t)(toneStepMult * instr->endFrequency);\n                            toneDelta = (int32_t)(endToneStep - toneStep) / (int32_t)samplesLeft;\n                        } else {\n                            toneDelta = 0;\n                        }\n                        prevFreq = instr->frequency;\n                        prevEndFreq = instr->endFrequency;\n                    }\n                }\n            }\n\n            int v = fn(wave, (tonePosition >> 16) & 1023);\n            v = (v * (volume >> 16)) >> (10 + (16 - OUTPUT_BITS));\n\n            // if (v > MAXVAL)\n            //    target_panic(123);\n\n            dst[j] += v;\n\n            tonePosition += toneStep;\n            toneStep += toneDelta;\n            volume += volumeStep;\n            samplesLeft--;\n        }\n\n        if (instr >= snd->instrEnd) {\n            snd->sound->state = SoundState::Done;\n            snd->sound = NULL;\n        } else {\n            snd->tonePosition = tonePosition;\n            if (samplesLeft == 0)\n                samplesLeft++; // avoid infinite loop in next iteration\n            snd->samplesLeftInCurr = samplesLeft;\n            snd->prevVolume = volume;\n            snd->prevToneDelta = toneDelta;\n            snd->prevToneStep = toneStep;\n        }\n    }\n\n    currSample += numsamples;\n\n    for (int j = 0; j < numsamples; ++j) {\n        if (dst[j] > MAXVAL)\n            dst[j] = MAXVAL;\n        else if (dst[j] < -MAXVAL)\n            dst[j] = -MAXVAL;\n    }\n\n    return res;\n}\n\n//%\nvoid enableAmp(int enabled) {\n    // this is also compiled on linux\n#ifdef LOOKUP_PIN\n    auto pin = LOOKUP_PIN(SPEAKER_AMP);\n    if (pin) {\n        if (PIN(SPEAKER_AMP) & CFG_PIN_CONFIG_ACTIVE_LO)\n            enabled = !enabled;\n        pin->setDigitalValue(enabled);\n    }\n#endif\n}\n\n//%\nvoid forceOutput(int outp) {\n    auto snd = getWSynthesizer();\n    snd->out.setOutput(outp);\n}\n\n//%\nvoid queuePlayInstructions(int when, Buffer buf) {\n    auto snd = getWSynthesizer();\n\n    registerGCObj(buf);\n\n    auto p = new WaitingSound;\n    p->state = SoundState::Waiting;\n    p->instructions = buf;\n    p->startSampleNo = snd->currSample + when * snd->sampleRate / 1000;\n\n    LOG(\"Queue %dms now=%d off=%d %p\", when, snd->currSample, p->startSampleNo - snd->currSample,\n        buf->data);\n\n    target_disable_irq();\n    // add new sound to queue\n    p->next = snd->waiting;\n    snd->waiting = p;\n    // remove sounds that have already been fully played\n    while (p) {\n        while (p->next && p->next->state == SoundState::Done) {\n            auto todel = p->next;\n            p->next = todel->next;\n            unregisterGCObj(todel->instructions);\n            delete todel;\n        }\n        p = p->next;\n    }\n    target_enable_irq();\n\n    snd->poke();\n}\n\n//%\nvoid stopPlaying() {\n    LOG(\"stop playing!\");\n\n    auto snd = getWSynthesizer();\n\n    target_disable_irq();\n    auto p = snd->waiting;\n    snd->waiting = NULL;\n    for (unsigned i = 0; i < MAX_SOUNDS; ++i) {\n        snd->playingSounds[i].sound = NULL;\n    }\n    while (p) {\n        auto n = p->next;\n        unregisterGCObj(p->instructions);\n        delete p;\n        p = n;\n    }\n    target_enable_irq();\n}\n\nWSynthesizer::WSynthesizer() : upstream(NULL), out(*this) {\n    currSample = 0;\n    active = false;\n    sampleRate = out.dac.getSampleRate();\n    memset(&playingSounds, 0, sizeof(playingSounds));\n    waiting = NULL;\n    PXT_REGISTER_RESET(stopPlaying);\n}\n\n} // namespace music\n\nnamespace jacdac {\n__attribute__((weak)) void setJackRouterOutput(int output) {}\n} // namespace jacdac",
            "melody.h": "#pragma once\n\n#ifndef OUTPUT_BITS\n#define OUTPUT_BITS 10\n#endif\n\n#define SW_TRIANGLE 1\n#define SW_SAWTOOTH 2\n#define SW_SINE 3 // TODO remove it? it takes space\n#define SW_NOISE 5\n#define SW_SQUARE_10 11\n#define SW_SQUARE_50 15\n\nstruct SoundInstruction {\n    uint8_t soundWave;\n    uint8_t flags;\n    uint16_t frequency;  // Hz\n    uint16_t duration;   // ms\n    int16_t startVolume; // 0-1023\n    int16_t endVolume;   // 0-1023\n    uint16_t endFrequency;  // Hz\n};\n\n#ifdef DATASTREAM_MAXIMUM_BUFFERS\n#define CODAL 1\n#endif\n\nnamespace music {\n\n#define MAX_SOUNDS 5\n\nSTATIC_ASSERT((1 << (16 - OUTPUT_BITS)) > MAX_SOUNDS);\n\nenum class SoundState : uint8_t {\n    Waiting, //\n    Playing, //\n    Done     //\n};\n\nstruct WaitingSound {\n    uint32_t startSampleNo;\n    SoundState state;\n    WaitingSound *next;\n    Buffer instructions;\n};\n\nstruct PlayingSound {\n    uint32_t startSampleNo;\n    uint32_t samplesLeftInCurr;\n    uint32_t tonePosition;\n    int32_t prevVolume;\n    uint32_t prevToneStep;\n    int32_t prevToneDelta;\n    WaitingSound *sound;\n    SoundInstruction *currInstr, *instrEnd;\n};\n\nclass WSynthesizer\n#ifdef CODAL\n    : public DataSource\n#endif\n{\n  public:\n#ifdef CODAL\n    DataSink *upstream;\n#else\n    void *upstream;\n#endif\n    uint32_t currSample; // after 25h of playing we might get a glitch\n    int32_t sampleRate;  // eg 44100\n    PlayingSound playingSounds[MAX_SOUNDS];\n    WaitingSound *waiting;\n    bool active;\n\n    SoundOutput out;\n\n    int fillSamples(int16_t *dst, int numsamples);\n    int updateQueues();\n\n    WSynthesizer();\n    virtual ~WSynthesizer() {}\n\n    void pokeUpstream() {\n#ifdef CODAL\n        if (upstream) {\n            upstream->pullRequest();\n        }\n#endif\n    }\n\n    void poke() {\n        if (!active) {\n            active = true;\n            pokeUpstream();\n        }\n    }\n\n#ifdef CODAL\n    virtual ManagedBuffer pull() {\n        ManagedBuffer data(512);\n        auto dp = (int16_t *)data.getBytes();\n        auto sz = 512 / 2;\n        int r = fillSamples(dp, sz);\n        while (sz--) {\n            *dp++ += 1 << (OUTPUT_BITS - 1);\n        }\n        if (!r) {\n            active = false;\n            // return empty - nothing left to play\n            return ManagedBuffer();\n        }\n        pokeUpstream();\n        return data;\n    }\n    virtual void connect(DataSink &sink) { upstream = &sink; }\n#endif\n};\n\n} // namespace music\n",
            "melody.ts": "enum MusicOutput {\n    AutoDetect = 0,\n    Buzzer = 1,\n    HeadPhones = 2,\n}\n\nnamespace music {\n    //% whenUsed\n    const freqs = hex`\n        1f00210023002500270029002c002e003100340037003a003e004100450049004e00520057005c00620068006e00\n        75007b0083008b0093009c00a500af00b900c400d000dc00e900f70006011501260137014a015d01720188019f01\n        b801d201ee010b022a024b026e029302ba02e40210033f037003a403dc03170455049704dd0427057505c8052006\n        7d06e0064907b8072d08a9082d09b9094d0aea0a900b400cfa0cc00d910e6f0f5a1053115b1272139a14d4152017\n        8018f519801b231dde1e`\n\n    //% shim=music::queuePlayInstructions\n    function queuePlayInstructions(timeDelta: number, buf: Buffer) { }\n\n    //% shim=music::stopPlaying\n    function stopPlaying() { }\n\n    //% shim=music::forceOutput\n    export function forceOutput(buf: MusicOutput) { }\n\n    let globalVolume: number = null\n\n    const BUFFER_SIZE: number = 12;\n\n    //% shim=music::enableAmp\n    function enableAmp(en: number) {\n        return // for sim\n    }\n\n    function initVolume() {\n        if (globalVolume === null) {\n            globalVolume = 0\n            setVolume(control.getConfigValue(DAL.CFG_SPEAKER_VOLUME, 128))\n        }\n    }\n\n    /**\n     * Set the default output volume of the sound synthesizer.\n     * @param volume the volume 0...255\n     */\n    //% blockId=synth_set_volume block=\"set volume %volume\"\n    //% parts=\"speaker\"\n    //% volume.min=0 volume.max=255\n    //% volume.defl=20\n    //% help=music/set-volume\n    //% weight=70\n    //% group=\"Volume\"\n    export function setVolume(volume: number): void {\n        globalVolume = Math.clamp(0, 255, volume | 0)\n        enableAmp(globalVolume > 0 ? 1 : 0)\n    }\n\n    /**\n     * Gets the current volume\n     */\n    //% parts=\"speaker\"\n    //% weight=70\n    export function volume(): number {\n        initVolume()\n        return globalVolume;\n    }\n\n    function playNoteCore(when: number, frequency: number, ms: number) {\n        let buf = control.createBuffer(BUFFER_SIZE)\n        addNote(buf, 0, ms, 255, 255, 3, frequency, volume(), frequency)\n        queuePlayInstructions(when, buf)\n    }\n\n    /**\n     * Play a tone through the speaker for some amount of time.\n     * @param frequency pitch of the tone to play in Hertz (Hz), eg: Note.C\n     * @param ms tone duration in milliseconds (ms), eg: BeatFraction.Half\n     */\n    //% help=music/play-tone\n    //% blockId=mixer_play_note block=\"play tone|at %note=device_note|for %duration=device_beat\"\n    //% parts=\"headphone\" async\n    //% blockNamespace=music\n    //% weight=76 blockGap=8\n    //% group=\"Tone\"\n    export function playTone(frequency: number, ms: number): void {\n        if (ms == 0)\n            ms = 86400000 // 1 day\n\n        if (ms <= 2000) {\n            playNoteCore(0, frequency, ms)\n            pause(ms)\n        } else {\n            const id = ++playToneID\n            control.runInParallel(() => {\n                let pos = control.millis()\n                while (id == playToneID && ms > 0) {\n                    let now = control.millis()\n                    let d = pos - now\n                    let t = Math.min(ms, 500)\n                    ms -= t\n                    pos += t\n                    playNoteCore(d - 1, frequency, t)\n                    if (ms == 0)\n                        pause(d + t)\n                    else\n                        pause(d + t - 100)\n                }\n            })\n        }\n    }\n\n    let playToneID = 0\n\n    /**\n     * Play a melody from the melody editor.\n     * @param melody - string of up to eight notes [C D E F G A B C5] or rests [-] separated by spaces, \n     * which will be played one at a time, ex: \"E D G F B A C5 B \"\n     * @param tempo - number in beats per minute (bpm), dictating how long each note will play for\n     */\n    //% block=\"play melody $melody at tempo $tempo|(bpm)\" blockId=playMelody\n    //% blockNamespace=music\n    //% weight=85 blockGap=8 help=music/play-melody\n    //% group=\"Melody\"\n    //% melody.shadow=\"melody_editor\"\n    //% tempo.min=40 tempo.max=500\n    //% tempo.defl=120\n    export function playMelody(melody: string, tempo: number) {\n        let notes: string[] = melody.split(\" \").filter(n => !!n);\n        let formattedMelody = \"\";\n        let newOctave = false;\n\n        // build melody string, replace '-' with 'R' and add tempo\n        // creates format like \"C5-174 B4 A G F E D C \"\n        for (let i = 0; i < notes.length; i++) {\n            if (notes[i] === \"-\") {\n                notes[i] = \"R\";\n            } else if (notes[i] === \"C5\") {\n                newOctave = true;\n            } else if (newOctave) { // change the octave if necesary\n                notes[i] += \"4\";\n                newOctave = false;\n            }\n            // add tempo after first note\n            if (i == 0) {\n                formattedMelody += notes[i] + \"-\" + tempo + \" \";\n            } else {\n                formattedMelody += notes[i] + \" \";\n            }\n        }\n\n        const song = new Melody(formattedMelody);\n        song.playUntilDone();\n    }\n\n\n    /**\n     * Create a melody with the melody editor.\n     * @param melody\n     */\n    //% block=\"$melody\" blockId=melody_editor\n    //% blockNamespace=music\n    //% blockHidden = true\n    //% weight=85 blockGap=8\n    //% group=\"Melody\" duplicateShadowOnDrag\n    //% melody.fieldEditor=\"melody\"\n    //% melody.fieldOptions.decompileLiterals=true\n    //% melody.fieldOptions.decompileIndirectFixedInstances=\"true\"\n    //% melody.fieldOptions.onParentBlock=\"true\"\n    //% shim=TD_ID\n    export function melodyEditor(melody: string): string {\n        return melody;\n    }\n\n    /**\n     * Stop all sounds from playing.\n     */\n    //% help=music/stop-all-sounds\n    //% blockId=music_stop_all_sounds block=\"stop all sounds\"\n    //% weight=10\n    //% group=\"Sounds\"\n    export function stopAllSounds() {\n        Melody.stopAll();\n        stopPlaying();\n    }\n\n    //% fixedInstances\n    export class Melody {\n        _text: string;\n        private _player: MelodyPlayer;\n\n        private static playingMelodies: Melody[];\n\n        static stopAll() {\n            if (Melody.playingMelodies) {\n                const ms = Melody.playingMelodies.slice(0, Melody.playingMelodies.length);\n                ms.forEach(p => p.stop());\n            }\n        }\n\n        constructor(text: string) {\n            this._text = text\n        }\n\n        get text() {\n            return this._text;\n        }\n\n        /**\n         * Stop playing a sound\n         */\n        //% blockId=mixer_stop block=\"stop sound %sound\"\n        //% help=music/melody/stop\n        //% parts=\"headphone\"\n        //% weight=92 blockGap=8\n        //% group=\"Sounds\"\n        stop() {\n            if (this._player) {\n                this._player.stop()\n                this._player = null\n            }\n            this.unregisterMelody();\n        }\n\n        private registerMelody() {\n            // keep track of the active players\n            if (!Melody.playingMelodies) Melody.playingMelodies = [];\n            // stop and pop melodies if too many playing\n            if (Melody.playingMelodies.length > 4) {\n                // stop last player (also pops)\n                Melody.playingMelodies[Melody.playingMelodies.length - 1].stop();\n            }\n            // put back the melody on top of the melody stack\n            Melody.playingMelodies.removeElement(this);\n            Melody.playingMelodies.push(this);\n        }\n        private unregisterMelody() {\n            // remove from list\n            if (Melody.playingMelodies) {\n                Melody.playingMelodies.removeElement(this); // remove self\n            }\n        }\n\n        private playCore(volume: number, loop: boolean) {\n            this.stop()\n            const p = this._player = new MelodyPlayer(this)\n            this.registerMelody();\n            control.runInParallel(() => {\n                while (this._player == p) {\n                    p.play(volume)\n                    if (!loop)\n                        break\n                }\n                this.unregisterMelody();\n            })\n        }\n\n        /**\n         * Start playing a sound in a loop and don't wait for it to finish.\n         * @param sound the melody to play\n         */\n        //% help=music/melody/loop\n        //% blockId=mixer_loop_sound block=\"loop sound %sound\"\n        //% parts=\"headphone\"\n        //% weight=93 blockGap=8\n        //% group=\"Sounds\"\n        loop(volume = 255) {\n            this.playCore(volume, true)\n        }\n\n        /**\n         * Start playing a sound and don't wait for it to finish.\n         * @param sound the melody to play\n         */\n        //% help=music/melody/play\n        //% blockId=mixer_play_sound block=\"play sound %sound\"\n        //% parts=\"headphone\"\n        //% weight=95 blockGap=8\n        //% group=\"Sounds\"\n        play(volume = 255) {\n            this.playCore(volume, false)\n        }\n\n\n        /**\n         * Play a sound and wait until the sound is done.\n         * @param sound the melody to play\n         */\n        //% help=music/melody/play-until-done\n        //% blockId=mixer_play_sound_until_done block=\"play sound %sound|until done\"\n        //% parts=\"headphone\"\n        //% weight=94 blockGap=8\n        //% group=\"Sounds\"\n        playUntilDone(volume = 255) {\n            this.stop()\n            const p = this._player = new MelodyPlayer(this)\n            this._player.onPlayFinished = () => {\n                if (p == this._player)\n                    this.unregisterMelody();\n            }\n            this.registerMelody();\n            this._player.play(volume)\n        }\n\n        toString() {\n            return this._text;\n        }\n    }\n\n    function addNote(sndInstr: Buffer, sndInstrPtr: number, ms: number, beg: number, end: number, soundWave: number, hz: number, volume: number, endHz: number) {\n        if (ms > 0) {\n            sndInstr.setNumber(NumberFormat.UInt8LE, sndInstrPtr, soundWave)\n            sndInstr.setNumber(NumberFormat.UInt8LE, sndInstrPtr + 1, 0)\n            sndInstr.setNumber(NumberFormat.UInt16LE, sndInstrPtr + 2, hz)\n            sndInstr.setNumber(NumberFormat.UInt16LE, sndInstrPtr + 4, ms)\n            sndInstr.setNumber(NumberFormat.UInt16LE, sndInstrPtr + 6, (beg * volume) >> 6)\n            sndInstr.setNumber(NumberFormat.UInt16LE, sndInstrPtr + 8, (end * volume) >> 6)\n            sndInstr.setNumber(NumberFormat.UInt16LE, sndInstrPtr + 10, endHz);\n            sndInstrPtr += BUFFER_SIZE;\n        }\n        sndInstr.setNumber(NumberFormat.UInt8LE, sndInstrPtr, 0) // terminate\n        return sndInstrPtr\n    }\n\n\n    class MelodyPlayer {\n        melody: Melody;\n\n        onPlayFinished: () => void;\n\n        constructor(m: Melody) {\n            this.melody = m\n        }\n\n        stop() {\n            this.melody = null\n        }\n\n        play(volume: number) {\n            if (!this.melody)\n                return\n            volume = Math.clamp(0, 255, (volume * music.volume()) >> 8)\n\n            let notes = this.melody._text\n            let pos = 0;\n            let duration = 4; //Default duration (Crotchet)\n            let octave = 4; //Middle octave\n            let tempo = 120; // default tempo\n\n            let hz = 0\n            let endHz = -1\n            let ms = 0\n            let timePos = 0\n            let startTime = control.millis()\n            let now = 0\n\n            let envA = 0\n            let envD = 0\n            let envS = 255\n            let envR = 0\n            let soundWave = 1 // triangle\n            let sndInstr = control.createBuffer(5 * BUFFER_SIZE)\n            let sndInstrPtr = 0\n\n            const addForm = (formDuration: number, beg: number, end: number, msOff: number) => {\n                let freqStart = hz;\n                let freqEnd = endHz;\n\n                const envelopeWidth = ms > 0 ? ms : duration * Math.idiv(15000, tempo) + envR;\n                if (endHz != hz && envelopeWidth != 0) {\n                    const slope = (freqEnd - freqStart) / envelopeWidth;\n                    freqStart = hz + slope * msOff;\n                    freqEnd = hz + slope * (msOff + formDuration);\n                }\n                sndInstrPtr = addNote(sndInstr, sndInstrPtr, formDuration, beg, end, soundWave, freqStart, volume, freqEnd);\n            }\n\n            const scanNextWord = () => {\n                if (!this.melody)\n                    return \"\"\n\n                // eat space\n                while (pos < notes.length) {\n                    const c = notes[pos];\n                    if (c != ' ' && c != '\\r' && c != '\\n' && c != '\\t')\n                        break;\n                    pos++;\n                }\n\n                // read note\n                let note = \"\";\n                while (pos < notes.length) {\n                    const c = notes[pos];\n                    if (c == ' ' || c == '\\r' || c == '\\n' || c == '\\t')\n                        break;\n                    note += c;\n                    pos++;\n                }\n                return note;\n            }\n\n            enum Token {\n                Note,\n                Octave,\n                Beat,\n                Tempo,\n                Hz,\n                EndHz,\n                Ms,\n                WaveForm,\n                EnvelopeA,\n                EnvelopeD,\n                EnvelopeS,\n                EnvelopeR\n            }\n\n            let token: string = \"\";\n            let tokenKind = Token.Note;\n\n            // [ABCDEFG] (\\d+)  (:\\d+)  (-\\d+)\n            // note      octave length  tempo\n            // R (:\\d+) - rest\n            // !\\d+,\\d+ - sound at frequency with given length (Hz,ms); !\\d+ and !\\d+,:\\d+ also possible\n            // @\\d+,\\d+,\\d+,\\d+ - ADSR envelope - ms,ms,volume,ms; volume is 0-255\n            // ~\\d+ - wave form:\n            //   1 - triangle\n            //   2 - sawtooth\n            //   3 - sine\n            //   5 - noise\n            //   11 - square 10%\n            //   12 - square 20%\n            //   ...\n            //   15 - square 50%\n            //\n\n            const consumeToken = () => {\n                if (token && tokenKind != Token.Note) {\n                    const d = parseInt(token);\n                    switch (tokenKind) {\n                        case Token.Octave: octave = d; break;\n                        case Token.Beat:\n                            duration = Math.max(1, Math.min(16, d));\n                            ms = -1;\n                            break;\n                        case Token.Tempo: tempo = Math.max(1, d); break;\n                        case Token.Hz: hz = d; tokenKind = Token.Ms; break;\n                        case Token.Ms: ms = d; break;\n                        case Token.WaveForm: soundWave = Math.clamp(1, 15, d); break;\n                        case Token.EnvelopeA: envA = d; tokenKind = Token.EnvelopeD; break;\n                        case Token.EnvelopeD: envD = d; tokenKind = Token.EnvelopeS; break;\n                        case Token.EnvelopeS: envS = Math.clamp(0, 255, d); tokenKind = Token.EnvelopeR; break;\n                        case Token.EnvelopeR: envR = d; break;\n                        case Token.EndHz: endHz = d; break;\n                    }\n                    token = \"\";\n                }\n            }\n\n            while (true) {\n                let currNote = scanNextWord();\n                let prevNote: boolean = false;\n                if (!currNote) {\n                    let timeLeft = timePos - now\n                    if (timeLeft > 0)\n                        pause(timeLeft)\n                    if (this.onPlayFinished)\n                        this.onPlayFinished();\n                    return;\n                }\n\n                hz = -1;\n\n                let note: number = 0;\n                token = \"\";\n                tokenKind = Token.Note;\n\n                for (let i = 0; i < currNote.length; i++) {\n                    let noteChar = currNote.charAt(i);\n                    switch (noteChar) {\n                        case 'c': case 'C': note = 1; prevNote = true; break;\n                        case 'd': case 'D': note = 3; prevNote = true; break;\n                        case 'e': case 'E': note = 5; prevNote = true; break;\n                        case 'f': case 'F': note = 6; prevNote = true; break;\n                        case 'g': case 'G': note = 8; prevNote = true; break;\n                        case 'a': case 'A': note = 10; prevNote = true; break;\n                        case 'B': note = 12; prevNote = true; break;\n                        case 'r': case 'R': hz = 0; prevNote = false; break;\n                        case '#': note++; prevNote = false; break;\n                        case 'b': if (prevNote) note--; else { note = 12; prevNote = true; } break;\n                        case ',':\n                            consumeToken();\n                            prevNote = false;\n                            break;\n                        case '!':\n                            tokenKind = Token.Hz;\n                            prevNote = false;\n                            break;\n                        case '@':\n                            consumeToken();\n                            tokenKind = Token.EnvelopeA;\n                            prevNote = false;\n                            break;\n                        case '~':\n                            consumeToken();\n                            tokenKind = Token.WaveForm;\n                            prevNote = false;\n                            break;\n                        case ':':\n                            consumeToken();\n                            tokenKind = Token.Beat;\n                            prevNote = false;\n                            break;\n                        case '-':\n                            consumeToken();\n                            tokenKind = Token.Tempo;\n                            prevNote = false;\n                            break;\n                        case '^':\n                            consumeToken();\n                            tokenKind = Token.EndHz;\n                            break;\n                        default:\n                            if (tokenKind == Token.Note)\n                                tokenKind = Token.Octave;\n                            token += noteChar;\n                            prevNote = false;\n                            break;\n                    }\n                }\n                consumeToken();\n\n                if (note && hz < 0) {\n                    const keyNumber = note + (12 * (octave - 1));\n                    hz = freqs.getNumber(NumberFormat.UInt16LE, keyNumber * 2) || 0;\n                }\n\n                let currMs = ms\n\n                if (currMs <= 0) {\n                    const beat = Math.idiv(15000, tempo);\n                    currMs = duration * beat\n                }\n\n                if (hz < 0) {\n                    // no frequency specified, so no duration\n                } else if (hz == 0) {\n                    timePos += currMs\n                } else {\n                    if (endHz < 0) {\n                        endHz = hz;\n                    }\n\n                    sndInstrPtr = 0\n                    addForm(envA, 0, 255, 0)\n                    addForm(envD, 255, envS, envA)\n                    addForm(currMs - (envA + envD), envS, envS, envD + envA)\n                    addForm(envR, envS, 0, currMs)\n\n                    queuePlayInstructions(timePos - now, sndInstr.slice(0, sndInstrPtr))\n                    endHz = -1;\n                    timePos += currMs // don't add envR - it's supposed overlap next sound\n                }\n\n                let timeLeft = timePos - now\n                if (timeLeft > 200) {\n                    pause(timeLeft - 100)\n                    now = control.millis() - startTime\n                }\n            }\n        }\n    }\n\n    //% fixedInstance whenUsed block=\"ba ding\"\n    export const baDing = new Melody('b5:1 e6:3')\n\n    //% fixedInstance whenUsed block=\"wawawawaa\"\n    export const wawawawaa = new Melody('~15 e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8')\n\n    //% fixedInstance whenUsed block=\"jump up\"\n    export const jumpUp = new Melody('c5:1 d e f g')\n\n    //% fixedInstance whenUsed block=\"jump down\"\n    export const jumpDown = new Melody('g5:1 f e d c')\n\n    //% fixedInstance whenUsed block=\"power up\"\n    export const powerUp = new Melody('g4:1 c5 e g:2 e:1 g:3')\n\n    //% fixedInstance whenUsed block=\"power down\"\n    export const powerDown = new Melody('g5:1 d# c g4:2 b:1 c5:3')\n\n    //% fixedInstance whenUsed block=\"magic wand\"\n    export const magicWand = new Melody('F#6:1-300 G# A# B C7# D# F F# G# A# B:6')\n    //A#7:1-200 A:1 A#7:1 A:1 A#7:2\n\n    //% fixedInstance whenUsed block=\"siren\"\n    export const siren = new Melody('a4 d5 a4 d5 a4 d5')\n\n    //% fixedInstance whenUsed block=\"pew pew\"\n    export const pewPew = new Melody('!1200,200^50')\n}\n",
            "music.ts": "enum Note {\n    //% blockIdentity=music.noteFrequency enumval=262\n    C = 262,\n    //% block=C#\n    //% blockIdentity=music.noteFrequency enumval=277\n    CSharp = 277,\n    //% blockIdentity=music.noteFrequency enumval=294\n    D = 294,\n    //% blockIdentity=music.noteFrequency enumval=311\n    Eb = 311,\n    //% blockIdentity=music.noteFrequency enumval=330\n    E = 330,\n    //% blockIdentity=music.noteFrequency enumval=349\n    F = 349,\n    //% block=F#\n    //% blockIdentity=music.noteFrequency enumval=370\n    FSharp = 370,\n    //% blockIdentity=music.noteFrequency enumval=392\n    G = 392,\n    //% block=G#\n    //% blockIdentity=music.noteFrequency enumval=415\n    GSharp = 415,\n    //% blockIdentity=music.noteFrequency enumval=440\n    A = 440,\n    //% blockIdentity=music.noteFrequency enumval=466\n    Bb = 466,\n    //% blockIdentity=music.noteFrequency enumval=494\n    B = 494,\n    //% blockIdentity=music.noteFrequency enumval=131\n    C3 = 131,\n    //% block=C#3\n    //% blockIdentity=music.noteFrequency enumval=139\n    CSharp3 = 139,\n    //% blockIdentity=music.noteFrequency enumval=147\n    D3 = 147,\n    //% blockIdentity=music.noteFrequency enumval=156\n    Eb3 = 156,\n    //% blockIdentity=music.noteFrequency enumval=165\n    E3 = 165,\n    //% blockIdentity=music.noteFrequency enumval=175\n    F3 = 175,\n    //% block=F#3\n    //% blockIdentity=music.noteFrequency enumval=185\n    FSharp3 = 185,\n    //% blockIdentity=music.noteFrequency enumval=196\n    G3 = 196,\n    //% block=G#3\n    //% blockIdentity=music.noteFrequency enumval=208\n    GSharp3 = 208,\n    //% blockIdentity=music.noteFrequency enumval=220\n    A3 = 220,\n    //% blockIdentity=music.noteFrequency enumval=233\n    Bb3 = 233,\n    //% blockIdentity=music.noteFrequency enumval=247\n    B3 = 247,\n    //% blockIdentity=music.noteFrequency enumval=262\n    C4 = 262,\n    //% block=C#4\n    //% blockIdentity=music.noteFrequency enumval=277\n    CSharp4 = 277,\n    //% blockIdentity=music.noteFrequency enumval=294\n    D4 = 294,\n    //% blockIdentity=music.noteFrequency enumval=311\n    Eb4 = 311,\n    //% blockIdentity=music.noteFrequency enumval=330\n    E4 = 330,\n    //% blockIdentity=music.noteFrequency enumval=349\n    F4 = 349,\n    //% block=F#4\n    //% blockIdentity=music.noteFrequency enumval=370\n    FSharp4 = 370,\n    //% blockIdentity=music.noteFrequency enumval=392\n    G4 = 392,\n    //% block=G#4\n    //% blockIdentity=music.noteFrequency enumval=415\n    GSharp4 = 415,\n    //% blockIdentity=music.noteFrequency enumval=440\n    A4 = 440,\n    //% blockIdentity=music.noteFrequency enumval=466\n    Bb4 = 466,\n    //% blockIdentity=music.noteFrequency enumval=494\n    B4 = 494,\n    //% blockIdentity=music.noteFrequency enumval=523\n    C5 = 523,\n    //% block=C#5\n    //% blockIdentity=music.noteFrequency enumval=555\n    CSharp5 = 555,\n    //% blockIdentity=music.noteFrequency enumval=587\n    D5 = 587,\n    //% blockIdentity=music.noteFrequency enumval=622\n    Eb5 = 622,\n    //% blockIdentity=music.noteFrequency enumval=659\n    E5 = 659,\n    //% blockIdentity=music.noteFrequency enumval=698\n    F5 = 698,\n    //% block=F#5\n    //% blockIdentity=music.noteFrequency enumval=740\n    FSharp5 = 740,\n    //% blockIdentity=music.noteFrequency enumval=784\n    G5 = 784,\n    //% block=G#5\n    //% blockIdentity=music.noteFrequency enumval=831\n    GSharp5 = 831,\n    //% blockIdentity=music.noteFrequency enumval=880\n    A5 = 880,\n    //% blockIdentity=music.noteFrequency enumval=932\n    Bb5 = 932,\n    //% blockIdentity=music.noteFrequency enumval=988\n    B5 = 988,\n}\n\nenum BeatFraction {\n    //% block=1\n    Whole = 1,\n    //% block=\"1/2\"\n    Half = 2,\n    //% block=\"1/4\"\n    Quarter = 4,\n    //% block=\"1/8\"\n    Eighth = 8,\n    //% block=\"1/16\"\n    Sixteenth = 16,\n    //% block=\"2\"\n    Double = 32,\n    //% block=\"4\",\n    Breve = 64\n}\n\nnamespace music {\n\n    let beatsPerMinute: number;\n\n    /**\n    * Play a tone.\n    * @param frequency pitch of the tone to play in Hertz (Hz), eg: Note.C\n    */\n    //% help=music/ring-tone\n    //% blockId=music_ring block=\"ring tone|at %note=device_note\"\n    //% parts=\"headphone\" trackArgs=0\n    //% blockNamespace=music inBasicCategory=true\n    //% weight=75 blockGap=8\n    //% group=\"Tone\"\n    export function ringTone(frequency: number) {\n        playTone(frequency, 0);\n    }\n\n    /**\n    * Rest, or play silence, for some time (in milleseconds).\n    * @param ms rest duration in milliseconds (ms), eg: BeatFraction.Half\n    */\n    //% help=music/rest\n    //% blockId=music_rest block=\"rest|for %duration=device_beat\"\n    //% parts=\"headphone\" trackArgs=0\n    //% blockNamespace=music\n    //% weight=74\n    //% group=\"Tone\"\n    export function rest(ms: number) {\n        playTone(0, Math.max(ms, 20));\n    }\n\n    function init() {\n        if (!beatsPerMinute) beatsPerMinute = 120;\n    }\n\n    /**\n     * Return the duration of a beat in milliseconds (the beat fraction).\n     * @param fraction the fraction of the current whole note, eg: BeatFraction.Half\n     */\n    //% help=music/beat\n    //% blockId=device_beat block=\"%fraction|beat\"\n    //% weight=9 blockGap=8\n    //% group=\"Tempo\"\n    export function beat(fraction?: BeatFraction): number {\n        init();\n        if (fraction == null) fraction = BeatFraction.Whole;\n        let beat = 60000 / beatsPerMinute;\n        switch (fraction) {\n            case BeatFraction.Half: beat /= 2; break;\n            case BeatFraction.Quarter: beat /= 4; break;\n            case BeatFraction.Eighth: beat /= 8; break;\n            case BeatFraction.Sixteenth: beat /= 16; break;\n            case BeatFraction.Double: beat *= 2; break;\n            case BeatFraction.Breve: beat *= 4; break;\n        }\n        return beat >> 0;\n    }\n\n    /**\n     * Return the tempo in beats per minute (bpm).\n     * Tempo is the speed (bpm = beats per minute) at which notes play. The larger the tempo value, the faster the notes will play.\n     */\n    //% help=music/tempo\n    //% blockId=device_tempo block=\"tempo (bpm)\"\n    //% weight=64\n    //% group=\"Tempo\"\n    export function tempo(): number {\n        init();\n        return beatsPerMinute;\n    }\n\n    /**\n     * Change the tempo up or down by some amount of beats per minute (bpm).\n     * @param bpm The change in beats per minute to the tempo, eg: 20\n     */\n    //% help=music/change-tempo-by weight=37\n    //% blockId=device_change_tempo block=\"change tempo by %value|(bpm)\"\n    //% weight=66 blockGap=8\n    //% group=\"Tempo\"\n    export function changeTempoBy(bpm: number): void {\n        init();\n        setTempo(beatsPerMinute + bpm);\n    }\n\n    /**\n     * Set the tempo a number of beats per minute (bpm).\n     * @param bpm The new tempo in beats per minute, eg: 120\n     */\n    //% help=music/set-tempo\n    //% blockId=device_set_tempo block=\"set tempo to %value|(bpm)\"\n    //% bpm.min=4 bpm.max=400\n    //% weight=65 blockGap=8\n    //% group=\"Tempo\"\n    export function setTempo(bpm: number): void {\n        init();\n        if (bpm > 0) {\n            beatsPerMinute = Math.max(1, bpm >> 0);\n        }\n    }\n}\n",
            "ns.ts": "\n/**\n * Generation of music tones.\n */\n//% color=#E30FC0 weight=90 icon=\"\\uf025\"\n//% blockGap=8\n//% groups='[\"Sounds\", \"Melody\", \"Tone\",  \"Volume\", \"Tempo\"]'\nnamespace music {\n}",
            "piano.ts": "namespace music {\n    /**\n     * Get the frequency of a note.\n     * @param name the note name, eg: Note.C\n     */\n    //% weight=1 help=music/note-frequency\n    //% blockId=device_note block=\"%note\"\n    //% shim=TD_ID\n    //% color=\"#FFFFFF\" colorSecondary=\"#FFFFFF\" colorTertiary=\"#D83B01\"\n    //% note.fieldEditor=\"note\" note.defl=\"262\"\n    //% note.fieldOptions.decompileLiterals=true\n    //% useEnumVal=1\n    //% weight=10 blockGap=8\n    //% group=\"Tone\"\n    export function noteFrequency(name: Note): number {\n        return name;\n    }\n}",
            "pxt.json": "{\n    \"name\": \"mixer---nrf52\",\n    \"description\": \"The music library with a mixer\",\n    \"dependencies\": {\n        \"core\": \"*\"\n    },\n    \"files\": [\n        \"SoundOutput.h\",\n        \"sound.cpp\",\n        \"melody.h\",\n        \"melody.cpp\",\n        \"melody.ts\",\n        \"piano.ts\",\n        \"legacy.ts\",\n        \"ns.ts\",\n        \"targetoverrides.ts\",\n        \"music.ts\",\n        \"pxtparts.json\",\n        \"headphone.svg\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"public\": true,\n    \"targetVersions\": {\n        \"target\": \"1.5.10\"\n    }\n}\n",
            "pxtparts.json": "{\n    \"headphone\": {\n        \"numberOfPins\": 2,\n        \"visual\": {\n            \"image\": \"headphone.svg\",\n            \"width\": 142,\n            \"height\": 180,\n            \"pinDistance\": 20,\n            \"pinLocations\": [\n                {\n                    \"x\": 17,\n                    \"y\": 11\n                },\n                {\n                    \"x\": 55,\n                    \"y\": 50\n                }\n            ]\n        },\n        \"pinDefinitions\": [\n            {\n                \"target\": \"A0\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            },\n            {\n                \"target\": \"ground\",\n                \"style\": \"croc\",\n                \"orientation\": \"Y\"\n            }\n        ],\n        \"instantiation\": {\n            \"kind\": \"singleton\"\n        },\n        \"assembly\": [\n            {\n                \"part\": true,\n                \"pinIndices\": [\n                    0\n                ]\n            },\n            {\n                \"pinIndices\": [\n                    1\n                ]\n            }\n        ]\n    }\n}",
            "sound.cpp": "// to be overridden\n",
            "targetoverrides.ts": "\n",
            "test.ts": "for(let i = 1000; i > 0; i -= 50)\n    music.playTone(440, i)\n\nfor(let i = 0; i < 1000; i += 20)\n    music.playTone(440, i)\n"
        }
    },
    "apiInfo": {
        "libs/base": {
            "apis": {
                "byQName": {}
            },
            "sha": "489bfee18202bbe863658256a2597f93f2c3acc2286d1fc19638f3087db80e63"
        },
        "libs/core": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 1,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Control"
                            ],
                            "blockGap": "8",
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "i": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "f": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "plus": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "minus": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "r": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "ri": {
                        "kind": 4,
                        "retType": "number"
                    }
                }
            },
            "sha": "c6b6a073721db1d500f2de8b25e80790d0d2177eb8760c20ca3a04469b996c7e"
        },
        "libs/buttons": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac.ButtonService": {
                        "kind": 8,
                        "retType": "jacdac.ButtonService",
                        "extendsTypes": [
                            "jacdac.ButtonService",
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.ButtonService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "button",
                                "type": "Button"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.ButtonService.serializeState": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.ButtonService.serialize_state"
                    },
                    "jacdac.attachButtonToController": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "jdattachctrlbtn",
                            "block": "jacdac attach $button to controller $controllerButton",
                            "group": "Controller",
                            "paramHelp": {
                                "controllerButton": "@param button "
                            },
                            "jsDoc": "Connects the events of the button to the controller button",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jacdac attach ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to controller ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "controllerButton",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "controllerButton",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "button",
                                "type": "Button"
                            },
                            {
                                "name": "controllerButton",
                                "description": "@param button ",
                                "type": "JDControllerButton",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "jacdac.attach_button_to_controller"
                    },
                    "DigitalInOutPin.pushButton": {
                        "kind": -1,
                        "retType": "Button",
                        "attributes": {
                            "jsDoc": "Get the push button (connected to GND) for given pin"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.push_button"
                    },
                    "Button": {
                        "kind": 9,
                        "retType": "Button",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": []
                    },
                    "Button.onEvent": {
                        "kind": -1,
                        "attributes": {
                            "help": "input/button/on-event",
                            "blockId": "buttonEvent",
                            "block": "on %button|%event",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "weight": 96,
                            "blockGap": "12",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button that needs to be clicked or used",
                                "event": "the kind of button gesture that needs to be detected",
                                "body": "code to run when the event is raised"
                            },
                            "jsDoc": "Do something when a button (`A`, `B` or both `A` + `B`) is clicked, double clicked, etc...",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ev",
                                "type": "ButtonEvent",
                                "isEnum": true
                            },
                            {
                                "name": "body",
                                "description": "code to run when the event is raised",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Button.on_event"
                    },
                    "Button.isPressed": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "input/button/is-pressed",
                            "block": "%button|is pressed",
                            "blockId": "buttonIsPressed",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "weight": 50,
                            "blockGap": "8",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button to query the request"
                            },
                            "jsDoc": "Check if a button is pressed or not.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Button.is_pressed"
                    },
                    "Button.wasPressed": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "input/button/was-pressed",
                            "block": "%button|was pressed",
                            "blockId": "buttonWasPressed",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "group": "More",
                            "weight": 46,
                            "blockGap": "8",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button to query the request"
                            },
                            "jsDoc": "See if the button was pressed again since the last time you checked.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "was pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Button.was_pressed"
                    },
                    "Button.id": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Gets the component identifier for the button"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "ButtonEvent": {
                        "kind": 6,
                        "retType": "ButtonEvent",
                        "attributes": {
                            "jsDoc": "User interaction on buttons"
                        },
                        "extendsTypes": [
                            "ButtonEvent",
                            "Number"
                        ]
                    },
                    "ButtonEvent.Click": {
                        "retType": "ButtonEvent.Click",
                        "attributes": {
                            "block": "click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Click",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.CLICK"
                    },
                    "ButtonEvent.LongClick": {
                        "retType": "ButtonEvent.LongClick",
                        "attributes": {
                            "block": "long click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "long click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.LongClick",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.LONG_CLICK"
                    },
                    "ButtonEvent.Up": {
                        "retType": "ButtonEvent.Up",
                        "attributes": {
                            "block": "up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Up",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.UP"
                    },
                    "ButtonEvent.Down": {
                        "retType": "ButtonEvent.Down",
                        "attributes": {
                            "block": "down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Down",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.DOWN"
                    }
                }
            },
            "sha": "810fee25b3025439d8832037f07b0ed9bbe12baaf0b332f595ded2f2f457f082"
        },
        "libs/accelerometer": {
            "apis": {
                "byQName": {}
            },
            "sha": "c0e2ee01f650f30f9a54443de26354bc86e4803ef18c330b1677935098178cd7"
        },
        "libs/music": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "SoundOutputDestination": {
                        "kind": 6,
                        "retType": "SoundOutputDestination",
                        "extendsTypes": [
                            "SoundOutputDestination",
                            "Number"
                        ]
                    },
                    "SoundOutputDestination.Pin": {
                        "retType": "SoundOutputDestination.Pin",
                        "attributes": {
                            "block": "pin",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pin",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SoundOutputDestination.Pin",
                            "Number"
                        ],
                        "pyQName": "SoundOutputDestination.PIN"
                    },
                    "SoundOutputDestination.Speaker": {
                        "retType": "SoundOutputDestination.Speaker",
                        "attributes": {
                            "block": "speaker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "speaker",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SoundOutputDestination.Speaker",
                            "Number"
                        ],
                        "pyQName": "SoundOutputDestination.SPEAKER"
                    },
                    "music": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E30FC0",
                            "weight": 90,
                            "icon": "",
                            "blockGap": "8",
                            "groups": [
                                "Sounds",
                                "Melody",
                                "Tone",
                                "Volume",
                                "Tempo"
                            ],
                            "jsDoc": "Generation of music tones."
                        }
                    },
                    "music.setTone": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/set-tone",
                            "weight": 1,
                            "group": "Tones",
                            "deprecated": "true",
                            "blockHidden": true,
                            "blockId": "music_set_tone",
                            "block": "set tone %buffer",
                            "jsDoc": "This function is deprecated.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set tone ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "buffer",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "buffer",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "music.set_tone"
                    },
                    "music.setVolume": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "volume": "128"
                            },
                            "blockId": "synth_set_volume",
                            "block": "set volume %volume",
                            "parts": "speaker",
                            "paramMin": {
                                "volume": "0"
                            },
                            "paramMax": {
                                "volume": "256"
                            },
                            "help": "music/set-volume",
                            "weight": 70,
                            "group": "Volume",
                            "paramHelp": {
                                "volume": "the volume 0...256, eg: 128"
                            },
                            "jsDoc": "Set the output volume of the sound synthesizer.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set volume ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "volume",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "volume",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "volume",
                                "description": "the volume 0...256, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "256"
                                    }
                                }
                            }
                        ],
                        "pyQName": "music.set_volume"
                    },
                    "music.playTone": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "frequency": "Note.C",
                                "ms": "BeatFraction.Half"
                            },
                            "callingConvention": 1,
                            "help": "music/play-tone",
                            "blockId": "music_play_note",
                            "block": "play tone|at %note=device_note|for %duration=device_beat",
                            "parts": "headphone",
                            "async": "true",
                            "blockNamespace": "music",
                            "weight": 76,
                            "blockGap": "8",
                            "group": "Tone",
                            "paramHelp": {
                                "frequency": "pitch of the tone to play in Hertz (Hz), eg: Note.C",
                                "ms": "tone duration in milliseconds (ms), eg: BeatFraction.Half"
                            },
                            "jsDoc": "Play a tone through the speaker for some amount of time.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play tone",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "frequency",
                                "description": "pitch of the tone to play in Hertz (Hz), eg: Note.C",
                                "default": "Note.C"
                            },
                            {
                                "name": "ms",
                                "description": "tone duration in milliseconds (ms), eg: BeatFraction.Half",
                                "default": "BeatFraction.Half"
                            }
                        ],
                        "pyQName": "music.play_tone"
                    },
                    "Sounds": {
                        "kind": 6,
                        "retType": "Sounds",
                        "extendsTypes": [
                            "Sounds",
                            "Number"
                        ]
                    },
                    "Sounds.PewPew": {
                        "retType": "Sounds.PewPew",
                        "attributes": {
                            "block": "pew pew",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pew pew",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.PewPew",
                            "Number"
                        ],
                        "pyQName": "Sounds.PEW_PEW"
                    },
                    "music.playSound": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/play-sound",
                            "blockId": "music_play_sound",
                            "block": "play sound %sound=music_sounds",
                            "parts": "headphone",
                            "weight": 95,
                            "blockGap": "8",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Start playing a sound and don't wait for it to finish.\nNotes are expressed as a string of characters with this format: NOTE[octave][:duration]",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "sound",
                                "description": "the melody to play",
                                "type": "string"
                            }
                        ],
                        "pyQName": "music.play_sound"
                    },
                    "music.playSoundUntilDone": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/play-sound-until-done",
                            "blockId": "music_play_sound_until_done",
                            "block": "play sound %sound=music_sounds|until done",
                            "parts": "headphone",
                            "weight": 94,
                            "blockGap": "8",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Play a sound and wait until the sound is done.\nNotes are expressed as a string of characters with this format: NOTE[octave][:duration]",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "until done",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "sound",
                                "description": "the melody to play",
                                "type": "string"
                            }
                        ],
                        "pyQName": "music.play_sound_until_done"
                    },
                    "music.stopAllSounds": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/stop-all-sounds",
                            "blockId": "music_stop_all_sounds",
                            "block": "stop all sounds",
                            "weight": 93,
                            "jsDoc": "Stop all sounds from playing.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all sounds",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "music.stop_all_sounds"
                    },
                    "jacdac.MusicService": {
                        "kind": 8,
                        "retType": "jacdac.MusicService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.MusicService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.MusicService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.MusicService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.MusicService.handle_packet"
                    },
                    "jacdac.musicService": {
                        "kind": 4,
                        "retType": "jacdac.MusicService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "music service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "music service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.music_service"
                    }
                }
            },
            "sha": "f11a30176deb4806aadfcb2120a54535b6a0cad817234f26f22780e4c9b21772"
        },
        "libs/lightsensor": {
            "apis": {
                "byQName": {}
            },
            "sha": "0abef28073253b4c4fc441a0dc9aec59d5490969eea0f906049f941cb2af86ee"
        },
        "libs/color": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 1,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Control"
                            ],
                            "blockGap": "8",
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "Colors": {
                        "kind": 6,
                        "retType": "Colors",
                        "attributes": {
                            "jsDoc": "Well known colors"
                        },
                        "extendsTypes": [
                            "Colors",
                            "Number"
                        ]
                    },
                    "Colors.Red": {
                        "retType": "Colors.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Red",
                            "Number"
                        ],
                        "pyQName": "Colors.RED"
                    },
                    "Colors.Orange": {
                        "retType": "Colors.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Orange",
                            "Number"
                        ],
                        "pyQName": "Colors.ORANGE"
                    },
                    "Colors.Yellow": {
                        "retType": "Colors.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Yellow",
                            "Number"
                        ],
                        "pyQName": "Colors.YELLOW"
                    },
                    "Colors.Green": {
                        "retType": "Colors.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Green",
                            "Number"
                        ],
                        "pyQName": "Colors.GREEN"
                    },
                    "Colors.Blue": {
                        "retType": "Colors.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Blue",
                            "Number"
                        ],
                        "pyQName": "Colors.BLUE"
                    },
                    "Colors.Indigo": {
                        "retType": "Colors.Indigo",
                        "attributes": {
                            "block": "indigo",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "indigo",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Indigo",
                            "Number"
                        ],
                        "pyQName": "Colors.INDIGO"
                    },
                    "Colors.Violet": {
                        "retType": "Colors.Violet",
                        "attributes": {
                            "block": "violet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "violet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Violet",
                            "Number"
                        ],
                        "pyQName": "Colors.VIOLET"
                    },
                    "Colors.Purple": {
                        "retType": "Colors.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Purple",
                            "Number"
                        ],
                        "pyQName": "Colors.PURPLE"
                    },
                    "Colors.Pink": {
                        "retType": "Colors.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Pink",
                            "Number"
                        ],
                        "pyQName": "Colors.PINK"
                    },
                    "Colors.White": {
                        "retType": "Colors.White",
                        "attributes": {
                            "block": "white",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "white",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.White",
                            "Number"
                        ],
                        "pyQName": "Colors.WHITE"
                    },
                    "Colors.Black": {
                        "retType": "Colors.Black",
                        "attributes": {
                            "block": "black",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "black",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Black",
                            "Number"
                        ],
                        "pyQName": "Colors.BLACK"
                    },
                    "ColorHues": {
                        "kind": 6,
                        "retType": "ColorHues",
                        "attributes": {
                            "jsDoc": "Well known color hues"
                        },
                        "extendsTypes": [
                            "ColorHues",
                            "Number"
                        ]
                    },
                    "ColorHues.Red": {
                        "retType": "ColorHues.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Red",
                            "Number"
                        ],
                        "pyQName": "ColorHues.RED"
                    },
                    "ColorHues.Orange": {
                        "retType": "ColorHues.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Orange",
                            "Number"
                        ],
                        "pyQName": "ColorHues.ORANGE"
                    },
                    "ColorHues.Yellow": {
                        "retType": "ColorHues.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Yellow",
                            "Number"
                        ],
                        "pyQName": "ColorHues.YELLOW"
                    },
                    "ColorHues.Green": {
                        "retType": "ColorHues.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Green",
                            "Number"
                        ],
                        "pyQName": "ColorHues.GREEN"
                    },
                    "ColorHues.Aqua": {
                        "retType": "ColorHues.Aqua",
                        "attributes": {
                            "block": "aqua",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "aqua",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Aqua",
                            "Number"
                        ],
                        "pyQName": "ColorHues.AQUA"
                    },
                    "ColorHues.Blue": {
                        "retType": "ColorHues.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Blue",
                            "Number"
                        ],
                        "pyQName": "ColorHues.BLUE"
                    },
                    "ColorHues.Purple": {
                        "retType": "ColorHues.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Purple",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PURPLE"
                    },
                    "ColorHues.Magenta": {
                        "retType": "ColorHues.Magenta",
                        "attributes": {
                            "block": "magenta",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "magenta",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Magenta",
                            "Number"
                        ],
                        "pyQName": "ColorHues.MAGENTA"
                    },
                    "ColorHues.Pink": {
                        "retType": "ColorHues.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Pink",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PINK"
                    },
                    "color": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "advanced": true,
                            "jsDoc": "Color manipulation"
                        }
                    },
                    "color.rgb": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "blockId": "colorsrgb",
                            "block": "red %red|green %green|blue %blue",
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "help": "colors/rgb",
                            "weight": 19,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "red": "value of the red channel between 0 and 255. eg: 255",
                                "green": "value of the green channel between 0 and 255. eg: 255",
                                "blue": "value of the blue channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Converts red, green, blue channels into a RGB color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "description": "value of the red channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "description": "value of the green channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "description": "value of the blue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.argb": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            }
                        ]
                    },
                    "color.wellKnown": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "colorscolors",
                            "block": "%color",
                            "help": "colors/well-known",
                            "shim": "TD_ID",
                            "weight": 20,
                            "blockGap": "8",
                            "blockHidden": true,
                            "jsDoc": "Get the RGB value of a known color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "type": "Colors",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.well_known"
                    },
                    "color.hsv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "blockId": "colorshsv",
                            "block": "hue %hue|sat %sat|val %val",
                            "paramMin": {
                                "hue": "0",
                                "sat": "0",
                                "val": "0"
                            },
                            "paramMax": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "help": "colors/hsv",
                            "weight": 17,
                            "blockHidden": true,
                            "paramHelp": {
                                "hue": "value of the hue channel between 0 and 255. eg: 255",
                                "sat": "value of the saturation channel between 0 and 255. eg: 255",
                                "val": "value of the value channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Convert an HSV (hue, saturation, value) color to RGB",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "sat ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "val ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "value of the hue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "sat",
                                "description": "value of the saturation channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "val",
                                "description": "value of the value channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.fade": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "brightness": "128"
                            },
                            "blockId": "colorsfade",
                            "block": "fade %color=neopixel_colors|by %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/fade",
                            "group": "Color",
                            "weight": 18,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "color": "color to fade",
                                "brightness": "the amount of brightness to apply to the color, eg: 128"
                            },
                            "jsDoc": "Fade the color by the brightness",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fade ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "color to fade"
                            },
                            {
                                "name": "brightness",
                                "description": "the amount of brightness to apply to the color, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.blend": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color"
                            },
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "otherColor"
                            }
                        ]
                    },
                    "color.gradient": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "startColor"
                            },
                            {
                                "name": "endColor"
                            },
                            {
                                "name": "steps"
                            }
                        ]
                    },
                    "color.unpackR": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_r"
                    },
                    "color.unpackG": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_g"
                    },
                    "color.unpackB": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_b"
                    },
                    "color.parseColor": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color",
                                "type": "string"
                            }
                        ],
                        "pyQName": "color.parse_color"
                    },
                    "color.ColorBufferLayout": {
                        "kind": 6,
                        "retType": "color.ColorBufferLayout",
                        "extendsTypes": [
                            "color.ColorBufferLayout",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.RGB": {
                        "retType": "color.ColorBufferLayout.RGB",
                        "attributes": {
                            "jsDoc": "24bit RGB color"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.RGB",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.ARGB": {
                        "retType": "color.ColorBufferLayout.ARGB",
                        "attributes": {
                            "jsDoc": "32bit RGB color with alpha"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.ARGB",
                            "Number"
                        ]
                    },
                    "color.ColorBuffer": {
                        "kind": 8,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "A buffer of colors"
                        },
                        "extendsTypes": []
                    },
                    "color.ColorBuffer.layout": {
                        "kind": 2,
                        "retType": "color.ColorBufferLayout",
                        "isInstance": true
                    },
                    "color.ColorBuffer.buf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "color.ColorBuffer.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "length"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.fromBuffer": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.ColorBuffer.from_buffer"
                    },
                    "color.ColorBuffer.stride": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.length": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.color": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "index"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.setColor": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "index"
                            },
                            {
                                "name": "color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "color.ColorBuffer.set_color"
                    },
                    "color.ColorBuffer.slice": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "length",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.write": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "dstOffset": "@param src"
                            },
                            "jsDoc": "Writes the content of the src color buffer starting at the start dstOffset in the current buffer"
                        },
                        "parameters": [
                            {
                                "name": "dstOffset",
                                "description": "@param src"
                            },
                            {
                                "name": "src",
                                "type": "color.ColorBuffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.createBuffer": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "Converts an array of colors into a color buffer"
                        },
                        "parameters": [
                            {
                                "name": "colors",
                                "type": "number[]"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.create_buffer"
                    }
                }
            },
            "sha": "2a42f8ffb5660affeead569655524105262d4c2fbfd1017b65f52f5e1211695a"
        },
        "libs/light": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "light": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 100,
                            "color": "#0078d7",
                            "icon": "",
                            "groups": [
                                "other",
                                "Color",
                                "Photon",
                                "More"
                            ],
                            "blockGap": "8",
                            "jsDoc": "Functions to operate colored LEDs."
                        }
                    },
                    "Colors": {
                        "kind": 6,
                        "retType": "Colors",
                        "attributes": {
                            "jsDoc": "Well known colors"
                        },
                        "extendsTypes": [
                            "Colors",
                            "Number"
                        ]
                    },
                    "Colors.Red": {
                        "retType": "Colors.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Red",
                            "Number"
                        ],
                        "pyQName": "Colors.RED"
                    },
                    "Colors.Orange": {
                        "retType": "Colors.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Orange",
                            "Number"
                        ],
                        "pyQName": "Colors.ORANGE"
                    },
                    "Colors.Yellow": {
                        "retType": "Colors.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Yellow",
                            "Number"
                        ],
                        "pyQName": "Colors.YELLOW"
                    },
                    "Colors.Green": {
                        "retType": "Colors.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Green",
                            "Number"
                        ],
                        "pyQName": "Colors.GREEN"
                    },
                    "Colors.Blue": {
                        "retType": "Colors.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Blue",
                            "Number"
                        ],
                        "pyQName": "Colors.BLUE"
                    },
                    "Colors.Indigo": {
                        "retType": "Colors.Indigo",
                        "attributes": {
                            "block": "indigo",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "indigo",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Indigo",
                            "Number"
                        ],
                        "pyQName": "Colors.INDIGO"
                    },
                    "Colors.Violet": {
                        "retType": "Colors.Violet",
                        "attributes": {
                            "block": "violet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "violet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Violet",
                            "Number"
                        ],
                        "pyQName": "Colors.VIOLET"
                    },
                    "Colors.Purple": {
                        "retType": "Colors.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Purple",
                            "Number"
                        ],
                        "pyQName": "Colors.PURPLE"
                    },
                    "Colors.Pink": {
                        "retType": "Colors.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Pink",
                            "Number"
                        ],
                        "pyQName": "Colors.PINK"
                    },
                    "Colors.White": {
                        "retType": "Colors.White",
                        "attributes": {
                            "block": "white",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "white",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.White",
                            "Number"
                        ],
                        "pyQName": "Colors.WHITE"
                    },
                    "Colors.Black": {
                        "retType": "Colors.Black",
                        "attributes": {
                            "block": "black",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "black",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Black",
                            "Number"
                        ],
                        "pyQName": "Colors.BLACK"
                    },
                    "ColorHues": {
                        "kind": 6,
                        "retType": "ColorHues",
                        "attributes": {
                            "jsDoc": "Well known color hues"
                        },
                        "extendsTypes": [
                            "ColorHues",
                            "Number"
                        ]
                    },
                    "ColorHues.Red": {
                        "retType": "ColorHues.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Red",
                            "Number"
                        ],
                        "pyQName": "ColorHues.RED"
                    },
                    "ColorHues.Orange": {
                        "retType": "ColorHues.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Orange",
                            "Number"
                        ],
                        "pyQName": "ColorHues.ORANGE"
                    },
                    "ColorHues.Yellow": {
                        "retType": "ColorHues.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Yellow",
                            "Number"
                        ],
                        "pyQName": "ColorHues.YELLOW"
                    },
                    "ColorHues.Green": {
                        "retType": "ColorHues.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Green",
                            "Number"
                        ],
                        "pyQName": "ColorHues.GREEN"
                    },
                    "ColorHues.Aqua": {
                        "retType": "ColorHues.Aqua",
                        "attributes": {
                            "block": "aqua",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "aqua",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Aqua",
                            "Number"
                        ],
                        "pyQName": "ColorHues.AQUA"
                    },
                    "ColorHues.Blue": {
                        "retType": "ColorHues.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Blue",
                            "Number"
                        ],
                        "pyQName": "ColorHues.BLUE"
                    },
                    "ColorHues.Purple": {
                        "retType": "ColorHues.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Purple",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PURPLE"
                    },
                    "ColorHues.Magenta": {
                        "retType": "ColorHues.Magenta",
                        "attributes": {
                            "block": "magenta",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "magenta",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Magenta",
                            "Number"
                        ],
                        "pyQName": "ColorHues.MAGENTA"
                    },
                    "ColorHues.Pink": {
                        "retType": "ColorHues.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Pink",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PINK"
                    },
                    "color": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "advanced": true,
                            "jsDoc": "Color manipulation"
                        }
                    },
                    "color.rgb": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "blockId": "colorsrgb",
                            "block": "red %red|green %green|blue %blue",
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "help": "colors/rgb",
                            "weight": 19,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "red": "value of the red channel between 0 and 255. eg: 255",
                                "green": "value of the green channel between 0 and 255. eg: 255",
                                "blue": "value of the blue channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Converts red, green, blue channels into a RGB color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "description": "value of the red channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "description": "value of the green channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "description": "value of the blue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.argb": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            }
                        ]
                    },
                    "color.wellKnown": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "colorscolors",
                            "block": "%color",
                            "help": "colors/well-known",
                            "shim": "TD_ID",
                            "weight": 20,
                            "blockGap": "8",
                            "blockHidden": true,
                            "jsDoc": "Get the RGB value of a known color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "type": "Colors",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.well_known"
                    },
                    "color.hsv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "blockId": "colorshsv",
                            "block": "hue %hue|sat %sat|val %val",
                            "paramMin": {
                                "hue": "0",
                                "sat": "0",
                                "val": "0"
                            },
                            "paramMax": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "help": "colors/hsv",
                            "weight": 17,
                            "blockHidden": true,
                            "paramHelp": {
                                "hue": "value of the hue channel between 0 and 255. eg: 255",
                                "sat": "value of the saturation channel between 0 and 255. eg: 255",
                                "val": "value of the value channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Convert an HSV (hue, saturation, value) color to RGB",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "sat ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "val ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "value of the hue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "sat",
                                "description": "value of the saturation channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "val",
                                "description": "value of the value channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.fade": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "brightness": "128"
                            },
                            "blockId": "colorsfade",
                            "block": "fade %color=neopixel_colors|by %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/fade",
                            "group": "Color",
                            "weight": 18,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "color": "color to fade",
                                "brightness": "the amount of brightness to apply to the color, eg: 128"
                            },
                            "jsDoc": "Fade the color by the brightness",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fade ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "color to fade"
                            },
                            {
                                "name": "brightness",
                                "description": "the amount of brightness to apply to the color, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.blend": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color"
                            },
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "otherColor"
                            }
                        ]
                    },
                    "color.gradient": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "startColor"
                            },
                            {
                                "name": "endColor"
                            },
                            {
                                "name": "steps"
                            }
                        ]
                    },
                    "color.unpackR": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_r"
                    },
                    "color.unpackG": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_g"
                    },
                    "color.unpackB": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_b"
                    },
                    "color.parseColor": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color",
                                "type": "string"
                            }
                        ],
                        "pyQName": "color.parse_color"
                    },
                    "color.ColorBufferLayout": {
                        "kind": 6,
                        "retType": "color.ColorBufferLayout",
                        "extendsTypes": [
                            "color.ColorBufferLayout",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.RGB": {
                        "retType": "color.ColorBufferLayout.RGB",
                        "attributes": {
                            "jsDoc": "24bit RGB color"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.RGB",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.ARGB": {
                        "retType": "color.ColorBufferLayout.ARGB",
                        "attributes": {
                            "jsDoc": "32bit RGB color with alpha"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.ARGB",
                            "Number"
                        ]
                    },
                    "color.ColorBuffer": {
                        "kind": 8,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "A buffer of colors"
                        },
                        "extendsTypes": []
                    },
                    "color.ColorBuffer.layout": {
                        "kind": 2,
                        "retType": "color.ColorBufferLayout",
                        "isInstance": true
                    },
                    "color.ColorBuffer.buf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "color.ColorBuffer.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "length"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.fromBuffer": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.ColorBuffer.from_buffer"
                    },
                    "color.ColorBuffer.stride": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.length": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.color": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "index"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.setColor": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "index"
                            },
                            {
                                "name": "color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "color.ColorBuffer.set_color"
                    },
                    "color.ColorBuffer.slice": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "length",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.write": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "dstOffset": "@param src"
                            },
                            "jsDoc": "Writes the content of the src color buffer starting at the start dstOffset in the current buffer"
                        },
                        "parameters": [
                            {
                                "name": "dstOffset",
                                "description": "@param src"
                            },
                            {
                                "name": "src",
                                "type": "color.ColorBuffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.createBuffer": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "Converts an array of colors into a color buffer"
                        },
                        "parameters": [
                            {
                                "name": "colors",
                                "type": "number[]"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.create_buffer"
                    },
                    "NeoPixelMode": {
                        "kind": 6,
                        "retType": "NeoPixelMode",
                        "attributes": {
                            "jsDoc": "Different modes for RGB or RGB+W NeoPixel strips"
                        },
                        "extendsTypes": [
                            "NeoPixelMode",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGB": {
                        "retType": "NeoPixelMode.RGB",
                        "attributes": {
                            "block": "RGB (GRB format)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB (GRB format)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGB",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGBW": {
                        "retType": "NeoPixelMode.RGBW",
                        "attributes": {
                            "block": "RGB+W",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB+W",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGBW",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGB_RGB": {
                        "retType": "NeoPixelMode.RGB_RGB",
                        "attributes": {
                            "block": "RGB (RGB format)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB (RGB format)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGB_RGB",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.APA102": {
                        "retType": "NeoPixelMode.APA102",
                        "attributes": {
                            "block": "APA102",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "APA102",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.APA102",
                            "Number"
                        ]
                    },
                    "LightMove": {
                        "kind": 6,
                        "retType": "LightMove",
                        "extendsTypes": [
                            "LightMove",
                            "Number"
                        ]
                    },
                    "LightMove.Rotate": {
                        "retType": "LightMove.Rotate",
                        "attributes": {
                            "block": "rotate",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rotate",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightMove.Rotate",
                            "Number"
                        ],
                        "pyQName": "LightMove.ROTATE"
                    },
                    "LightMove.Shift": {
                        "retType": "LightMove.Shift",
                        "attributes": {
                            "block": "shift",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "shift",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightMove.Shift",
                            "Number"
                        ],
                        "pyQName": "LightMove.SHIFT"
                    },
                    "PhotonMode": {
                        "kind": 6,
                        "retType": "PhotonMode",
                        "attributes": {
                            "jsDoc": "A determines the mode of the photon"
                        },
                        "extendsTypes": [
                            "PhotonMode",
                            "Number"
                        ]
                    },
                    "PhotonMode.PenUp": {
                        "retType": "PhotonMode.PenUp",
                        "attributes": {
                            "block": "pen up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pen up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.PenUp",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.PEN_UP"
                    },
                    "PhotonMode.PenDown": {
                        "retType": "PhotonMode.PenDown",
                        "attributes": {
                            "block": "pen down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pen down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.PenDown",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.PEN_DOWN"
                    },
                    "PhotonMode.Eraser": {
                        "retType": "PhotonMode.Eraser",
                        "attributes": {
                            "block": "eraser",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "eraser",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.Eraser",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.ERASER"
                    },
                    "PhotonMode.Off": {
                        "retType": "PhotonMode.Off",
                        "attributes": {
                            "block": "off",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "off",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.Off",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.OFF"
                    },
                    "LightAnimation": {
                        "kind": 6,
                        "retType": "LightAnimation",
                        "extendsTypes": [
                            "LightAnimation",
                            "Number"
                        ]
                    },
                    "LightAnimation.Rainbow": {
                        "retType": "LightAnimation.Rainbow",
                        "attributes": {
                            "blockImage": "1",
                            "block": "rainbow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rainbow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Rainbow",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.RAINBOW"
                    },
                    "LightAnimation.RunningLights": {
                        "retType": "LightAnimation.RunningLights",
                        "attributes": {
                            "blockImage": "1",
                            "block": "running lights",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "running lights",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.RunningLights",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.RUNNING_LIGHTS"
                    },
                    "LightAnimation.Comet": {
                        "retType": "LightAnimation.Comet",
                        "attributes": {
                            "blockImage": "1",
                            "block": "comet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "comet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Comet",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.COMET"
                    },
                    "LightAnimation.Sparkle": {
                        "retType": "LightAnimation.Sparkle",
                        "attributes": {
                            "blockImage": "1",
                            "block": "sparkle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sparkle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Sparkle",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.SPARKLE"
                    },
                    "LightAnimation.TheaterChase": {
                        "retType": "LightAnimation.TheaterChase",
                        "attributes": {
                            "blockImage": "1",
                            "block": "theater chase",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "theater chase",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.TheaterChase",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.THEATER_CHASE"
                    },
                    "LightAnimation.ColorWipe": {
                        "retType": "LightAnimation.ColorWipe",
                        "attributes": {
                            "blockImage": "1",
                            "block": "color wipe",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "color wipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.ColorWipe",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.COLOR_WIPE"
                    },
                    "light.NeoPixelStrip": {
                        "kind": 8,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "jsDoc": "A NeoPixel strip"
                        },
                        "extendsTypes": []
                    },
                    "light.NeoPixelStrip._parent": {
                        "kind": 2,
                        "retType": "light.NeoPixelStrip",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._dataPin": {
                        "kind": 2,
                        "retType": "DigitalInOutPin",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._data_pin"
                    },
                    "light.NeoPixelStrip._clkPin": {
                        "kind": 2,
                        "retType": "DigitalInOutPin",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._clk_pin"
                    },
                    "light.NeoPixelStrip._buf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._brightnessBuf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._brightness_buf"
                    },
                    "light.NeoPixelStrip._sendBuf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._send_buf"
                    },
                    "light.NeoPixelStrip._brightness": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._start": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._length": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._mode": {
                        "kind": 2,
                        "retType": "NeoPixelMode",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._buffered": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._animationQueue": {
                        "kind": 2,
                        "retType": "control.AnimationQueue",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._animation_queue"
                    },
                    "light.NeoPixelStrip._barGraphHigh": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._bar_graph_high"
                    },
                    "light.NeoPixelStrip._barGraphHighLast": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._bar_graph_high_last"
                    },
                    "light.NeoPixelStrip._photonMode": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_mode"
                    },
                    "light.NeoPixelStrip._photonPos": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_pos"
                    },
                    "light.NeoPixelStrip._photonDir": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_dir"
                    },
                    "light.NeoPixelStrip._photonPenColor": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_pen_color"
                    },
                    "light.NeoPixelStrip._lastAnimation": {
                        "kind": 2,
                        "retType": "light.NeoPixelAnimation",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._last_animation"
                    },
                    "light.NeoPixelStrip._lastAnimationRenderer": {
                        "kind": 2,
                        "retType": "() => boolean",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._last_animation_renderer"
                    },
                    "light.NeoPixelStrip._transitionPlayer": {
                        "kind": 2,
                        "retType": "light.BrightnessTransitionPlayer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._transition_player"
                    },
                    "light.NeoPixelStrip.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.buf": {
                        "kind": -2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Gets the underlying color buffer for the entire strip"
                        },
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "light.NeoPixelStrip.brightnessBuf": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "light.NeoPixelStrip.brightness_buf"
                    },
                    "light.NeoPixelStrip.mode": {
                        "kind": -2,
                        "retType": "NeoPixelMode",
                        "attributes": {
                            "jsDoc": "Gets the LED data layout mode"
                        },
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "light.NeoPixelStrip.setAll": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_strip_color",
                            "block": "set %strip all pixels to %rgb=colorNumberPicker",
                            "help": "light/neopixelstrip/set-all",
                            "weight": 80,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_all"
                    },
                    "light.NeoPixelStrip.setGradient": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "lightsetgradient",
                            "block": "set %strip gradient from %startColor=colorNumberPicker to %endColor=colorNumberPicker",
                            "weight": 79,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "startColor": "the start color",
                                "endColor": "the end color"
                            },
                            "jsDoc": "Sets a gradient between two colors",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " gradient from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "startColor",
                                "description": "the start color"
                            },
                            {
                                "name": "endColor",
                                "description": "the end color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_gradient"
                    },
                    "light.NeoPixelStrip.graph": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show_bar_graph",
                            "block": "%strip|graph %value||up to %high",
                            "icon": "",
                            "help": "light/neopixelstrip/graph",
                            "weight": 70,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            },
                            "_expandedDef": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setPixelColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_pixel_color",
                            "block": "set %strip pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "help": "light/neopixelstrip/set-pixel-color",
                            "weight": 79,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "c"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_color"
                    },
                    "light.NeoPixelStrip.pixelColor": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_get_pixel_color",
                            "block": "%strip|pixel color at %pixeloffset",
                            "help": "light/neopixelstrip/pixel-color",
                            "weight": 9,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.pixel_color"
                    },
                    "light.NeoPixelStrip.setPixelWhiteLED": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_pixel_white_led",
                            "block": "set %strip pixel white LED at %pixeloffset|to %white",
                            "help": "light/neopixelstrip/set-pixel-white-led",
                            "weight": 5,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the LED in the strip",
                                "white": "brightness of the white LED"
                            },
                            "jsDoc": "Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\nThis only works for RGB+W NeoPixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixel white LED at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the LED in the strip"
                            },
                            {
                                "name": "white",
                                "description": "brightness of the white LED"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_white_led"
                    },
                    "light.NeoPixelStrip.show": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show",
                            "block": "%strip|show",
                            "help": "light/neopixelstrip/show",
                            "weight": 86,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Make the strip show all the new changes for the pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.clear": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_clear",
                            "block": "%strip|clear",
                            "help": "light/neopixelstrip/clear",
                            "weight": 85,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Turn off all pixel LEDs.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.length": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_length",
                            "block": "%strip|length",
                            "help": "light/neopixelstrip/length",
                            "weight": 8,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Get the number of pixels on the strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "length",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "light_set_brightness",
                            "block": "set %strip brightness %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/neopixelstrip/set-brightness",
                            "weight": 2,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_brightness"
                    },
                    "light.NeoPixelStrip.setPixelBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "index": "@param brightness "
                            },
                            "jsDoc": "Sets an individual pixel brightness"
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "@param brightness "
                            },
                            {
                                "name": "brightness"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_brightness"
                    },
                    "light.NeoPixelStrip.brightness": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_get_brightness",
                            "block": "%strip|brightness",
                            "help": "light/neopixelstrip/brightness",
                            "parts": "neopixel",
                            "weight": 7,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Get the brightness of the pixel strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "brightness",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.range": {
                        "kind": -1,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "light_range",
                            "block": "%strip|range from %start|with %length|pixels",
                            "help": "light/neopixelstrip/range",
                            "weight": 99,
                            "blockGap": "30",
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range, eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range, eg: 4",
                                "default": "4"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.move": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "offset": "1"
                            },
                            "blockId": "light_move_pixels",
                            "block": "%strip|%kind=MoveKind|by %offset",
                            "help": "light/neopixelstrip/move",
                            "weight": 87,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "offset": "number of pixels to shift forward, eg: 1"
                            },
                            "jsDoc": "Shift LEDs forward and clear with zeros.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "type": "LightMove",
                                "isEnum": true
                            },
                            {
                                "name": "offset",
                                "description": "number of pixels to shift forward, eg: 1",
                                "initializer": "1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.initPhoton": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.init_photon"
                    },
                    "light.NeoPixelStrip.photonForward": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "light_photon_fd",
                            "block": "%strip|photon forward by %steps",
                            "help": "light/neopixelstrip/photon-forward",
                            "weight": 41,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.photon_forward"
                    },
                    "light.NeoPixelStrip.photonFlip": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_flip",
                            "block": "%strip|photon flip",
                            "help": "light/neopixelstrip/photon-flip",
                            "weight": 40,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.photon_flip"
                    },
                    "light.NeoPixelStrip.setPhotonPosition": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_position",
                            "block": "%strip|photon set position %index",
                            "help": "light/neopixelstrip/set-photon-position",
                            "weight": 39,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "index": "index of the light, if out of bound, the index is wrapped"
                            },
                            "jsDoc": "Sets the photon position to a given light index",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set position ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "index of the light, if out of bound, the index is wrapped"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_position"
                    },
                    "light.NeoPixelStrip.setPhotonPenColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_pen_color",
                            "block": "%strip=variables_get|photon set pen color %color=colorNumberPicker",
                            "help": "light/neopixelstrip/set-photon-pen-color",
                            "weight": 38,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "color": "the color of the photon"
                            },
                            "jsDoc": "Set the photon color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set pen color ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "the color of the photon"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_pen_color"
                    },
                    "light.NeoPixelStrip.setPhotonPenHue": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_pen_hue",
                            "block": "%strip=variables_get|photon set pen hue %hue=colorWheelHsvPicker",
                            "help": "light/neopixelstrip/set-photon-pen-hue",
                            "weight": 39,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "hue": "the hue of the photon color"
                            },
                            "jsDoc": "Sets the photon hue.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set pen hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "the hue of the photon color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_pen_hue"
                    },
                    "light.NeoPixelStrip.setPhotonColor": {
                        "kind": -1,
                        "attributes": {
                            "deprecated": "1",
                            "blockHidden": true,
                            "group": "Photon",
                            "advanced": true
                        },
                        "parameters": [
                            {
                                "name": "hue"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_color"
                    },
                    "light.NeoPixelStrip.setPhotonMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_photon",
                            "block": "%strip|photon %mode",
                            "help": "light/neopixelstrip/set-photon-mode",
                            "weight": 38,
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_mode"
                    },
                    "light.NeoPixelStrip.startBrightnessTransition": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "transition": "@param duration "
                            },
                            "jsDoc": "Starts a brightness transition on the strip (and cancels any other running transition)"
                        },
                        "parameters": [
                            {
                                "name": "startBrightness"
                            },
                            {
                                "name": "endBrightness"
                            },
                            {
                                "name": "duration"
                            },
                            {
                                "name": "repeat",
                                "initializer": "undefined"
                            },
                            {
                                "name": "yoyo",
                                "type": "boolean",
                                "initializer": "undefined"
                            },
                            {
                                "name": "transition",
                                "description": "@param duration ",
                                "type": "light.BrightnessTransition",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.start_brightness_transition"
                    },
                    "light.NeoPixelStrip.stopBrightnessTransition": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Stops any running brightness transition"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.stop_brightness_transition"
                    },
                    "light.NeoPixelStrip.showAnimation": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "duration": "500"
                            },
                            "blockId": "light_show_animation",
                            "block": "%strip|show animation %animation=light_animation_picker|for %duration=timePicker|ms",
                            "help": "light/neopixelstrip/show-animation",
                            "weight": 90,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "animation": "the animation to run",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show animation ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_animation"
                    },
                    "light.NeoPixelStrip.showAnimationFrame": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show_animation_frame",
                            "block": "%strip|show frame of %animation=light_animation_picker|animation",
                            "help": "light/neopixelstrip/show-animation-frame",
                            "weight": 87,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "animation": "the animation to run"
                            },
                            "jsDoc": "Show a single animation frame.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show frame of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_animation_frame"
                    },
                    "light.NeoPixelStrip.showColors": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Renders a pattern of colors on the strip"
                        },
                        "parameters": [
                            {
                                "name": "leds",
                                "type": "string"
                            },
                            {
                                "name": "interval",
                                "initializer": "400"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_colors"
                    },
                    "light.NeoPixelStrip.stopAllAnimations": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_stop_all_animations",
                            "block": "%strip|stop all animations",
                            "help": "light/neopixelstrip/stop-all-animations",
                            "weight": 85,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.stop_all_animations"
                    },
                    "light.NeoPixelStrip.setBuffered": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_buffered",
                            "block": "set %strip buffered  %on",
                            "help": "light/neopixelstrip/set-buffered",
                            "weight": 86,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "on": "call show whenever a light is modified"
                            },
                            "jsDoc": "Enables or disables automatically calling show when a change is made",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " buffered  ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "on",
                                "description": "call show whenever a light is modified",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_buffered"
                    },
                    "light.NeoPixelStrip.buffered": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "weight": 85,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "jsDoc": "Gets a value indicated if the changes are buffered"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_mode",
                            "block": "set %strip mode to %mode",
                            "help": "light/neopixelstrip/set-mode",
                            "weight": 1,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "mode": "the kind of color encoding required by the programmable lights"
                            },
                            "jsDoc": "Sets the color mode and clears the colors.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " mode to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the kind of color encoding required by the programmable lights",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_mode"
                    },
                    "light.NeoPixelStrip.setLength": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_length",
                            "block": "set %strip length to %length pixels",
                            "weight": 1,
                            "blockGap": "8",
                            "_shadowOverrides": {
                                "length": "lightLengthPicker"
                            },
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "numleds": ""
                            },
                            "jsDoc": "Sets the number of LEDs on a strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " length to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "numleds"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_length"
                    },
                    "light.NeoPixelStrip.__setAll": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_strip_color",
                            "block": "set all pixels to %rgb=colorNumberPicker",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__graph": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show_bar_graph",
                            "block": "graph %value |up to %high",
                            "icon": "",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " ",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPixelColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_pixel_color",
                            "block": "set pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "color",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__pixelColor": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_get_pixel_color",
                            "block": "pixel color at %pixeloffset",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPixelWhiteLED": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_pixel_white_led",
                            "block": "set pixel white LED at %pixeloffset|to %white",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the LED in the strip",
                                "white": "brightness of the white LED"
                            },
                            "jsDoc": "Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\nThis only works for RGB+W NeoPixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel white LED at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the LED in the strip"
                            },
                            {
                                "name": "white",
                                "description": "brightness of the white LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__show": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show",
                            "block": "show",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Make the strip show all the new changes for the pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__clear": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_clear",
                            "block": "clear",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Turn off all pixel LEDs.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__length": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_length",
                            "block": "length",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Get the number of pixels on the strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "length",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "neopixel_set_brightness",
                            "block": "set brightness %brightness",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__brightness": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_get_brightness",
                            "block": "brightness",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Get the brightness of the pixel strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "brightness",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__range": {
                        "kind": -1,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "neopixel_range",
                            "block": "range from %start|with %length|pixels",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range. eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range. eg: 4",
                                "default": "4"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__move": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "offset": "1"
                            },
                            "blockId": "neopixel_move_pixels",
                            "block": "%kind=MoveKind|by %offset",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "offset": "number of pixels to shift forward, eg: 1"
                            },
                            "jsDoc": "Shift LEDs forward and clear with zeros.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "type": "LightMove",
                                "isEnum": true
                            },
                            {
                                "name": "offset",
                                "description": "number of pixels to shift forward, eg: 1",
                                "initializer": "1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__photonForward": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "neophoton_fd",
                            "block": "photon forward by %steps",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__photonFlip": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_flip",
                            "block": "photon flip",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPhotonColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_set_color",
                            "block": "photon set pen color %color",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "color": "the color of the photon"
                            },
                            "jsDoc": "Set the photon color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set pen color ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "the color of the photon"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPhotonMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_set_photon",
                            "block": "photon %mode",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__showAnimation": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "duration": "500"
                            },
                            "blockId": "neopixel_show_animation",
                            "block": "show %animation=light_animation|animation for %duration=timePicker|ms",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "animation": "the animation to run",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__showAnimationFrame": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show_animation_frame",
                            "block": "show animation frame %animation=light_animation",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "animation": "the animation to run"
                            },
                            "jsDoc": "Show a single animation frame",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show animation frame ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__stopAllAnimations": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_stop_all_animations",
                            "block": "stop all animations",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setBuffered": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_buffered",
                            "block": "set buffered  %on",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "on": "call show whenever a light is modified"
                            },
                            "jsDoc": "Enables or disables automatically calling show when a change is made",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set buffered  ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "on",
                                "description": "call show whenever a light is modified",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_mode",
                            "block": "set mode %mode",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "mode": "the kind of color encoding required by the programmable lights"
                            },
                            "jsDoc": "Sets the color mode and clears the colors.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set mode ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the kind of color encoding required by the programmable lights",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "light.createNeoPixelStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "blockId": "neopixel_create",
                            "block": "create WS2812 strip|pin %pin|with %numleds pixels",
                            "help": "light/create-neo-pixel-strip",
                            "trackArgs": [
                                0,
                                2
                            ],
                            "parts": "neopixel",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "blockHidden": true,
                            "jsDoc": "Creates a strip of colored LEDs (WS2812b)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create WS2812 strip",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "numleds",
                                "initializer": "10"
                            },
                            {
                                "name": "mode",
                                "type": "NeoPixelMode",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.create_neo_pixel_strip"
                    },
                    "light.rgb": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "blockId": "neopixel_rgb",
                            "block": "red %red|green %green|blue %blue",
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "help": "light/rgb",
                            "group": "Color",
                            "weight": 19,
                            "blockGap": "8",
                            "paramHelp": {
                                "red": "value of the red channel between 0 and 255. eg: 255",
                                "green": "value of the green channel between 0 and 255. eg: 255",
                                "blue": "value of the blue channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Converts red, green, blue channels into a RGB color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "description": "value of the red channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "description": "value of the green channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "description": "value of the blue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.colors": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_colors",
                            "block": "%color",
                            "help": "light/colors",
                            "shim": "TD_ID",
                            "group": "Color",
                            "weight": 20,
                            "blockGap": "8",
                            "jsDoc": "Get the RGB value of a known color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "type": "Colors",
                                "isEnum": true
                            }
                        ]
                    },
                    "light.hsv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "blockId": "neopixel_hsv",
                            "block": "hue %hue|sat %sat|val %val",
                            "paramMin": {
                                "hue": "0",
                                "sat": "0",
                                "val": "0"
                            },
                            "paramMax": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "help": "light/hsv",
                            "group": "Color",
                            "weight": 17,
                            "paramHelp": {
                                "hue": "value of the hue channel between 0 and 255. eg: 255",
                                "sat": "value of the saturation channel between 0 and 255. eg: 255",
                                "val": "value of the value channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Convert an HSV (hue, saturation, value) color to RGB",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "sat ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "val ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "value of the hue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "sat",
                                "description": "value of the saturation channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "val",
                                "description": "value of the value channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.fade": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "brightness": "128"
                            },
                            "blockId": "neopixel_fade",
                            "block": "fade %color=neopixel_colors|by %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/fade",
                            "group": "Color",
                            "weight": 18,
                            "blockGap": "8",
                            "blockHidden": true,
                            "deprecated": "true",
                            "paramHelp": {
                                "color": "color to fade",
                                "brightness": "the amount of brightness to apply to the color, eg: 128"
                            },
                            "jsDoc": "Use color.fade instead",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fade ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "c"
                            },
                            {
                                "name": "brightness",
                                "description": "the amount of brightness to apply to the color, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.NeoPixelAnimation": {
                        "kind": 8,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstances": "true",
                            "jsDoc": "An animation of a NeoPixel"
                        },
                        "extendsTypes": [
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.NeoPixelAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "attributes": {
                            "paramHelp": {
                                "strip": "the strip to execute on"
                            },
                            "jsDoc": "Creates an animator instance"
                        },
                        "parameters": [
                            {
                                "name": "strip",
                                "description": "the strip to execute on",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelAnimation.create_renderer"
                    },
                    "light.RainbowCycleAnimation": {
                        "kind": 8,
                        "retType": "light.RainbowCycleAnimation",
                        "extendsTypes": [
                            "light.RainbowCycleAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.RainbowCycleAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RainbowCycleAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.RainbowCycleAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.RainbowCycleAnimation.create_renderer"
                    },
                    "light.rainbowAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "rainbow",
                            "whenUsed": true,
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rainbow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.rainbow_animation"
                    },
                    "light.RunningLightsAnimation": {
                        "kind": 8,
                        "retType": "light.RunningLightsAnimation",
                        "extendsTypes": [
                            "light.RunningLightsAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.RunningLightsAnimation.red": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.green": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.blue": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.RunningLightsAnimation.create_renderer"
                    },
                    "light.runningLightsAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "running lights",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "running lights",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.running_lights_animation"
                    },
                    "light.cometAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "comet",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "comet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.comet_animation"
                    },
                    "light.SparkleAnimation": {
                        "kind": 8,
                        "retType": "light.SparkleAnimation",
                        "extendsTypes": [
                            "light.SparkleAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.SparkleAnimation.rgb": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.SparkleAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.SparkleAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.SparkleAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.SparkleAnimation.create_renderer"
                    },
                    "light.sparkleAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "sparkle",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sparkle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.sparkle_animation"
                    },
                    "light.colorWipeAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "color wipe",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "color wipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.color_wipe_animation"
                    },
                    "light.theaterChaseAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "theater chase",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "theater chase",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.theater_chase_animation"
                    },
                    "light._animationPicker": {
                        "kind": -3,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "blockId": "light_animation_picker",
                            "block": "%animation",
                            "shim": "TD_ID",
                            "paramFieldEditor": {
                                "animation": "imagedropdown"
                            },
                            "paramFieldEditorOptions": {
                                "animation": {
                                    "columns": "3"
                                }
                            },
                            "weight": 0,
                            "group": "More",
                            "paramHelp": {
                                "animation": "The animation type"
                            },
                            "jsDoc": "An animation that can be shown on a light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "The animation type",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "pyQName": "light._animation_picker"
                    },
                    "light.__lengthPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "lightLengthPicker",
                            "block": "%pixels",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "pixels": "numberdropdown"
                            },
                            "paramFieldEditorOptions": {
                                "pixels": {
                                    "decompileLiterals": "true",
                                    "data": "[[\"7\", 7], [\"8\", 8], [\"12\", 12], [\"16\", 16], [\"24\", 24], [\"30\", 30], [\"60\", 60], [\"64\", 64], [\"90\", 90], [\"120\", 120], [\"144\", 144]]"
                                }
                            },
                            "paramHelp": {
                                "pixels": "number of LEDs"
                            },
                            "jsDoc": "Get the light length picker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "pixels",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixels",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixels",
                                "description": "number of LEDs"
                            }
                        ]
                    },
                    "easing": {
                        "kind": 5,
                        "retType": ""
                    },
                    "easing.linear": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ]
                    },
                    "easing.inQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_quad"
                    },
                    "easing.outQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.out_quad"
                    },
                    "easing.inOutQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_out_quad"
                    },
                    "easing.inCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_cubic"
                    },
                    "easing.outCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.out_cubic"
                    },
                    "easing.inOutCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_out_cubic"
                    },
                    "light.BrightnessTransition": {
                        "kind": 8,
                        "retType": "light.BrightnessTransition",
                        "extendsTypes": [
                            "light.BrightnessTransition"
                        ]
                    },
                    "light.BrightnessTransition.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.BrightnessTransition.apply": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            },
                            {
                                "name": "t"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "end"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.EasingBrightnessTransition": {
                        "kind": 8,
                        "retType": "light.EasingBrightnessTransition",
                        "extendsTypes": [
                            "light.EasingBrightnessTransition",
                            "light.BrightnessTransition"
                        ]
                    },
                    "light.EasingBrightnessTransition.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "timeEasing",
                                "type": "(t: number) => number",
                                "handlerParameters": [
                                    {
                                        "name": "t",
                                        "type": "number"
                                    }
                                ]
                            },
                            {
                                "name": "spatialEasing",
                                "type": "(t: number) => number",
                                "initializer": "undefined",
                                "handlerParameters": [
                                    {
                                        "name": "t",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "light.EasingBrightnessTransition.apply": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            },
                            {
                                "name": "t"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "end"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.BrightnessTransitionPlayer": {
                        "kind": 8,
                        "retType": "light.BrightnessTransitionPlayer",
                        "extendsTypes": []
                    },
                    "light.BrightnessTransitionPlayer.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "transition",
                                "type": "light.BrightnessTransition"
                            },
                            {
                                "name": "startBrightness"
                            },
                            {
                                "name": "endBrightness"
                            },
                            {
                                "name": "duration"
                            },
                            {
                                "name": "repeat"
                            },
                            {
                                "name": "yoyo",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.BrightnessTransitionPlayer.update": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.createStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "numleds": "30",
                                "mode": "NeoPixelMode.RGB_GRB"
                            },
                            "blockId": "neopixel_create_strip",
                            "block": "create WS2812 strip on %pin with %numleds pixels",
                            "help": "light/create-strip",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "trackArgs": [
                                0,
                                2
                            ],
                            "parts": "neopixel",
                            "advanced": true,
                            "paramHelp": {
                                "pin": "the pin where the strip is connected.",
                                "numleds": "number of leds in the strip, eg: 30",
                                "mode": "the light encoding mode for different LED strips, eg: NeoPixelMode.RGB_GRB"
                            },
                            "jsDoc": "Create a new programmable light strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create WS2812 strip on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pin",
                                "description": "the pin where the strip is connected.",
                                "type": "DigitalInOutPin",
                                "initializer": "null"
                            },
                            {
                                "name": "numleds",
                                "description": "number of leds in the strip, eg: 30",
                                "initializer": "30",
                                "default": "30"
                            },
                            {
                                "name": "mode",
                                "description": "the light encoding mode for different LED strips, eg: NeoPixelMode.RGB_GRB",
                                "type": "NeoPixelMode",
                                "initializer": "NeoPixelMode.RGB",
                                "default": "NeoPixelMode.RGB_GRB",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.create_strip"
                    },
                    "light.createAPA102Strip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "blockId": "light_create_dotstar",
                            "block": "create APA102 strip|data %data|clock %clk|with %numleds pixels",
                            "help": "light/create-apa102-strip",
                            "trackArgs": [
                                0,
                                1,
                                2
                            ],
                            "parts": "dotstar",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "jsDoc": "Creates a strip of colored LEDs (APA102)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create APA102 strip",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "data ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "clock ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "clk",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "clk",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "dataPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "clkPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "numleds"
                            }
                        ],
                        "pyQName": "light.create_apa102_strip"
                    },
                    "light.defaultStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "help": "light/default-strip",
                            "blockId": "neopixel_default_strip",
                            "block": "default strip",
                            "weight": 110,
                            "blockGap": "8",
                            "advanced": true,
                            "parts": "pixels",
                            "jsDoc": "Gets the default light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "default strip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.default_strip"
                    },
                    "light.onboardStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "help": "light/onboard-strip",
                            "blockId": "neopixel_onboard_strip",
                            "block": "onboard strip",
                            "weight": 111,
                            "blockGap": "8",
                            "advanced": true,
                            "jsDoc": "Get the default light strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "onboard strip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.onboard_strip"
                    },
                    "light.pixels": {
                        "kind": 4,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "whenUsed": "true",
                            "jsDoc": "Gets the default external light strip"
                        }
                    },
                    "light.setAll": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_set_strip_color",
                            "block": "set all pixels to %rgb=colorNumberPicker",
                            "help": "light/set-all",
                            "weight": 79,
                            "blockGap": "8",
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "pyQName": "light.set_all"
                    },
                    "light.setGradient": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtinlightsetgradient",
                            "block": "set gradient from %startRgb=colorNumberPicker to %endRgb=colorNumberPicker",
                            "weight": 78,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "startColor": "the start color",
                                "endColor": "the end color"
                            },
                            "jsDoc": "Sets a gradient between two colors",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set gradient from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "startRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "startRgb"
                            },
                            {
                                "name": "endRgb"
                            }
                        ],
                        "pyQName": "light.set_gradient"
                    },
                    "light.clear": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_clear",
                            "block": "clear",
                            "parts": "neopixel",
                            "help": "light/clear",
                            "group": "More",
                            "weight": 9,
                            "blockGap": "8",
                            "jsDoc": "Turn off all pixel LEDs on the onboard strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "light.graph": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_show_bar_graph",
                            "block": "graph %value||up to %high",
                            "icon": "",
                            "help": "light/graph",
                            "blockGap": "8",
                            "weight": 10,
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            },
                            "_expandedDef": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale",
                                "initializer": "undefined"
                            }
                        ]
                    },
                    "light.setPixelColor": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_set_pixel_color",
                            "block": "set pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "help": "light/set-pixel-color",
                            "group": "More",
                            "weight": 89,
                            "blockGap": "8",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "color",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "pyQName": "light.set_pixel_color"
                    },
                    "light.pixelColor": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "builtin_neopixel_pixel_color",
                            "block": "pixel color at %pixeloffset",
                            "help": "light/pixel-color",
                            "group": "More",
                            "weight": 88,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color at a given offset.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "pyQName": "light.pixel_color"
                    },
                    "light.setBrightness": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "builtin_neopixel_set_brightness",
                            "block": "set brightness %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/set-brightness",
                            "weight": 2,
                            "blockGap": "8",
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "pyQName": "light.set_brightness"
                    },
                    "light.photonForward": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "builtin_neophoton_fd",
                            "block": "photon forward by %steps",
                            "help": "light/photon-forward",
                            "group": "Photon",
                            "weight": 41,
                            "blockGap": "8",
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "pyQName": "light.photon_forward"
                    },
                    "light.photonFlip": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_flip",
                            "block": "photon flip",
                            "help": "light/photon-flip",
                            "parts": "neopixel",
                            "group": "Photon",
                            "weight": 40,
                            "blockGap": "8",
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.photon_flip"
                    },
                    "light.setPhotonPosition": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_light_photon_set_position",
                            "block": "photon set position %index",
                            "help": "light/set-photon-position",
                            "parts": "neopixel",
                            "group": "Photon",
                            "weight": 39,
                            "blockGap": "8",
                            "paramHelp": {
                                "index": "index of the light, if out of bound, the index is wrapped"
                            },
                            "jsDoc": "Sets the photon position to a given light index",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set position ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "index of the light, if out of bound, the index is wrapped"
                            }
                        ],
                        "pyQName": "light.set_photon_position"
                    },
                    "light.setPhotonPenHue": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_set_pen_hue",
                            "block": "photon set pen hue %hue=colorWheelHsvPicker",
                            "help": "light/set-photon-pen-hue",
                            "group": "Photon",
                            "weight": 39,
                            "blockGap": "8",
                            "paramHelp": {
                                "hue": "the color hue of the photon"
                            },
                            "jsDoc": "Set the photon color hue.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set pen hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "the color hue of the photon"
                            }
                        ],
                        "pyQName": "light.set_photon_pen_hue"
                    },
                    "light.setPhotonMode": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_set_photon",
                            "block": "photon %mode",
                            "help": "light/set-photon-mode",
                            "group": "Photon",
                            "weight": 38,
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.set_photon_mode"
                    },
                    "light.showAnimation": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "animation": "light.rainbowAnimation",
                                "duration": "500"
                            },
                            "blockId": "builtin_neopixel_show_animation",
                            "block": "show animation %animation=light_animation_picker|for %duration=timePicker|ms",
                            "help": "light/show-animation",
                            "blockGap": "8",
                            "weight": 81,
                            "paramHelp": {
                                "animation": "the animation to run, eg: light.rainbowAnimation",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show animation ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run, eg: light.rainbowAnimation",
                                "type": "light.NeoPixelAnimation",
                                "default": "light.rainbowAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "pyQName": "light.show_animation"
                    },
                    "light.showAnimationFrame": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "animation": "light.rainbowAnimation"
                            },
                            "blockId": "builtin_neopixel_show_animation_frame",
                            "block": "show frame of %animation=light_animation_picker|animation",
                            "help": "light/show-animation-frame",
                            "group": "More",
                            "weight": 24,
                            "blockGap": "8",
                            "paramHelp": {
                                "animation": "the animation to run, eg: light.rainbowAnimation"
                            },
                            "jsDoc": "Show a single animation frame",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show frame of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run, eg: light.rainbowAnimation",
                                "type": "light.NeoPixelAnimation",
                                "default": "light.rainbowAnimation"
                            }
                        ],
                        "pyQName": "light.show_animation_frame"
                    },
                    "light.stopAllAnimations": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_stop_all_animations",
                            "block": "stop all animations",
                            "help": "light/stop-all-animations",
                            "group": "More",
                            "weight": 23,
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.stop_all_animations"
                    },
                    "light.animation": {
                        "kind": -3,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "paramFieldEditor": {
                                "kind": "imagedropdown"
                            },
                            "paramFieldEditorOptions": {
                                "kind": {
                                    "columns": "3"
                                }
                            },
                            "blockGap": "8",
                            "blockId": "light_animation",
                            "block": "%kind",
                            "group": "More",
                            "weight": 25,
                            "help": "light/animation",
                            "blockHidden": true,
                            "deprecated": "1",
                            "paramHelp": {
                                "kind": "the type of animation"
                            },
                            "jsDoc": "Creates a builtin animation",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "description": "the type of animation",
                                "type": "LightAnimation",
                                "isEnum": true
                            }
                        ]
                    },
                    "light.range": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "lightstrip_range",
                            "block": "range from %start|with %length|pixels",
                            "weight": 1,
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range, eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range, eg: 4",
                                "default": "4"
                            }
                        ]
                    },
                    "light.setLength": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "numleds": "30"
                            },
                            "blockId": "lightds_setlength",
                            "block": "set pixels length to %numleds pixels",
                            "explicitDefaults": [
                                "numleds"
                            ],
                            "_shadowOverrides": {
                                "numleds": "lightLengthPicker"
                            },
                            "weight": 0,
                            "jsDoc": "Sets the number of LEDS on the default light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixels length to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "numleds",
                                "initializer": "30",
                                "default": "30"
                            }
                        ],
                        "pyQName": "light.set_length"
                    },
                    "light.setMode": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "lightds_setmode",
                            "block": "set default strip mode to %mode",
                            "weight": 0,
                            "jsDoc": "Sets the type of RGB light on the default strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set default strip mode to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.set_mode"
                    },
                    "jacdac.LightService": {
                        "kind": 8,
                        "retType": "jacdac.LightService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.LightService",
                            "jacdac.ActuatorService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.LightService.strip": {
                        "kind": 2,
                        "retType": "light.NeoPixelStrip",
                        "isInstance": true
                    },
                    "jacdac.LightService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true
                    },
                    "strip": {
                        "kind": 4,
                        "retType": "light.NeoPixelStrip"
                    },
                    "flash": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "n"
                            }
                        ]
                    }
                }
            },
            "sha": "26e4fe4fc9fb3dfb39724d4fafd29482a75a9e8526cf544d32fb1f58944bf39c"
        },
        "libs/touch": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "AnalogInOutPin": {
                        "kind": 9,
                        "retType": "AnalogInOutPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "AnalogInOutPin",
                            "AnalogInPin",
                            "DigitalInOutPin",
                            "AnalogOutPin"
                        ]
                    },
                    "jacdac.ButtonService": {
                        "kind": 8,
                        "retType": "jacdac.ButtonService",
                        "extendsTypes": [
                            "jacdac.ButtonService",
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.ButtonService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "button",
                                "type": "Button"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.ButtonService.serializeState": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.ButtonService.serialize_state"
                    },
                    "jacdac.attachButtonToController": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "jdattachctrlbtn",
                            "block": "jacdac attach $button to controller $controllerButton",
                            "group": "Controller",
                            "paramHelp": {
                                "controllerButton": "@param button "
                            },
                            "jsDoc": "Connects the events of the button to the controller button",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jacdac attach ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to controller ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "controllerButton",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "controllerButton",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "button",
                                "type": "Button"
                            },
                            {
                                "name": "controllerButton",
                                "description": "@param button ",
                                "type": "JDControllerButton",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "jacdac.attach_button_to_controller"
                    },
                    "DigitalInOutPin.pushButton": {
                        "kind": -1,
                        "retType": "Button",
                        "attributes": {
                            "jsDoc": "Get the push button (connected to GND) for given pin"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.push_button"
                    },
                    "Button": {
                        "kind": 9,
                        "retType": "Button",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "Button"
                        ]
                    },
                    "Button.onEvent": {
                        "kind": -1,
                        "attributes": {
                            "help": "input/button/on-event",
                            "blockId": "buttonEvent",
                            "block": "on %button|%event",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "weight": 96,
                            "blockGap": "12",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button that needs to be clicked or used",
                                "event": "the kind of button gesture that needs to be detected",
                                "body": "code to run when the event is raised"
                            },
                            "jsDoc": "Do something when a button (`A`, `B` or both `A` + `B`) is clicked, double clicked, etc...",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ev",
                                "type": "ButtonEvent",
                                "isEnum": true
                            },
                            {
                                "name": "body",
                                "description": "code to run when the event is raised",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Button.on_event"
                    },
                    "Button.isPressed": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "input/button/is-pressed",
                            "block": "%button|is pressed",
                            "blockId": "buttonIsPressed",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "weight": 50,
                            "blockGap": "8",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button to query the request"
                            },
                            "jsDoc": "Check if a button is pressed or not.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Button.is_pressed"
                    },
                    "Button.wasPressed": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "input/button/was-pressed",
                            "block": "%button|was pressed",
                            "blockId": "buttonWasPressed",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "button": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "button": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "group": "More",
                            "weight": 46,
                            "blockGap": "8",
                            "trackArgs": [
                                0
                            ],
                            "paramHelp": {
                                "button": "the button to query the request"
                            },
                            "jsDoc": "See if the button was pressed again since the last time you checked.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "was pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Button.was_pressed"
                    },
                    "Button.id": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Gets the component identifier for the button"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "ButtonEvent": {
                        "kind": 6,
                        "retType": "ButtonEvent",
                        "attributes": {
                            "jsDoc": "User interaction on buttons"
                        },
                        "extendsTypes": [
                            "ButtonEvent",
                            "Number"
                        ]
                    },
                    "ButtonEvent.Click": {
                        "retType": "ButtonEvent.Click",
                        "attributes": {
                            "block": "click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Click",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.CLICK"
                    },
                    "ButtonEvent.LongClick": {
                        "retType": "ButtonEvent.LongClick",
                        "attributes": {
                            "block": "long click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "long click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.LongClick",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.LONG_CLICK"
                    },
                    "ButtonEvent.Up": {
                        "retType": "ButtonEvent.Up",
                        "attributes": {
                            "block": "up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Up",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.UP"
                    },
                    "ButtonEvent.Down": {
                        "retType": "ButtonEvent.Down",
                        "attributes": {
                            "block": "down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ButtonEvent.Down",
                            "Number"
                        ],
                        "pyQName": "ButtonEvent.DOWN"
                    },
                    "TouchButton": {
                        "kind": 9,
                        "retType": "TouchButton",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "TouchButton",
                            "Button"
                        ]
                    },
                    "TouchButton.setThreshold": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "threshold": "200"
                            },
                            "blockId": "touch_set_threshold",
                            "block": "button %button|set threshold %threshold",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramMin": {
                                "threshold": "0"
                            },
                            "paramMax": {
                                "threshold": "1023"
                            },
                            "group": "More",
                            "weight": 16,
                            "blockGap": "8",
                            "help": "input/touch/set-threshold",
                            "paramHelp": {
                                "name": "button name",
                                "threshold": "minimum value to consider a touch eg:200"
                            },
                            "jsDoc": "Manually define the threshold use to detect a touch event. Any sensed value equal to or greater than this value will be interpreted as a touch.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "set threshold ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "threshold",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "threshold",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "threshold",
                                "description": "minimum value to consider a touch eg:200",
                                "default": "200",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "1023"
                                    }
                                }
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "TouchButton.set_threshold"
                    },
                    "TouchButton.threshold": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "touch_threshold",
                            "block": "button %button|threshold",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "group": "More",
                            "weight": 16,
                            "blockGap": "8",
                            "help": "input/touch/threshold",
                            "paramHelp": {
                                "name": "button name"
                            },
                            "jsDoc": "Gets the current threshold",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "threshold",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "TouchButton.value": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "touch_value",
                            "block": "button %button|value",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "group": "More",
                            "weight": 49,
                            "blockGap": "8",
                            "help": "input/touch/value",
                            "paramHelp": {
                                "name": "button name"
                            },
                            "jsDoc": "Reads the current value registered with the button.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "value",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "TouchButton.calibrate": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "touch_calibrate",
                            "block": "button %button calibrate",
                            "blockNamespace": "input",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "group": "More",
                            "weight": 49,
                            "blockGap": "8",
                            "help": "input/touch/calibrate",
                            "jsDoc": "Calibrate the touch sensivity",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " calibrate",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "AnalogInOutPin.touchButton": {
                        "kind": -1,
                        "retType": "TouchButton",
                        "attributes": {
                            "jsDoc": "Get the cap-touch sensor for given pin (if available)"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "AnalogInOutPin.touch_button"
                    }
                }
            },
            "sha": "3c360c78726645a64f835c89fcaf69a841be0c8b72c8261f52900f5239316633"
        },
        "libs/switch": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input.onSwitchMoved": {
                        "kind": -3,
                        "attributes": {
                            "help": "input/on-switch-moved",
                            "blockId": "device_on_switch_moved",
                            "block": "on switch moved %direction",
                            "parts": "switch",
                            "weight": 80,
                            "paramHelp": {
                                "direction": "the direction the switch must be moved to trigger the event"
                            },
                            "jsDoc": "Do something when the slide switch is moved left or right.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on switch moved ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "direction",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "direction",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "direction",
                                "description": "the direction the switch must be moved to trigger the event",
                                "type": "SwitchDirection",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "input.on_switch_moved"
                    },
                    "input.switchRight": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "blockId": "device_switch_direction",
                            "block": "switch right",
                            "parts": "switch",
                            "group": "Switch",
                            "weight": 10,
                            "blockGap": "8",
                            "jsDoc": "Gets a value indicating if the switch is positioned to the right",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "switch right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "input.switch_right"
                    },
                    "SwitchDirection": {
                        "kind": 6,
                        "retType": "SwitchDirection",
                        "extendsTypes": [
                            "SwitchDirection",
                            "Number"
                        ]
                    },
                    "SwitchDirection.Left": {
                        "retType": "SwitchDirection.Left",
                        "attributes": {
                            "block": "left",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SwitchDirection.Left",
                            "Number"
                        ],
                        "pyQName": "SwitchDirection.LEFT"
                    },
                    "SwitchDirection.Right": {
                        "retType": "SwitchDirection.Right",
                        "attributes": {
                            "block": "right",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SwitchDirection.Right",
                            "Number"
                        ],
                        "pyQName": "SwitchDirection.RIGHT"
                    },
                    "jacdac.SwitchService": {
                        "kind": 8,
                        "retType": "jacdac.SwitchService",
                        "extendsTypes": [
                            "jacdac.SwitchService",
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.SwitchService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.SwitchService.serializeState": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.SwitchService.serialize_state"
                    },
                    "jacdac.switchService": {
                        "kind": 4,
                        "retType": "jacdac.SwitchService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "switch service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "switch service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.switch_service"
                    }
                }
            },
            "sha": "f08c132805d2c7c209350d1c9bfdf4d67f7c509d57a844442e0d7ca5f6b84f64"
        },
        "libs/pulse": {
            "apis": {
                "byQName": {}
            },
            "sha": "6a4d2b0983ad0b126b3f28f840dd0bfbab1c6d1e93e0da09a9b578c9c5b45b4f"
        },
        "libs/cable": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 1,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Control"
                            ],
                            "blockGap": "8",
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "network.cableSendPacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Send data over cable."
                        },
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "network.cable_send_packet"
                    },
                    "network.cablePacket": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Get most recent packet received over cable."
                        },
                        "parameters": [],
                        "pyQName": "network.cable_packet"
                    },
                    "network.onCablePacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Run action after a packet is recieved over cable."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_cable_packet"
                    },
                    "network.onCableError": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run action after there's an error reciving packet over cable."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_cable_error"
                    },
                    "CablePacket": {
                        "kind": 8,
                        "retType": "CablePacket",
                        "extendsTypes": []
                    },
                    "CablePacket.receivedNumber": {
                        "kind": 2,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "The first number in the payload."
                        },
                        "isInstance": true,
                        "pyQName": "CablePacket.received_number"
                    },
                    "CablePacket.receivedNumbers": {
                        "kind": 2,
                        "retType": "number[]",
                        "attributes": {
                            "jsDoc": "The array of numbers of received."
                        },
                        "isInstance": true,
                        "pyQName": "CablePacket.received_numbers"
                    },
                    "CablePacket.receivedBuffer": {
                        "kind": 2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "The raw buffer of data received"
                        },
                        "isInstance": true,
                        "pyQName": "CablePacket.received_buffer"
                    },
                    "network.cableSendNumber": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "cable_send_number",
                            "block": "cable send number %value",
                            "help": "network/cable-send-number",
                            "parts": "cable",
                            "group": "Cable",
                            "weight": 90,
                            "paramHelp": {
                                "value": "number to send"
                            },
                            "jsDoc": "Send a number over the cable.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "cable send number ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "number to send"
                            }
                        ],
                        "pyQName": "network.cable_send_number"
                    },
                    "network.cableSendNumbers": {
                        "kind": -3,
                        "attributes": {
                            "parts": "cable",
                            "group": "Cable",
                            "paramHelp": {
                                "values": ""
                            },
                            "jsDoc": "Send an array of numbers over the cable. The array size has to be 32 bytes or less."
                        },
                        "parameters": [
                            {
                                "name": "values",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "network.cable_send_numbers"
                    },
                    "network.onCableReceivedNumber": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "on_cable_received",
                            "block": "on cable received",
                            "blockGap": "8",
                            "help": "network/on-cable-received-number",
                            "parts": "cable",
                            "group": "Cable",
                            "jsDoc": "Run some code when a number value comes across the cable.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on cable received",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(num: number) => void",
                                "handlerParameters": [
                                    {
                                        "name": "num",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_cable_received_number"
                    },
                    "network.onCableReceivedNumbers": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run some code when the cable receives a list of numbers."
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(nums: number[]) => void",
                                "handlerParameters": [
                                    {
                                        "name": "nums",
                                        "type": "number[]"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_cable_received_numbers"
                    },
                    "network.onCableReceivedBuffer": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run some code when the cable receives data a buffer."
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(buf: Buffer) => void",
                                "handlerParameters": [
                                    {
                                        "name": "buf",
                                        "type": "Buffer"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_cable_received_buffer"
                    },
                    "network.onCablePacketReceived": {
                        "kind": -3,
                        "attributes": {
                            "mutate": "objectdestructuring",
                            "mutateText": "CablePacket",
                            "mutateDefaults": "receivedNumber",
                            "blockId": "cable_on_packet_received",
                            "block": "on cable received",
                            "blockGap": "8",
                            "parts": "cable",
                            "group": "Cable",
                            "blockHidden": true,
                            "deprecated": "1",
                            "jsDoc": "Run some code when the cable receiver gets a packet.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on cable received",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "cb",
                                "type": "(p: CablePacket) => void"
                            }
                        ],
                        "pyQName": "network.on_cable_packet_received"
                    }
                }
            },
            "sha": "f092cd5103bfec28cd154518f59eee5bd4b053284fc5a178f8bfeaf8a5f0f290"
        },
        "libs/infrared": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 1,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Control"
                            ],
                            "blockGap": "8",
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "InfraredPacket": {
                        "kind": 8,
                        "retType": "InfraredPacket",
                        "extendsTypes": []
                    },
                    "InfraredPacket.receivedNumber": {
                        "kind": 2,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "The first number in the payload."
                        },
                        "isInstance": true,
                        "pyQName": "InfraredPacket.received_number"
                    },
                    "InfraredPacket.receivedNumbers": {
                        "kind": 2,
                        "retType": "number[]",
                        "attributes": {
                            "jsDoc": "The array of numbers of received."
                        },
                        "isInstance": true,
                        "pyQName": "InfraredPacket.received_numbers"
                    },
                    "InfraredPacket.receivedBuffer": {
                        "kind": 2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "The raw buffer of data received"
                        },
                        "isInstance": true,
                        "pyQName": "InfraredPacket.received_buffer"
                    },
                    "network.infraredSendNumber": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "ir_send_number",
                            "block": "infrared send number %value",
                            "help": "network/infrared-send-number",
                            "parts": "ir",
                            "weight": 90,
                            "group": "Infrared",
                            "paramHelp": {
                                "value": "number to send"
                            },
                            "jsDoc": "Send a number over the infrared transmitter.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "infrared send number ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "number to send"
                            }
                        ],
                        "pyQName": "network.infrared_send_number"
                    },
                    "network.infraredSendNumbers": {
                        "kind": -3,
                        "attributes": {
                            "parts": "ir",
                            "group": "Infrared",
                            "paramHelp": {
                                "values": ""
                            },
                            "jsDoc": "Send an array of numbers over infrared. The array size has to be 32 bytes or less."
                        },
                        "parameters": [
                            {
                                "name": "values",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "network.infrared_send_numbers"
                    },
                    "network.onInfraredReceivedNumber": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "ir_on_infrared_received",
                            "block": "on infrared received",
                            "blockGap": "8",
                            "help": "network/on-infrared-received-number",
                            "parts": "ir",
                            "group": "Infrared",
                            "jsDoc": "Run some code when the infrared receiver gets a number.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on infrared received",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(num: number) => void",
                                "handlerParameters": [
                                    {
                                        "name": "num",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_infrared_received_number"
                    },
                    "network.onInfraredReceivedNumbers": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run some code when the infrared receiver gets a list of numbers."
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(nums: number[]) => void",
                                "handlerParameters": [
                                    {
                                        "name": "nums",
                                        "type": "number[]"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_infrared_received_numbers"
                    },
                    "network.onInfraredReceivedBuffer": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run some code when the infrared receiver gets a buffer."
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "(buf: Buffer) => void",
                                "handlerParameters": [
                                    {
                                        "name": "buf",
                                        "type": "Buffer"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "network.on_infrared_received_buffer"
                    },
                    "network.onInfraredPacketReceived": {
                        "kind": -3,
                        "attributes": {
                            "mutate": "objectdestructuring",
                            "mutateText": "InfraredPacket",
                            "mutateDefaults": "receivedNumber",
                            "blockId": "ir_on_packet_received",
                            "block": "on infrared received",
                            "blockGap": "8",
                            "parts": "ir",
                            "group": "Infrared",
                            "blockHidden": true,
                            "deprecated": "1",
                            "jsDoc": "Run some code when the infrared receiver gets a packet.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on infrared received",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "cb",
                                "type": "(p: InfraredPacket) => void"
                            }
                        ],
                        "pyQName": "network.on_infrared_packet_received"
                    },
                    "network.infraredSendPacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "ir",
                            "jsDoc": "Send data over IR."
                        },
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "network.infrared_send_packet"
                    },
                    "network.infraredPacket": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "parts": "ir",
                            "jsDoc": "Get most recent packet received over IR."
                        },
                        "parameters": [],
                        "pyQName": "network.infrared_packet"
                    },
                    "network.onInfraredPacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "ir",
                            "jsDoc": "Run action after a packet is recieved over IR."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_infrared_packet"
                    },
                    "network.onInfraredError": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run action after there's an error recieving packet over IR."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_infrared_error"
                    }
                }
            },
            "sha": "5c97352d3655f11cab3ee4857a76cea04402b37b0148b4b5beec10ea83c45761"
        },
        "libs/mouse": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "mouse": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "icon": "",
                            "color": "#303030",
                            "jsDoc": "Mouse emulation"
                        }
                    },
                    "mouse.setButton": {
                        "kind": -3,
                        "attributes": {
                            "help": "mouse/set-button",
                            "blockId": "mouseSetButton",
                            "block": "mouse button %index|%down=toggleDownUp",
                            "jsDoc": "Set the mouse button state to up or down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "mouse button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "shadowBlockId": "toggleDownUp",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "shadowBlockId": "toggleDownUp",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "button",
                                "type": "MouseButton",
                                "isEnum": true
                            },
                            {
                                "name": "down",
                                "type": "boolean"
                            }
                        ],
                        "pyQName": "mouse.set_button"
                    },
                    "mouse.move": {
                        "kind": -3,
                        "attributes": {
                            "help": "mouse/move",
                            "blockId": "mouseMove",
                            "block": "mouse move x %x|y %y",
                            "paramMin": {
                                "x": "-128",
                                "y": "-128"
                            },
                            "paramMax": {
                                "x": "127",
                                "y": "127"
                            },
                            "jsDoc": "Move the mouse in the X and Y direction",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "mouse move x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "options": {
                                    "min": {
                                        "value": "-128"
                                    },
                                    "max": {
                                        "value": "127"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "options": {
                                    "min": {
                                        "value": "-128"
                                    },
                                    "max": {
                                        "value": "127"
                                    }
                                }
                            }
                        ]
                    },
                    "mouse.turnWheel": {
                        "kind": -3,
                        "attributes": {
                            "help": "mouse/turn-wheel",
                            "blockId": "mouseWheel",
                            "block": "turn wheel %w",
                            "paramMin": {
                                "w": "-128"
                            },
                            "paramMax": {
                                "w": "127"
                            },
                            "jsDoc": "Turn the mouse wheel",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "turn wheel ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "w",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "w",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "w",
                                "options": {
                                    "min": {
                                        "value": "-128"
                                    },
                                    "max": {
                                        "value": "127"
                                    }
                                }
                            }
                        ],
                        "pyQName": "mouse.turn_wheel"
                    },
                    "MouseButton": {
                        "kind": 6,
                        "retType": "MouseButton",
                        "extendsTypes": [
                            "MouseButton",
                            "Number"
                        ]
                    },
                    "MouseButton.Right": {
                        "retType": "MouseButton.Right",
                        "attributes": {
                            "block": "right",
                            "enumval": "2",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "MouseButton.Right",
                            "Number"
                        ],
                        "pyQName": "MouseButton.RIGHT"
                    },
                    "MouseButton.Middle": {
                        "retType": "MouseButton.Middle",
                        "attributes": {
                            "block": "middle",
                            "enumval": "4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "middle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "MouseButton.Middle",
                            "Number"
                        ],
                        "pyQName": "MouseButton.MIDDLE"
                    },
                    "MouseButton.Left": {
                        "retType": "MouseButton.Left",
                        "attributes": {
                            "block": "left",
                            "enumval": "1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "MouseButton.Left",
                            "Number"
                        ],
                        "pyQName": "MouseButton.LEFT"
                    },
                    "jacdac.MouseService": {
                        "kind": 8,
                        "retType": "jacdac.MouseService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.MouseService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.MouseService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.MouseService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.MouseService.handle_packet"
                    },
                    "jacdac.mouseService": {
                        "kind": 4,
                        "retType": "jacdac.MouseService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "mouse service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "mouse service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.mouse_service"
                    }
                }
            },
            "sha": "5f33616f534b5a1230d98acbdab88303bada21b921810fe6a1bcb3f83191c747"
        },
        "libs/keyboard": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "keyboard": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "icon": "",
                            "color": "#303030",
                            "jsDoc": "Keyboard emulation"
                        }
                    },
                    "keyboard.__type": {
                        "kind": -3,
                        "attributes": {
                            "hidden": "1"
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ]
                    },
                    "keyboard.__key": {
                        "kind": -3,
                        "attributes": {
                            "hidden": "1"
                        },
                        "parameters": [
                            {
                                "name": "ckey"
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ]
                    },
                    "keyboard.__mediaKey": {
                        "kind": -3,
                        "attributes": {
                            "hidden": "1"
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "type": "KeyboardMediaKey",
                                "isEnum": true
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ]
                    },
                    "keyboard.__functionKey": {
                        "kind": -3,
                        "attributes": {
                            "hidden": "1"
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "type": "KeyboardFunctionKey",
                                "isEnum": true
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ]
                    },
                    "KeyboardMediaKey": {
                        "kind": 6,
                        "retType": "KeyboardMediaKey",
                        "extendsTypes": [
                            "KeyboardMediaKey",
                            "Number"
                        ]
                    },
                    "KeyboardMediaKey.Mute": {
                        "retType": "KeyboardMediaKey.Mute",
                        "attributes": {
                            "block": "mute",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "mute",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.Mute",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.MUTE"
                    },
                    "KeyboardMediaKey.VolumeUp": {
                        "retType": "KeyboardMediaKey.VolumeUp",
                        "attributes": {
                            "block": "volume up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "volume up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.VolumeUp",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.VOLUME_UP"
                    },
                    "KeyboardMediaKey.VolumeDown": {
                        "retType": "KeyboardMediaKey.VolumeDown",
                        "attributes": {
                            "block": "volume down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "volume down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.VolumeDown",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.VOLUME_DOWN"
                    },
                    "KeyboardMediaKey.PlayPause": {
                        "retType": "KeyboardMediaKey.PlayPause",
                        "attributes": {
                            "block": "play pause",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play pause",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.PlayPause",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.PLAY_PAUSE"
                    },
                    "KeyboardMediaKey.Stop": {
                        "retType": "KeyboardMediaKey.Stop",
                        "attributes": {
                            "block": "stop",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.Stop",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.STOP"
                    },
                    "KeyboardMediaKey.PreviousTrack": {
                        "retType": "KeyboardMediaKey.PreviousTrack",
                        "attributes": {
                            "block": "previous track",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "previous track",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.PreviousTrack",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.PREVIOUS_TRACK"
                    },
                    "KeyboardMediaKey.NextTrack": {
                        "retType": "KeyboardMediaKey.NextTrack",
                        "attributes": {
                            "block": "next track",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "next track",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.NextTrack",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.NEXT_TRACK"
                    },
                    "KeyboardMediaKey.Mail": {
                        "retType": "KeyboardMediaKey.Mail",
                        "attributes": {
                            "block": "mail",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "mail",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.Mail",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.MAIL"
                    },
                    "KeyboardMediaKey.Calculator": {
                        "retType": "KeyboardMediaKey.Calculator",
                        "attributes": {
                            "block": "calculator",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "calculator",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.Calculator",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.CALCULATOR"
                    },
                    "KeyboardMediaKey.WebSearch": {
                        "retType": "KeyboardMediaKey.WebSearch",
                        "attributes": {
                            "block": "web search",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web search",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebSearch",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_SEARCH"
                    },
                    "KeyboardMediaKey.WebHome": {
                        "retType": "KeyboardMediaKey.WebHome",
                        "attributes": {
                            "block": "web home",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web home",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebHome",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_HOME"
                    },
                    "KeyboardMediaKey.WebFavourites": {
                        "retType": "KeyboardMediaKey.WebFavourites",
                        "attributes": {
                            "block": "web favourites",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web favourites",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebFavourites",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_FAVOURITES"
                    },
                    "KeyboardMediaKey.WebRefresh": {
                        "retType": "KeyboardMediaKey.WebRefresh",
                        "attributes": {
                            "block": "web refresh",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web refresh",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebRefresh",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_REFRESH"
                    },
                    "KeyboardMediaKey.WebStop": {
                        "retType": "KeyboardMediaKey.WebStop",
                        "attributes": {
                            "block": "web stop",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web stop",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebStop",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_STOP"
                    },
                    "KeyboardMediaKey.WebForward": {
                        "retType": "KeyboardMediaKey.WebForward",
                        "attributes": {
                            "block": "web forward",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web forward",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebForward",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_FORWARD"
                    },
                    "KeyboardMediaKey.WebBack": {
                        "retType": "KeyboardMediaKey.WebBack",
                        "attributes": {
                            "block": "web back",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "web back",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardMediaKey.WebBack",
                            "Number"
                        ],
                        "pyQName": "KeyboardMediaKey.WEB_BACK"
                    },
                    "KeyboardFunctionKey": {
                        "kind": 6,
                        "retType": "KeyboardFunctionKey",
                        "extendsTypes": [
                            "KeyboardFunctionKey",
                            "Number"
                        ]
                    },
                    "KeyboardFunctionKey.F1Key": {
                        "retType": "KeyboardFunctionKey.F1Key",
                        "attributes": {
                            "block": "F1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F1",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F1Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F1_KEY"
                    },
                    "KeyboardFunctionKey.F2Key": {
                        "retType": "KeyboardFunctionKey.F2Key",
                        "attributes": {
                            "block": "F2",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F2",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F2Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F2_KEY"
                    },
                    "KeyboardFunctionKey.F3Key": {
                        "retType": "KeyboardFunctionKey.F3Key",
                        "attributes": {
                            "block": "F3",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F3",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F3Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F3_KEY"
                    },
                    "KeyboardFunctionKey.F4Key": {
                        "retType": "KeyboardFunctionKey.F4Key",
                        "attributes": {
                            "block": "F4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F4Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F4_KEY"
                    },
                    "KeyboardFunctionKey.F5Key": {
                        "retType": "KeyboardFunctionKey.F5Key",
                        "attributes": {
                            "block": "F5",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F5",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F5Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F5_KEY"
                    },
                    "KeyboardFunctionKey.F6Key": {
                        "retType": "KeyboardFunctionKey.F6Key",
                        "attributes": {
                            "block": "F6",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F6",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F6Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F6_KEY"
                    },
                    "KeyboardFunctionKey.F7Key": {
                        "retType": "KeyboardFunctionKey.F7Key",
                        "attributes": {
                            "block": "F7",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F7",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F7Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F7_KEY"
                    },
                    "KeyboardFunctionKey.F8Key": {
                        "retType": "KeyboardFunctionKey.F8Key",
                        "attributes": {
                            "block": "F8",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F8",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F8Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F8_KEY"
                    },
                    "KeyboardFunctionKey.F9Key": {
                        "retType": "KeyboardFunctionKey.F9Key",
                        "attributes": {
                            "block": "F9",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F9",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F9Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F9_KEY"
                    },
                    "KeyboardFunctionKey.F10Key": {
                        "retType": "KeyboardFunctionKey.F10Key",
                        "attributes": {
                            "block": "F0",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F0",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F10Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F10_KEY"
                    },
                    "KeyboardFunctionKey.F11Key": {
                        "retType": "KeyboardFunctionKey.F11Key",
                        "attributes": {
                            "block": "F11",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F11",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F11Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F11_KEY"
                    },
                    "KeyboardFunctionKey.F12Key": {
                        "retType": "KeyboardFunctionKey.F12Key",
                        "attributes": {
                            "block": "F12",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F12",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.F12Key",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.F12_KEY"
                    },
                    "KeyboardFunctionKey.PrintScreen": {
                        "retType": "KeyboardFunctionKey.PrintScreen",
                        "attributes": {
                            "block": "print screen",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "print screen",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.PrintScreen",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.PRINT_SCREEN"
                    },
                    "KeyboardFunctionKey.ScrollLock": {
                        "retType": "KeyboardFunctionKey.ScrollLock",
                        "attributes": {
                            "block": "scroll lock",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "scroll lock",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.ScrollLock",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.SCROLL_LOCK"
                    },
                    "KeyboardFunctionKey.Pause": {
                        "retType": "KeyboardFunctionKey.Pause",
                        "attributes": {
                            "block": "pause",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pause",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.Pause",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.PAUSE"
                    },
                    "KeyboardFunctionKey.Insert": {
                        "retType": "KeyboardFunctionKey.Insert",
                        "attributes": {
                            "block": "insert",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "insert",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.Insert",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.INSERT"
                    },
                    "KeyboardFunctionKey.Home": {
                        "retType": "KeyboardFunctionKey.Home",
                        "attributes": {
                            "block": "home",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "home",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.Home",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.HOME"
                    },
                    "KeyboardFunctionKey.PageUp": {
                        "retType": "KeyboardFunctionKey.PageUp",
                        "attributes": {
                            "block": "page up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "page up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.PageUp",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.PAGE_UP"
                    },
                    "KeyboardFunctionKey.DeleteForward": {
                        "retType": "KeyboardFunctionKey.DeleteForward",
                        "attributes": {
                            "block": "delete",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "delete",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.DeleteForward",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.DELETE_FORWARD"
                    },
                    "KeyboardFunctionKey.End": {
                        "retType": "KeyboardFunctionKey.End",
                        "attributes": {
                            "block": "end",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "end",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.End",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.END"
                    },
                    "KeyboardFunctionKey.PageDown": {
                        "retType": "KeyboardFunctionKey.PageDown",
                        "attributes": {
                            "block": "page down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "page down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.PageDown",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.PAGE_DOWN"
                    },
                    "KeyboardFunctionKey.RightArrow": {
                        "retType": "KeyboardFunctionKey.RightArrow",
                        "attributes": {
                            "block": "right arrow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right arrow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.RightArrow",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.RIGHT_ARROW"
                    },
                    "KeyboardFunctionKey.LeftArrow": {
                        "retType": "KeyboardFunctionKey.LeftArrow",
                        "attributes": {
                            "block": "left arrow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left arrow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.LeftArrow",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.LEFT_ARROW"
                    },
                    "KeyboardFunctionKey.DownArrow": {
                        "retType": "KeyboardFunctionKey.DownArrow",
                        "attributes": {
                            "block": "down arrow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down arrow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.DownArrow",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.DOWN_ARROW"
                    },
                    "KeyboardFunctionKey.UpArrow": {
                        "retType": "KeyboardFunctionKey.UpArrow",
                        "attributes": {
                            "block": "up arrow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up arrow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardFunctionKey.UpArrow",
                            "Number"
                        ],
                        "pyQName": "KeyboardFunctionKey.UP_ARROW"
                    },
                    "KeyboardKeyEvent": {
                        "kind": 6,
                        "retType": "KeyboardKeyEvent",
                        "extendsTypes": [
                            "KeyboardKeyEvent",
                            "Number"
                        ]
                    },
                    "KeyboardKeyEvent.Press": {
                        "retType": "KeyboardKeyEvent.Press",
                        "attributes": {
                            "block": "press",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "press",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardKeyEvent.Press",
                            "Number"
                        ],
                        "pyQName": "KeyboardKeyEvent.PRESS"
                    },
                    "KeyboardKeyEvent.Up": {
                        "retType": "KeyboardKeyEvent.Up",
                        "attributes": {
                            "block": "up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardKeyEvent.Up",
                            "Number"
                        ],
                        "pyQName": "KeyboardKeyEvent.UP"
                    },
                    "KeyboardKeyEvent.Down": {
                        "retType": "KeyboardKeyEvent.Down",
                        "attributes": {
                            "block": "down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "KeyboardKeyEvent.Down",
                            "Number"
                        ],
                        "pyQName": "KeyboardKeyEvent.DOWN"
                    },
                    "keyboard.type": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "keyboardType",
                            "block": "keyboard type %text",
                            "blockGap": "8",
                            "weight": 100,
                            "paramShadowOptions": {
                                "text": {
                                    "toString": "true"
                                }
                            },
                            "help": "keyboard/type",
                            "jsDoc": "Send a sequence of keystrokes to the keyboard",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard type ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string",
                                "options": {
                                    "fieldEditorOptions": {
                                        "value": {
                                            "toString": "true"
                                        }
                                    }
                                }
                            }
                        ]
                    },
                    "keyboard.key": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "keyboardStandardKey",
                            "block": "keyboard key %key|%event",
                            "blockGap": "8",
                            "weight": 99,
                            "help": "keyboard/key",
                            "jsDoc": "Send a key command",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard key ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "type": "string"
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ]
                    },
                    "keyboard.mediaKey": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "keyboardMediaKey",
                            "block": "keyboard media key %key|%event",
                            "blockGap": "8",
                            "help": "keyboard/media-key",
                            "jsDoc": "Send a media key command",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard media key ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "type": "KeyboardMediaKey",
                                "isEnum": true
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "keyboard.media_key"
                    },
                    "keyboard.functionKey": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "keyboardFunctionKey",
                            "block": "keyboard function key %key|%event",
                            "blockGap": "8",
                            "help": "keyboard/function-key",
                            "jsDoc": "Send a function key command",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard function key ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "key",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "type": "KeyboardFunctionKey",
                                "isEnum": true
                            },
                            {
                                "name": "event",
                                "type": "KeyboardKeyEvent",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "keyboard.function_key"
                    },
                    "keyboard.clearAllKeys": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "keyboardClear",
                            "block": "keyboard clear all",
                            "blockGap": "8",
                            "help": "keyboard/clear-all-keys",
                            "jsDoc": "Send up commands for any remaning down keys",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard clear all",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "keyboard.clear_all_keys"
                    },
                    "jacdac.KeyboardService": {
                        "kind": 8,
                        "retType": "jacdac.KeyboardService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.KeyboardService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.KeyboardService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.KeyboardService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.KeyboardService.handle_packet"
                    },
                    "jacdac.keyboardService": {
                        "kind": 4,
                        "retType": "jacdac.KeyboardService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "keyboard service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "keyboard service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.keyboard_service"
                    }
                }
            },
            "sha": "4035eb7002ba0971e1bca1b0263a4a6b388a669e64bf23d455081045f42afe97"
        },
        "libs/gamepad": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "gamepad": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "icon": "",
                            "color": "#303030"
                        }
                    },
                    "gamepad.setButton": {
                        "kind": -3,
                        "attributes": {
                            "help": "gamepad/set-button",
                            "blockId": "joystickSetButton",
                            "block": "gamepad button %index=joystickStandardButton|%down=toggleDownUp",
                            "weight": 100,
                            "jsDoc": "Set the button state to down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "gamepad button ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "shadowBlockId": "joystickStandardButton",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "shadowBlockId": "toggleDownUp",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "shadowBlockId": "joystickStandardButton",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "shadowBlockId": "toggleDownUp",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index"
                            },
                            {
                                "name": "down",
                                "type": "boolean"
                            }
                        ],
                        "pyQName": "gamepad.set_button"
                    },
                    "gamepad.move": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "gamepadMove",
                            "block": "gamepad %index|move by x %x|y %y",
                            "help": "gamepad/move",
                            "paramMin": {
                                "index": "0"
                            },
                            "paramMax": {
                                "index": "1"
                            },
                            "blockGap": "8",
                            "jsDoc": "Set the current move on the gamepad",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "gamepad ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "move by x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "1"
                                    }
                                }
                            },
                            {
                                "name": "x"
                            },
                            {
                                "name": "y"
                            }
                        ]
                    },
                    "gamepad.setThrottle": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "gamepadSetThrottle",
                            "block": "gamepad set throttle %index|to %value",
                            "gamepad": "true",
                            "paramMin": {
                                "index": "0",
                                "value": "0"
                            },
                            "paramMax": {
                                "index": "1",
                                "value": "31"
                            },
                            "help": "gamepad/set-throttle",
                            "jsDoc": "Set the throttle state",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "gamepad set throttle ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "1"
                                    }
                                }
                            },
                            {
                                "name": "value",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "31"
                                    }
                                }
                            }
                        ],
                        "pyQName": "gamepad.set_throttle"
                    },
                    "GamepadButton": {
                        "kind": 6,
                        "retType": "GamepadButton",
                        "extendsTypes": [
                            "GamepadButton",
                            "Number"
                        ]
                    },
                    "GamepadButton.B": {
                        "retType": "GamepadButton.B",
                        "attributes": {
                            "blockIdentity": "gamepad.button",
                            "enumval": "0"
                        },
                        "extendsTypes": [
                            "GamepadButton.B",
                            "Number"
                        ]
                    },
                    "GamepadButton.A": {
                        "retType": "GamepadButton.A",
                        "attributes": {
                            "blockIdentity": "gamepad.button",
                            "enumval": "1"
                        },
                        "extendsTypes": [
                            "GamepadButton.A",
                            "Number"
                        ]
                    },
                    "GamepadButton.Y": {
                        "retType": "GamepadButton.Y",
                        "attributes": {
                            "blockIdentity": "gamepad.button",
                            "enumval": "2"
                        },
                        "extendsTypes": [
                            "GamepadButton.Y",
                            "Number"
                        ]
                    },
                    "GamepadButton.X": {
                        "retType": "GamepadButton.X",
                        "attributes": {
                            "blockIdentity": "gamepad.button",
                            "enumval": "3"
                        },
                        "extendsTypes": [
                            "GamepadButton.X",
                            "Number"
                        ]
                    },
                    "GamepadButton.LeftBumper": {
                        "retType": "GamepadButton.LeftBumper",
                        "attributes": {
                            "block": "left bumper",
                            "blockIdentity": "gamepad.button",
                            "enumval": "4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left bumper",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.LeftBumper",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.LEFT_BUMPER"
                    },
                    "GamepadButton.RightBumper": {
                        "retType": "GamepadButton.RightBumper",
                        "attributes": {
                            "block": "right bumper",
                            "blockIdentity": "gamepad.button",
                            "enumval": "5",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right bumper",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.RightBumper",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.RIGHT_BUMPER"
                    },
                    "GamepadButton.LeftTrigger": {
                        "retType": "GamepadButton.LeftTrigger",
                        "attributes": {
                            "block": "left trigger",
                            "blockIdentity": "gamepad.button",
                            "enumval": "6",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left trigger",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.LeftTrigger",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.LEFT_TRIGGER"
                    },
                    "GamepadButton.RightTrigger": {
                        "retType": "GamepadButton.RightTrigger",
                        "attributes": {
                            "block": "right trigger",
                            "blockIdentity": "gamepad.button",
                            "enumval": "7",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right trigger",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.RightTrigger",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.RIGHT_TRIGGER"
                    },
                    "GamepadButton.Select": {
                        "retType": "GamepadButton.Select",
                        "attributes": {
                            "block": "select",
                            "blockIdentity": "gamepad.button",
                            "enumval": "8",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "select",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Select",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.SELECT"
                    },
                    "GamepadButton.Start": {
                        "retType": "GamepadButton.Start",
                        "attributes": {
                            "block": "start",
                            "blockIdentity": "gamepad.button",
                            "enumval": "9",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "start",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Start",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.START"
                    },
                    "GamepadButton.LeftStick": {
                        "retType": "GamepadButton.LeftStick",
                        "attributes": {
                            "block": "left stick",
                            "blockIdentity": "gamepad.button",
                            "enumval": "10",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left stick",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.LeftStick",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.LEFT_STICK"
                    },
                    "GamepadButton.RightStick": {
                        "retType": "GamepadButton.RightStick",
                        "attributes": {
                            "block": "right stick",
                            "blockIdentity": "gamepad.button",
                            "enumval": "11",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right stick",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.RightStick",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.RIGHT_STICK"
                    },
                    "GamepadButton.Up": {
                        "retType": "GamepadButton.Up",
                        "attributes": {
                            "block": "up",
                            "blockIdentity": "gamepad.button",
                            "enumval": "12",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Up",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.UP"
                    },
                    "GamepadButton.Down": {
                        "retType": "GamepadButton.Down",
                        "attributes": {
                            "block": "down",
                            "blockIdentity": "gamepad.button",
                            "enumval": "13",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Down",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.DOWN"
                    },
                    "GamepadButton.Left": {
                        "retType": "GamepadButton.Left",
                        "attributes": {
                            "block": "left",
                            "blockIdentity": "gamepad.button",
                            "enumval": "14",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Left",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.LEFT"
                    },
                    "GamepadButton.Right": {
                        "retType": "GamepadButton.Right",
                        "attributes": {
                            "block": "right",
                            "blockIdentity": "gamepad.button",
                            "enumval": "15",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "GamepadButton.Right",
                            "Number"
                        ],
                        "pyQName": "GamepadButton.RIGHT"
                    },
                    "gamepad.button": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "joystickStandardButton",
                            "block": "%button",
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "paramHelp": {
                                "button": "the name of the button"
                            },
                            "jsDoc": "Maps to a standard layout button to the button index",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "button",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "button",
                                "description": "the name of the button",
                                "type": "GamepadButton",
                                "isEnum": true
                            }
                        ]
                    },
                    "jacdac.GamepadService": {
                        "kind": 8,
                        "retType": "jacdac.GamepadService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.GamepadService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.GamepadService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.GamepadService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.GamepadService.handle_packet"
                    },
                    "jacdac.gamepadService": {
                        "kind": 4,
                        "retType": "jacdac.GamepadService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "gamepad service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "gamepad service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.gamepad_service"
                    }
                }
            },
            "sha": "9d19b73b4f617480bed5a385d2379fdd2d9e9b3c3463cc4adfb629746e066c7f"
        },
        "libs/storage": {
            "apis": {
                "byQName": {
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#FF5722",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#A80000",
                            "weight": 85,
                            "icon": "",
                            "advanced": true,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": ""
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#B4009E",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 1,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Control"
                            ],
                            "blockGap": "8",
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "storage": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 5,
                            "color": "#00c0c0",
                            "icon": "",
                            "jsDoc": "File storage operations"
                        }
                    },
                    "storage.NEW_LINE": {
                        "kind": 4,
                        "retType": "string"
                    },
                    "storage.appendLine": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_append_line",
                            "block": "append file $filename with line $data",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Appends a new line to the file",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "append file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " with line ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            },
                            {
                                "name": "data",
                                "type": "string"
                            }
                        ],
                        "pyQName": "storage.append_line"
                    },
                    "storage.append": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_append",
                            "block": "append file $filename with $data",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Append string data to a new or existing file.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "append file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            },
                            {
                                "name": "data",
                                "type": "string"
                            }
                        ]
                    },
                    "storage.overwrite": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_overwrite",
                            "block": "overwrite file $filename with $data",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Overwrite file with string data.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "overwrite file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            },
                            {
                                "name": "data",
                                "type": "string"
                            }
                        ]
                    },
                    "storage.read": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_read",
                            "block": "read file $filename",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Read contents of file as a string.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "read file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            }
                        ]
                    },
                    "storage.appendBuffer": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Append a buffer to a new or existing file."
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            },
                            {
                                "name": "data",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "storage.append_buffer"
                    },
                    "storage.overwriteWithBuffer": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Overwrite file with a buffer."
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            },
                            {
                                "name": "data",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "storage.overwrite_with_buffer"
                    },
                    "storage.exists": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_exists",
                            "block": "file $filename exists",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Return true if the file already exists.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " exists",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            }
                        ]
                    },
                    "storage.remove": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_remove",
                            "block": "remove file $filename",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Delete a file, or do nothing if it doesn't exist.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "remove file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            }
                        ]
                    },
                    "storage.size": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "blockId": "storage_size",
                            "block": "size of file $filename",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Return the size of the file, or -1 if it doesn't exists.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "size of file ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "filename",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            }
                        ]
                    },
                    "storage.readAsBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramDefl": {
                                "filename": "log.txt"
                            },
                            "parts": "storage",
                            "paramHelp": {
                                "filename": "name of the file, eg: \"log.txt\""
                            },
                            "jsDoc": "Read contents of file as a buffer."
                        },
                        "parameters": [
                            {
                                "name": "filename",
                                "description": "name of the file, eg: \"log.txt\"",
                                "type": "string",
                                "default": "log.txt"
                            }
                        ],
                        "pyQName": "storage.read_as_buffer"
                    }
                }
            },
            "sha": "1ef462b2bb63be41e112675fd5416e9f183630dcba72b8298195f5fd0cfbb6b5"
        },
        "libs/serial": {
            "apis": {
                "byQName": {}
            },
            "sha": "d2e44f42c8143da087c6f53c1cdd5b976af8fc0c5d4da61f65e292c501b28d2e"
        },
        "libs/jacdac": {
            "apis": {
                "byQName": {}
            },
            "sha": "b27c2d62eed036bf0adb09a8b52f422056fc81de2203c24e851d79417ce441cb"
        },
        "libs/core---nrf52": {
            "apis": {
                "byQName": {}
            },
            "sha": "8257c6628e5c79c20bb069468162b5e37118f2820c2f53248567cb72db64503a"
        },
        "libs/teknikio-bluebird": {
            "apis": {
                "byQName": {
                    "Array": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "blockNamespace": "Arrays",
                            "jsDoc": "Add, remove, and replace items in lists."
                        }
                    },
                    "Array.length": {
                        "kind": 2,
                        "retType": "number",
                        "attributes": {
                            "weight": 84,
                            "blockId": "lists_length",
                            "block": "length of %VALUE",
                            "blockBuiltin": "true",
                            "blockNamespace": "arrays",
                            "jsDoc": "Get or set the length of an array. This number is one more than the index of the last element the array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "length of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "VALUE",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "VALUE",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "isInstance": true
                    },
                    "Array.push": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/push",
                            "weight": 50,
                            "blockId": "array_push",
                            "block": "%list| add value %value| to end",
                            "blockNamespace": "arrays",
                            "group": "Modify",
                            "paramHelp": {
                                "items": "New elements of the Array."
                            },
                            "jsDoc": "Append a new element to an array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " add value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to end",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "item",
                                "type": "T"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.append"
                    },
                    "Array.concat": {
                        "kind": -1,
                        "retType": "T[]",
                        "attributes": {
                            "helper": "arrayConcat",
                            "weight": 40,
                            "paramHelp": {
                                "arr": "The other array that is being concatenated with"
                            },
                            "jsDoc": "Concatenates the values with another array."
                        },
                        "parameters": [
                            {
                                "name": "arr",
                                "description": "The other array that is being concatenated with",
                                "type": "T[]"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.pop": {
                        "kind": -1,
                        "retType": "T",
                        "attributes": {
                            "help": "arrays/pop",
                            "weight": 45,
                            "blockId": "array_pop",
                            "block": "get and remove last value from %list",
                            "blockNamespace": "arrays",
                            "group": "Read",
                            "jsDoc": "Remove the last element from an array and return it.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "get and remove last value from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "Array.reverse": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/reverse",
                            "helper": "arrayReverse",
                            "weight": 10,
                            "blockId": "array_reverse",
                            "block": "reverse %list",
                            "blockNamespace": "arrays",
                            "group": "Operations",
                            "jsDoc": "Reverse the elements in an array. The first array element becomes the last, and the last array element becomes the first.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "reverse ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "Array.shift": {
                        "kind": -1,
                        "retType": "T",
                        "attributes": {
                            "help": "arrays/shift",
                            "helper": "arrayShift",
                            "weight": 30,
                            "blockId": "array_shift",
                            "block": "get and remove first value from %list",
                            "blockNamespace": "arrays",
                            "group": "Read",
                            "jsDoc": "Remove the first element from an array and return it. This method changes the length of the array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "get and remove first value from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "Array.unshift": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "help": "arrays/unshift",
                            "helper": "arrayUnshift",
                            "weight": 25,
                            "blockId": "array_unshift",
                            "block": "%list| insert %value| at beginning",
                            "blockNamespace": "arrays",
                            "group": "Modify",
                            "paramHelp": {
                                "element": "to insert at the start of the Array."
                            },
                            "jsDoc": "Add one element to the beginning of an array and return the new length of the array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " insert ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " at beginning",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "type": "T"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.slice": {
                        "kind": -1,
                        "retType": "T[]",
                        "attributes": {
                            "paramDefl": {
                                "start": "0",
                                "end": "0"
                            },
                            "help": "arrays/slice",
                            "helper": "arraySlice",
                            "weight": 41,
                            "blockNamespace": "arrays",
                            "paramHelp": {
                                "start": "The beginning of the specified portion of the array. eg: 0",
                                "end": "The end of the specified portion of the array. eg: 0"
                            },
                            "jsDoc": "Return a section of an array."
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "The beginning of the specified portion of the array. eg: 0",
                                "initializer": "undefined",
                                "default": "0"
                            },
                            {
                                "name": "end",
                                "description": "The end of the specified portion of the array. eg: 0",
                                "initializer": "undefined",
                                "default": "0"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.splice": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "start": "0",
                                "deleteCount": "0"
                            },
                            "helper": "arraySplice",
                            "weight": 40,
                            "paramHelp": {
                                "start": "The zero-based location in the array from which to start removing elements. eg: 0",
                                "deleteCount": "The number of elements to remove. eg: 0"
                            },
                            "jsDoc": "Remove elements from an array."
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "The zero-based location in the array from which to start removing elements. eg: 0",
                                "default": "0"
                            },
                            {
                                "name": "deleteCount",
                                "description": "The number of elements to remove. eg: 0",
                                "default": "0"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.join": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "helper": "arrayJoin",
                            "weight": 40,
                            "paramHelp": {
                                "sep": "the string separator"
                            },
                            "jsDoc": "joins all elements of an array into a string and returns this string."
                        },
                        "parameters": [
                            {
                                "name": "sep",
                                "description": "the string separator",
                                "type": "string",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.some": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "helper": "arraySome",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to two arguments. The some method calls the callbackfn function one time for each element in the array."
                            },
                            "jsDoc": "Tests whether at least one element in the array passes the test implemented by the provided function."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to two arguments. The some method calls the callbackfn function one time for each element in the array.",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.every": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "helper": "arrayEvery",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to two arguments. The every method calls the callbackfn function one time for each element in the array."
                            },
                            "jsDoc": "Tests whether all elements in the array pass the test implemented by the provided function."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to two arguments. The every method calls the callbackfn function one time for each element in the array.",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.sort": {
                        "kind": -1,
                        "retType": "T[]",
                        "attributes": {
                            "helper": "arraySort",
                            "weight": 40,
                            "paramHelp": {
                                "specifies": "a function that defines the sort order. If omitted, the array is sorted according to the prmitive type"
                            },
                            "jsDoc": "Sort the elements of an array in place and returns the array. The sort is not necessarily stable."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "type": "(value1: T, value2: T) => number",
                                "initializer": "undefined",
                                "handlerParameters": [
                                    {
                                        "name": "value1",
                                        "type": "T"
                                    },
                                    {
                                        "name": "value2",
                                        "type": "T"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.map": {
                        "kind": -1,
                        "retType": "U[]",
                        "attributes": {
                            "helper": "arrayMap",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to two arguments. The map method calls the callbackfn function one time for each element in the array."
                            },
                            "jsDoc": "Call a defined callback function on each element of an array, and return an array containing the results."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to two arguments. The map method calls the callbackfn function one time for each element in the array.",
                                "type": "(value: T, index: number) => U",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.forEach": {
                        "kind": -1,
                        "attributes": {
                            "helper": "arrayForEach",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to two arguments. The forEach method calls the callbackfn function one time for each element in the array."
                            },
                            "jsDoc": "Call a defined callback function on each element of an array."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to two arguments. The forEach method calls the callbackfn function one time for each element in the array.",
                                "type": "(value: T, index: number) => void",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.for_each"
                    },
                    "Array.filter": {
                        "kind": -1,
                        "retType": "T[]",
                        "attributes": {
                            "helper": "arrayFilter",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to two arguments. The filter method calls the callbackfn function one time for each element in the array."
                            },
                            "jsDoc": "Return the elements of an array that meet the condition specified in a callback function."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to two arguments. The filter method calls the callbackfn function one time for each element in the array.",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.fill": {
                        "kind": -1,
                        "retType": "T[]",
                        "attributes": {
                            "helper": "arrayFill",
                            "weight": 39,
                            "jsDoc": "Fills all the elements of an array from a start index to an end index with a static value. The end index is not included."
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "type": "T"
                            },
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "end",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.find": {
                        "kind": -1,
                        "retType": "T",
                        "attributes": {
                            "helper": "arrayFind",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": ""
                            },
                            "jsDoc": "Returns the value of the first element in the array that satisfies the provided testing function. Otherwise undefined is returned."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.reduce": {
                        "kind": -1,
                        "retType": "U",
                        "attributes": {
                            "helper": "arrayReduce",
                            "weight": 40,
                            "paramHelp": {
                                "callbackfn": "A function that accepts up to three arguments. The reduce method calls the callbackfn function one time for each element in the array.",
                                "initialValue": "Initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value."
                            },
                            "jsDoc": "Call the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function."
                        },
                        "parameters": [
                            {
                                "name": "callbackfn",
                                "description": "A function that accepts up to three arguments. The reduce method calls the callbackfn function one time for each element in the array.",
                                "type": "(previousValue: U, currentValue: T, currentIndex: number) => U",
                                "handlerParameters": [
                                    {
                                        "name": "previousValue",
                                        "type": "U"
                                    },
                                    {
                                        "name": "currentValue",
                                        "type": "T"
                                    },
                                    {
                                        "name": "currentIndex",
                                        "type": "number"
                                    }
                                ]
                            },
                            {
                                "name": "initialValue",
                                "description": "Initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.",
                                "type": "U"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.removeElement": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "weight": 48,
                            "jsDoc": "Remove the first occurence of an object. Returns true if removed."
                        },
                        "parameters": [
                            {
                                "name": "element",
                                "type": "T"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.remove_element"
                    },
                    "Array.removeAt": {
                        "kind": -1,
                        "retType": "T",
                        "attributes": {
                            "help": "arrays/remove-at",
                            "weight": 47,
                            "blockId": "array_removeat",
                            "block": "%list| get and remove value at %index",
                            "blockNamespace": "arrays",
                            "group": "Read",
                            "jsDoc": "Remove the element at a certain index.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " get and remove value at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.remove_at"
                    },
                    "Array.insertAt": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "index": "0",
                                "the": "0"
                            },
                            "help": "arrays/insert-at",
                            "weight": 20,
                            "blockId": "array_insertAt",
                            "block": "%list| insert at %index| value %value",
                            "blockNamespace": "arrays",
                            "group": "Modify",
                            "paramHelp": {
                                "index": "the zero-based position in the list to insert the value, eg: 0",
                                "the": "value to insert, eg: 0"
                            },
                            "jsDoc": "Insert the value at a particular index, increases length by 1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " insert at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "the zero-based position in the list to insert the value, eg: 0",
                                "default": "0"
                            },
                            {
                                "name": "value",
                                "type": "T"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.insert_at"
                    },
                    "Array.indexOf": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "help": "arrays/index-of",
                            "weight": 40,
                            "blockId": "array_indexof",
                            "block": "%list| find index of %value",
                            "blockNamespace": "arrays",
                            "group": "Operations",
                            "paramHelp": {
                                "item": "The value to locate in the array.",
                                "fromIndex": "The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0."
                            },
                            "jsDoc": "Return the index of the first occurrence of a value in an array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " find index of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "item",
                                "description": "The value to locate in the array.",
                                "type": "T"
                            },
                            {
                                "name": "fromIndex",
                                "description": "The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array.index"
                    },
                    "Array.get": {
                        "kind": -1,
                        "retType": "T",
                        "attributes": {
                            "paramDefl": {
                                "index": "0"
                            },
                            "help": "arrays/get",
                            "weight": 85,
                            "paramHelp": {
                                "index": "the zero-based position in the list of the item, eg: 0"
                            },
                            "jsDoc": "Get the value at a particular index"
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "the zero-based position in the list of the item, eg: 0",
                                "default": "0"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array.set": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "index": "0",
                                "the": "0"
                            },
                            "help": "arrays/set",
                            "weight": 84,
                            "paramHelp": {
                                "index": "the zero-based position in the list to store the value, eg: 0",
                                "the": "value to insert, eg: 0"
                            },
                            "jsDoc": "Store a value at a particular index"
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "the zero-based position in the list to store the value, eg: 0",
                                "default": "0"
                            },
                            {
                                "name": "value",
                                "type": "T"
                            }
                        ],
                        "isInstance": true
                    },
                    "Array._unshiftStatement": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/unshift",
                            "helper": "arrayUnshift",
                            "weight": 24,
                            "blockId": "array_unshift_statement",
                            "block": "%list| insert %value| at beginning",
                            "blockNamespace": "arrays",
                            "blockAliasFor": "Array.unshift",
                            "group": "Modify",
                            "paramHelp": {
                                "element": "to insert at the start of the Array."
                            },
                            "jsDoc": "Add one element to the beginning of an array and return the new length of the array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " insert ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " at beginning",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "type": "T"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array._unshift_statement"
                    },
                    "Array._popStatement": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/pop",
                            "weight": 44,
                            "blockId": "array_pop_statement",
                            "block": "remove last value from %list",
                            "blockNamespace": "arrays",
                            "blockAliasFor": "Array.pop",
                            "group": "Modify",
                            "jsDoc": "Remove the last element from an array and return it.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "remove last value from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Array._pop_statement"
                    },
                    "Array._shiftStatement": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/shift",
                            "helper": "arrayShift",
                            "weight": 29,
                            "blockId": "array_shift_statement",
                            "block": "remove first value from %list",
                            "blockNamespace": "arrays",
                            "blockAliasFor": "Array.shift",
                            "group": "Modify",
                            "jsDoc": "Remove the first element from an array and return it. This method changes the length of the array.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "remove first value from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Array._shift_statement"
                    },
                    "Array._removeAtStatement": {
                        "kind": -1,
                        "attributes": {
                            "help": "arrays/remove-at",
                            "weight": 14,
                            "blockId": "array_removeat_statement",
                            "block": "%list| remove value at %index",
                            "blockNamespace": "arrays",
                            "blockAliasFor": "Array.removeAt",
                            "group": "Modify",
                            "jsDoc": "Remove the element at a certain index.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " remove value at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "list",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Array._remove_at_statement"
                    },
                    "String": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "blockNamespace": "text",
                            "jsDoc": "Combine, split, and search text strings."
                        }
                    },
                    "String.concat": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "weight": 49,
                            "blockId": "string_concat",
                            "blockNamespace": "text",
                            "paramHelp": {
                                "other": "The string to append to the end of the string."
                            },
                            "jsDoc": "Returns a string that contains the concatenation of two or more strings."
                        },
                        "parameters": [
                            {
                                "name": "other",
                                "description": "The string to append to the end of the string.",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.charAt": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "weight": 48,
                            "help": "text/char-at",
                            "blockId": "string_get",
                            "block": "char from %this=text|at %pos",
                            "blockNamespace": "text",
                            "paramHelp": {
                                "index": "The zero-based index of the desired character."
                            },
                            "jsDoc": "Return the character at the specified index.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "char from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pos",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pos",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "The zero-based index of the desired character."
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "String.char_at"
                    },
                    "String.length": {
                        "kind": 2,
                        "retType": "number",
                        "attributes": {
                            "property": "true",
                            "weight": 47,
                            "blockId": "text_length",
                            "block": "length of %VALUE",
                            "blockBuiltin": "true",
                            "blockNamespace": "text",
                            "jsDoc": "Returns the length of a String object.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "length of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "VALUE",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "VALUE",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "isInstance": true
                    },
                    "String.charCodeAt": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "index": "The zero-based index of the desired character. If there is no character at the specified index, NaN is returned."
                            },
                            "jsDoc": "Return the Unicode value of the character at the specified location."
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "The zero-based index of the desired character. If there is no character at the specified index, NaN is returned."
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "String.char_code_at"
                    },
                    "String.compare": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "help": "text/compare",
                            "blockId": "string_compare",
                            "block": "compare %this=text| to %that",
                            "blockNamespace": "text",
                            "paramHelp": {
                                "that": "String to compare to target string"
                            },
                            "jsDoc": "See how the order of characters in two strings is different (in ASCII encoding).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "compare ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "that",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "that",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "that",
                                "description": "String to compare to target string",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.substr": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "paramDefl": {
                                "length": "10",
                                "start": "0"
                            },
                            "explicitDefaults": [
                                "length"
                            ],
                            "help": "text/substr",
                            "blockId": "string_substr",
                            "block": "substring of %this=text|from %start|of length %length",
                            "blockNamespace": "text",
                            "paramHelp": {
                                "start": "first character index; can be negative from counting from the end, eg:0",
                                "length": "number of characters to extract"
                            },
                            "jsDoc": "Return a substring of the current string.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "substring of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "of length ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "first character index; can be negative from counting from the end, eg:0",
                                "default": "0"
                            },
                            {
                                "name": "length",
                                "description": "number of characters to extract",
                                "initializer": "10",
                                "default": "10"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.replace": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "helper": "stringReplace",
                            "paramHelp": {
                                "toReplace": "the substring to replace in the current string",
                                "replacer": "either the string that replaces toReplace in the current string,"
                            },
                            "jsDoc": "Return the current string with the first occurence of toReplace\nreplaced with the replacer\n\n\nor a function that accepts the substring and returns the replacement string."
                        },
                        "parameters": [
                            {
                                "name": "toReplace",
                                "description": "the substring to replace in the current string",
                                "type": "string"
                            },
                            {
                                "name": "replacer",
                                "description": "either the string that replaces toReplace in the current string,",
                                "type": "string | ((sub: string) => string)"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.replaceAll": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "helper": "stringReplaceAll",
                            "paramHelp": {
                                "toReplace": "the substring to replace in the current string",
                                "replacer": "either the string that replaces toReplace in the current string,"
                            },
                            "jsDoc": "Return the current string with each occurence of toReplace\nreplaced with the replacer\n\n\nor a function that accepts the substring and returns the replacement string."
                        },
                        "parameters": [
                            {
                                "name": "toReplace",
                                "description": "the substring to replace in the current string",
                                "type": "string"
                            },
                            {
                                "name": "replacer",
                                "description": "either the string that replaces toReplace in the current string,",
                                "type": "string | ((sub: string) => string)"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "String.replace_all"
                    },
                    "String.slice": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "paramDefl": {
                                "start": "0"
                            },
                            "helper": "stringSlice",
                            "paramHelp": {
                                "start": "first character index; can be negative from counting from the end, eg:0",
                                "end": "one-past-last character index"
                            },
                            "jsDoc": "Return a substring of the current string."
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "first character index; can be negative from counting from the end, eg:0",
                                "default": "0"
                            },
                            {
                                "name": "end",
                                "description": "one-past-last character index",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.isEmpty": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "helper": "stringEmpty",
                            "blockId": "string_isempty",
                            "blockNamespace": "text",
                            "block": "%this=text| is empty",
                            "jsDoc": "Returns a value indicating if the string is empty",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " is empty",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "String.is_empty"
                    },
                    "String.indexOf": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "help": "text/index-of",
                            "blockId": "string_indexof",
                            "blockNamespace": "text",
                            "block": "%this=text|find index of %searchValue",
                            "paramHelp": {
                                "searchValue": "the text to find",
                                "start": "optional start index for the search"
                            },
                            "jsDoc": "Returns the position of the first occurrence of a specified value in a string.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "find index of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "searchValue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "searchValue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "searchValue",
                                "description": "the text to find",
                                "type": "string"
                            },
                            {
                                "name": "start",
                                "description": "optional start index for the search",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "String.index_of"
                    },
                    "String.includes": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "text/includes",
                            "blockId": "string_includes",
                            "blockNamespace": "text",
                            "block": "%this=text|includes %searchValue",
                            "paramHelp": {
                                "searchValue": "the text to find",
                                "start": "optional start index for the search"
                            },
                            "jsDoc": "Determines whether a string contains the characters of a specified string.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "includes ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "searchValue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "searchValue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "searchValue",
                                "description": "the text to find",
                                "type": "string"
                            },
                            {
                                "name": "start",
                                "description": "optional start index for the search",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.split": {
                        "kind": -1,
                        "retType": "string[]",
                        "attributes": {
                            "helper": "stringSplit",
                            "help": "text/split",
                            "blockId": "string_split",
                            "blockNamespace": "text",
                            "block": "split %this=text|at %separator",
                            "paramHelp": {
                                "separator": "@param limit"
                            },
                            "jsDoc": "Splits the string according to the separators",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "split ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "separator",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "this",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "separator",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "separator",
                                "description": "@param limit",
                                "type": "string",
                                "initializer": "undefined"
                            },
                            {
                                "name": "limit",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "String.trim": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Return a substring of the current string with whitespace removed from both ends"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "String.toLowerCase": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "helper": "stringToLowerCase",
                            "help": "text/to-lower-case",
                            "jsDoc": "Converts the string to lower case characters."
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "String.to_lower_case"
                    },
                    "parseFloat": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "text": "123",
                                "s": "123"
                            },
                            "help": "text/parse-float",
                            "blockId": "string_parsefloat",
                            "block": "parse to number %text",
                            "blockNamespace": "text",
                            "explicitDefaults": [
                                "text"
                            ],
                            "paramHelp": {
                                "s": "A string to convert into a number. eg: 123"
                            },
                            "jsDoc": "Convert a string to a number.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "parse to number ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string",
                                "initializer": "123",
                                "default": "123"
                            }
                        ],
                        "pyQName": "parse_float"
                    },
                    "randint": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "min": "0",
                                "max": "10"
                            },
                            "blockId": "device_random",
                            "block": "pick random %min|to %limit",
                            "blockNamespace": "Math",
                            "help": "math/randint",
                            "paramHelp": {
                                "min": "the lower inclusive bound, eg: 0",
                                "max": "the upper inclusive bound, eg: 10"
                            },
                            "jsDoc": "Returns a pseudorandom number between min and max included.\nIf both numbers are integral, the result is integral.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pick random ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "min",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "limit",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "min",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "limit",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "min",
                                "description": "the lower inclusive bound, eg: 0",
                                "default": "0"
                            },
                            {
                                "name": "max",
                                "description": "the upper inclusive bound, eg: 10",
                                "default": "10"
                            }
                        ]
                    },
                    "Object": {
                        "kind": 5,
                        "retType": ""
                    },
                    "Function": {
                        "kind": 9,
                        "retType": "Function",
                        "extendsTypes": []
                    },
                    "IArguments": {
                        "kind": 9,
                        "retType": "IArguments",
                        "extendsTypes": []
                    },
                    "RegExp": {
                        "kind": 9,
                        "retType": "RegExp",
                        "extendsTypes": []
                    },
                    "Boolean": {
                        "kind": 9,
                        "retType": "Boolean",
                        "extendsTypes": []
                    },
                    "Boolean.toString": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Returns a string representation of an object."
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Boolean.to_string"
                    },
                    "String@type": {
                        "kind": 9,
                        "retType": "String",
                        "attributes": {
                            "blockNamespace": "text",
                            "jsDoc": "Combine, split, and search text strings."
                        },
                        "extendsTypes": [],
                        "pyQName": "String"
                    },
                    "String.fromCharCode": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "help": "math/from-char-code",
                            "weight": 1,
                            "blockNamespace": "text",
                            "blockId": "stringFromCharCode",
                            "block": "text from char code %code",
                            "jsDoc": "Make a string from the given ASCII character code.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "text from char code ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "code"
                            }
                        ],
                        "pyQName": "String.from_char_code"
                    },
                    "Number": {
                        "kind": 5,
                        "retType": "",
                        "extendsTypes": [
                            "Number"
                        ]
                    },
                    "Number.toString": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Returns a string representation of a number."
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Number.to_string"
                    },
                    "Array@type": {
                        "kind": 9,
                        "retType": "T[]",
                        "attributes": {
                            "blockNamespace": "Arrays",
                            "jsDoc": "Add, remove, and replace items in lists."
                        },
                        "extendsTypes": [],
                        "pyQName": "Array"
                    },
                    "Array.isArray": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Check if a given object is an array."
                        },
                        "parameters": [
                            {
                                "name": "obj",
                                "type": "any"
                            }
                        ],
                        "pyQName": "Array.is_array"
                    },
                    "Object@type": {
                        "kind": 9,
                        "retType": "Object",
                        "extendsTypes": [],
                        "pyQName": "Object"
                    },
                    "Object.keys": {
                        "kind": -3,
                        "retType": "string[]",
                        "attributes": {
                            "jsDoc": "Return the field names in an object."
                        },
                        "parameters": [
                            {
                                "name": "obj",
                                "type": "any"
                            }
                        ]
                    },
                    "Math": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "jsDoc": "More complex operations with numbers."
                        }
                    },
                    "Math.pow": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "The base value of the expression.",
                                "y": "The exponent value of the expression."
                            },
                            "jsDoc": "Returns the value of a base expression taken to a specified power."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "The base value of the expression."
                            },
                            {
                                "name": "y",
                                "description": "The exponent value of the expression."
                            }
                        ]
                    },
                    "Math.random": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/random",
                            "jsDoc": "Returns a pseudorandom number between 0 and 1."
                        },
                        "parameters": []
                    },
                    "Math.randomRange": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "min": "0",
                                "max": "10"
                            },
                            "blockId": "device_random_deprecated",
                            "block": "pick random %min|to %limit",
                            "help": "math/random-range",
                            "deprecated": "true",
                            "paramHelp": {
                                "min": "the lower inclusive bound, eg: 0",
                                "max": "the upper inclusive bound, eg: 10"
                            },
                            "jsDoc": "Returns a pseudorandom number between min and max included.\nIf both numbers are integral, the result is integral.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pick random ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "min",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "limit",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "min",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "limit",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "min",
                                "description": "the lower inclusive bound, eg: 0",
                                "default": "0"
                            },
                            {
                                "name": "max",
                                "description": "the upper inclusive bound, eg: 10",
                                "default": "10"
                            }
                        ],
                        "pyQName": "Math.random_range"
                    },
                    "Math.log": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A number"
                            },
                            "jsDoc": "Returns the natural logarithm (base e) of a number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.exp": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A number"
                            },
                            "jsDoc": "Returns returns ``e^x``."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.sin": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/trigonometry",
                            "paramHelp": {
                                "x": "An angle in radians"
                            },
                            "jsDoc": "Returns the sine of a number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "An angle in radians"
                            }
                        ]
                    },
                    "Math.cos": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/trigonometry",
                            "paramHelp": {
                                "x": "An angle in radians"
                            },
                            "jsDoc": "Returns the cosine of a number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "An angle in radians"
                            }
                        ]
                    },
                    "Math.tan": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "An angle in radians"
                            },
                            "jsDoc": "Returns the tangent of a number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "An angle in radians"
                            }
                        ]
                    },
                    "Math.asin": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A number"
                            },
                            "jsDoc": "Returns the arcsine (in radians) of a number"
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.acos": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A number"
                            },
                            "jsDoc": "Returns the arccosine (in radians) of a number"
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.atan": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A number"
                            },
                            "jsDoc": "Returns the arctangent (in radians) of a number"
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.atan2": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "y": "A number",
                                "x": "A number"
                            },
                            "jsDoc": "Returns the arctangent of the quotient of its arguments."
                        },
                        "parameters": [
                            {
                                "name": "y",
                                "description": "A number"
                            },
                            {
                                "name": "x",
                                "description": "A number"
                            }
                        ]
                    },
                    "Math.sqrt": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "A numeric expression."
                            },
                            "jsDoc": "Returns the square root of a number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A numeric expression."
                            }
                        ]
                    },
                    "Math.ceil": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math",
                            "paramHelp": {
                                "x": "A numeric expression."
                            },
                            "jsDoc": "Returns the smallest number greater than or equal to its numeric argument."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A numeric expression."
                            }
                        ]
                    },
                    "Math.floor": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math",
                            "paramHelp": {
                                "x": "A numeric expression."
                            },
                            "jsDoc": "Returns the greatest number less than or equal to its numeric argument."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A numeric expression."
                            }
                        ]
                    },
                    "Math.trunc": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math",
                            "paramHelp": {
                                "x": "A numeric expression."
                            },
                            "jsDoc": "Returns the number with the decimal part truncated."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A numeric expression."
                            }
                        ],
                        "pyQName": "int"
                    },
                    "Math.round": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math",
                            "paramHelp": {
                                "x": "The value to be rounded to the nearest number."
                            },
                            "jsDoc": "Returns a supplied numeric expression rounded to the nearest number."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "The value to be rounded to the nearest number."
                            }
                        ]
                    },
                    "Math.imul": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "The first number",
                                "y": "The second number"
                            },
                            "jsDoc": "Returns the value of integer signed 32 bit multiplication of two numbers."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "The first number"
                            },
                            {
                                "name": "y",
                                "description": "The second number"
                            }
                        ]
                    },
                    "Math.idiv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "The first number",
                                "y": "The second number"
                            },
                            "jsDoc": "Returns the value of integer signed 32 bit division of two numbers."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "The first number"
                            },
                            {
                                "name": "y",
                                "description": "The second number"
                            }
                        ]
                    },
                    "control": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#00b295",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Program controls and events."
                        }
                    },
                    "control._onCodeStart": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "arg",
                                "type": "any"
                            }
                        ],
                        "pyQName": "control._on_code_start"
                    },
                    "control._onCodeStop": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "arg",
                                "type": "any"
                            }
                        ],
                        "pyQName": "control._on_code_stop"
                    },
                    "NaN": {
                        "kind": 4,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Constant representing Not-A-Number."
                        },
                        "pyQName": "na_n"
                    },
                    "Infinity": {
                        "kind": 4,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Constant representing positive infinity."
                        },
                        "pyQName": "infinity"
                    },
                    "isNaN": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "x"
                            }
                        ],
                        "pyQName": "is_na_n"
                    },
                    "Number@type": {
                        "kind": 9,
                        "retType": "Number",
                        "extendsTypes": [],
                        "pyQName": "Number"
                    },
                    "Number.isNaN": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Check if a given value is of type Number and it is a NaN."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "type": "any"
                            }
                        ],
                        "pyQName": "Number.is_na_n"
                    },
                    "StringMap": {
                        "kind": 9,
                        "retType": "StringMap",
                        "attributes": {
                            "jsDoc": "A dictionary from string key to string values"
                        },
                        "extendsTypes": []
                    },
                    "parseInt": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "text": "123"
                            },
                            "help": "text/parse-int",
                            "blockId": "string_parseint",
                            "block": "parse to integer %text",
                            "blockNamespace": "text",
                            "explicitDefaults": [
                                "text"
                            ],
                            "blockHidden": true,
                            "paramHelp": {
                                "text": "A string to convert into an integral number. eg: \"123\"",
                                "radix": "optional A value between 2 and 36 that specifies the base of the number in text."
                            },
                            "jsDoc": "Convert a string to an integer.\n\n\nIf this argument is not supplied, strings with a prefix of '0x' are considered hexadecimal.\nAll other strings are considered decimal.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "parse to integer ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "description": "A string to convert into an integral number. eg: \"123\"",
                                "type": "string",
                                "initializer": "123",
                                "default": "123"
                            },
                            {
                                "name": "radix",
                                "description": "optional A value between 2 and 36 that specifies the base of the number in text.",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "int"
                    },
                    "helpers": {
                        "kind": 5,
                        "retType": ""
                    },
                    "helpers.arrayFill": {
                        "kind": -3,
                        "retType": "T[]",
                        "parameters": [
                            {
                                "name": "O",
                                "type": "T[]"
                            },
                            {
                                "name": "value",
                                "type": "T"
                            },
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "end",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "helpers.array_fill"
                    },
                    "helpers.arraySplice": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "len"
                            }
                        ],
                        "pyQName": "helpers.array_splice"
                    },
                    "helpers.arrayReverse": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            }
                        ],
                        "pyQName": "helpers.array_reverse"
                    },
                    "helpers.arrayShift": {
                        "kind": -3,
                        "retType": "T",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            }
                        ],
                        "pyQName": "helpers.array_shift"
                    },
                    "helpers.arrayJoin": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "sep",
                                "type": "string",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "helpers.array_join"
                    },
                    "helpers.arrayUnshift": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "value",
                                "type": "T"
                            }
                        ],
                        "pyQName": "helpers.array_unshift"
                    },
                    "helpers.arraySort": {
                        "kind": -3,
                        "retType": "T[]",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value1: T, value2: T) => number",
                                "initializer": "undefined",
                                "handlerParameters": [
                                    {
                                        "name": "value1",
                                        "type": "T"
                                    },
                                    {
                                        "name": "value2",
                                        "type": "T"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_sort"
                    },
                    "helpers.arrayMap": {
                        "kind": -3,
                        "retType": "U[]",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => U",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_map"
                    },
                    "helpers.arraySome": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_some"
                    },
                    "helpers.arrayEvery": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_every"
                    },
                    "helpers.arrayForEach": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => void",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_for_each"
                    },
                    "helpers.arrayFilter": {
                        "kind": -3,
                        "retType": "T[]",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_filter"
                    },
                    "helpers.arrayFind": {
                        "kind": -3,
                        "retType": "T",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(value: T, index: number) => boolean",
                                "handlerParameters": [
                                    {
                                        "name": "value",
                                        "type": "T"
                                    },
                                    {
                                        "name": "index",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "helpers.array_find"
                    },
                    "helpers.arrayReduce": {
                        "kind": -3,
                        "retType": "U",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "callbackfn",
                                "type": "(previousValue: U, currentValue: T, currentIndex: number) => U",
                                "handlerParameters": [
                                    {
                                        "name": "previousValue",
                                        "type": "U"
                                    },
                                    {
                                        "name": "currentValue",
                                        "type": "T"
                                    },
                                    {
                                        "name": "currentIndex",
                                        "type": "number"
                                    }
                                ]
                            },
                            {
                                "name": "initialValue",
                                "type": "U"
                            }
                        ],
                        "pyQName": "helpers.array_reduce"
                    },
                    "helpers.arrayConcat": {
                        "kind": -3,
                        "retType": "T[]",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "otherArr",
                                "type": "T[]"
                            }
                        ],
                        "pyQName": "helpers.array_concat"
                    },
                    "helpers.arraySlice": {
                        "kind": -3,
                        "retType": "T[]",
                        "parameters": [
                            {
                                "name": "arr",
                                "type": "T[]"
                            },
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "end",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "helpers.array_slice"
                    },
                    "helpers.stringReplace": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            },
                            {
                                "name": "toReplace",
                                "type": "string"
                            },
                            {
                                "name": "replacer",
                                "type": "string | ((sub: string) => string)"
                            }
                        ],
                        "pyQName": "helpers.string_replace"
                    },
                    "helpers.stringReplaceAll": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            },
                            {
                                "name": "toReplace",
                                "type": "string"
                            },
                            {
                                "name": "replacer",
                                "type": "string | ((sub: string) => string)"
                            }
                        ],
                        "pyQName": "helpers.string_replace_all"
                    },
                    "helpers.stringSlice": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "end",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "helpers.string_slice"
                    },
                    "helpers.stringToLowerCase": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            }
                        ],
                        "pyQName": "helpers.string_to_lower_case"
                    },
                    "helpers.stringSplit": {
                        "kind": -3,
                        "retType": "string[]",
                        "parameters": [
                            {
                                "name": "S",
                                "type": "string"
                            },
                            {
                                "name": "separator",
                                "type": "string",
                                "initializer": "undefined"
                            },
                            {
                                "name": "limit",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "helpers.string_split"
                    },
                    "helpers.stringTrim": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            }
                        ],
                        "pyQName": "helpers.string_trim"
                    },
                    "helpers.isWhitespace": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "c"
                            }
                        ],
                        "pyQName": "helpers.is_whitespace"
                    },
                    "helpers.stringEmpty": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "S",
                                "type": "string"
                            }
                        ],
                        "pyQName": "helpers.string_empty"
                    },
                    "Math.clamp": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "min"
                            },
                            {
                                "name": "max"
                            },
                            {
                                "name": "value"
                            }
                        ]
                    },
                    "Math.abs": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/abs",
                            "paramHelp": {
                                "x": "A numeric expression for which the absolute value is needed."
                            },
                            "jsDoc": "Returns the absolute value of a number (the value without regard to whether it is positive or negative).\nFor example, the absolute value of -5 is the same as the absolute value of 5."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "A numeric expression for which the absolute value is needed."
                            }
                        ],
                        "pyQName": "abs"
                    },
                    "Math.sign": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "The numeric expression to test"
                            },
                            "jsDoc": "Returns the sign of the x, indicating whether x is positive, negative or zero."
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "The numeric expression to test"
                            }
                        ]
                    },
                    "Math.max": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/max",
                            "jsDoc": "Returns the larger of two supplied numeric expressions."
                        },
                        "parameters": [
                            {
                                "name": "a"
                            },
                            {
                                "name": "b"
                            }
                        ],
                        "pyQName": "max"
                    },
                    "Math.min": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/min",
                            "jsDoc": "Returns the smaller of two supplied numeric expressions."
                        },
                        "parameters": [
                            {
                                "name": "a"
                            },
                            {
                                "name": "b"
                            }
                        ],
                        "pyQName": "min"
                    },
                    "Math.roundWithPrecision": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "x": "the number to round",
                                "digits": "the number of resulting digits"
                            },
                            "jsDoc": "Rounds ``x`` to a number with the given number of ``digits``"
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "the number to round"
                            },
                            {
                                "name": "digits",
                                "description": "the number of resulting digits"
                            }
                        ],
                        "pyQName": "Math.round_with_precision"
                    },
                    "__internal": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "blockHidden": true
                        }
                    },
                    "__internal.__downUp": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleDownUp",
                            "block": "%down",
                            "paramFieldEditor": {
                                "down": "toggledownup"
                            },
                            "paramFieldEditorOptions": {
                                "down": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a down/up toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "down",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "down",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__upDown": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleUpDown",
                            "block": "%up",
                            "paramFieldEditor": {
                                "up": "toggleupdown"
                            },
                            "paramFieldEditorOptions": {
                                "up": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a up/down toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "up",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "up",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "up",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__highLow": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleHighLow",
                            "block": "%high",
                            "paramFieldEditor": {
                                "high": "togglehighlow"
                            },
                            "paramFieldEditorOptions": {
                                "high": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a high/low toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "high",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__onOff": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleOnOff",
                            "block": "%on",
                            "paramFieldEditor": {
                                "on": "toggleonoff"
                            },
                            "paramFieldEditorOptions": {
                                "on": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a on/off toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "on",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__yesNo": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleYesNo",
                            "block": "%yes",
                            "paramFieldEditor": {
                                "yes": "toggleyesno"
                            },
                            "paramFieldEditorOptions": {
                                "yes": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a yes/no toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "yes",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "yes",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "yes",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__winLose": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "shim": "TD_ID",
                            "blockHidden": true,
                            "blockId": "toggleWinLose",
                            "block": "%win",
                            "paramFieldEditor": {
                                "win": "togglewinlose"
                            },
                            "paramFieldEditorOptions": {
                                "win": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "jsDoc": "A shim to render a boolean as a win/lose toggle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "win",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "win",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "win",
                                "type": "boolean"
                            }
                        ]
                    },
                    "__internal.__colorNumberPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "value": "#ff0000",
                                "color": "#ff0000"
                            },
                            "blockId": "colorNumberPicker",
                            "block": "%value",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "value": "colornumber"
                            },
                            "paramFieldEditorOptions": {
                                "value": {
                                    "decompileLiterals": "true",
                                    "colours": "[\"#ff0000\",\"#ff8000\",\"#ffff00\",\"#ff9da5\",\"#00ff00\",\"#b09eff\",\"#00ffff\",\"#007fff\",\"#65471f\",\"#0000ff\",\"#7f00ff\",\"#ff0080\",\"#ff00ff\",\"#ffffff\",\"#999999\",\"#000000\"]",
                                    "columns": "4",
                                    "className": "rgbColorPicker"
                                }
                            },
                            "explicitDefaults": [
                                "value"
                            ],
                            "paramHelp": {
                                "color": "color, eg: #ff0000"
                            },
                            "jsDoc": "Get the color wheel field editor",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "initializer": "#ff0000",
                                "default": "#ff0000"
                            }
                        ]
                    },
                    "__internal.__colorWheelPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "value": "10"
                            },
                            "blockId": "colorWheelPicker",
                            "block": "%value",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "value": "colorwheel"
                            },
                            "paramFieldEditorOptions": {
                                "value": {
                                    "decompileLiterals": "true",
                                    "sliderWidth": "200",
                                    "min": "0",
                                    "max": "255"
                                }
                            },
                            "paramHelp": {
                                "value": "value between 0 to 255 to get a color value, eg: 10"
                            },
                            "jsDoc": "Get the color wheel field editor",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value between 0 to 255 to get a color value, eg: 10",
                                "default": "10"
                            }
                        ]
                    },
                    "__internal.__colorWheelHsvPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "value": "10"
                            },
                            "blockId": "colorWheelHsvPicker",
                            "block": "%value",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "value": "colorwheel"
                            },
                            "paramFieldEditorOptions": {
                                "value": {
                                    "decompileLiterals": "true",
                                    "sliderWidth": "200",
                                    "min": "0",
                                    "max": "255",
                                    "channel": "hsvfast"
                                }
                            },
                            "paramHelp": {
                                "value": "value between 0 to 255 to get a color value, eg: 10"
                            },
                            "jsDoc": "Get the color wheel field editor using HSV values",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value between 0 to 255 to get a color value, eg: 10",
                                "default": "10"
                            }
                        ]
                    },
                    "__internal.__speedPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "speed": "50"
                            },
                            "blockId": "speedPicker",
                            "block": "%speed",
                            "shim": "TD_ID",
                            "paramFieldEditor": {
                                "speed": "speed"
                            },
                            "colorSecondary": "#FFFFFF",
                            "weight": 0,
                            "blockHidden": true,
                            "paramFieldEditorOptions": {
                                "speed": {
                                    "decompileLiterals": "1"
                                }
                            },
                            "paramHelp": {
                                "speed": "the speed, eg: 50"
                            },
                            "jsDoc": "A speed picker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "speed",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "speed",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "speed",
                                "description": "the speed, eg: 50",
                                "default": "50"
                            }
                        ]
                    },
                    "__internal.__turnRatioPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "turnratio": "0"
                            },
                            "blockId": "turnRatioPicker",
                            "block": "%turnratio",
                            "shim": "TD_ID",
                            "paramFieldEditor": {
                                "turnratio": "turnratio"
                            },
                            "colorSecondary": "#FFFFFF",
                            "weight": 0,
                            "blockHidden": true,
                            "paramFieldEditorOptions": {
                                "turnRatio": {
                                    "decompileLiterals": "1"
                                }
                            },
                            "paramHelp": {
                                "turnratio": "the turn ratio, eg: 0"
                            },
                            "jsDoc": "A turn ratio picker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "turnratio",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "turnratio",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "turnratio",
                                "description": "the turn ratio, eg: 0",
                                "default": "0"
                            }
                        ]
                    },
                    "__internal.__protractor": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "protractorPicker",
                            "block": "%angle",
                            "shim": "TD_ID",
                            "paramFieldEditor": {
                                "angle": "protractor"
                            },
                            "paramFieldEditorOptions": {
                                "angle": {
                                    "decompileLiterals": "1"
                                }
                            },
                            "colorSecondary": "#FFFFFF",
                            "blockHidden": true,
                            "jsDoc": "A field editor that displays a protractor",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "angle",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "angle",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "angle"
                            }
                        ]
                    },
                    "__internal.__timePicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "ms": "500"
                            },
                            "blockId": "timePicker",
                            "block": "%ms",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "ms": "numberdropdown"
                            },
                            "paramFieldEditorOptions": {
                                "ms": {
                                    "decompileLiterals": "true",
                                    "data": "[[\"100 ms\", 100], [\"200 ms\", 200], [\"500 ms\", 500], [\"1 second\", 1000], [\"2 seconds\", 2000], [\"5 seconds\", 5000]]"
                                }
                            },
                            "paramHelp": {
                                "ms": "time duration in milliseconds, eg: 500, 1000"
                            },
                            "jsDoc": "Get the time field editor",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "ms",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "ms",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ms",
                                "description": "time duration in milliseconds, eg: 500, 1000",
                                "default": "500"
                            }
                        ]
                    },
                    "Fx8": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "v"
                            }
                        ],
                        "pyQName": "fx8"
                    },
                    "Fx8._dummyFx8": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true,
                        "pyQName": "fx8._dummy_fx8"
                    },
                    "Fx8@type": {
                        "kind": 9,
                        "retType": "Fx8",
                        "extendsTypes": [],
                        "pyQName": "Fx8"
                    },
                    "Fx": {
                        "kind": 5,
                        "retType": ""
                    },
                    "Fx.zeroFx8": {
                        "kind": 4,
                        "retType": "Fx8",
                        "pyQName": "Fx.zero_fx8"
                    },
                    "Fx.oneHalfFx8": {
                        "kind": 4,
                        "retType": "Fx8",
                        "pyQName": "Fx.one_half_fx8"
                    },
                    "Fx.oneFx8": {
                        "kind": 4,
                        "retType": "Fx8",
                        "pyQName": "Fx.one_fx8"
                    },
                    "Fx.twoFx8": {
                        "kind": 4,
                        "retType": "Fx8",
                        "pyQName": "Fx.two_fx8"
                    },
                    "Fx.neg": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.toIntShifted": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "Fx.to_int_shifted"
                    },
                    "Fx.add": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.iadd": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.sub": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.mul": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.imul": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b"
                            }
                        ]
                    },
                    "Fx.div": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.idiv": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b"
                            }
                        ]
                    },
                    "Fx.compare": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.abs": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.min": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.max": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "b",
                                "type": "Fx8"
                            }
                        ]
                    },
                    "Fx.leftShift": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "Fx.left_shift"
                    },
                    "Fx.rightShift": {
                        "kind": -3,
                        "retType": "Fx8",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Fx8"
                            },
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "Fx.right_shift"
                    },
                    "Fx.toInt": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "v",
                                "type": "Fx8"
                            }
                        ],
                        "pyQName": "Fx.to_int"
                    },
                    "Fx.toFloat": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "v",
                                "type": "Fx8"
                            }
                        ],
                        "pyQName": "Fx.to_float"
                    },
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#EF2D56",
                            "weight": 85,
                            "icon": "",
                            "advanced": false,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ..."
                        }
                    },
                    "pins.sizeOf": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Get the size in bytes of specified number format."
                        },
                        "parameters": [
                            {
                                "name": "format",
                                "type": "NumberFormat",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "pins.size_of"
                    },
                    "pins.createBufferFromArray": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "bytes": "data to initalize with"
                            },
                            "jsDoc": "Create a new buffer initalized to bytes from given array."
                        },
                        "parameters": [
                            {
                                "name": "bytes",
                                "description": "data to initalize with",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "bytes"
                    },
                    "pins.packedSize": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "format",
                                "type": "string"
                            }
                        ],
                        "pyQName": "pins.packed_size"
                    },
                    "pins.packBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "format",
                                "type": "string"
                            },
                            {
                                "name": "nums",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "pins.pack_buffer"
                    },
                    "pins.packIntoBuffer": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "format",
                                "type": "string"
                            },
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "offset"
                            },
                            {
                                "name": "nums",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "pins.pack_into_buffer"
                    },
                    "pins.unpackBuffer": {
                        "kind": -3,
                        "retType": "number[]",
                        "parameters": [
                            {
                                "name": "format",
                                "type": "string"
                            },
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "offset",
                                "initializer": "0"
                            }
                        ],
                        "pyQName": "pins.unpack_buffer"
                    },
                    "pins.concatBuffers": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "bufs",
                                "type": "Buffer[]"
                            }
                        ],
                        "pyQName": "pins.concat_buffers"
                    },
                    "msgpack": {
                        "kind": 5,
                        "retType": ""
                    },
                    "msgpack.unpackNumberArray": {
                        "kind": -3,
                        "retType": "number[]",
                        "attributes": {
                            "jsDoc": "Unpacks a buffer into a number array."
                        },
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "offset",
                                "initializer": "0"
                            }
                        ],
                        "pyQName": "msgpack.unpack_number_array"
                    },
                    "msgpack.packNumberArray": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "nums": "the numbers to be packed"
                            },
                            "jsDoc": "Pack a number array into a buffer."
                        },
                        "parameters": [
                            {
                                "name": "nums",
                                "description": "the numbers to be packed",
                                "type": "number[]"
                            }
                        ],
                        "pyQName": "msgpack.pack_number_array"
                    },
                    "helpers.bufferConcat": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Buffer"
                            },
                            {
                                "name": "b",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "helpers.buffer_concat"
                    },
                    "helpers.bufferIndexOf": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "a",
                                "type": "Buffer"
                            },
                            {
                                "name": "b",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "helpers.buffer_index_of"
                    },
                    "Buffer": {
                        "kind": 9,
                        "retType": "Buffer",
                        "attributes": {
                            "indexerGet": "BufferMethods::getByte",
                            "indexerSet": "BufferMethods::setByte"
                        },
                        "extendsTypes": []
                    },
                    "Buffer.concat": {
                        "kind": -1,
                        "retType": "Buffer",
                        "attributes": {
                            "helper": "bufferConcat",
                            "jsDoc": "Return concatenation of current buffer and the given buffer"
                        },
                        "parameters": [
                            {
                                "name": "other",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "Buffer.indexOf": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "helper": "bufferIndexOf",
                            "jsDoc": "Return position of other buffer in current buffer"
                        },
                        "parameters": [
                            {
                                "name": "other",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Buffer.index_of"
                    },
                    "Buffer.getUint8": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Reads an unsigned byte at a particular location"
                        },
                        "parameters": [
                            {
                                "name": "off"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Buffer.get_uint8"
                    },
                    "Buffer.isReadOnly": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Returns false when the buffer can be written to."
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Buffer.is_read_only"
                    },
                    "Buffer.setUint8": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Writes an unsigned byte at a particular location"
                        },
                        "parameters": [
                            {
                                "name": "off"
                            },
                            {
                                "name": "v"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Buffer.set_uint8"
                    },
                    "Buffer.setNumber": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Write a number in specified format in the buffer."
                        },
                        "parameters": [
                            {
                                "name": "format",
                                "type": "NumberFormat",
                                "isEnum": true
                            },
                            {
                                "name": "offset"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Buffer.set_number"
                    },
                    "Buffer.getNumber": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Read a number in specified format from the buffer."
                        },
                        "parameters": [
                            {
                                "name": "format",
                                "type": "NumberFormat",
                                "isEnum": true
                            },
                            {
                                "name": "offset"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "Buffer.get_number"
                    },
                    "Buffer.length": {
                        "kind": 2,
                        "retType": "number",
                        "attributes": {
                            "property": "true",
                            "jsDoc": "Returns the length of a Buffer object."
                        },
                        "isInstance": true
                    },
                    "Buffer.fill": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "offset": "0",
                                "length": "-1"
                            },
                            "explicitDefaults": [
                                "offset",
                                "length"
                            ],
                            "jsDoc": "Fill (a fragment) of the buffer with given value."
                        },
                        "parameters": [
                            {
                                "name": "value"
                            },
                            {
                                "name": "offset",
                                "initializer": "0",
                                "default": "0"
                            },
                            {
                                "name": "length",
                                "initializer": "-1",
                                "default": "-1"
                            }
                        ],
                        "isInstance": true
                    },
                    "Buffer.slice": {
                        "kind": -1,
                        "retType": "Buffer",
                        "attributes": {
                            "paramDefl": {
                                "offset": "0",
                                "length": "-1"
                            },
                            "explicitDefaults": [
                                "offset",
                                "length"
                            ],
                            "jsDoc": "Return a copy of a fragment of a buffer."
                        },
                        "parameters": [
                            {
                                "name": "offset",
                                "initializer": "0",
                                "default": "0"
                            },
                            {
                                "name": "length",
                                "initializer": "-1",
                                "default": "-1"
                            }
                        ],
                        "isInstance": true
                    },
                    "Buffer.shift": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "start": "0",
                                "length": "-1"
                            },
                            "explicitDefaults": [
                                "start",
                                "length"
                            ],
                            "paramHelp": {
                                "offset": "number of bytes to shift; use negative value to shift right",
                                "start": "start offset in buffer. Default is 0.",
                                "length": "number of elements in buffer. If negative, length is set as the buffer length minus"
                            },
                            "jsDoc": "Shift buffer left in place, with zero padding.\n\n\n\nstart. eg: -1"
                        },
                        "parameters": [
                            {
                                "name": "offset",
                                "description": "number of bytes to shift; use negative value to shift right"
                            },
                            {
                                "name": "start",
                                "description": "start offset in buffer. Default is 0.",
                                "initializer": "0",
                                "default": "0"
                            },
                            {
                                "name": "length",
                                "description": "number of elements in buffer. If negative, length is set as the buffer length minus",
                                "initializer": "-1",
                                "default": "-1"
                            }
                        ],
                        "isInstance": true
                    },
                    "Buffer.toString": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Convert a buffer to string assuming UTF8 encoding"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Buffer.to_string"
                    },
                    "Buffer.toHex": {
                        "kind": -1,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Convert a buffer to its hexadecimal representation."
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "Buffer.to_hex"
                    },
                    "Buffer.rotate": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "start": "0",
                                "length": "-1"
                            },
                            "explicitDefaults": [
                                "start",
                                "length"
                            ],
                            "paramHelp": {
                                "offset": "number of bytes to shift; use negative value to shift right",
                                "start": "start offset in buffer. Default is 0.",
                                "length": "number of elements in buffer. If negative, length is set as the buffer length minus"
                            },
                            "jsDoc": "Rotate buffer left in place.\n\n\n\nstart. eg: -1"
                        },
                        "parameters": [
                            {
                                "name": "offset",
                                "description": "number of bytes to shift; use negative value to shift right"
                            },
                            {
                                "name": "start",
                                "description": "start offset in buffer. Default is 0.",
                                "initializer": "0",
                                "default": "0"
                            },
                            {
                                "name": "length",
                                "description": "number of elements in buffer. If negative, length is set as the buffer length minus",
                                "initializer": "-1",
                                "default": "-1"
                            }
                        ],
                        "isInstance": true
                    },
                    "Buffer.write": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Write contents of `src` at `dstOffset` in current buffer."
                        },
                        "parameters": [
                            {
                                "name": "dstOffset"
                            },
                            {
                                "name": "src",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "control.createBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "size": "number of bytes in the buffer"
                            },
                            "jsDoc": "Create a new zero-initialized buffer."
                        },
                        "parameters": [
                            {
                                "name": "size",
                                "description": "number of bytes in the buffer"
                            }
                        ],
                        "pyQName": "bytearray"
                    },
                    "control.createBufferFromUTF8": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "str": "the string to put in the buffer"
                            },
                            "jsDoc": "Create a new buffer with UTF8-encoded string"
                        },
                        "parameters": [
                            {
                                "name": "str",
                                "description": "the string to put in the buffer",
                                "type": "string"
                            }
                        ],
                        "pyQName": "control.create_buffer_from_utf8"
                    },
                    "loops": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#40bf4a"
                        }
                    },
                    "loops.forever": {
                        "kind": -3,
                        "attributes": {
                            "help": "loops/forever",
                            "weight": 100,
                            "afterOnStart": true,
                            "deprecated": "true",
                            "blockId": "forever_deprecated",
                            "block": "forever",
                            "blockAllowMultiple": "1",
                            "paramHelp": {
                                "body": "code to execute"
                            },
                            "jsDoc": "Repeats the code forever in the background. On each iteration, allows other codes to run.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "forever",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "a",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ]
                    },
                    "loops.pause": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "ms": "100"
                            },
                            "callingConvention": 1,
                            "help": "loops/pause",
                            "weight": 99,
                            "deprecated": "true",
                            "async": "true",
                            "block": "pause %pause=timePicker|ms",
                            "blockId": "device_pause_deprecated",
                            "paramHelp": {
                                "ms": "how long to pause for, eg: 100, 200, 500, 1000, 2000"
                            },
                            "jsDoc": "Pause for the specified time in milliseconds",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pause ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pause",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pause",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ms",
                                "description": "how long to pause for, eg: 100, 200, 500, 1000, 2000",
                                "default": "100"
                            }
                        ]
                    },
                    "control.millis": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "control/millis",
                            "weight": 50,
                            "blockId": "control_running_time",
                            "block": "millis (ms)",
                            "jsDoc": "Gets the number of milliseconds elapsed since power on.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "millis (ms)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "control.micros": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Gets current time in microseconds. Overflows every ~18 minutes."
                        },
                        "parameters": []
                    },
                    "control.internalOnEvent": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "flags": "16"
                            },
                            "explicitDefaults": [
                                "flags"
                            ],
                            "jsDoc": "Used internally"
                        },
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value"
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "flags",
                                "initializer": "16",
                                "default": "16"
                            }
                        ],
                        "pyQName": "control.internal_on_event"
                    },
                    "control.reset": {
                        "kind": -3,
                        "attributes": {
                            "callingConvention": 1,
                            "weight": 30,
                            "async": "true",
                            "help": "control/reset",
                            "blockGap": "8",
                            "blockId": "control_reset",
                            "block": "reset",
                            "jsDoc": "Reset the device.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "reset",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "control.waitMicros": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "micros": "4"
                            },
                            "callingConvention": 1,
                            "help": "control/wait-micros",
                            "weight": 29,
                            "async": "true",
                            "blockId": "control_wait_us",
                            "block": "wait (s)%micros",
                            "paramHelp": {
                                "micros": "number of micro-seconds to wait. eg: 4"
                            },
                            "jsDoc": "Block the current fiber for the given microseconds",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "wait (s)",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "micros",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "micros",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "micros",
                                "description": "number of micro-seconds to wait. eg: 4",
                                "default": "4"
                            }
                        ],
                        "pyQName": "control.wait_micros"
                    },
                    "control.runInParallel": {
                        "kind": -3,
                        "attributes": {
                            "help": "control/run-in-parallel",
                            "handlerStatement": true,
                            "blockId": "control_run_in_parallel",
                            "block": "run in parallel",
                            "blockGap": "8",
                            "jsDoc": "Run other code in the parallel.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "run in parallel",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "a",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "control.run_in_parallel"
                    },
                    "control.waitForEvent": {
                        "kind": -3,
                        "attributes": {
                            "callingConvention": 1,
                            "help": "control/wait-for-event",
                            "async": "true",
                            "blockId": "control_wait_for_event",
                            "block": "wait for event|from %src|with value %value",
                            "jsDoc": "Blocks the calling thread until the specified event is raised.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "wait for event",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "pyQName": "control.wait_for_event"
                    },
                    "control.deviceSerialNumber": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "control_device_serial_number",
                            "block": "device serial number",
                            "weight": 9,
                            "help": "control/device-serial-number",
                            "jsDoc": "Derive a unique, consistent serial number of this device from internal data.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "device serial number",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "control.device_serial_number"
                    },
                    "control.deviceLongSerialNumber": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "blockId": "control_device_long_serial_number",
                            "block": "device long serial number",
                            "weight": 9,
                            "help": "control/device-long-serial-number",
                            "jsDoc": "Derive a unique, consistent 64-bit serial number of this device from internal data.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "device long serial number",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "control.device_long_serial_number"
                    },
                    "control.__log": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "prority"
                            },
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ]
                    },
                    "control.dmesgValue": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Dump internal information about a value."
                        },
                        "parameters": [
                            {
                                "name": "v",
                                "type": "any"
                            }
                        ],
                        "pyQName": "control.dmesg_value"
                    },
                    "control.gc": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Force GC and dump basic information about heap."
                        },
                        "parameters": []
                    },
                    "control.heapDump": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Force GC and halt waiting for debugger to do a full heap dump."
                        },
                        "parameters": [],
                        "pyQName": "control.heap_dump"
                    },
                    "control.setDebugFlags": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Set flags used when connecting an external debugger."
                        },
                        "parameters": [
                            {
                                "name": "flags"
                            }
                        ],
                        "pyQName": "control.set_debug_flags"
                    },
                    "control.heapSnapshot": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Record a heap snapshot to debug memory leaks."
                        },
                        "parameters": [],
                        "pyQName": "control.heap_snapshot"
                    },
                    "control.profilingEnabled": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Return true if profiling is enabled in the current build."
                        },
                        "parameters": [],
                        "pyQName": "control.profiling_enabled"
                    },
                    "NumberFormat": {
                        "kind": 6,
                        "retType": "NumberFormat",
                        "extendsTypes": [
                            "NumberFormat",
                            "Number"
                        ]
                    },
                    "NumberFormat.Int8LE": {
                        "retType": "NumberFormat.Int8LE",
                        "extendsTypes": [
                            "NumberFormat.Int8LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT8_LE"
                    },
                    "NumberFormat.UInt8LE": {
                        "retType": "NumberFormat.UInt8LE",
                        "extendsTypes": [
                            "NumberFormat.UInt8LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT8_LE"
                    },
                    "NumberFormat.Int16LE": {
                        "retType": "NumberFormat.Int16LE",
                        "extendsTypes": [
                            "NumberFormat.Int16LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT16_LE"
                    },
                    "NumberFormat.UInt16LE": {
                        "retType": "NumberFormat.UInt16LE",
                        "extendsTypes": [
                            "NumberFormat.UInt16LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT16_LE"
                    },
                    "NumberFormat.Int32LE": {
                        "retType": "NumberFormat.Int32LE",
                        "extendsTypes": [
                            "NumberFormat.Int32LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT32_LE"
                    },
                    "NumberFormat.Int8BE": {
                        "retType": "NumberFormat.Int8BE",
                        "extendsTypes": [
                            "NumberFormat.Int8BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT8_BE"
                    },
                    "NumberFormat.UInt8BE": {
                        "retType": "NumberFormat.UInt8BE",
                        "extendsTypes": [
                            "NumberFormat.UInt8BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT8_BE"
                    },
                    "NumberFormat.Int16BE": {
                        "retType": "NumberFormat.Int16BE",
                        "extendsTypes": [
                            "NumberFormat.Int16BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT16_BE"
                    },
                    "NumberFormat.UInt16BE": {
                        "retType": "NumberFormat.UInt16BE",
                        "extendsTypes": [
                            "NumberFormat.UInt16BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT16_BE"
                    },
                    "NumberFormat.Int32BE": {
                        "retType": "NumberFormat.Int32BE",
                        "extendsTypes": [
                            "NumberFormat.Int32BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.INT32_BE"
                    },
                    "NumberFormat.UInt32LE": {
                        "retType": "NumberFormat.UInt32LE",
                        "extendsTypes": [
                            "NumberFormat.UInt32LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT32_LE"
                    },
                    "NumberFormat.UInt32BE": {
                        "retType": "NumberFormat.UInt32BE",
                        "extendsTypes": [
                            "NumberFormat.UInt32BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.UINT32_BE"
                    },
                    "NumberFormat.Float32LE": {
                        "retType": "NumberFormat.Float32LE",
                        "extendsTypes": [
                            "NumberFormat.Float32LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.FLOAT32_LE"
                    },
                    "NumberFormat.Float64LE": {
                        "retType": "NumberFormat.Float64LE",
                        "extendsTypes": [
                            "NumberFormat.Float64LE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.FLOAT64_LE"
                    },
                    "NumberFormat.Float32BE": {
                        "retType": "NumberFormat.Float32BE",
                        "extendsTypes": [
                            "NumberFormat.Float32BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.FLOAT32_BE"
                    },
                    "NumberFormat.Float64BE": {
                        "retType": "NumberFormat.Float64BE",
                        "extendsTypes": [
                            "NumberFormat.Float64BE",
                            "Number"
                        ],
                        "pyQName": "NumberFormat.FLOAT64_BE"
                    },
                    "PerfCounters": {
                        "kind": 6,
                        "retType": "PerfCounters",
                        "extendsTypes": [
                            "PerfCounters",
                            "Number"
                        ]
                    },
                    "PerfCounters.GC": {
                        "retType": "PerfCounters",
                        "extendsTypes": [
                            "PerfCounters.GC",
                            "Number"
                        ]
                    },
                    "Math.E": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.LN2": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.LN10": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.LOG2E": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.LOG10E": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.PI": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.SQRT1_2": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.SQRT2": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "Math.map": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "fromHigh": "1023",
                                "toHigh": "4"
                            },
                            "help": "math/map",
                            "weight": 10,
                            "blockGap": "8",
                            "blockId": "math_map",
                            "block": "map %value|from low %fromLow|high %fromHigh|to low %toLow|high %toHigh",
                            "inlineInputMode": "inline",
                            "paramHelp": {
                                "value": "value to map in ranges",
                                "fromLow": "the lower bound of the value's current range",
                                "fromHigh": "the upper bound of the value's current range, eg: 1023",
                                "toLow": "the lower bound of the value's target range",
                                "toHigh": "the upper bound of the value's target range, eg: 4"
                            },
                            "jsDoc": "Re-maps a number from one range to another. That is, a value of ``from low`` would get mapped to ``to low``, a value of ``from high`` to ``to high``, values in-between to values in-between, etc.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "map ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from low ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "fromLow",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "high ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "fromHigh",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to low ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "toLow",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "high ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "toHigh",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "fromLow",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "fromHigh",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "toLow",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "toHigh",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value to map in ranges"
                            },
                            {
                                "name": "fromLow",
                                "description": "the lower bound of the value's current range"
                            },
                            {
                                "name": "fromHigh",
                                "description": "the upper bound of the value's current range, eg: 1023",
                                "default": "1023"
                            },
                            {
                                "name": "toLow",
                                "description": "the lower bound of the value's target range"
                            },
                            {
                                "name": "toHigh",
                                "description": "the upper bound of the value's target range, eg: 4",
                                "default": "4"
                            }
                        ]
                    },
                    "Math.constrain": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/constrain",
                            "weight": 11,
                            "blockGap": "8",
                            "blockId": "math_constrain_value",
                            "block": "constrain %value|between %low|and %high",
                            "paramHelp": {
                                "x": "the number to constrain, all data types",
                                "y": "the lower end of the range, all data types",
                                "z": "the upper end of the range, all data types"
                            },
                            "jsDoc": "Constrains a number to be within a range",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "constrain ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "between ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "low",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "and ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "low",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value"
                            },
                            {
                                "name": "low"
                            },
                            {
                                "name": "high"
                            }
                        ]
                    },
                    "Math.isin": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/isin",
                            "weight": 11,
                            "advanced": true,
                            "blockGap": "8",
                            "paramHelp": {
                                "theta": "input angle from 0-255"
                            },
                            "jsDoc": "Returns the sine of an input angle. This is an 8-bit approximation."
                        },
                        "parameters": [
                            {
                                "name": "theta",
                                "description": "input angle from 0-255"
                            }
                        ]
                    },
                    "Math.icos": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "math/icos",
                            "weight": 10,
                            "advanced": true,
                            "blockGap": "8",
                            "paramHelp": {
                                "theta": "input angle from 0-255"
                            },
                            "jsDoc": "Returns the cosine of an input angle. This is an 8-bit approximation."
                        },
                        "parameters": [
                            {
                                "name": "theta",
                                "description": "input angle from 0-255"
                            }
                        ]
                    },
                    "Number.EPSILON": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#d65cd6",
                            "weight": 98,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors."
                        }
                    },
                    "control.runInBackground": {
                        "kind": -3,
                        "attributes": {
                            "deprecated": "1",
                            "hidden": "1",
                            "help": "control/run-in-background",
                            "blockAllowMultiple": "1",
                            "afterOnStart": true,
                            "blockId": "control_run_in_background",
                            "block": "run in background",
                            "blockGap": "8",
                            "weight": 0,
                            "jsDoc": "Deprecated, use ``control.runInParallel`` instead.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "run in background",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "a",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "control.run_in_background"
                    },
                    "control.PXT_PANIC": {
                        "kind": 6,
                        "retType": "control.PXT_PANIC",
                        "extendsTypes": [
                            "control.PXT_PANIC",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CODAL_OOM": {
                        "retType": "control.PXT_PANIC.CODAL_OOM",
                        "extendsTypes": [
                            "control.PXT_PANIC.CODAL_OOM",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.GC_OOM": {
                        "retType": "control.PXT_PANIC.GC_OOM",
                        "extendsTypes": [
                            "control.PXT_PANIC.GC_OOM",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.GC_TOO_BIG_ALLOCATION": {
                        "retType": "control.PXT_PANIC.GC_TOO_BIG_ALLOCATION",
                        "extendsTypes": [
                            "control.PXT_PANIC.GC_TOO_BIG_ALLOCATION",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CODAL_HEAP_ERROR": {
                        "retType": "control.PXT_PANIC.CODAL_HEAP_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.CODAL_HEAP_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CODAL_NULL_DEREFERENCE": {
                        "retType": "control.PXT_PANIC.CODAL_NULL_DEREFERENCE",
                        "extendsTypes": [
                            "control.PXT_PANIC.CODAL_NULL_DEREFERENCE",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CODAL_USB_ERROR": {
                        "retType": "control.PXT_PANIC.CODAL_USB_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.CODAL_USB_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CODAL_HARDWARE_CONFIGURATION_ERROR": {
                        "retType": "control.PXT_PANIC.CODAL_HARDWARE_CONFIGURATION_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.CODAL_HARDWARE_CONFIGURATION_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.INVALID_BINARY_HEADER": {
                        "retType": "control.PXT_PANIC.INVALID_BINARY_HEADER",
                        "extendsTypes": [
                            "control.PXT_PANIC.INVALID_BINARY_HEADER",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.OUT_OF_BOUNDS": {
                        "retType": "control.PXT_PANIC.OUT_OF_BOUNDS",
                        "extendsTypes": [
                            "control.PXT_PANIC.OUT_OF_BOUNDS",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.REF_DELETED": {
                        "retType": "control.PXT_PANIC.REF_DELETED",
                        "extendsTypes": [
                            "control.PXT_PANIC.REF_DELETED",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.SIZE": {
                        "retType": "control.PXT_PANIC.SIZE",
                        "extendsTypes": [
                            "control.PXT_PANIC.SIZE",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.INVALID_VTABLE": {
                        "retType": "control.PXT_PANIC.INVALID_VTABLE",
                        "extendsTypes": [
                            "control.PXT_PANIC.INVALID_VTABLE",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.INTERNAL_ERROR": {
                        "retType": "control.PXT_PANIC.INTERNAL_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.INTERNAL_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.NO_SUCH_CONFIG": {
                        "retType": "control.PXT_PANIC.NO_SUCH_CONFIG",
                        "extendsTypes": [
                            "control.PXT_PANIC.NO_SUCH_CONFIG",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.NO_SUCH_PIN": {
                        "retType": "control.PXT_PANIC.NO_SUCH_PIN",
                        "extendsTypes": [
                            "control.PXT_PANIC.NO_SUCH_PIN",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.INVALID_ARGUMENT": {
                        "retType": "control.PXT_PANIC.INVALID_ARGUMENT",
                        "extendsTypes": [
                            "control.PXT_PANIC.INVALID_ARGUMENT",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.MEMORY_LIMIT_EXCEEDED": {
                        "retType": "control.PXT_PANIC.MEMORY_LIMIT_EXCEEDED",
                        "extendsTypes": [
                            "control.PXT_PANIC.MEMORY_LIMIT_EXCEEDED",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.SCREEN_ERROR": {
                        "retType": "control.PXT_PANIC.SCREEN_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.SCREEN_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.MISSING_PROPERTY": {
                        "retType": "control.PXT_PANIC.MISSING_PROPERTY",
                        "extendsTypes": [
                            "control.PXT_PANIC.MISSING_PROPERTY",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.INVALID_IMAGE": {
                        "retType": "control.PXT_PANIC.INVALID_IMAGE",
                        "extendsTypes": [
                            "control.PXT_PANIC.INVALID_IMAGE",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CALLED_FROM_ISR": {
                        "retType": "control.PXT_PANIC.CALLED_FROM_ISR",
                        "extendsTypes": [
                            "control.PXT_PANIC.CALLED_FROM_ISR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.HEAP_DUMPED": {
                        "retType": "control.PXT_PANIC.HEAP_DUMPED",
                        "extendsTypes": [
                            "control.PXT_PANIC.HEAP_DUMPED",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.STACK_OVERFLOW": {
                        "retType": "control.PXT_PANIC.STACK_OVERFLOW",
                        "extendsTypes": [
                            "control.PXT_PANIC.STACK_OVERFLOW",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.BLOCKING_TO_STRING": {
                        "retType": "control.PXT_PANIC.BLOCKING_TO_STRING",
                        "extendsTypes": [
                            "control.PXT_PANIC.BLOCKING_TO_STRING",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.VM_ERROR": {
                        "retType": "control.PXT_PANIC.VM_ERROR",
                        "extendsTypes": [
                            "control.PXT_PANIC.VM_ERROR",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.SETTINGS_CLEARED": {
                        "retType": "control.PXT_PANIC.SETTINGS_CLEARED",
                        "extendsTypes": [
                            "control.PXT_PANIC.SETTINGS_CLEARED",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.SETTINGS_OVERLOAD": {
                        "retType": "control.PXT_PANIC.SETTINGS_OVERLOAD",
                        "extendsTypes": [
                            "control.PXT_PANIC.SETTINGS_OVERLOAD",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.SETTINGS_SECRET_MISSING": {
                        "retType": "control.PXT_PANIC.SETTINGS_SECRET_MISSING",
                        "extendsTypes": [
                            "control.PXT_PANIC.SETTINGS_SECRET_MISSING",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.DELETE_ON_CLASS": {
                        "retType": "control.PXT_PANIC.DELETE_ON_CLASS",
                        "extendsTypes": [
                            "control.PXT_PANIC.DELETE_ON_CLASS",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FIRST": {
                        "retType": "control.PXT_PANIC.CAST_FIRST",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FIRST",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_UNDEFINED": {
                        "retType": "control.PXT_PANIC.CAST_FIRST",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_UNDEFINED",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_BOOLEAN": {
                        "retType": "control.PXT_PANIC.CAST_FROM_BOOLEAN",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_BOOLEAN",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_NUMBER": {
                        "retType": "control.PXT_PANIC.CAST_FROM_NUMBER",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_NUMBER",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_STRING": {
                        "retType": "control.PXT_PANIC.CAST_FROM_STRING",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_STRING",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_OBJECT": {
                        "retType": "control.PXT_PANIC.CAST_FROM_OBJECT",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_OBJECT",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_FUNCTION": {
                        "retType": "control.PXT_PANIC.CAST_FROM_FUNCTION",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_FUNCTION",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.CAST_FROM_NULL": {
                        "retType": "control.PXT_PANIC.CAST_FROM_NULL",
                        "extendsTypes": [
                            "control.PXT_PANIC.CAST_FROM_NULL",
                            "Number"
                        ]
                    },
                    "control.PXT_PANIC.UNHANDLED_EXCEPTION": {
                        "retType": "control.PXT_PANIC.UNHANDLED_EXCEPTION",
                        "extendsTypes": [
                            "control.PXT_PANIC.UNHANDLED_EXCEPTION",
                            "Number"
                        ]
                    },
                    "control.panic": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "code": "5"
                            },
                            "help": "control/panic",
                            "weight": 29,
                            "blockId": "control_panic",
                            "block": "panic %code",
                            "paramHelp": {
                                "code": "an error number to display. eg: 5"
                            },
                            "jsDoc": "Display an error code and stop the program.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "panic ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "code",
                                "description": "an error number to display. eg: 5",
                                "default": "5"
                            }
                        ]
                    },
                    "control.enablePerfCounter": {
                        "kind": -3,
                        "attributes": {
                            "shim": "TD_NOOP",
                            "shimArgument": "perfCounter",
                            "jsDoc": "Enable profiling for current function."
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "control.enable_perf_counter"
                    },
                    "control.dmesgPerfCounters": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Dump values of profiling performance counters."
                        },
                        "parameters": [],
                        "pyQName": "control.dmesg_perf_counters"
                    },
                    "control.assert": {
                        "kind": -3,
                        "attributes": {
                            "help": "control/assert",
                            "weight": 30,
                            "blockId": "control_assert",
                            "block": "assert %cond|with value %code",
                            "jsDoc": "Display an error code and stop the program when the assertion is `false`.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "assert ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "cond",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "cond",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "code",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "cond",
                                "type": "boolean"
                            },
                            {
                                "name": "code"
                            }
                        ]
                    },
                    "control.fail": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ]
                    },
                    "control.AnimationQueue": {
                        "kind": 8,
                        "retType": "control.AnimationQueue",
                        "extendsTypes": []
                    },
                    "control.AnimationQueue.running": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true
                    },
                    "control.AnimationQueue.eventID": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.AnimationQueue.event_id"
                    },
                    "control.AnimationQueue.interval": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "control.AnimationQueue.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.AnimationQueue.runUntilDone": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Runs 'render' in a loop until it returns false or the 'stop' function is called"
                        },
                        "parameters": [
                            {
                                "name": "render",
                                "type": "() => boolean",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.AnimationQueue.run_until_done"
                    },
                    "control.AnimationQueue.isCancelled": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "evid"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.AnimationQueue.is_cancelled"
                    },
                    "control.AnimationQueue.cancel": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Cancels the current running animation and clears the queue"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.__queuePollEvent": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "timeOut"
                            },
                            {
                                "name": "condition",
                                "type": "() => boolean",
                                "handlerParameters": []
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ]
                    },
                    "control.getConfigValue": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "key"
                            },
                            {
                                "name": "defl"
                            }
                        ],
                        "pyQName": "control.get_config_value"
                    },
                    "control.programHash": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [],
                        "pyQName": "control.program_hash"
                    },
                    "control.programName": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [],
                        "pyQName": "control.program_name"
                    },
                    "control.IntervalMode": {
                        "kind": 6,
                        "retType": "control.IntervalMode",
                        "extendsTypes": [
                            "control.IntervalMode",
                            "Number"
                        ]
                    },
                    "control.IntervalMode.Interval": {
                        "retType": "control.IntervalMode.Interval",
                        "extendsTypes": [
                            "control.IntervalMode.Interval",
                            "Number"
                        ],
                        "pyQName": "control.IntervalMode.INTERVAL"
                    },
                    "control.IntervalMode.Timeout": {
                        "retType": "control.IntervalMode.Timeout",
                        "extendsTypes": [
                            "control.IntervalMode.Timeout",
                            "Number"
                        ],
                        "pyQName": "control.IntervalMode.TIMEOUT"
                    },
                    "control.IntervalMode.Immediate": {
                        "retType": "control.IntervalMode.Immediate",
                        "extendsTypes": [
                            "control.IntervalMode.Immediate",
                            "Number"
                        ],
                        "pyQName": "control.IntervalMode.IMMEDIATE"
                    },
                    "control.setInterval": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "func",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "delay"
                            },
                            {
                                "name": "mode",
                                "type": "control.IntervalMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "control.set_interval"
                    },
                    "control.clearInterval": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "intervalId"
                            },
                            {
                                "name": "mode",
                                "type": "control.IntervalMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "control.clear_interval"
                    },
                    "control.ramSize": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Returns estimated size of memory in bytes."
                        },
                        "parameters": [],
                        "pyQName": "control.ram_size"
                    },
                    "control.benchmark": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Runs the function and returns run time in microseconds."
                        },
                        "parameters": [
                            {
                                "name": "f",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ]
                    },
                    "control.GCStats": {
                        "kind": 9,
                        "retType": "control.GCStats",
                        "extendsTypes": []
                    },
                    "control.GCStats.numGC": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.num_gc"
                    },
                    "control.GCStats.numBlocks": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.num_blocks"
                    },
                    "control.GCStats.totalBytes": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.total_bytes"
                    },
                    "control.GCStats.lastFreeBytes": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.last_free_bytes"
                    },
                    "control.GCStats.lastMaxBlockBytes": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.last_max_block_bytes"
                    },
                    "control.GCStats.minFreeBytes": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.GCStats.min_free_bytes"
                    },
                    "control.gcStats": {
                        "kind": -3,
                        "retType": "control.GCStats",
                        "attributes": {
                            "jsDoc": "Get various statistics about the garbage collector (GC)"
                        },
                        "parameters": [],
                        "pyQName": "control.gc_stats"
                    },
                    "pauseUntil": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "pxt_pause_until",
                            "paramHelp": {
                                "condition": "condition to test for",
                                "timeOut": "if positive, maximum duration to wait for in milliseconds"
                            },
                            "jsDoc": "Busy wait for a condition to be true"
                        },
                        "parameters": [
                            {
                                "name": "condition",
                                "description": "condition to test for",
                                "type": "() => boolean",
                                "handlerParameters": []
                            },
                            {
                                "name": "timeOut",
                                "description": "if positive, maximum duration to wait for in milliseconds",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "pause_until"
                    },
                    "convertToText": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "help": "text/convert-to-text",
                            "weight": 1,
                            "block": "convert $value=math_number to text",
                            "blockId": "variable_to_text",
                            "blockNamespace": "text",
                            "paramHelp": {
                                "value": "value to be converted to text"
                            },
                            "jsDoc": "Convert any value to text",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "convert ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "math_number",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to text",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "math_number",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value to be converted to text",
                                "type": "any"
                            }
                        ],
                        "pyQName": "convert_to_text"
                    },
                    "ConsolePriority": {
                        "kind": 6,
                        "retType": "ConsolePriority",
                        "extendsTypes": [
                            "ConsolePriority",
                            "Number"
                        ]
                    },
                    "ConsolePriority.Debug": {
                        "retType": "ConsolePriority.Debug",
                        "extendsTypes": [
                            "ConsolePriority.Debug",
                            "Number"
                        ],
                        "pyQName": "ConsolePriority.DEBUG"
                    },
                    "ConsolePriority.Log": {
                        "retType": "ConsolePriority.Log",
                        "extendsTypes": [
                            "ConsolePriority.Log",
                            "Number"
                        ],
                        "pyQName": "ConsolePriority.LOG"
                    },
                    "ConsolePriority.Warning": {
                        "retType": "ConsolePriority.Warning",
                        "extendsTypes": [
                            "ConsolePriority.Warning",
                            "Number"
                        ],
                        "pyQName": "ConsolePriority.WARNING"
                    },
                    "ConsolePriority.Error": {
                        "retType": "ConsolePriority.Error",
                        "extendsTypes": [
                            "ConsolePriority.Error",
                            "Number"
                        ],
                        "pyQName": "ConsolePriority.ERROR"
                    },
                    "ConsolePriority.Silent": {
                        "retType": "ConsolePriority.Silent",
                        "extendsTypes": [
                            "ConsolePriority.Silent",
                            "Number"
                        ],
                        "pyQName": "ConsolePriority.SILENT"
                    },
                    "console": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 12,
                            "color": "#002050",
                            "icon": "",
                            "advanced": true,
                            "jsDoc": "Reading and writing data to the console output."
                        }
                    },
                    "console.minPriority": {
                        "kind": 4,
                        "retType": "ConsolePriority",
                        "attributes": {
                            "jsDoc": "Minimum priority to send messages to listeners"
                        },
                        "pyQName": "console.min_priority"
                    },
                    "console.add": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "priority",
                                "type": "ConsolePriority",
                                "isEnum": true
                            },
                            {
                                "name": "message",
                                "type": "any"
                            }
                        ]
                    },
                    "console.debug": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "any"
                            }
                        ]
                    },
                    "console.warn": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "any"
                            }
                        ]
                    },
                    "console.error": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "any"
                            }
                        ]
                    },
                    "console.log": {
                        "kind": -3,
                        "attributes": {
                            "weight": 90,
                            "help": "console/log",
                            "blockGap": "8",
                            "blockId": "console_log",
                            "block": "console log $value",
                            "_shadowOverrides": {
                                "value": "text"
                            },
                            "paramHelp": {
                                "value": "to send"
                            },
                            "jsDoc": "Write a line of text to the console output.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "console log ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "text",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "text",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "to send",
                                "type": "any"
                            }
                        ],
                        "pyQName": "print"
                    },
                    "console.logValue": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "name": "x"
                            },
                            "weight": 88,
                            "blockGap": "8",
                            "help": "console/log-value",
                            "blockId": "console_log_value",
                            "block": "console|log value %name|= %value",
                            "_shadowOverrides": {
                                "name": "text"
                            },
                            "paramHelp": {
                                "name": "name of the value stream, eg: \"x\"",
                                "value": "to write"
                            },
                            "jsDoc": "Write a name:value pair as a line of text to the console output.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "console",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "log value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "= ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "shadowBlockId": "text",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "description": "name of the value stream, eg: \"x\"",
                                "type": "any",
                                "default": "x"
                            },
                            {
                                "name": "value",
                                "description": "to write"
                            }
                        ],
                        "pyQName": "console.log_value"
                    },
                    "console.inspect": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "paramHelp": {
                                "obj": "value to be converted to a string",
                                "maxElements": "[optional] max number values in an object to include in output"
                            },
                            "jsDoc": "Convert any object or value to a string representation"
                        },
                        "parameters": [
                            {
                                "name": "obj",
                                "description": "value to be converted to a string",
                                "type": "any"
                            },
                            {
                                "name": "maxElements",
                                "description": "[optional] max number values in an object to include in output",
                                "initializer": "20"
                            }
                        ]
                    },
                    "console.addListener": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "listener": ""
                            },
                            "jsDoc": "Adds a listener for the log messages"
                        },
                        "parameters": [
                            {
                                "name": "listener",
                                "type": "(priority: ConsolePriority, text: string) => void",
                                "handlerParameters": [
                                    {
                                        "name": "priority",
                                        "type": "ConsolePriority"
                                    },
                                    {
                                        "name": "text",
                                        "type": "string"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "console.add_listener"
                    },
                    "console.removeListener": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "listener": ""
                            },
                            "jsDoc": "Removes a listener"
                        },
                        "parameters": [
                            {
                                "name": "listener",
                                "type": "(priority: ConsolePriority, text: string) => void",
                                "handlerParameters": [
                                    {
                                        "name": "priority",
                                        "type": "ConsolePriority"
                                    },
                                    {
                                        "name": "text",
                                        "type": "string"
                                    }
                                ]
                            }
                        ],
                        "pyQName": "console.remove_listener"
                    },
                    "JSON": {
                        "kind": 5,
                        "retType": ""
                    },
                    "JSON.parseIntRadix": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            },
                            {
                                "name": "base",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "JSON.parse_int_radix"
                    },
                    "JSON.stringify": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "paramHelp": {
                                "value": "A JavaScript value, usually an object or array, to be converted.",
                                "replacer": "Not supported; use null.",
                                "indent": "Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read."
                            },
                            "jsDoc": "Converts a JavaScript value to a JavaScript Object Notation (JSON) string."
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "A JavaScript value, usually an object or array, to be converted.",
                                "type": "any"
                            },
                            {
                                "name": "replacer",
                                "description": "Not supported; use null.",
                                "type": "any",
                                "initializer": "null"
                            },
                            {
                                "name": "indent",
                                "description": "Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.",
                                "initializer": "0"
                            }
                        ]
                    },
                    "JSON.parse": {
                        "kind": -3,
                        "retType": "any",
                        "attributes": {
                            "paramHelp": {
                                "text": "A valid JSON string."
                            },
                            "jsDoc": "Converts a JavaScript Object Notation (JSON) string into an object."
                        },
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            }
                        ]
                    },
                    "hex": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "shim": "@hex",
                            "jsDoc": "Tagged hex literal converter"
                        },
                        "parameters": [
                            {
                                "name": "lits",
                                "type": "any"
                            },
                            {
                                "name": "args",
                                "type": "any[]"
                            }
                        ]
                    },
                    "control.onEvent": {
                        "kind": -3,
                        "attributes": {
                            "weight": 20,
                            "blockGap": "8",
                            "blockId": "control_on_event",
                            "block": "on event|from %src|with value %value",
                            "blockExternalInputs": "1",
                            "help": "control/on-event",
                            "inlineInputMode": "external",
                            "paramHelp": {
                                "id": "the event compoent id",
                                "value": "the event value to match"
                            },
                            "jsDoc": "Run code when a registered event happens.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on event",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value",
                                "description": "the event value to match"
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "flags",
                                "initializer": "16"
                            }
                        ],
                        "pyQName": "control.on_event"
                    },
                    "control.EventContext": {
                        "kind": 8,
                        "retType": "control.EventContext",
                        "extendsTypes": []
                    },
                    "control.EventContext.deltaTimeMillis": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "control.EventContext.delta_time_millis"
                    },
                    "control.EventContext.lastStats": {
                        "kind": 2,
                        "retType": "string",
                        "pyQName": "control.EventContext.last_stats"
                    },
                    "control.EventContext.onStats": {
                        "kind": 2,
                        "retType": "(stats: string) => void",
                        "pyQName": "control.EventContext.on_stats"
                    },
                    "control.EventContext.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.EventContext.deltaTime": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "control.EventContext.delta_time"
                    },
                    "control.EventContext.register": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.EventContext.unregister": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.EventContext.registerFrameHandler": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "order"
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.EventContext.register_frame_handler"
                    },
                    "control.EventContext.registerHandler": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value"
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "flags"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.EventContext.register_handler"
                    },
                    "control.EventContext.addIdleHandler": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.EventContext.add_idle_handler"
                    },
                    "control.EventContext.removeIdleHandler": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.EventContext.remove_idle_handler"
                    },
                    "control.eventContext": {
                        "kind": -3,
                        "retType": "control.EventContext",
                        "attributes": {
                            "jsDoc": "Gets the current event context if any"
                        },
                        "parameters": [],
                        "pyQName": "control.event_context"
                    },
                    "control.pushEventContext": {
                        "kind": -3,
                        "retType": "control.EventContext",
                        "attributes": {
                            "jsDoc": "Pushes a new event context and clears all handlers"
                        },
                        "parameters": [],
                        "pyQName": "control.push_event_context"
                    },
                    "control.popEventContext": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Pops the current event context and restore handlers if any previous context"
                        },
                        "parameters": [],
                        "pyQName": "control.pop_event_context"
                    },
                    "control.onIdle": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "handler": ""
                            },
                            "jsDoc": "Registers a function to run when the device is idling"
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "control.on_idle"
                    },
                    "control.removeIdleHandler": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "control.remove_idle_handler"
                    },
                    "pause": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "ms": "100"
                            },
                            "callingConvention": 1,
                            "help": "loops/pause",
                            "weight": 99,
                            "async": "true",
                            "block": "pause %pause=timePicker|ms",
                            "blockId": "device_pause",
                            "blockNamespace": "loops",
                            "paramHelp": {
                                "ms": "how long to pause for, eg: 100, 200, 500, 1000, 2000"
                            },
                            "jsDoc": "Pause for the specified time in milliseconds",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pause ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pause",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pause",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ms",
                                "description": "how long to pause for, eg: 100, 200, 500, 1000, 2000",
                                "default": "100"
                            }
                        ]
                    },
                    "basic": {
                        "kind": 5,
                        "retType": ""
                    },
                    "basic.pause": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "millis"
                            }
                        ]
                    },
                    "forever": {
                        "kind": -3,
                        "attributes": {
                            "help": "loops/forever",
                            "weight": 100,
                            "afterOnStart": true,
                            "blockNamespace": "loops",
                            "blockId": "forever",
                            "block": "forever",
                            "blockAllowMultiple": "1",
                            "paramHelp": {
                                "body": "code to execute"
                            },
                            "jsDoc": "Repeats the code forever in the background. On each iteration, allows other codes to run.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "forever",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "a",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ]
                    },
                    "basic.forever": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "a",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ]
                    },
                    "UTF8Decoder": {
                        "kind": 8,
                        "retType": "UTF8Decoder",
                        "extendsTypes": []
                    },
                    "UTF8Decoder.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "UTF8Decoder.add": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "UTF8Decoder.decodeUntil": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "delimiter"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "UTF8Decoder.decode_until"
                    },
                    "UTF8Decoder.decode": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true
                    },
                    "setInterval": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "func": "@param delay "
                            },
                            "jsDoc": "Calls a function with a fixed time delay between each call to that function."
                        },
                        "parameters": [
                            {
                                "name": "func",
                                "description": "@param delay ",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "pyQName": "set_interval"
                    },
                    "clearInterval": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "intervalId": ""
                            },
                            "jsDoc": "Cancels repeated action which was set up using setInterval()."
                        },
                        "parameters": [
                            {
                                "name": "intervalId"
                            }
                        ],
                        "pyQName": "clear_interval"
                    },
                    "setTimeout": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "func": "@param delay "
                            },
                            "jsDoc": "Calls a function after specified delay."
                        },
                        "parameters": [
                            {
                                "name": "func",
                                "description": "@param delay ",
                                "type": "() => void",
                                "handlerParameters": []
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "pyQName": "set_timeout"
                    },
                    "clearTimeout": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "intervalId": ""
                            },
                            "jsDoc": "Clears the delay set by setTimeout()."
                        },
                        "parameters": [
                            {
                                "name": "intervalId"
                            }
                        ],
                        "pyQName": "clear_timeout"
                    },
                    "setImmediate": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramHelp": {
                                "func": ""
                            },
                            "jsDoc": "Calls a function as soon as possible."
                        },
                        "parameters": [
                            {
                                "name": "func",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "set_immediate"
                    },
                    "clearImmediate": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "intervalId": ""
                            },
                            "jsDoc": "Cancels the immediate actions."
                        },
                        "parameters": [
                            {
                                "name": "intervalId"
                            }
                        ],
                        "pyQName": "clear_immediate"
                    },
                    "DAL": {
                        "kind": 6,
                        "retType": "DAL",
                        "extendsTypes": [
                            "DAL",
                            "Number"
                        ]
                    },
                    "DigitalInOutPin": {
                        "kind": 9,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "DigitalInOutPin"
                        ]
                    },
                    "AnalogInPin": {
                        "kind": 9,
                        "retType": "AnalogInPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "AnalogInPin",
                            "DigitalInOutPin"
                        ]
                    },
                    "AnalogOutPin": {
                        "kind": 9,
                        "retType": "AnalogOutPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "AnalogOutPin",
                            "DigitalInOutPin"
                        ]
                    },
                    "AnalogInOutPin": {
                        "kind": 9,
                        "retType": "AnalogInOutPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "AnalogInOutPin",
                            "AnalogInPin",
                            "DigitalInOutPin",
                            "AnalogOutPin"
                        ]
                    },
                    "PwmOnlyPin": {
                        "kind": 9,
                        "retType": "PwmOnlyPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "PwmOnlyPin",
                            "DigitalInOutPin",
                            "AnalogOutPin"
                        ]
                    },
                    "PwmPin": {
                        "kind": 9,
                        "retType": "PwmPin",
                        "attributes": {
                            "noRefCounting": "true",
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "PwmPin",
                            "PwmOnlyPin",
                            "DigitalInOutPin",
                            "AnalogOutPin",
                            "AnalogInOutPin",
                            "AnalogInPin"
                        ]
                    },
                    "pins.i2cReadNumber": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "pins/i2c-read-number",
                            "weight": 5,
                            "group": "i2c",
                            "inlineInputMode": "external",
                            "blockId": "pins_i2c_readnumber",
                            "block": "i2c read number at address %address|of format %format|repeated %repeated",
                            "jsDoc": "Read one number from an I2C address.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "i2c read number at address ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "of format ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "format",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "repeated ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "repeated",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "format",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "repeated",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "format",
                                "type": "NumberFormat",
                                "isEnum": true
                            },
                            {
                                "name": "repeated",
                                "type": "boolean",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "pins.i2c_read_number"
                    },
                    "pins.i2cWriteNumber": {
                        "kind": -3,
                        "attributes": {
                            "help": "pins/i2c-write-number",
                            "weight": 4,
                            "group": "i2c",
                            "blockId": "i2c_writenumber",
                            "block": "i2c write number|at address %address|with value %value|of format %format|repeated %repeated",
                            "jsDoc": "Write one number to an I2C address.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "i2c write number",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at address ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "of format ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "format",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "repeated ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "repeated",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "format",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "repeated",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "value"
                            },
                            {
                                "name": "format",
                                "type": "NumberFormat",
                                "initializer": "undefined",
                                "isEnum": true
                            },
                            {
                                "name": "repeated",
                                "type": "boolean",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "pins.i2c_write_number"
                    },
                    "pins.i2cWriteRegister": {
                        "kind": -3,
                        "attributes": {
                            "weight": 3,
                            "group": "i2c",
                            "help": "pins/i2c-write-register",
                            "blockId": "i2c_writereg",
                            "block": "i2c write register|at address $address|at register $register|value $value",
                            "paramHelp": {
                                "address": "I2c address of the device",
                                "register": "register index",
                                "value": "value to write",
                                "valueFormat": "format of the value, default is UInt8LE"
                            },
                            "jsDoc": "Write a value in a I2C register.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "i2c write register",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at address ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": true
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at register ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "register",
                                        "ref": true
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "register",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "address",
                                "description": "I2c address of the device"
                            },
                            {
                                "name": "register",
                                "description": "register index"
                            },
                            {
                                "name": "value",
                                "description": "value to write"
                            },
                            {
                                "name": "valueFormat",
                                "description": "format of the value, default is UInt8LE",
                                "type": "NumberFormat",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "pins.i2c_write_register"
                    },
                    "pins.i2cReadRegister": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "weight": 3,
                            "group": "i2c",
                            "help": "pins/i2c-read-register",
                            "blockId": "i2c_readreg",
                            "block": "i2c read register|at address $address|at register $register",
                            "paramHelp": {
                                "address": "I2c address of the device",
                                "register": "register index",
                                "valueFormat": "format of the value, default is UInt8LE"
                            },
                            "jsDoc": "Read the value from a I2C register.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "i2c read register",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at address ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": true
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at register ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "register",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "address",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "register",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "address",
                                "description": "I2c address of the device"
                            },
                            {
                                "name": "register",
                                "description": "register index"
                            },
                            {
                                "name": "valueFormat",
                                "description": "format of the value, default is UInt8LE",
                                "type": "NumberFormat",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "pins.i2c_read_register"
                    },
                    "pins.i2cReadBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Read `size` bytes from a 7-bit I2C `address`."
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "size"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "false"
                            }
                        ],
                        "pyQName": "pins.i2c_read_buffer"
                    },
                    "pins.i2cWriteBuffer": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Write bytes to a 7-bit I2C `address`."
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "false"
                            }
                        ],
                        "pyQName": "pins.i2c_write_buffer"
                    },
                    "pins.i2c": {
                        "kind": -3,
                        "retType": "I2C",
                        "attributes": {
                            "jsDoc": "Gets the default I2C bus"
                        },
                        "parameters": []
                    },
                    "pins.I2CDevice": {
                        "kind": 8,
                        "retType": "pins.I2CDevice",
                        "extendsTypes": []
                    },
                    "pins.I2CDevice.address": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "pins.I2CDevice.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "address"
                            }
                        ],
                        "isInstance": true
                    },
                    "pins.I2CDevice.readInto": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "false"
                            },
                            {
                                "name": "start",
                                "initializer": "0"
                            },
                            {
                                "name": "end",
                                "initializer": "null"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "pins.I2CDevice.read_into"
                    },
                    "pins.I2CDevice.write": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "false"
                            }
                        ],
                        "isInstance": true
                    },
                    "pins.I2CDevice.begin": {
                        "kind": -1,
                        "retType": "pins.I2CDevice",
                        "parameters": [],
                        "isInstance": true
                    },
                    "pins.I2CDevice.end": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "pins.I2CDevice.ok": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [],
                        "isInstance": true
                    },
                    "pins.spi": {
                        "kind": -3,
                        "retType": "SPI",
                        "attributes": {
                            "jsDoc": "Gets the default SPI driver"
                        },
                        "parameters": []
                    },
                    "pins.spiWrite": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "pins/spi-write",
                            "weight": 5,
                            "advanced": true,
                            "blockId": "spi_write",
                            "block": "spi write %value",
                            "paramHelp": {
                                "value": "Data to be sent to the SPI slave"
                            },
                            "jsDoc": "Write to the SPI slave and return the response",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "spi write ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "Data to be sent to the SPI slave"
                            }
                        ],
                        "pyQName": "pins.spi_write"
                    },
                    "pins.spiTransfer": {
                        "kind": -3,
                        "attributes": {
                            "help": "pins/spi-transfer",
                            "weight": 4,
                            "advanced": true,
                            "blockId": "spi_transfer",
                            "block": "spi transfer %command into %response",
                            "jsDoc": "Write a given command to SPI bus, and at the same time read the response.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "spi transfer ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "command",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " into ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "response",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "command",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "response",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "command",
                                "type": "Buffer"
                            },
                            {
                                "name": "response",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "pins.spi_transfer"
                    },
                    "pins.spiFrequency": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "frequency": "1000000"
                            },
                            "help": "pins/spi-frequency",
                            "weight": 4,
                            "advanced": true,
                            "blockId": "spi_frequency",
                            "block": "spi frequency %frequency",
                            "paramHelp": {
                                "frequency": "the clock frequency, eg: 1000000"
                            },
                            "jsDoc": "Set the SPI frequency",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "spi frequency ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "frequency",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "frequency",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "frequency",
                                "description": "the clock frequency, eg: 1000000",
                                "default": "1000000"
                            }
                        ],
                        "pyQName": "pins.spi_frequency"
                    },
                    "pins.spiMode": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "mode": "3"
                            },
                            "help": "pins/spi-mode",
                            "weight": 3,
                            "advanced": true,
                            "blockId": "spi_mode",
                            "block": "spi mode %mode",
                            "paramHelp": {
                                "mode": "the mode, eg: 3"
                            },
                            "jsDoc": "Set the SPI signal mode",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "spi mode ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the mode, eg: 3",
                                "default": "3"
                            }
                        ],
                        "pyQName": "pins.spi_mode"
                    },
                    "light": {
                        "kind": 5,
                        "retType": ""
                    },
                    "light.sendBuffer": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "data": "The pin that the lights are connected to",
                                "clk": "the clock line if any",
                                "mode": "the color encoding mode",
                                "buf": "The buffer to send to the pin"
                            },
                            "jsDoc": "Send a programmable light buffer to the specified digital pin"
                        },
                        "parameters": [
                            {
                                "name": "data",
                                "description": "The pin that the lights are connected to",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "clk",
                                "description": "the clock line if any",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "mode",
                                "description": "the color encoding mode"
                            },
                            {
                                "name": "buf",
                                "description": "The buffer to send to the pin",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "light.send_buffer"
                    },
                    "control.isUSBInitialized": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Determines if the USB has been enumerated."
                        },
                        "parameters": [],
                        "pyQName": "control.is_usb_initialized"
                    },
                    "pins.pinByCfg": {
                        "kind": -3,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "jsDoc": "Get a pin by configuration id (DAL.CFG_PIN...)"
                        },
                        "parameters": [
                            {
                                "name": "key"
                            }
                        ],
                        "pyQName": "pins.pin_by_cfg"
                    },
                    "pins.createBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "size": "number of bytes in the buffer"
                            },
                            "jsDoc": "Create a new zero-initialized buffer."
                        },
                        "parameters": [
                            {
                                "name": "size",
                                "description": "number of bytes in the buffer"
                            }
                        ],
                        "pyQName": "bytearray"
                    },
                    "pins.pulseDuration": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "pins/pulse-duration",
                            "blockGap": "8",
                            "blockId": "pins_pulse_duration",
                            "block": "pulse duration (s)",
                            "weight": 19,
                            "jsDoc": "Get the duration of the last pulse in microseconds. This function should be called from a\n``onPulsed`` handler.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pulse duration (s)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "pins.pulse_duration"
                    },
                    "AnalogInPin.analogRead": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "help": "pins/analog-read",
                            "weight": 53,
                            "blockId": "device_get_analog_pin",
                            "block": "analog read|pin %name",
                            "blockGap": "8",
                            "blockNamespace": "pins",
                            "parts": "photocell",
                            "trackArgs": [
                                0
                            ],
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "pin to write to"
                            },
                            "jsDoc": "Read the connector value as analog, that is, as a value comprised between 0 and 1023.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "analog read",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "AnalogInPin.analog_read"
                    },
                    "AnalogOutPin.analogWrite": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "value": "1023"
                            },
                            "help": "pins/analog-write",
                            "weight": 52,
                            "blockId": "device_set_analog_pin",
                            "block": "analog write|pin %name|to %value",
                            "blockGap": "8",
                            "blockNamespace": "pins",
                            "parts": "analogled",
                            "trackArgs": [
                                0
                            ],
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramMin": {
                                "value": "0"
                            },
                            "paramMax": {
                                "value": "1023"
                            },
                            "paramHelp": {
                                "name": "pin name to write to",
                                "value": "value to write to the pin between ``0`` and ``1023``. eg:1023,0"
                            },
                            "jsDoc": "Set the connector value as analog. Value must be comprised between 0 and 1023.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "analog write",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value to write to the pin between ``0`` and ``1023``. eg:1023,0",
                                "default": "1023",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "1023"
                                    }
                                }
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "AnalogOutPin.analog_write"
                    },
                    "DigitalInOutPin.digitalRead": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "help": "pins/digital-read",
                            "weight": 61,
                            "blockId": "device_get_digital_pin",
                            "block": "digital read|pin %name",
                            "blockGap": "8",
                            "parts": "slideswitch",
                            "trackArgs": [
                                0
                            ],
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "pin to read from"
                            },
                            "jsDoc": "Read a pin or connector as either 0 or 1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "digital read",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.digital_read"
                    },
                    "DigitalInOutPin.digitalWrite": {
                        "kind": -1,
                        "attributes": {
                            "help": "pins/digital-write",
                            "weight": 60,
                            "blockId": "device_set_digital_pin",
                            "block": "digital write|pin %name|to %value=toggleHighLow",
                            "parts": "led",
                            "trackArgs": [
                                0
                            ],
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "pin to write to",
                                "value": "value to set on the pin"
                            },
                            "jsDoc": "Set a pin or connector value to either 0 or 1.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "digital write",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "toggleHighLow",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "toggleHighLow",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "value to set on the pin",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.digital_write"
                    },
                    "DigitalInOutPin.onPulsed": {
                        "kind": -1,
                        "attributes": {
                            "help": "pins/on-pulsed",
                            "weight": 16,
                            "blockGap": "8",
                            "blockId": "pins_on_pulsed",
                            "block": "on|pin %pin|pulsed %pulse",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "pin": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "pin": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "parts": "slideswitch",
                            "trackArgs": [
                                0
                            ],
                            "deprecated": "1",
                            "hidden": "1",
                            "jsDoc": "Make this pin a digital input, and create events where the timestamp is the duration\nthat this pin was either ``high`` or ``low``.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pulsed ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pulse",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pulse",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pulse",
                                "type": "PulseValue",
                                "isEnum": true
                            },
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.on_pulsed"
                    },
                    "DigitalInOutPin.onEvent": {
                        "kind": -1,
                        "attributes": {
                            "help": "pins/on-event",
                            "weight": 20,
                            "blockGap": "8",
                            "blockId": "pinsonevent",
                            "block": "on|pin %pin|%event",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "pin": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "pin": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "parts": "slideswitch",
                            "trackArgs": [
                                0
                            ],
                            "jsDoc": "Register code to run when a pin event occurs.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "event",
                                "type": "PinEvent",
                                "isEnum": true
                            },
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.on_event"
                    },
                    "DigitalInOutPin.pulseIn": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "maxDuration": "2000000"
                            },
                            "blockId": "pins_pulse_in",
                            "block": "pulse in (s)|pin %name|pulsed %high||timeout %maxDuration (s)",
                            "weight": 18,
                            "blockGap": "8",
                            "help": "pins/pulse-in",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "pin": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "pin": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "explicitDefaults": [
                                "maxDuration"
                            ],
                            "paramHelp": {
                                "name": "the pin which measures the pulse",
                                "value": "the value of the pulse (default high)",
                                "maximum": "duration in micro-seconds"
                            },
                            "jsDoc": "Return the duration of a pulse in microseconds",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pulse in (s)",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pulsed ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            },
                            "_expandedDef": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timeout ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "maxDuration",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " (s)",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "maxDuration",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "the value of the pulse (default high)",
                                "type": "PulseValue",
                                "isEnum": true
                            },
                            {
                                "name": "maxDuration",
                                "initializer": "2000000",
                                "default": "2000000"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.pulse_in"
                    },
                    "DigitalInOutPin.setPull": {
                        "kind": -1,
                        "attributes": {
                            "help": "pins/set-pull",
                            "weight": 17,
                            "blockGap": "8",
                            "blockId": "device_set_pull",
                            "block": "set pull|pin %pin|to %pull",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "pin to set the pull mode on",
                                "pull": "one of the mbed pull configurations: PullUp, PullDown, PullNone"
                            },
                            "jsDoc": "Set the pull direction of this pin.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pull",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pull",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pull",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pull",
                                "description": "one of the mbed pull configurations: PullUp, PullDown, PullNone",
                                "type": "PinPullMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "DigitalInOutPin.set_pull"
                    },
                    "PwmOnlyPin.analogSetPeriod": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "micros": "20000"
                            },
                            "help": "pins/analog-set-period",
                            "weight": 51,
                            "blockId": "device_set_analog_period",
                            "block": "analog set period|pin %pin|to (s)%period",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "analog pin to set period to",
                                "micros": "period in micro seconds. eg:20000"
                            },
                            "jsDoc": "Set the Pulse-width modulation (PWM) period of the analog output. The period is in\n**microseconds** or `1/1000` milliseconds.\nIf this pin is not configured as an analog output (using `analog write pin`), the operation has\nno effect.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "analog set period",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to (s)",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "period",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "period",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "period"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "PwmOnlyPin.analog_set_period"
                    },
                    "PwmOnlyPin.servoWrite": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "value": "90"
                            },
                            "help": "pins/servo-write",
                            "weight": 41,
                            "group": "Servo",
                            "blockId": "device_set_servo_pin",
                            "block": "servo write|pin %name|to %value=protractorPicker",
                            "blockGap": "8",
                            "parts": "microservo",
                            "trackArgs": [
                                0
                            ],
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "explicitDefaults": [
                                "value"
                            ],
                            "paramHelp": {
                                "name": "pin to write to",
                                "value": "angle or rotation speed"
                            },
                            "jsDoc": "Write a value to the servo to control the rotation of the shaft. On a standard servo, this will\nset the angle of the shaft (in degrees), moving the shaft to that orientation. On a continuous\nrotation servo, this will set the speed of the servo (with ``0`` being full-speed in one\ndirection, ``180`` being full speed in the other, and a value near ``90`` being no movement).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "servo write",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "protractorPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "shadowBlockId": "protractorPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "angle or rotation speed",
                                "initializer": "90",
                                "default": "90"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "PwmOnlyPin.servo_write"
                    },
                    "PwmOnlyPin.servoSetPulse": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "duration": "1500"
                            },
                            "help": "pins/servo-set-pulse",
                            "weight": 40,
                            "group": "Servo",
                            "blockGap": "8",
                            "blockId": "device_set_servo_pulse",
                            "block": "servo set pulse|pin %value|to (s) %duration",
                            "parts": "microservo",
                            "blockNamespace": "pins",
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "220",
                                    "columns": "4"
                                }
                            },
                            "paramHelp": {
                                "name": "pin name",
                                "duration": "pulse duration in micro seconds, eg:1500"
                            },
                            "jsDoc": "Set the pin for PWM analog output, make the period be 20 ms, and set the pulse width.\nThe pulse width is based on the value it is given **microseconds** or `1/1000` milliseconds.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "servo set pulse",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to (s) ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "duration",
                                "description": "pulse duration in micro seconds, eg:1500",
                                "default": "1500"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "PwmOnlyPin.servo_set_pulse"
                    },
                    "PwmOnlyPin.servoSetContinuous": {
                        "kind": -1,
                        "attributes": {
                            "blockHidden": true,
                            "jsDoc": "Indicates if the servo is running continuously"
                        },
                        "parameters": [
                            {
                                "name": "continuous",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "PwmOnlyPin.servo_set_continuous"
                    },
                    "control.raiseEvent": {
                        "kind": -3,
                        "attributes": {
                            "weight": 21,
                            "blockGap": "12",
                            "blockId": "control_raise_event",
                            "help": "control/raise-event",
                            "block": "raise event|from %src|with value %value",
                            "blockExternalInputs": "1",
                            "inlineInputMode": "external",
                            "paramHelp": {
                                "src": "ID of the MicroBit Component that generated the event",
                                "value": "Component specific code indicating the cause of the event."
                            },
                            "jsDoc": "Announce that an event happened to registered handlers.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "raise event",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "src",
                                "description": "ID of the MicroBit Component that generated the event"
                            },
                            {
                                "name": "value",
                                "description": "Component specific code indicating the cause of the event."
                            }
                        ],
                        "pyQName": "control.raise_event"
                    },
                    "control.deviceDalVersion": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "blockId": "control_device_dal_version",
                            "block": "device dal version",
                            "help": "control/device-dal-version",
                            "jsDoc": "Determine the version of system software currently running.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "device dal version",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "control.device_dal_version"
                    },
                    "control.allocateNotifyEvent": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "control/allocate-notify-event",
                            "jsDoc": "Allocates the next user notification event"
                        },
                        "parameters": [],
                        "pyQName": "control.allocate_notify_event"
                    },
                    "control.dmesg": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Write a message to DMESG debugging buffer."
                        },
                        "parameters": [
                            {
                                "name": "s",
                                "type": "string"
                            }
                        ]
                    },
                    "control.dmesgPtr": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Write a message and value (pointer) to DMESG debugging buffer."
                        },
                        "parameters": [
                            {
                                "name": "str",
                                "type": "string"
                            },
                            {
                                "name": "ptr",
                                "type": "Object"
                            }
                        ],
                        "pyQName": "control.dmesg_ptr"
                    },
                    "I2C": {
                        "kind": 9,
                        "retType": "I2C",
                        "extendsTypes": []
                    },
                    "I2C.readBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "attributes": {
                            "paramDefl": {
                                "repeat": "0"
                            },
                            "explicitDefaults": [
                                "repeat"
                            ],
                            "jsDoc": "Read `size` bytes from a 7-bit I2C `address`."
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "size"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "0",
                                "default": "0"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "I2C.read_buffer"
                    },
                    "I2C.writeBuffer": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "repeat": "0"
                            },
                            "explicitDefaults": [
                                "repeat"
                            ],
                            "jsDoc": "Write bytes to a 7-bit I2C `address`."
                        },
                        "parameters": [
                            {
                                "name": "address"
                            },
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "repeat",
                                "type": "boolean",
                                "initializer": "0",
                                "default": "0"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "I2C.write_buffer"
                    },
                    "pins.createI2C": {
                        "kind": -3,
                        "retType": "I2C",
                        "attributes": {
                            "help": "pins/create-i2c",
                            "parts": "i2c",
                            "jsDoc": "Opens a Serial communication driver"
                        },
                        "parameters": [
                            {
                                "name": "sda",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "scl",
                                "type": "DigitalInOutPin"
                            }
                        ],
                        "pyQName": "pins.create_i2c"
                    },
                    "pins.createSPI": {
                        "kind": -3,
                        "retType": "SPI",
                        "attributes": {
                            "help": "pins/create-spi",
                            "parts": "spi",
                            "jsDoc": "Opens a SPI driver"
                        },
                        "parameters": [
                            {
                                "name": "mosiPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "misoPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "sckPin",
                                "type": "DigitalInOutPin"
                            }
                        ],
                        "pyQName": "pins.create_spi"
                    },
                    "SPI": {
                        "kind": 9,
                        "retType": "SPI",
                        "extendsTypes": []
                    },
                    "SPI.write": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Write to the SPI bus"
                        },
                        "parameters": [
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true
                    },
                    "SPI.transfer": {
                        "kind": -1,
                        "attributes": {
                            "argsNullable": true,
                            "jsDoc": "Transfer buffers over the SPI bus"
                        },
                        "parameters": [
                            {
                                "name": "command",
                                "type": "Buffer"
                            },
                            {
                                "name": "response",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "SPI.setFrequency": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Sets the SPI clock frequency"
                        },
                        "parameters": [
                            {
                                "name": "frequency"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SPI.set_frequency"
                    },
                    "SPI.setMode": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Sets the SPI bus mode"
                        },
                        "parameters": [
                            {
                                "name": "mode"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SPI.set_mode"
                    },
                    "configStorage": {
                        "kind": 5,
                        "retType": ""
                    },
                    "configStorage.setBuffer": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "key": "the identifier (max 16 characters)",
                                "value": "the data (max 32 characters)"
                            },
                            "jsDoc": "Puts an entry in the device storage. Key may have up to 16 characters (bytes)."
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "description": "the identifier (max 16 characters)",
                                "type": "string"
                            },
                            {
                                "name": "value",
                                "description": "the data (max 32 characters)",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "configStorage.set_buffer"
                    },
                    "configStorage.getBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "paramHelp": {
                                "key": "the identifier (max 16 characters)"
                            },
                            "jsDoc": "Gets an entry from the device storage. Key may have up to 16 characters (bytes)."
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "description": "the identifier (max 16 characters)",
                                "type": "string"
                            }
                        ],
                        "pyQName": "configStorage.get_buffer"
                    },
                    "configStorage.removeItem": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "key": "the identifier (max 16 characters)"
                            },
                            "jsDoc": "Removes the key from local storage"
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "description": "the identifier (max 16 characters)",
                                "type": "string"
                            }
                        ],
                        "pyQName": "configStorage.remove_item"
                    },
                    "configStorage.clear": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Clears the local storage"
                        },
                        "parameters": []
                    },
                    "led": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#5C2D91",
                            "weight": 101,
                            "icon": "",
                            "advanced": true
                        }
                    },
                    "led.showLeds": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "interval": "400"
                            },
                            "callingConvention": 1,
                            "help": "basic/show-leds",
                            "weight": 95,
                            "blockGap": "8",
                            "imageLiteral": 1,
                            "async": "true",
                            "blockId": "device_show_leds",
                            "block": "show leds",
                            "icon": "",
                            "parts": "ledmatrix",
                            "explicitDefaults": [
                                "interval"
                            ],
                            "paramHelp": {
                                "leds": "the pattern of LED to turn on/off",
                                "interval": "time in milliseconds to pause after drawing"
                            },
                            "jsDoc": "Draws an image on the LED screen.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show leds",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [
                            {
                                "name": "leds",
                                "description": "the pattern of LED to turn on/off"
                            },
                            {
                                "name": "interval",
                                "description": "time in milliseconds to pause after drawing",
                                "initializer": "400",
                                "default": "400"
                            }
                        ],
                        "pyQName": "led.show_leds"
                    },
                    "led.plot": {
                        "kind": -3,
                        "attributes": {
                            "help": "led/plot",
                            "weight": 78,
                            "blockId": "device_plot",
                            "block": "plot|x %x|y %y",
                            "blockGap": "8",
                            "parts": "ledmatrix",
                            "paramMin": {
                                "x": "0",
                                "y": "0"
                            },
                            "paramMax": {
                                "x": "4",
                                "y": "5"
                            },
                            "paramFieldEditorOptions": {
                                "x": {
                                    "precision": "1"
                                },
                                "y": {
                                    "precision": "1"
                                }
                            },
                            "paramHelp": {
                                "x": "the horizontal coordinate of the LED starting at 0",
                                "y": "the vertical coordinate of the LED starting at 0"
                            },
                            "jsDoc": "Turn on the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "plot",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "the horizontal coordinate of the LED starting at 0",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "description": "the vertical coordinate of the LED starting at 0",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "5"
                                    }
                                }
                            }
                        ]
                    },
                    "led.unplot": {
                        "kind": -3,
                        "attributes": {
                            "help": "led/unplot",
                            "weight": 77,
                            "blockId": "device_unplot",
                            "block": "unplot|x %x|y %y",
                            "blockGap": "8",
                            "parts": "ledmatrix",
                            "paramMin": {
                                "x": "0",
                                "y": "0"
                            },
                            "paramMax": {
                                "x": "4",
                                "y": "5"
                            },
                            "paramFieldEditorOptions": {
                                "x": {
                                    "precision": "1"
                                },
                                "y": {
                                    "precision": "1"
                                }
                            },
                            "paramHelp": {
                                "x": "the horizontal coordinate of the LED",
                                "y": "the vertical coordinate of the LED"
                            },
                            "jsDoc": "Turn off the specified LED using x, y coordinates (x is horizontal, y is vertical). (0,0) is upper left.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "unplot",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "the horizontal coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "description": "the vertical coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "5"
                                    }
                                }
                            }
                        ]
                    },
                    "led.pointBrightness": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "led/point-brightness",
                            "weight": 76,
                            "blockId": "device_point_brightness",
                            "block": "point|x %x|y %y brightness",
                            "parts": "ledmatrix",
                            "paramMin": {
                                "x": "0",
                                "y": "0"
                            },
                            "paramMax": {
                                "x": "4",
                                "y": "4"
                            },
                            "paramFieldEditorOptions": {
                                "x": {
                                    "precision": "1"
                                },
                                "y": {
                                    "precision": "1"
                                }
                            },
                            "advanced": true,
                            "paramHelp": {
                                "x": "the horizontal coordinate of the LED",
                                "y": "the vertical coordinate of the LED"
                            },
                            "jsDoc": "Get the brightness state of the specified LED using x, y coordinates. (0,0) is upper left.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "point",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " brightness",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "the horizontal coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "description": "the vertical coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            }
                        ],
                        "pyQName": "led.point_brightness"
                    },
                    "PulseValue": {
                        "kind": 6,
                        "retType": "PulseValue",
                        "extendsTypes": [
                            "PulseValue",
                            "Number"
                        ]
                    },
                    "PulseValue.High": {
                        "retType": "PulseValue.High",
                        "attributes": {
                            "block": "high",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "high",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PulseValue.High",
                            "Number"
                        ],
                        "pyQName": "PulseValue.HIGH"
                    },
                    "PulseValue.Low": {
                        "retType": "PulseValue.Low",
                        "attributes": {
                            "block": "low",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "low",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PulseValue.Low",
                            "Number"
                        ],
                        "pyQName": "PulseValue.LOW"
                    },
                    "PinEvent": {
                        "kind": 6,
                        "retType": "PinEvent",
                        "extendsTypes": [
                            "PinEvent",
                            "Number"
                        ]
                    },
                    "PinEvent.PulseHigh": {
                        "retType": "PinEvent.PulseHigh",
                        "attributes": {
                            "block": "pulse high",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pulse high",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinEvent.PulseHigh",
                            "Number"
                        ],
                        "pyQName": "PinEvent.PULSE_HIGH"
                    },
                    "PinEvent.PulseLow": {
                        "retType": "PinEvent.PulseLow",
                        "attributes": {
                            "block": "pulse low",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pulse low",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinEvent.PulseLow",
                            "Number"
                        ],
                        "pyQName": "PinEvent.PULSE_LOW"
                    },
                    "PinEvent.Rise": {
                        "retType": "PinEvent.Rise",
                        "attributes": {
                            "block": "rise",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rise",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinEvent.Rise",
                            "Number"
                        ],
                        "pyQName": "PinEvent.RISE"
                    },
                    "PinEvent.Fall": {
                        "retType": "PinEvent.Fall",
                        "attributes": {
                            "block": "fall",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fall",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinEvent.Fall",
                            "Number"
                        ],
                        "pyQName": "PinEvent.FALL"
                    },
                    "PinPullMode": {
                        "kind": 6,
                        "retType": "PinPullMode",
                        "extendsTypes": [
                            "PinPullMode",
                            "Number"
                        ]
                    },
                    "PinPullMode.PullDown": {
                        "retType": "PinPullMode.PullDown",
                        "attributes": {
                            "block": "down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinPullMode.PullDown",
                            "Number"
                        ],
                        "pyQName": "PinPullMode.PULL_DOWN"
                    },
                    "PinPullMode.PullUp": {
                        "retType": "PinPullMode.PullUp",
                        "attributes": {
                            "block": "up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinPullMode.PullUp",
                            "Number"
                        ],
                        "pyQName": "PinPullMode.PULL_UP"
                    },
                    "PinPullMode.PullNone": {
                        "retType": "PinPullMode.PullNone",
                        "attributes": {
                            "block": "none",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "none",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PinPullMode.PullNone",
                            "Number"
                        ],
                        "pyQName": "PinPullMode.PULL_NONE"
                    },
                    "servos": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#03AA74",
                            "weight": 88,
                            "icon": "",
                            "jsDoc": "Servos"
                        }
                    },
                    "jacdac": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E79251",
                            "weight": 5,
                            "icon": "",
                            "groups": [
                                "Broadcast",
                                "Console",
                                "Controller",
                                "Services",
                                "Control"
                            ],
                            "blockGap": "8",
                            "advanced": true,
                            "jsDoc": "A Joint Asynchronous Communications, Device Agnostic Control."
                        }
                    },
                    "control.Timer": {
                        "kind": 8,
                        "retType": "control.Timer",
                        "attributes": {
                            "fixedInstances": "true",
                            "jsDoc": "A timer"
                        },
                        "extendsTypes": []
                    },
                    "control.Timer.start": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "control.Timer.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.Timer.millis": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "timerMillis",
                            "block": "%timer|millis",
                            "jsDoc": "Gets the elapsed time in millis since the last reset",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "millis",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.Timer.seconds": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "timerSeconds",
                            "block": "%timer|seconds",
                            "jsDoc": "Gets the elapsed time in seconds since the last reset",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "seconds",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.Timer.reset": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "timerRest",
                            "block": "%timer|reset",
                            "jsDoc": "Resets the timer",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "reset",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "control.Timer.pauseUntil": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "ms": "5"
                            },
                            "blockId": "timerPauseUntil",
                            "block": "%timer|pause until (ms) %ms",
                            "paramHelp": {
                                "ms": "how long to pause for, eg: 5, 100, 200, 500, 1000, 2000"
                            },
                            "jsDoc": "Pauses until the timer reaches the given amount of milliseconds",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pause until (ms) ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "ms",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "timer",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "ms",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ms",
                                "description": "how long to pause for, eg: 5, 100, 200, 500, 1000, 2000",
                                "default": "5"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "control.Timer.pause_until"
                    },
                    "control.timer1": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 1",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer2": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 2",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 2",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer3": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 3",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 3",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer4": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer5": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 5",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 5",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer6": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 6",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 6",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer7": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 7",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 7",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "control.timer8": {
                        "kind": 4,
                        "retType": "control.Timer",
                        "attributes": {
                            "whenUsed": "true",
                            "fixedInstance": "true",
                            "block": "timer 8",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "timer 8",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "configStorage.setItem": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "key": "identifier of the key (max 16 characters)",
                                "value": "identifier of the value (max 32 characters)"
                            },
                            "jsDoc": "Stores the value at the key entry"
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "description": "identifier of the key (max 16 characters)",
                                "type": "string"
                            },
                            {
                                "name": "value",
                                "description": "identifier of the value (max 32 characters)",
                                "type": "string"
                            }
                        ],
                        "pyQName": "configStorage.set_item"
                    },
                    "configStorage.getItem": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "paramHelp": {
                                "key": "identifier of the key (max 16 characters)"
                            },
                            "jsDoc": "Retrieves the value at the key entry"
                        },
                        "parameters": [
                            {
                                "name": "key",
                                "description": "identifier of the key (max 16 characters)",
                                "type": "string"
                            }
                        ],
                        "pyQName": "configStorage.get_item"
                    },
                    "pins.LevelDetector": {
                        "kind": 8,
                        "retType": "pins.LevelDetector",
                        "extendsTypes": []
                    },
                    "pins.LevelDetector.id": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "pins.LevelDetector.min": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "pins.LevelDetector.max": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "pins.LevelDetector.lowThreshold": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.low_threshold"
                    },
                    "pins.LevelDetector.highThreshold": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.high_threshold"
                    },
                    "pins.LevelDetector.onHigh": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.on_high"
                    },
                    "pins.LevelDetector.onLow": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.on_low"
                    },
                    "pins.LevelDetector.onNeutral": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.on_neutral"
                    },
                    "pins.LevelDetector.transitionWindow": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.transition_window"
                    },
                    "pins.LevelDetector.transitionInterval": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.transition_interval"
                    },
                    "pins.LevelDetector.LEVEL_THRESHOLD_NEUTRAL": {
                        "kind": 2,
                        "retType": "number"
                    },
                    "pins.LevelDetector.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "id"
                            },
                            {
                                "name": "min"
                            },
                            {
                                "name": "max"
                            },
                            {
                                "name": "lowThreshold"
                            },
                            {
                                "name": "highThreshold"
                            }
                        ],
                        "isInstance": true
                    },
                    "pins.LevelDetector.reset": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "pins.LevelDetector.level": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "pins.LevelDetector.level@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "pins.LevelDetector.setLowThreshold": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.set_low_threshold"
                    },
                    "pins.LevelDetector.setHighThreshold": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "pins.LevelDetector.set_high_threshold"
                    },
                    "IconNames": {
                        "kind": 6,
                        "retType": "IconNames",
                        "attributes": {
                            "jsDoc": "Control of the LED screen."
                        },
                        "extendsTypes": [
                            "IconNames",
                            "Number"
                        ]
                    },
                    "IconNames.Heart": {
                        "retType": "IconNames.Heart",
                        "attributes": {
                            "block": "heart",
                            "jres": "icons.heart",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "heart",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Heart",
                            "Number"
                        ],
                        "pyQName": "IconNames.HEART"
                    },
                    "IconNames.SmallHeart": {
                        "retType": "IconNames.SmallHeart",
                        "attributes": {
                            "block": "small heart",
                            "jres": "icons.smallheart",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "small heart",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.SmallHeart",
                            "Number"
                        ],
                        "pyQName": "IconNames.SMALL_HEART"
                    },
                    "IconNames.Yes": {
                        "retType": "IconNames.Yes",
                        "attributes": {
                            "block": "yes",
                            "jres": "icons.yes",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yes",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Yes",
                            "Number"
                        ],
                        "pyQName": "IconNames.YES"
                    },
                    "IconNames.No": {
                        "retType": "IconNames.No",
                        "attributes": {
                            "block": "no",
                            "jres": "icons.no",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "no",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.No",
                            "Number"
                        ],
                        "pyQName": "IconNames.NO"
                    },
                    "IconNames.Happy": {
                        "retType": "IconNames.Happy",
                        "attributes": {
                            "block": "happy",
                            "jres": "icons.happy",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "happy",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Happy",
                            "Number"
                        ],
                        "pyQName": "IconNames.HAPPY"
                    },
                    "IconNames.Sad": {
                        "retType": "IconNames.Sad",
                        "attributes": {
                            "block": "sad",
                            "jres": "icons.sad",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sad",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Sad",
                            "Number"
                        ],
                        "pyQName": "IconNames.SAD"
                    },
                    "IconNames.Confused": {
                        "retType": "IconNames.Confused",
                        "attributes": {
                            "block": "confused",
                            "jres": "icons.confused",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "confused",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Confused",
                            "Number"
                        ],
                        "pyQName": "IconNames.CONFUSED"
                    },
                    "IconNames.Angry": {
                        "retType": "IconNames.Angry",
                        "attributes": {
                            "block": "angry",
                            "jres": "icons.angry",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "angry",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Angry",
                            "Number"
                        ],
                        "pyQName": "IconNames.ANGRY"
                    },
                    "IconNames.Asleep": {
                        "retType": "IconNames.Asleep",
                        "attributes": {
                            "block": "asleep",
                            "jres": "icons.asleep",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "asleep",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Asleep",
                            "Number"
                        ],
                        "pyQName": "IconNames.ASLEEP"
                    },
                    "IconNames.Surprised": {
                        "retType": "IconNames.Surprised",
                        "attributes": {
                            "block": "surprised",
                            "jres": "icons.surprised",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "surprised",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Surprised",
                            "Number"
                        ],
                        "pyQName": "IconNames.SURPRISED"
                    },
                    "IconNames.Silly": {
                        "retType": "IconNames.Silly",
                        "attributes": {
                            "block": "silly",
                            "jres": "icons.silly",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "silly",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Silly",
                            "Number"
                        ],
                        "pyQName": "IconNames.SILLY"
                    },
                    "IconNames.Fabulous": {
                        "retType": "IconNames.Fabulous",
                        "attributes": {
                            "block": "fabulous",
                            "jres": "icons.fabulous",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fabulous",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Fabulous",
                            "Number"
                        ],
                        "pyQName": "IconNames.FABULOUS"
                    },
                    "IconNames.Meh": {
                        "retType": "IconNames.Meh",
                        "attributes": {
                            "block": "meh",
                            "jres": "icons.meh",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "meh",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Meh",
                            "Number"
                        ],
                        "pyQName": "IconNames.MEH"
                    },
                    "IconNames.TShirt": {
                        "retType": "IconNames.TShirt",
                        "attributes": {
                            "block": "t-shirt",
                            "jres": "icons.tshirt",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "t-shirt",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.TShirt",
                            "Number"
                        ],
                        "pyQName": "IconNames.TSHIRT"
                    },
                    "IconNames.Rollerskate": {
                        "retType": "IconNames.Rollerskate",
                        "attributes": {
                            "block": "roller skate",
                            "jres": "icons.rollerskate",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "roller skate",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Rollerskate",
                            "Number"
                        ],
                        "pyQName": "IconNames.ROLLERSKATE"
                    },
                    "IconNames.Duck": {
                        "retType": "IconNames.Duck",
                        "attributes": {
                            "block": "duck",
                            "jres": "icons.duck",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "duck",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Duck",
                            "Number"
                        ],
                        "pyQName": "IconNames.DUCK"
                    },
                    "IconNames.House": {
                        "retType": "IconNames.House",
                        "attributes": {
                            "block": "house",
                            "jres": "icons.house",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "house",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.House",
                            "Number"
                        ],
                        "pyQName": "IconNames.HOUSE"
                    },
                    "IconNames.Tortoise": {
                        "retType": "IconNames.Tortoise",
                        "attributes": {
                            "block": "tortoise",
                            "jres": "icons.tortoise",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tortoise",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Tortoise",
                            "Number"
                        ],
                        "pyQName": "IconNames.TORTOISE"
                    },
                    "IconNames.Butterfly": {
                        "retType": "IconNames.Butterfly",
                        "attributes": {
                            "block": "butterfly",
                            "jres": "icons.butterfly",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "butterfly",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Butterfly",
                            "Number"
                        ],
                        "pyQName": "IconNames.BUTTERFLY"
                    },
                    "IconNames.StickFigure": {
                        "retType": "IconNames.StickFigure",
                        "attributes": {
                            "block": "stick figure",
                            "jres": "icons.stickfigure",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stick figure",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.StickFigure",
                            "Number"
                        ],
                        "pyQName": "IconNames.STICK_FIGURE"
                    },
                    "IconNames.Ghost": {
                        "retType": "IconNames.Ghost",
                        "attributes": {
                            "block": "ghost",
                            "jres": "icons.ghost",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "ghost",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Ghost",
                            "Number"
                        ],
                        "pyQName": "IconNames.GHOST"
                    },
                    "IconNames.Sword": {
                        "retType": "IconNames.Sword",
                        "attributes": {
                            "block": "sword",
                            "jres": "icons.sword",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sword",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Sword",
                            "Number"
                        ],
                        "pyQName": "IconNames.SWORD"
                    },
                    "IconNames.Giraffe": {
                        "retType": "IconNames.Giraffe",
                        "attributes": {
                            "block": "giraffe",
                            "jres": "icons.giraffe",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "giraffe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Giraffe",
                            "Number"
                        ],
                        "pyQName": "IconNames.GIRAFFE"
                    },
                    "IconNames.Skull": {
                        "retType": "IconNames.Skull",
                        "attributes": {
                            "block": "skull",
                            "jres": "icons.skull",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "skull",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Skull",
                            "Number"
                        ],
                        "pyQName": "IconNames.SKULL"
                    },
                    "IconNames.Umbrella": {
                        "retType": "IconNames.Umbrella",
                        "attributes": {
                            "block": "umbrella",
                            "jres": "icons.umbrella",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "umbrella",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Umbrella",
                            "Number"
                        ],
                        "pyQName": "IconNames.UMBRELLA"
                    },
                    "IconNames.Snake": {
                        "retType": "IconNames.Snake",
                        "attributes": {
                            "block": "snake",
                            "jres": "icons.snake",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "snake",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Snake",
                            "Number"
                        ],
                        "pyQName": "IconNames.SNAKE"
                    },
                    "IconNames.Rabbit": {
                        "retType": "IconNames.Rabbit",
                        "attributes": {
                            "block": "rabbit",
                            "jres": "icons.rabbit",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rabbit",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Rabbit",
                            "Number"
                        ],
                        "pyQName": "IconNames.RABBIT"
                    },
                    "IconNames.Cow": {
                        "retType": "IconNames.Cow",
                        "attributes": {
                            "block": "cow",
                            "jres": "icons.cow",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "cow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Cow",
                            "Number"
                        ],
                        "pyQName": "IconNames.COW"
                    },
                    "IconNames.QuarterNote": {
                        "retType": "IconNames.QuarterNote",
                        "attributes": {
                            "block": "quarter note",
                            "jres": "icons.quarternote",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "quarter note",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.QuarterNote",
                            "Number"
                        ],
                        "pyQName": "IconNames.QUARTER_NOTE"
                    },
                    "IconNames.EigthNote": {
                        "retType": "IconNames.EigthNote",
                        "attributes": {
                            "block": "eigth note",
                            "jres": "icons.eigthnote",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "eigth note",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.EigthNote",
                            "Number"
                        ],
                        "pyQName": "IconNames.EIGTH_NOTE"
                    },
                    "IconNames.Pitchfork": {
                        "retType": "IconNames.Pitchfork",
                        "attributes": {
                            "block": "pitchfork",
                            "jres": "icons.pitchfork",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pitchfork",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Pitchfork",
                            "Number"
                        ],
                        "pyQName": "IconNames.PITCHFORK"
                    },
                    "IconNames.Target": {
                        "retType": "IconNames.Target",
                        "attributes": {
                            "block": "target",
                            "jres": "icons.target",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "target",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Target",
                            "Number"
                        ],
                        "pyQName": "IconNames.TARGET"
                    },
                    "IconNames.Triangle": {
                        "retType": "IconNames.Triangle",
                        "attributes": {
                            "block": "triangle",
                            "jres": "icons.triangle",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "triangle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Triangle",
                            "Number"
                        ],
                        "pyQName": "IconNames.TRIANGLE"
                    },
                    "IconNames.LeftTriangle": {
                        "retType": "IconNames.LeftTriangle",
                        "attributes": {
                            "block": "left triangle",
                            "jres": "icons.lefttriangle",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left triangle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.LeftTriangle",
                            "Number"
                        ],
                        "pyQName": "IconNames.LEFT_TRIANGLE"
                    },
                    "IconNames.Chessboard": {
                        "retType": "IconNames.Chessboard",
                        "attributes": {
                            "block": "chess board",
                            "jres": "icons.chessboard",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "chess board",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Chessboard",
                            "Number"
                        ],
                        "pyQName": "IconNames.CHESSBOARD"
                    },
                    "IconNames.Diamond": {
                        "retType": "IconNames.Diamond",
                        "attributes": {
                            "block": "diamond",
                            "jres": "icons.diamond",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "diamond",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Diamond",
                            "Number"
                        ],
                        "pyQName": "IconNames.DIAMOND"
                    },
                    "IconNames.SmallDiamond": {
                        "retType": "IconNames.SmallDiamond",
                        "attributes": {
                            "block": "small diamond",
                            "jres": "icons.smalldiamond",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "small diamond",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.SmallDiamond",
                            "Number"
                        ],
                        "pyQName": "IconNames.SMALL_DIAMOND"
                    },
                    "IconNames.Square": {
                        "retType": "IconNames.Square",
                        "attributes": {
                            "block": "square",
                            "jres": "icons.square",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "square",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Square",
                            "Number"
                        ],
                        "pyQName": "IconNames.SQUARE"
                    },
                    "IconNames.SmallSquare": {
                        "retType": "IconNames.SmallSquare",
                        "attributes": {
                            "block": "small square",
                            "jres": "icons.smallsquare",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "small square",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.SmallSquare",
                            "Number"
                        ],
                        "pyQName": "IconNames.SMALL_SQUARE"
                    },
                    "IconNames.Scissors": {
                        "retType": "IconNames.Scissors",
                        "attributes": {
                            "block": "scissors",
                            "jres": "icons.scissors",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "scissors",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "IconNames.Scissors",
                            "Number"
                        ],
                        "pyQName": "IconNames.SCISSORS"
                    },
                    "led.point": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "help": "led/point",
                            "weight": 76,
                            "blockId": "device_point",
                            "block": "point|x %x|y %y",
                            "parts": "ledmatrix",
                            "paramMin": {
                                "x": "0",
                                "y": "0"
                            },
                            "paramMax": {
                                "x": "4",
                                "y": "4"
                            },
                            "paramFieldEditorOptions": {
                                "x": {
                                    "precision": "1"
                                },
                                "y": {
                                    "precision": "1"
                                }
                            },
                            "paramHelp": {
                                "x": "the horizontal coordinate of the LED",
                                "y": "the vertical coordinate of the LED"
                            },
                            "jsDoc": "Get the on/off state of the specified LED using x, y coordinates. (0,0) is upper left.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "point",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "the horizontal coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "description": "the vertical coordinate of the LED",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            }
                        ]
                    },
                    "led.plotBarGraph": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "high": "0"
                            },
                            "help": "led/plot-bar-graph",
                            "weight": 20,
                            "blockId": "device_plot_bar_graph",
                            "block": "plot bar graph of %value up to %high",
                            "icon": "",
                            "blockExternalInputs": "true",
                            "parts": "ledmatrix",
                            "inlineInputMode": "external",
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value. If 0, maximum value adjusted automatically, eg: 0"
                            },
                            "jsDoc": "Displays a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "plot bar graph of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value. If 0, maximum value adjusted automatically, eg: 0",
                                "default": "0"
                            }
                        ],
                        "pyQName": "led.plot_bar_graph"
                    },
                    "led.toggle": {
                        "kind": -3,
                        "attributes": {
                            "help": "led/toggle",
                            "weight": 77,
                            "blockId": "device_led_toggle",
                            "block": "toggle|x %x|y %y",
                            "icon": "",
                            "blockGap": "8",
                            "parts": "ledmatrix",
                            "paramMin": {
                                "x": "0",
                                "y": "0"
                            },
                            "paramMax": {
                                "x": "4",
                                "y": "4"
                            },
                            "paramFieldEditorOptions": {
                                "x": {
                                    "precision": "1"
                                },
                                "y": {
                                    "precision": "1"
                                }
                            },
                            "paramHelp": {
                                "x": "pixel column",
                                "y": "pixel row"
                            },
                            "jsDoc": "Toggles a particular pixel",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "toggle",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "x ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "y ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "x",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "y",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "x",
                                "description": "pixel column",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            },
                            {
                                "name": "y",
                                "description": "pixel row",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "4"
                                    }
                                }
                            }
                        ]
                    },
                    "led.showIcon": {
                        "kind": -3,
                        "attributes": {
                            "weight": 90,
                            "blockGap": "8",
                            "blockId": "basic_show_icon",
                            "block": "show icon %i",
                            "icon": "",
                            "parts": "ledmatrix",
                            "help": "basic/show-icon",
                            "paramFieldEditor": {
                                "icon": "imagedropdown"
                            },
                            "paramFieldEditorOptions": {
                                "icon": {
                                    "columns": "5",
                                    "width": "380",
                                    "maxRows": "4"
                                }
                            },
                            "paramHelp": {
                                "icon": "the predefined icon id",
                                "interval": "the amount of time (milliseconds) to show the icon. Default is 600."
                            },
                            "jsDoc": "Draws the selected icon on the LED screen",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show icon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "i",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "i",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "icon",
                                "description": "the predefined icon id",
                                "type": "IconNames",
                                "isEnum": true
                            },
                            {
                                "name": "interval",
                                "description": "the amount of time (milliseconds) to show the icon. Default is 600.",
                                "initializer": "600"
                            }
                        ],
                        "pyQName": "led.show_icon"
                    },
                    "jacdac.JDServiceMode": {
                        "kind": 6,
                        "retType": "jacdac.JDServiceMode",
                        "extendsTypes": [
                            "jacdac.JDServiceMode",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceMode.ClientService": {
                        "retType": "jacdac.JDServiceMode.ClientService",
                        "extendsTypes": [
                            "jacdac.JDServiceMode.ClientService",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDServiceMode.CLIENT_SERVICE"
                    },
                    "jacdac.JDServiceMode.HostService": {
                        "retType": "jacdac.JDServiceMode.HostService",
                        "extendsTypes": [
                            "jacdac.JDServiceMode.HostService",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDServiceMode.HOST_SERVICE"
                    },
                    "jacdac.JDServiceMode.BroadcastHostService": {
                        "retType": "jacdac.JDServiceMode.BroadcastHostService",
                        "extendsTypes": [
                            "jacdac.JDServiceMode.BroadcastHostService",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDServiceMode.BROADCAST_HOST_SERVICE"
                    },
                    "jacdac.JDServiceMode.ControlLayerService": {
                        "retType": "jacdac.JDServiceMode.ControlLayerService",
                        "extendsTypes": [
                            "jacdac.JDServiceMode.ControlLayerService",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDServiceMode.CONTROL_LAYER_SERVICE"
                    },
                    "jacdac.JDServiceClass": {
                        "kind": 6,
                        "retType": "jacdac.JDServiceClass",
                        "extendsTypes": [
                            "jacdac.JDServiceClass",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.CONTROL": {
                        "retType": "jacdac.JDServiceClass.CONTROL",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.CONTROL",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.CONTROL_RNG": {
                        "retType": "jacdac.JDServiceClass.CONTROL_RNG",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.CONTROL_RNG",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.CONTROL_CONFIGURATION": {
                        "retType": "jacdac.JDServiceClass.CONTROL_CONFIGURATION",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.CONTROL_CONFIGURATION",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.CONTROL_TEST": {
                        "retType": "jacdac.JDServiceClass.CONTROL_TEST",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.CONTROL_TEST",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.JOYSTICK": {
                        "retType": "jacdac.JDServiceClass.JOYSTICK",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.JOYSTICK",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.MESSAGE_BUS": {
                        "retType": "jacdac.JDServiceClass.MESSAGE_BUS",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.MESSAGE_BUS",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.BRIDGE": {
                        "retType": "jacdac.JDServiceClass.BRIDGE",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.BRIDGE",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.BUTTON": {
                        "retType": "jacdac.JDServiceClass.BUTTON",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.BUTTON",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.ACCELEROMETER": {
                        "retType": "jacdac.JDServiceClass.ACCELEROMETER",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.ACCELEROMETER",
                            "Number"
                        ]
                    },
                    "jacdac.JDServiceClass.CONSOLE": {
                        "retType": "jacdac.JDServiceClass.CONSOLE",
                        "extendsTypes": [
                            "jacdac.JDServiceClass.CONSOLE",
                            "Number"
                        ]
                    },
                    "jacdac.JDService": {
                        "kind": 8,
                        "retType": "jacdac.JDService",
                        "extendsTypes": [
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.JDService.device": {
                        "kind": 2,
                        "retType": "jacdac.JDDevice",
                        "isInstance": true
                    },
                    "jacdac.JDService.service_number": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDService.status": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDService.service_flags": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDService.requiredDevice": {
                        "kind": 2,
                        "retType": "jacdac.JDRequiredDevice",
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.required_device"
                    },
                    "jacdac.JDService.onConnected": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.on_connected"
                    },
                    "jacdac.JDService.onDisconnected": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.on_disconnected"
                    },
                    "jacdac.JDService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "service_class"
                            },
                            {
                                "name": "mode",
                                "type": "jacdac.JDServiceMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDService.service_class": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDService.mode": {
                        "kind": -2,
                        "retType": "jacdac.JDServiceMode",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDService.addAdvertisementData": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.add_advertisement_data"
                    },
                    "jacdac.JDService.handleServiceInformation": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "serviceInfo",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.handle_service_information"
                    },
                    "jacdac.JDService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.handle_packet"
                    },
                    "jacdac.JDService.isConnected": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService.is_connected"
                    },
                    "jacdac.JDService.send": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDService._hostConnected": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService._host_connected"
                    },
                    "jacdac.JDService._hostDisconnected": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDService._host_disconnected"
                    },
                    "jacdac.JD_CONTROL_CONFIGURATION_SERVICE_PACKET_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JDConfigurationService": {
                        "kind": 8,
                        "retType": "jacdac.JDConfigurationService",
                        "extendsTypes": [
                            "jacdac.JDConfigurationService",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.JDConfigurationService.name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationService.send": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConfigurationService.handle_packet"
                    },
                    "jacdac.JDConfigurationService.triggerRemoteIdentification": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConfigurationService.trigger_remote_identification"
                    },
                    "jacdac.JDConfigurationService.setRemoteDeviceName": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address"
                            },
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConfigurationService.set_remote_device_name"
                    },
                    "jacdac.JDConsolePriority": {
                        "kind": 6,
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority",
                            "Number"
                        ]
                    },
                    "jacdac.JDConsolePriority.Debug": {
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority.Debug",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePriority.DEBUG"
                    },
                    "jacdac.JDConsolePriority.Log": {
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority.Log",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePriority.LOG"
                    },
                    "jacdac.JDConsolePriority.Warning": {
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority.Warning",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePriority.WARNING"
                    },
                    "jacdac.JDConsolePriority.Error": {
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority.Error",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePriority.ERROR"
                    },
                    "jacdac.JDConsolePriority.Silent": {
                        "retType": "jacdac.JDConsolePriority",
                        "extendsTypes": [
                            "jacdac.JDConsolePriority.Silent",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePriority.SILENT"
                    },
                    "jacdac.JDConsolePacketType": {
                        "kind": 6,
                        "retType": "jacdac.JDConsolePacketType",
                        "extendsTypes": [
                            "jacdac.JDConsolePacketType",
                            "Number"
                        ]
                    },
                    "jacdac.JDConsolePacketType.Unknown": {
                        "retType": "jacdac.JDConsolePacketType.Unknown",
                        "extendsTypes": [
                            "jacdac.JDConsolePacketType.Unknown",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePacketType.UNKNOWN"
                    },
                    "jacdac.JDConsolePacketType.Message": {
                        "retType": "jacdac.JDConsolePacketType.Message",
                        "extendsTypes": [
                            "jacdac.JDConsolePacketType.Message",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsolePacketType.MESSAGE"
                    },
                    "jacdac.JD_CONSOLE_SERVICE_MODE_OFF": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_CONSOLE_SERVICE_MODE_LISTEN": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_CONSOLE_SERVICE_MODE_LOGGER": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_CONSOLE_SERVIE_LOGGER_TIMEOUT": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JDConsoleMode": {
                        "kind": 6,
                        "retType": "jacdac.JDConsoleMode",
                        "extendsTypes": [
                            "jacdac.JDConsoleMode",
                            "Number"
                        ]
                    },
                    "jacdac.JDConsoleMode.Off": {
                        "retType": "jacdac.JDConsoleMode",
                        "extendsTypes": [
                            "jacdac.JDConsoleMode.Off",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsoleMode.OFF"
                    },
                    "jacdac.JDConsoleMode.Listen": {
                        "retType": "jacdac.JDConsoleMode",
                        "extendsTypes": [
                            "jacdac.JDConsoleMode.Listen",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsoleMode.LISTEN"
                    },
                    "jacdac.JDConsoleMode.Logger": {
                        "retType": "jacdac.JDConsoleMode",
                        "extendsTypes": [
                            "jacdac.JDConsoleMode.Logger",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDConsoleMode.LOGGER"
                    },
                    "jacdac.JD_CONSOLE_SERVICE_PACKET_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JDConsoleService": {
                        "kind": 8,
                        "retType": "jacdac.JDConsoleService",
                        "extendsTypes": [
                            "jacdac.JDConsoleService",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.JDConsoleService.onMessageReceived": {
                        "kind": 2,
                        "retType": "(priority: number, device_address: number, device_name: string, message: string) => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.on_message_received"
                    },
                    "jacdac.JDConsoleService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDConsoleService.consoleMode": {
                        "kind": -2,
                        "retType": "jacdac.JDConsoleMode",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.JDConsoleService.console_mode"
                    },
                    "jacdac.JDConsoleService.consoleMode@set": {
                        "kind": -2,
                        "retType": "jacdac.JDConsoleMode",
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.console_mode@set"
                    },
                    "jacdac.JDConsoleService.addAdvertisementData": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.add_advertisement_data"
                    },
                    "jacdac.JDConsoleService.handleServiceInformation": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "serviceInfo",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.handle_service_information"
                    },
                    "jacdac.JDConsoleService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.handle_packet"
                    },
                    "jacdac.JDConsoleService.minPriority": {
                        "kind": -2,
                        "retType": "jacdac.JDConsolePriority",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.JDConsoleService.min_priority"
                    },
                    "jacdac.JDConsoleService.minPriority@set": {
                        "kind": -2,
                        "retType": "jacdac.JDConsolePriority",
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsoleService.min_priority@set"
                    },
                    "jacdac.JDConsoleService.debug": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConsoleService.log": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConsoleService.warn": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConsoleService.error": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConsoleService.add": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "priority",
                                "type": "jacdac.JDConsolePriority",
                                "isEnum": true
                            },
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.DEVICE_OK": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_CONTROL_PACKET_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_CONTROL_ROLLING_TIMEOUT_VAL": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERVICE_STATUS_FLAGS_INITIALISED": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERVICE_INFO_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_FLAGS_NACK": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_FLAGS_HAS_NAME": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_FLAGS_PROPOSING": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_FLAGS_REJECT": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_MAX_HOST_SERVICES": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERIAL_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERIAL_UDID_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERIAL_CRC_HEADER_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERIAL_MAX_PAYLOAD_SIZE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_SERVICE_NUMBER_UNITIALISED_VAL": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_DEVICE_DEFAULT_COMMUNICATION_RATE": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JDBaudRate": {
                        "kind": 6,
                        "retType": "jacdac.JDBaudRate",
                        "extendsTypes": [
                            "jacdac.JDBaudRate",
                            "Number"
                        ]
                    },
                    "jacdac.JDBaudRate.Baud1M": {
                        "retType": "jacdac.JDBaudRate",
                        "extendsTypes": [
                            "jacdac.JDBaudRate.Baud1M",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDBaudRate.BAUD1_M"
                    },
                    "jacdac.JDBaudRate.Baud500k": {
                        "retType": "jacdac.JDBaudRate",
                        "extendsTypes": [
                            "jacdac.JDBaudRate.Baud500k",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDBaudRate.BAUD500K"
                    },
                    "jacdac.JDBaudRate.Baud250k": {
                        "retType": "jacdac.JDBaudRate",
                        "extendsTypes": [
                            "jacdac.JDBaudRate.Baud250k",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDBaudRate.BAUD250K"
                    },
                    "jacdac.JDBaudRate.Baud125k": {
                        "retType": "jacdac.JDBaudRate",
                        "extendsTypes": [
                            "jacdac.JDBaudRate.Baud125k",
                            "Number"
                        ],
                        "pyQName": "jacdac.JDBaudRate.BAUD125K"
                    },
                    "jacdac.JD_CONTROL_TRANSMIT_ONLY_ADDRESS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JDControlService": {
                        "kind": 8,
                        "retType": "jacdac.JDControlService",
                        "extendsTypes": [
                            "jacdac.JDControlService",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.JDControlService.name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDControlService.deviceManager": {
                        "kind": 2,
                        "retType": "jacdac.JDDeviceManager",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.device_manager"
                    },
                    "jacdac.JDControlService.rngService": {
                        "kind": 2,
                        "retType": "jacdac.JDRNGService",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.rng_service"
                    },
                    "jacdac.JDControlService.configurationService": {
                        "kind": 2,
                        "retType": "jacdac.JDConfigurationService",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.configuration_service"
                    },
                    "jacdac.JDControlService._intervalId": {
                        "kind": 2,
                        "retType": "any",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService._interval_id"
                    },
                    "jacdac.JDControlService.nextAddress": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.next_address"
                    },
                    "jacdac.JDControlService.onChange": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.on_change"
                    },
                    "jacdac.JDControlService.send": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDControlService.deviceDisconnected": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.device_disconnected"
                    },
                    "jacdac.JDControlService.deviceEnumerated": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.device_enumerated"
                    },
                    "jacdac.JDControlService.formControlPacket": {
                        "kind": -1,
                        "retType": "jacdac.JDControlPacket",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.form_control_packet"
                    },
                    "jacdac.JDControlService.startDeviceTimer": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Timer callback every 500 ms"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.start_device_timer"
                    },
                    "jacdac.JDControlService.enumerate": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDControlService.isEnumerated": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "*"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.is_enumerated"
                    },
                    "jacdac.JDControlService.isEnumerating": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "*"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.is_enumerating"
                    },
                    "jacdac.JDControlService.disconnect": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDControlService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDControlService.getRemoteDevice": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice",
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.get_remote_device"
                    },
                    "jacdac.JDControlService.routePacket": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.route_packet"
                    },
                    "jacdac.JDControlService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.handle_packet"
                    },
                    "jacdac.JDControlService.setDeviceName": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.set_device_name"
                    },
                    "jacdac.JDControlService.getDeviceName": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlService.get_device_name"
                    },
                    "jacdac.DebugView": {
                        "kind": 8,
                        "retType": "jacdac.DebugView",
                        "extendsTypes": [
                            "jacdac.DebugView"
                        ]
                    },
                    "jacdac.DebugView._debugViews": {
                        "kind": 2,
                        "retType": "jacdac.DebugView[]",
                        "pyQName": "jacdac.DebugView._debug_views"
                    },
                    "jacdac.DebugView.serviceClass": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.DebugView.service_class"
                    },
                    "jacdac.DebugView.name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.DebugView.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "serviceClass"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.DebugView.find": {
                        "kind": -1,
                        "retType": "jacdac.DebugView",
                        "parameters": [
                            {
                                "name": "serviceClass"
                            }
                        ]
                    },
                    "jacdac.DebugView.registerDefaultViews": {
                        "kind": -1,
                        "parameters": [],
                        "pyQName": "jacdac.DebugView.register_default_views"
                    },
                    "jacdac.DebugView.renderControlPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "service_information",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.DebugView.render_control_packet"
                    },
                    "jacdac.DebugView.renderPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.DebugView.render_packet"
                    },
                    "jacdac.ControlDebugView": {
                        "kind": 8,
                        "retType": "jacdac.ControlDebugView",
                        "extendsTypes": [
                            "jacdac.ControlDebugView",
                            "jacdac.DebugView"
                        ]
                    },
                    "jacdac.ControlDebugView.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.ControlDebugView.renderPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControlDebugView.render_packet"
                    },
                    "jacdac.jd_crc": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            },
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice",
                                "initializer": "undefined"
                            }
                        ]
                    },
                    "jacdac.DebuggerStruct": {
                        "kind": 9,
                        "retType": "jacdac.DebuggerStruct",
                        "extendsTypes": []
                    },
                    "jacdac.DebuggerStruct.pkt": {
                        "kind": 2,
                        "retType": "jacdac.JDPacket",
                        "isInstance": true
                    },
                    "jacdac.DebuggerStruct.view": {
                        "kind": 2,
                        "retType": "jacdac.DebugView",
                        "isInstance": true
                    },
                    "jacdac.DebuggerStruct.timestamp": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.DebuggerStruct.crcStatus": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerStruct.crc_status"
                    },
                    "jacdac.DebuggerStruct.serviceClass": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerStruct.service_class"
                    },
                    "jacdac.DebuggerClassEnums": {
                        "kind": 6,
                        "retType": "jacdac.DebuggerClassEnums",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.CONTROL": {
                        "retType": "jacdac.DebuggerClassEnums.CONTROL",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.CONTROL",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.CONTROL_RNG": {
                        "retType": "jacdac.DebuggerClassEnums.CONTROL_RNG",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.CONTROL_RNG",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.CONTROL_CONFIGURATION": {
                        "retType": "jacdac.DebuggerClassEnums.CONTROL_CONFIGURATION",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.CONTROL_CONFIGURATION",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.CONTROL_TEST": {
                        "retType": "jacdac.DebuggerClassEnums.CONTROL_TEST",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.CONTROL_TEST",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.JOYSTICK": {
                        "retType": "jacdac.DebuggerClassEnums.JOYSTICK",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.JOYSTICK",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.MESSAGE_BUS": {
                        "retType": "jacdac.DebuggerClassEnums.MESSAGE_BUS",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.MESSAGE_BUS",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.BRIDGE": {
                        "retType": "jacdac.DebuggerClassEnums.BRIDGE",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.BRIDGE",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.BUTTON": {
                        "retType": "jacdac.DebuggerClassEnums.BUTTON",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.BUTTON",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.ACCELEROMETER": {
                        "retType": "jacdac.DebuggerClassEnums.ACCELEROMETER",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.ACCELEROMETER",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerClassEnums.CONSOLE": {
                        "retType": "jacdac.DebuggerClassEnums.CONSOLE",
                        "extendsTypes": [
                            "jacdac.DebuggerClassEnums.CONSOLE",
                            "Number"
                        ]
                    },
                    "jacdac.DebuggerService": {
                        "kind": 8,
                        "retType": "jacdac.DebuggerService",
                        "extendsTypes": [
                            "jacdac.DebuggerService",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.DebuggerService.running": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true
                    },
                    "jacdac.DebuggerService.deviceManager": {
                        "kind": 2,
                        "retType": "jacdac.JDDeviceManager",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService.device_manager"
                    },
                    "jacdac.DebuggerService._intervalId": {
                        "kind": 2,
                        "retType": "any",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService._interval_id"
                    },
                    "jacdac.DebuggerService.paintDevices": {
                        "kind": 2,
                        "retType": "(devices: jacdac.JDDevice[]) => void",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService.paint_devices"
                    },
                    "jacdac.DebuggerService.paintPacket": {
                        "kind": 2,
                        "retType": "(packet: jacdac.DebuggerStruct) => void",
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService.paint_packet"
                    },
                    "jacdac.DebuggerService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.DebuggerService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService.handle_packet"
                    },
                    "jacdac.DebuggerService.handleServiceInformation": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "serviceInfo",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.DebuggerService.handle_service_information"
                    },
                    "jacdac.SensorDebugView": {
                        "kind": 8,
                        "retType": "jacdac.SensorDebugView",
                        "extendsTypes": [
                            "jacdac.SensorDebugView",
                            "jacdac.DebugView"
                        ]
                    },
                    "jacdac.SensorDebugView.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "driverClass"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.SensorDebugView.renderControlPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "service_information",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorDebugView.render_control_packet"
                    },
                    "jacdac.SensorDebugView.renderPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorDebugView.render_packet"
                    },
                    "jacdac.SensorDebugView.renderCustomPacket": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "cmd"
                            },
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorDebugView.render_custom_packet"
                    },
                    "jacdac.SensorDebugView.renderEvent": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorDebugView.render_event"
                    },
                    "jacdac.SensorDebugView.renderState": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "data",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorDebugView.render_state"
                    },
                    "jacdac.registerDebugViews": {
                        "kind": -3,
                        "parameters": [],
                        "pyQName": "jacdac.register_debug_views"
                    },
                    "jacdac.JDDeviceManager": {
                        "kind": 8,
                        "retType": "jacdac.JDDeviceManager",
                        "extendsTypes": []
                    },
                    "jacdac.JDDeviceManager.devices": {
                        "kind": 2,
                        "retType": "jacdac.JDDevice[]",
                        "isInstance": true
                    },
                    "jacdac.JDDeviceManager.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDDeviceManager.getDeviceList": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice[]",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.get_device_list"
                    },
                    "jacdac.JDDeviceManager.getRemoteDevice": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice",
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.get_remote_device"
                    },
                    "jacdac.JDDeviceManager.getRemoteDeviceUnique": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice",
                        "parameters": [
                            {
                                "name": "device_address"
                            },
                            {
                                "name": "udidh"
                            },
                            {
                                "name": "udidl"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.get_remote_device_unique"
                    },
                    "jacdac.JDDeviceManager.addDevice": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice",
                        "parameters": [
                            {
                                "name": "controlPacket",
                                "type": "jacdac.JDControlPacket"
                            },
                            {
                                "name": "communicationRate"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.add_device"
                    },
                    "jacdac.JDDeviceManager.updateDevice": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "controlPacket",
                                "type": "jacdac.JDControlPacket"
                            },
                            {
                                "name": "communicationRate"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.update_device"
                    },
                    "jacdac.JDDeviceManager.removeDevice": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDeviceManager.remove_device"
                    },
                    "jacdac.JDDiagnostics": {
                        "kind": 8,
                        "retType": "jacdac.JDDiagnostics",
                        "extendsTypes": []
                    },
                    "jacdac.JDDiagnostics.bus_state": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.bus_lo_error": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.bus_uart_error": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.bus_timeout_error": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.packets_sent": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.packets_received": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.packets_dropped": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.bus_status": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDDiagnostics.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDOptions": {
                        "kind": 9,
                        "retType": "jacdac.JDOptions",
                        "extendsTypes": []
                    },
                    "jacdac.JDOptions.utf8Encode": {
                        "kind": 2,
                        "retType": "(s: string) => Buffer",
                        "isInstance": true,
                        "pyQName": "jacdac.JDOptions.utf8_encode"
                    },
                    "jacdac.JDOptions.utf8Decode": {
                        "kind": 2,
                        "retType": "(b: Buffer) => string",
                        "isInstance": true,
                        "pyQName": "jacdac.JDOptions.utf8_decode"
                    },
                    "jacdac.JDOptions.createBuffer": {
                        "kind": 2,
                        "retType": "(size: number) => Buffer",
                        "isInstance": true,
                        "pyQName": "jacdac.JDOptions.create_buffer"
                    },
                    "jacdac.JDOptions.error": {
                        "kind": 2,
                        "retType": "(message: string) => void",
                        "isInstance": true
                    },
                    "jacdac.JDOptions.log": {
                        "kind": 2,
                        "retType": "(message: string) => void",
                        "isInstance": true
                    },
                    "jacdac.JDOptions.getSerialNumber": {
                        "kind": 2,
                        "retType": "() => Buffer",
                        "isInstance": true,
                        "pyQName": "jacdac.JDOptions.get_serial_number"
                    },
                    "jacdac.JDPhysicalLayer": {
                        "kind": 9,
                        "retType": "jacdac.JDPhysicalLayer",
                        "extendsTypes": []
                    },
                    "jacdac.JDPhysicalLayer.writeBuffer": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JDPhysicalLayer.write_buffer"
                    },
                    "jacdac.JDPhysicalLayer.isConnected": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDPhysicalLayer.is_connected"
                    },
                    "jacdac.JDSerializable": {
                        "kind": 9,
                        "retType": "jacdac.JDSerializable",
                        "extendsTypes": [
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDSerializable.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDSerializable.get_buffer"
                    },
                    "jacdac.JACDAC": {
                        "kind": 8,
                        "retType": "jacdac.JACDAC",
                        "attributes": {
                            "jsDoc": "A packet"
                        },
                        "extendsTypes": []
                    },
                    "jacdac.JACDAC.onIdentificationRequest": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.on_identification_request"
                    },
                    "jacdac.JACDAC.onNameRemotelyChanged": {
                        "kind": 2,
                        "retType": "(name: string) => void",
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.on_name_remotely_changed"
                    },
                    "jacdac.JACDAC.bus": {
                        "kind": -2,
                        "retType": "jacdac.JDPhysicalLayer",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JACDAC.bus@set": {
                        "kind": -2,
                        "retType": "jacdac.JDPhysicalLayer",
                        "isInstance": true
                    },
                    "jacdac.JACDAC.services": {
                        "kind": -2,
                        "retType": "jacdac.JDService[]",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JACDAC.bridge": {
                        "kind": -2,
                        "retType": "jacdac.JDService",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JACDAC.bridge@set": {
                        "kind": -2,
                        "retType": "jacdac.JDService",
                        "isInstance": true
                    },
                    "jacdac.JACDAC.devices": {
                        "kind": -2,
                        "retType": "jacdac.JDDevice[]",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JACDAC.controlService": {
                        "kind": -2,
                        "retType": "jacdac.JDControlService",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.JACDAC.control_service"
                    },
                    "jacdac.JACDAC.consoleService": {
                        "kind": -2,
                        "retType": "jacdac.JDConsoleService",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.JACDAC.console_service"
                    },
                    "jacdac.JACDAC.setDeviceAddress": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.set_device_address"
                    },
                    "jacdac.JACDAC.routePacket": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.route_packet"
                    },
                    "jacdac.JACDAC.start": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.stop": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.setDeviceName": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.set_device_name"
                    },
                    "jacdac.JACDAC.getDeviceName": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.get_device_name"
                    },
                    "jacdac.JACDAC.triggerRemoteIdentification": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.trigger_remote_identification"
                    },
                    "jacdac.JACDAC.setRemoteDeviceName": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "device_address"
                            },
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.set_remote_device_name"
                    },
                    "jacdac.JACDAC.getRemoteDevice": {
                        "kind": -1,
                        "retType": "jacdac.JDDevice",
                        "parameters": [
                            {
                                "name": "device_address"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.get_remote_device"
                    },
                    "jacdac.JACDAC.isRunning": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.is_running"
                    },
                    "jacdac.JACDAC.add": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "service",
                                "type": "jacdac.JDService"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.remove": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "service",
                                "type": "jacdac.JDService"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.contains": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "service",
                                "type": "jacdac.JDService"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.instance": {
                        "kind": -2,
                        "retType": "jacdac.JACDAC",
                        "isReadOnly": true
                    },
                    "jacdac.JACDAC.write": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "service_number"
                            },
                            {
                                "name": "device_address"
                            },
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JACDAC.writePacket": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "pkt",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.JACDAC.write_packet"
                    },
                    "jacdac.instance": {
                        "kind": -3,
                        "retType": "jacdac.JACDAC",
                        "attributes": {
                            "jsDoc": "Gets the JACDAC instance"
                        },
                        "parameters": []
                    },
                    "jacdac.devices": {
                        "kind": -3,
                        "retType": "jacdac.JDDevice[]",
                        "attributes": {
                            "jsDoc": "Gets a snapshot of the device list"
                        },
                        "parameters": []
                    },
                    "jacdac.isConnected": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Gets a value that indicates if the JACDAC bus is connected."
                        },
                        "parameters": [],
                        "pyQName": "jacdac.is_connected"
                    },
                    "jacdac.isRunning": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Gets a value that indicates if JACDAC is running."
                        },
                        "parameters": [],
                        "pyQName": "jacdac.is_running"
                    },
                    "jacdac.consoleService": {
                        "kind": -3,
                        "retType": "jacdac.JDConsoleService",
                        "attributes": {
                            "jsDoc": "Starts and returns the console service"
                        },
                        "parameters": [],
                        "pyQName": "jacdac.console_service"
                    },
                    "jacdac.random": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "min"
                            },
                            {
                                "name": "max"
                            }
                        ]
                    },
                    "jacdac.generate_eui64": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "serial",
                                "type": "Buffer"
                            }
                        ]
                    },
                    "jacdac.JDRNGService": {
                        "kind": 8,
                        "retType": "jacdac.JDRNGService",
                        "extendsTypes": [
                            "jacdac.JDRNGService",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.JDRNGService.send": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDRNGService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDPacket": {
                        "kind": 8,
                        "retType": "jacdac.JDPacket",
                        "extendsTypes": [
                            "jacdac.JDPacket",
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDPacket._buffer": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDPacket.crc": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.crc@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.device_address": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.device_address@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.udidh": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.udidl": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.size": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.size@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.service_number": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.service_number@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.data": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.data@set": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.communication_rate": {
                        "kind": -2,
                        "retType": "jacdac.JDBaudRate",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDPacket.communication_rate@set": {
                        "kind": -2,
                        "retType": "jacdac.JDBaudRate",
                        "isInstance": true
                    },
                    "jacdac.JDPacket.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDPacket.get_buffer"
                    },
                    "jacdac.JDPacket.toString": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDPacket.to_string"
                    },
                    "jacdac.JDControlPacket": {
                        "kind": 8,
                        "retType": "jacdac.JDControlPacket",
                        "extendsTypes": [
                            "jacdac.JDControlPacket",
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDControlPacket.unique_device_identifier": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.device_address": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.device_flags": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket._device_name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.data": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "p",
                                "type": "jacdac.JDPacket",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDControlPacket.get_buffer"
                    },
                    "jacdac.JDControlPacket.udidh": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDControlPacket.udidl": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDControlPacket.udid": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDControlPacket.device_name": {
                        "kind": -2,
                        "retType": "string",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDControlPacket.device_name@set": {
                        "kind": -2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDControlPacket.append": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDRequiredDevice": {
                        "kind": 8,
                        "retType": "jacdac.JDRequiredDevice",
                        "extendsTypes": []
                    },
                    "jacdac.JDRequiredDevice.unique_device_identifier": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDRequiredDevice.device_name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDRequiredDevice.udidh": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDRequiredDevice.udidl": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDDevice": {
                        "kind": 8,
                        "retType": "jacdac.JDDevice",
                        "extendsTypes": []
                    },
                    "jacdac.JDDevice.unique_device_identifier": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.device_address": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.device_flags": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.device_name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.rolling_counter": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.broadcast_servicemap": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.servicemap_bitmsk": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.communication_rate": {
                        "kind": 2,
                        "retType": "jacdac.JDBaudRate",
                        "isInstance": true
                    },
                    "jacdac.JDDevice.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "cp",
                                "type": "jacdac.JDControlPacket",
                                "initializer": "undefined"
                            },
                            {
                                "name": "communication_rate",
                                "type": "jacdac.JDBaudRate",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDDevice.services": {
                        "kind": -2,
                        "retType": "jacdac.JDServiceInformation[]",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDDevice.update": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "cp",
                                "type": "jacdac.JDControlPacket"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDDevice.udidh": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDDevice.udidl": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDDevice.udid": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "jacdac.JDDevice.toString": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDDevice.to_string"
                    },
                    "jacdac.JDServiceInformation": {
                        "kind": 8,
                        "retType": "jacdac.JDServiceInformation",
                        "extendsTypes": [
                            "jacdac.JDServiceInformation",
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDServiceInformation.service_class": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDServiceInformation.service_flags": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDServiceInformation.advertisement_size": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDServiceInformation.data": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.JDServiceInformation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDServiceInformation.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDServiceInformation.get_buffer"
                    },
                    "jacdac.JDConfigurationPacket": {
                        "kind": 8,
                        "retType": "jacdac.JDConfigurationPacket",
                        "extendsTypes": [
                            "jacdac.JDConfigurationPacket",
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDConfigurationPacket.device_address": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationPacket.request_type": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationPacket.new_name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationPacket.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "p",
                                "type": "jacdac.JDPacket",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConfigurationPacket.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConfigurationPacket.get_buffer"
                    },
                    "jacdac.JDConsolePacket": {
                        "kind": 8,
                        "retType": "jacdac.JDConsolePacket",
                        "extendsTypes": [
                            "jacdac.JDConsolePacket",
                            "jacdac.JDSerializable"
                        ]
                    },
                    "jacdac.JDConsolePacket.priority": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "jacdac.JDConsolePacket.packetType": {
                        "kind": 2,
                        "retType": "jacdac.JDConsolePacketType",
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsolePacket.packet_type"
                    },
                    "jacdac.JDConsolePacket.message": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.JDConsolePacket.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "p",
                                "type": "jacdac.JDPacket",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDConsolePacket.getBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.JDConsolePacket.get_buffer"
                    },
                    "jacdac.options": {
                        "kind": 5,
                        "retType": ""
                    },
                    "jacdac.options.utf8Decode": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "jacdac.options.utf8_decode"
                    },
                    "jacdac.options.utf8Encode": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "str",
                                "type": "string"
                            }
                        ],
                        "pyQName": "jacdac.options.utf8_encode"
                    },
                    "jacdac.options.createBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [
                            {
                                "name": "size"
                            }
                        ],
                        "pyQName": "jacdac.options.create_buffer"
                    },
                    "jacdac.options.error": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ]
                    },
                    "jacdac.options.log": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "message",
                                "type": "string"
                            }
                        ]
                    },
                    "jacdac.options.getSerialNumber": {
                        "kind": -3,
                        "retType": "Buffer",
                        "parameters": [],
                        "pyQName": "jacdac.options.get_serial_number"
                    },
                    "jacdac.options.getTimeMs": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [],
                        "pyQName": "jacdac.options.get_time_ms"
                    },
                    "JDBusState": {
                        "kind": 6,
                        "retType": "JDBusState",
                        "extendsTypes": [
                            "JDBusState",
                            "Number"
                        ]
                    },
                    "JDBusState.Receiving": {
                        "retType": "JDBusState.Receiving",
                        "extendsTypes": [
                            "JDBusState.Receiving",
                            "Number"
                        ],
                        "pyQName": "JDBusState.RECEIVING"
                    },
                    "JDBusState.Transmitting": {
                        "retType": "JDBusState.Transmitting",
                        "extendsTypes": [
                            "JDBusState.Transmitting",
                            "Number"
                        ],
                        "pyQName": "JDBusState.TRANSMITTING"
                    },
                    "JDBusState.High": {
                        "retType": "JDBusState.High",
                        "extendsTypes": [
                            "JDBusState.High",
                            "Number"
                        ],
                        "pyQName": "JDBusState.HIGH"
                    },
                    "JDBusState.Low": {
                        "retType": "JDBusState.Low",
                        "extendsTypes": [
                            "JDBusState.Low",
                            "Number"
                        ],
                        "pyQName": "JDBusState.LOW"
                    },
                    "JDBusState.NotSupported": {
                        "retType": "JDBusState.NotSupported",
                        "extendsTypes": [
                            "JDBusState.NotSupported",
                            "Number"
                        ],
                        "pyQName": "JDBusState.NOT_SUPPORTED"
                    },
                    "jacdac.start": {
                        "kind": -3,
                        "parameters": []
                    },
                    "jacdac.diagnostics": {
                        "kind": -3,
                        "retType": "jacdac.JDDiagnostics",
                        "parameters": []
                    },
                    "jacdac.stop": {
                        "kind": -3,
                        "parameters": []
                    },
                    "jacdac.setDeviceName": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "jdsetdevicename",
                            "block": "jacdac set device name to $name",
                            "group": "Services",
                            "blockGap": "8",
                            "paramHelp": {
                                "name": "name of the device"
                            },
                            "jsDoc": "Sets the name of the current device on the JACDAC bus",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jacdac set device name to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "description": "name of the device",
                                "type": "string"
                            }
                        ],
                        "pyQName": "jacdac.set_device_name"
                    },
                    "jacdac.__physId": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Gets the physical layer component id"
                        },
                        "parameters": []
                    },
                    "jacdac.__physSendPacket": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Write a buffer to the jacdac physical layer."
                        },
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ]
                    },
                    "jacdac.__physGetPacket": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Reads a packet from the queue. NULL if queue is empty"
                        },
                        "parameters": []
                    },
                    "jacdac.__physIsConnected": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Returns the connection state of the JACDAC physical layer."
                        },
                        "parameters": []
                    },
                    "jacdac.__physIsRunning": {
                        "kind": -3,
                        "retType": "boolean",
                        "attributes": {
                            "jsDoc": "Indicates if the bus is running"
                        },
                        "parameters": []
                    },
                    "jacdac.__physStart": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Starts the JACDAC physical layer."
                        },
                        "parameters": []
                    },
                    "jacdac.__physGetDiagnostics": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Reads the diagnostics struct provided by the physical layer. Returns a buffer or NULL."
                        },
                        "parameters": []
                    },
                    "jacdac.__physStop": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Stops the JACDAC physical layer."
                        },
                        "parameters": []
                    },
                    "jacdac.consolePriority": {
                        "kind": 4,
                        "retType": "ConsolePriority",
                        "pyQName": "jacdac.console_priority"
                    },
                    "jacdac.toHex": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "jacdac.to_hex"
                    },
                    "jacdac.toHex16": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "jacdac.to_hex16"
                    },
                    "jacdac.toHex8": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "n"
                            }
                        ],
                        "pyQName": "jacdac.to_hex8"
                    },
                    "jacdac.JD_DEVICE_CLASS_MAKECODE_START": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.LOGGER_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.BATTERY_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.ACCELEROMETER_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.BUTTON_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.TOUCHBUTTON_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.LIGHT_SENSOR_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.MICROPHONE_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.THERMOMETER_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.SWITCH_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.PIXEL_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.HAPTIC_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.LIGHT_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.KEYBOARD_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.MOUSE_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.GAMEPAD_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.MUSIC_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.SERVO_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.CONTROLLER_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.LCD_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.MESSAGE_BUS_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.COLOR_SENSOR_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.LIGHT_SPECTRUM_SENSOR_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.PROXIMITY_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.TOUCH_BUTTONS_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.SERVOS_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.ROTARY_ENCODER_DEVICE_CLASS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.JD_MESSAGE_BUS_ID": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "jacdac.BUTTON_EVENTS": {
                        "kind": 4,
                        "retType": "number[]"
                    },
                    "JDLightCommand": {
                        "kind": 6,
                        "retType": "JDLightCommand",
                        "extendsTypes": [
                            "JDLightCommand",
                            "Number"
                        ]
                    },
                    "JDLightCommand.None": {
                        "retType": "JDLightCommand.None",
                        "extendsTypes": [
                            "JDLightCommand.None",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.NONE"
                    },
                    "JDLightCommand.SetAll": {
                        "retType": "JDLightCommand.SetAll",
                        "extendsTypes": [
                            "JDLightCommand.SetAll",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.SET_ALL"
                    },
                    "JDLightCommand.SetBrightness": {
                        "retType": "JDLightCommand.SetBrightness",
                        "extendsTypes": [
                            "JDLightCommand.SetBrightness",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.SET_BRIGHTNESS"
                    },
                    "JDLightCommand.Rainbow": {
                        "retType": "JDLightCommand.Rainbow",
                        "extendsTypes": [
                            "JDLightCommand.Rainbow",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.RAINBOW"
                    },
                    "JDLightCommand.RunningLights": {
                        "retType": "JDLightCommand.RunningLights",
                        "extendsTypes": [
                            "JDLightCommand.RunningLights",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.RUNNING_LIGHTS"
                    },
                    "JDLightCommand.ColorWipe": {
                        "retType": "JDLightCommand.ColorWipe",
                        "extendsTypes": [
                            "JDLightCommand.ColorWipe",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.COLOR_WIPE"
                    },
                    "JDLightCommand.Comet": {
                        "retType": "JDLightCommand.Comet",
                        "extendsTypes": [
                            "JDLightCommand.Comet",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.COMET"
                    },
                    "JDLightCommand.TheaterChase": {
                        "retType": "JDLightCommand.TheaterChase",
                        "extendsTypes": [
                            "JDLightCommand.TheaterChase",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.THEATER_CHASE"
                    },
                    "JDLightCommand.Sparkle": {
                        "retType": "JDLightCommand.Sparkle",
                        "extendsTypes": [
                            "JDLightCommand.Sparkle",
                            "Number"
                        ],
                        "pyQName": "JDLightCommand.SPARKLE"
                    },
                    "JDLightAnimation": {
                        "kind": 6,
                        "retType": "JDLightAnimation",
                        "extendsTypes": [
                            "JDLightAnimation",
                            "Number"
                        ]
                    },
                    "JDLightAnimation.Rainbow": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "rainbow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rainbow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.Rainbow",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.RAINBOW"
                    },
                    "JDLightAnimation.RunningLights": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "running lights",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "running lights",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.RunningLights",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.RUNNING_LIGHTS"
                    },
                    "JDLightAnimation.ColorWipe": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "color wipe",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "color wipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.ColorWipe",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.COLOR_WIPE"
                    },
                    "JDLightAnimation.Comet": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "comet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "comet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.Comet",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.COMET"
                    },
                    "JDLightAnimation.TheaterChase": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "theater chase",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "theater chase",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.TheaterChase",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.THEATER_CHASE"
                    },
                    "JDLightAnimation.Sparkle": {
                        "retType": "JDLightAnimation",
                        "attributes": {
                            "block": "sparkle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sparkle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightAnimation.Sparkle",
                            "Number"
                        ],
                        "pyQName": "JDLightAnimation.SPARKLE"
                    },
                    "JDKeyboardCommand": {
                        "kind": 6,
                        "retType": "JDKeyboardCommand",
                        "extendsTypes": [
                            "JDKeyboardCommand",
                            "Number"
                        ]
                    },
                    "JDKeyboardCommand.None": {
                        "retType": "JDKeyboardCommand.None",
                        "extendsTypes": [
                            "JDKeyboardCommand.None",
                            "Number"
                        ],
                        "pyQName": "JDKeyboardCommand.NONE"
                    },
                    "JDKeyboardCommand.Type": {
                        "retType": "JDKeyboardCommand.Type",
                        "extendsTypes": [
                            "JDKeyboardCommand.Type",
                            "Number"
                        ],
                        "pyQName": "JDKeyboardCommand.TYPE"
                    },
                    "JDKeyboardCommand.Key": {
                        "retType": "JDKeyboardCommand.Key",
                        "extendsTypes": [
                            "JDKeyboardCommand.Key",
                            "Number"
                        ],
                        "pyQName": "JDKeyboardCommand.KEY"
                    },
                    "JDKeyboardCommand.MediaKey": {
                        "retType": "JDKeyboardCommand.MediaKey",
                        "extendsTypes": [
                            "JDKeyboardCommand.MediaKey",
                            "Number"
                        ],
                        "pyQName": "JDKeyboardCommand.MEDIA_KEY"
                    },
                    "JDKeyboardCommand.FunctionKey": {
                        "retType": "JDKeyboardCommand.FunctionKey",
                        "extendsTypes": [
                            "JDKeyboardCommand.FunctionKey",
                            "Number"
                        ],
                        "pyQName": "JDKeyboardCommand.FUNCTION_KEY"
                    },
                    "JDMouseCommand": {
                        "kind": 6,
                        "retType": "JDMouseCommand",
                        "extendsTypes": [
                            "JDMouseCommand",
                            "Number"
                        ]
                    },
                    "JDMouseCommand.None": {
                        "retType": "JDMouseCommand.None",
                        "extendsTypes": [
                            "JDMouseCommand.None",
                            "Number"
                        ],
                        "pyQName": "JDMouseCommand.NONE"
                    },
                    "JDMouseCommand.Button": {
                        "retType": "JDMouseCommand.Button",
                        "extendsTypes": [
                            "JDMouseCommand.Button",
                            "Number"
                        ],
                        "pyQName": "JDMouseCommand.BUTTON"
                    },
                    "JDMouseCommand.Move": {
                        "retType": "JDMouseCommand.Move",
                        "extendsTypes": [
                            "JDMouseCommand.Move",
                            "Number"
                        ],
                        "pyQName": "JDMouseCommand.MOVE"
                    },
                    "JDMouseCommand.TurnWheel": {
                        "retType": "JDMouseCommand.TurnWheel",
                        "extendsTypes": [
                            "JDMouseCommand.TurnWheel",
                            "Number"
                        ],
                        "pyQName": "JDMouseCommand.TURN_WHEEL"
                    },
                    "JDGamepadCommand": {
                        "kind": 6,
                        "retType": "JDGamepadCommand",
                        "extendsTypes": [
                            "JDGamepadCommand",
                            "Number"
                        ]
                    },
                    "JDGamepadCommand.None": {
                        "retType": "JDGamepadCommand.None",
                        "extendsTypes": [
                            "JDGamepadCommand.None",
                            "Number"
                        ],
                        "pyQName": "JDGamepadCommand.NONE"
                    },
                    "JDGamepadCommand.Button": {
                        "retType": "JDGamepadCommand.Button",
                        "extendsTypes": [
                            "JDGamepadCommand.Button",
                            "Number"
                        ],
                        "pyQName": "JDGamepadCommand.BUTTON"
                    },
                    "JDGamepadCommand.Move": {
                        "retType": "JDGamepadCommand.Move",
                        "extendsTypes": [
                            "JDGamepadCommand.Move",
                            "Number"
                        ],
                        "pyQName": "JDGamepadCommand.MOVE"
                    },
                    "JDGamepadCommand.Throttle": {
                        "retType": "JDGamepadCommand.Throttle",
                        "extendsTypes": [
                            "JDGamepadCommand.Throttle",
                            "Number"
                        ],
                        "pyQName": "JDGamepadCommand.THROTTLE"
                    },
                    "JDMusicCommand": {
                        "kind": 6,
                        "retType": "JDMusicCommand",
                        "extendsTypes": [
                            "JDMusicCommand",
                            "Number"
                        ]
                    },
                    "JDMusicCommand.None": {
                        "retType": "JDMusicCommand.None",
                        "extendsTypes": [
                            "JDMusicCommand.None",
                            "Number"
                        ],
                        "pyQName": "JDMusicCommand.NONE"
                    },
                    "JDMusicCommand.PlayTone": {
                        "retType": "JDMusicCommand.PlayTone",
                        "extendsTypes": [
                            "JDMusicCommand.PlayTone",
                            "Number"
                        ],
                        "pyQName": "JDMusicCommand.PLAY_TONE"
                    },
                    "JDGesture": {
                        "kind": 6,
                        "retType": "JDGesture",
                        "extendsTypes": [
                            "JDGesture",
                            "Number"
                        ]
                    },
                    "JDGesture.Shake": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "shake",
                            "jsDoc": "Raised when shaken",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "shake",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.Shake",
                            "Number"
                        ],
                        "pyQName": "JDGesture.SHAKE"
                    },
                    "JDGesture.TiltUp": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "tilt up",
                            "jsDoc": "Raised when the device tilts up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.TiltUp",
                            "Number"
                        ],
                        "pyQName": "JDGesture.TILT_UP"
                    },
                    "JDGesture.TiltDown": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "tilt down",
                            "jsDoc": "Raised when the device tilts down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.TiltDown",
                            "Number"
                        ],
                        "pyQName": "JDGesture.TILT_DOWN"
                    },
                    "JDGesture.TiltLeft": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "tilt left",
                            "jsDoc": "Raised when the screen is pointing left",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.TiltLeft",
                            "Number"
                        ],
                        "pyQName": "JDGesture.TILT_LEFT"
                    },
                    "JDGesture.TiltRight": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "tilt right",
                            "jsDoc": "Raised when the screen is pointing right",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.TiltRight",
                            "Number"
                        ],
                        "pyQName": "JDGesture.TILT_RIGHT"
                    },
                    "JDGesture.FaceUp": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "face up",
                            "jsDoc": "Raised when the screen faces up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "face up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.FaceUp",
                            "Number"
                        ],
                        "pyQName": "JDGesture.FACE_UP"
                    },
                    "JDGesture.FaceDown": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "face down",
                            "jsDoc": "Raised when the screen is pointing up and the board is horizontal",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "face down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.FaceDown",
                            "Number"
                        ],
                        "pyQName": "JDGesture.FACE_DOWN"
                    },
                    "JDGesture.FreeFall": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "free fall",
                            "jsDoc": "Raised when the board is falling!",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "free fall",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.FreeFall",
                            "Number"
                        ],
                        "pyQName": "JDGesture.FREE_FALL"
                    },
                    "JDGesture.ThreeG": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "3g",
                            "jsDoc": "Raised when a 3G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "3g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.ThreeG",
                            "Number"
                        ],
                        "pyQName": "JDGesture.THREE_G"
                    },
                    "JDGesture.SixG": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "6g",
                            "jsDoc": "Raised when a 6G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "6g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.SixG",
                            "Number"
                        ],
                        "pyQName": "JDGesture.SIX_G"
                    },
                    "JDGesture.EightG": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "8g",
                            "jsDoc": "Raised when a 8G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "8g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.EightG",
                            "Number"
                        ],
                        "pyQName": "JDGesture.EIGHT_G"
                    },
                    "JDGesture.TwoG": {
                        "retType": "JDGesture",
                        "attributes": {
                            "block": "2g (step)",
                            "jsDoc": "Raised when a 2g move (or step) is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "2g (step)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDGesture.TwoG",
                            "Number"
                        ],
                        "pyQName": "JDGesture.TWO_G"
                    },
                    "JDDimension": {
                        "kind": 6,
                        "retType": "JDDimension",
                        "extendsTypes": [
                            "JDDimension",
                            "Number"
                        ]
                    },
                    "JDDimension.X": {
                        "retType": "JDDimension.X",
                        "attributes": {
                            "block": "x",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "x",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDDimension.X",
                            "Number"
                        ]
                    },
                    "JDDimension.Y": {
                        "retType": "JDDimension.Y",
                        "attributes": {
                            "block": "y",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "y",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDDimension.Y",
                            "Number"
                        ]
                    },
                    "JDDimension.Z": {
                        "retType": "JDDimension.Z",
                        "attributes": {
                            "block": "z",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "z",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDDimension.Z",
                            "Number"
                        ]
                    },
                    "JDDimension.Strength": {
                        "retType": "JDDimension.Strength",
                        "attributes": {
                            "block": "strength",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "strength",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDDimension.Strength",
                            "Number"
                        ],
                        "pyQName": "JDDimension.STRENGTH"
                    },
                    "JDButtonEvent": {
                        "kind": 6,
                        "retType": "JDButtonEvent",
                        "extendsTypes": [
                            "JDButtonEvent",
                            "Number"
                        ]
                    },
                    "JDButtonEvent.Click": {
                        "retType": "JDButtonEvent",
                        "attributes": {
                            "block": "click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDButtonEvent.Click",
                            "Number"
                        ],
                        "pyQName": "JDButtonEvent.CLICK"
                    },
                    "JDButtonEvent.LongClick": {
                        "retType": "JDButtonEvent",
                        "attributes": {
                            "block": "long click",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "long click",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDButtonEvent.LongClick",
                            "Number"
                        ],
                        "pyQName": "JDButtonEvent.LONG_CLICK"
                    },
                    "JDButtonEvent.Up": {
                        "retType": "JDButtonEvent",
                        "attributes": {
                            "block": "up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDButtonEvent.Up",
                            "Number"
                        ],
                        "pyQName": "JDButtonEvent.UP"
                    },
                    "JDButtonEvent.Down": {
                        "retType": "JDButtonEvent",
                        "attributes": {
                            "block": "down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDButtonEvent.Down",
                            "Number"
                        ],
                        "pyQName": "JDButtonEvent.DOWN"
                    },
                    "JDSwitchDirection": {
                        "kind": 6,
                        "retType": "JDSwitchDirection",
                        "extendsTypes": [
                            "JDSwitchDirection",
                            "Number"
                        ]
                    },
                    "JDSwitchDirection.Left": {
                        "retType": "JDSwitchDirection",
                        "attributes": {
                            "block": "left",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDSwitchDirection.Left",
                            "Number"
                        ],
                        "pyQName": "JDSwitchDirection.LEFT"
                    },
                    "JDSwitchDirection.Right": {
                        "retType": "JDSwitchDirection",
                        "attributes": {
                            "block": "right",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDSwitchDirection.Right",
                            "Number"
                        ],
                        "pyQName": "JDSwitchDirection.RIGHT"
                    },
                    "JDControllerCommand": {
                        "kind": 6,
                        "retType": "JDControllerCommand",
                        "extendsTypes": [
                            "JDControllerCommand",
                            "Number"
                        ]
                    },
                    "JDControllerCommand.ClientButtons": {
                        "retType": "JDControllerCommand.ClientButtons",
                        "extendsTypes": [
                            "JDControllerCommand.ClientButtons",
                            "Number"
                        ],
                        "pyQName": "JDControllerCommand.CLIENT_BUTTONS"
                    },
                    "JDControllerCommand.ControlServer": {
                        "retType": "JDControllerCommand.ControlServer",
                        "extendsTypes": [
                            "JDControllerCommand.ControlServer",
                            "Number"
                        ],
                        "pyQName": "JDControllerCommand.CONTROL_SERVER"
                    },
                    "JDControllerCommand.ControlClient": {
                        "retType": "JDControllerCommand.ControlClient",
                        "extendsTypes": [
                            "JDControllerCommand.ControlClient",
                            "Number"
                        ],
                        "pyQName": "JDControllerCommand.CONTROL_CLIENT"
                    },
                    "JDControllerButton": {
                        "kind": 6,
                        "retType": "JDControllerButton",
                        "extendsTypes": [
                            "JDControllerButton",
                            "Number"
                        ]
                    },
                    "JDControllerButton.A": {
                        "retType": "JDControllerButton.A",
                        "extendsTypes": [
                            "JDControllerButton.A",
                            "Number"
                        ]
                    },
                    "JDControllerButton.B": {
                        "retType": "JDControllerButton.B",
                        "extendsTypes": [
                            "JDControllerButton.B",
                            "Number"
                        ]
                    },
                    "JDControllerButton.Left": {
                        "retType": "JDControllerButton.Left",
                        "extendsTypes": [
                            "JDControllerButton.Left",
                            "Number"
                        ],
                        "pyQName": "JDControllerButton.LEFT"
                    },
                    "JDControllerButton.Up": {
                        "retType": "JDControllerButton.Up",
                        "extendsTypes": [
                            "JDControllerButton.Up",
                            "Number"
                        ],
                        "pyQName": "JDControllerButton.UP"
                    },
                    "JDControllerButton.Right": {
                        "retType": "JDControllerButton.Right",
                        "extendsTypes": [
                            "JDControllerButton.Right",
                            "Number"
                        ],
                        "pyQName": "JDControllerButton.RIGHT"
                    },
                    "JDControllerButton.Down": {
                        "retType": "JDControllerButton.Down",
                        "extendsTypes": [
                            "JDControllerButton.Down",
                            "Number"
                        ],
                        "pyQName": "JDControllerButton.DOWN"
                    },
                    "JDControllerButton.Menu": {
                        "retType": "JDControllerButton.Menu",
                        "extendsTypes": [
                            "JDControllerButton.Menu",
                            "Number"
                        ],
                        "pyQName": "JDControllerButton.MENU"
                    },
                    "JDLCDFlags": {
                        "kind": 6,
                        "retType": "JDLCDFlags",
                        "extendsTypes": [
                            "JDLCDFlags",
                            "Number"
                        ]
                    },
                    "JDLCDFlags.None": {
                        "retType": "JDLCDFlags",
                        "extendsTypes": [
                            "JDLCDFlags.None",
                            "Number"
                        ],
                        "pyQName": "JDLCDFlags.NONE"
                    },
                    "JDLCDFlags.Display": {
                        "retType": "JDLCDFlags",
                        "extendsTypes": [
                            "JDLCDFlags.Display",
                            "Number"
                        ],
                        "pyQName": "JDLCDFlags.DISPLAY"
                    },
                    "JDLCDFlags.Blink": {
                        "retType": "JDLCDFlags",
                        "extendsTypes": [
                            "JDLCDFlags.Blink",
                            "Number"
                        ],
                        "pyQName": "JDLCDFlags.BLINK"
                    },
                    "JDLCDFlags.Cursor": {
                        "retType": "JDLCDFlags",
                        "extendsTypes": [
                            "JDLCDFlags.Cursor",
                            "Number"
                        ],
                        "pyQName": "JDLCDFlags.CURSOR"
                    },
                    "JDLightSpectrumRange": {
                        "kind": 6,
                        "retType": "JDLightSpectrumRange",
                        "extendsTypes": [
                            "JDLightSpectrumRange",
                            "Number"
                        ]
                    },
                    "JDLightSpectrumRange.Full": {
                        "retType": "JDLightSpectrumRange.Full",
                        "extendsTypes": [
                            "JDLightSpectrumRange.Full",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumRange.FULL"
                    },
                    "JDLightSpectrumRange.Infrared": {
                        "retType": "JDLightSpectrumRange.Infrared",
                        "extendsTypes": [
                            "JDLightSpectrumRange.Infrared",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumRange.INFRARED"
                    },
                    "JDLightSpectrumRange.Visible": {
                        "retType": "JDLightSpectrumRange.Visible",
                        "extendsTypes": [
                            "JDLightSpectrumRange.Visible",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumRange.VISIBLE"
                    },
                    "JDLightCondition": {
                        "kind": 6,
                        "retType": "JDLightCondition",
                        "extendsTypes": [
                            "JDLightCondition",
                            "Number"
                        ]
                    },
                    "JDLightCondition.Dark": {
                        "retType": "JDLightCondition",
                        "attributes": {
                            "block": "dark",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "dark",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightCondition.Dark",
                            "Number"
                        ],
                        "pyQName": "JDLightCondition.DARK"
                    },
                    "JDLightCondition.Bright": {
                        "retType": "JDLightCondition",
                        "attributes": {
                            "block": "bright",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "bright",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "JDLightCondition.Bright",
                            "Number"
                        ],
                        "pyQName": "JDLightCondition.BRIGHT"
                    },
                    "JDLightSpectrumEvent": {
                        "kind": 6,
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent",
                            "Number"
                        ]
                    },
                    "JDLightSpectrumEvent.FullBright": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.FullBright",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.FULL_BRIGHT"
                    },
                    "JDLightSpectrumEvent.FullDark": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.FullDark",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.FULL_DARK"
                    },
                    "JDLightSpectrumEvent.InfraredBright": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.InfraredBright",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.INFRARED_BRIGHT"
                    },
                    "JDLightSpectrumEvent.InfraredDark": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.InfraredDark",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.INFRARED_DARK"
                    },
                    "JDLightSpectrumEvent.VisibleBright": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.VisibleBright",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.VISIBLE_BRIGHT"
                    },
                    "JDLightSpectrumEvent.VisibleDark": {
                        "retType": "JDLightSpectrumEvent",
                        "extendsTypes": [
                            "JDLightSpectrumEvent.VisibleDark",
                            "Number"
                        ],
                        "pyQName": "JDLightSpectrumEvent.VISIBLE_DARK"
                    },
                    "JDPromixityEvent": {
                        "kind": 6,
                        "retType": "JDPromixityEvent",
                        "extendsTypes": [
                            "JDPromixityEvent",
                            "Number"
                        ]
                    },
                    "JDPromixityEvent.Close": {
                        "retType": "JDPromixityEvent",
                        "extendsTypes": [
                            "JDPromixityEvent.Close",
                            "Number"
                        ],
                        "pyQName": "JDPromixityEvent.CLOSE"
                    },
                    "JDPromixityEvent.Far": {
                        "retType": "JDPromixityEvent",
                        "extendsTypes": [
                            "JDPromixityEvent.Far",
                            "Number"
                        ],
                        "pyQName": "JDPromixityEvent.FAR"
                    },
                    "JDRotaryEncoderEvent": {
                        "kind": 6,
                        "retType": "JDRotaryEncoderEvent",
                        "extendsTypes": [
                            "JDRotaryEncoderEvent",
                            "Number"
                        ]
                    },
                    "JDRotaryEncoderEvent.Changed": {
                        "retType": "JDRotaryEncoderEvent",
                        "extendsTypes": [
                            "JDRotaryEncoderEvent.Changed",
                            "Number"
                        ],
                        "pyQName": "JDRotaryEncoderEvent.CHANGED"
                    },
                    "jacdac.Service": {
                        "kind": 8,
                        "retType": "jacdac.Service",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.Service.name": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "jacdac.Service.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "mode",
                                "type": "jacdac.JDServiceMode",
                                "isEnum": true
                            },
                            {
                                "name": "serviceClass"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "0"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.Service.eventId": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.event_id"
                    },
                    "jacdac.Service.serviceNumber": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.service_number"
                    },
                    "jacdac.Service.deviceAddress": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.device_address"
                    },
                    "jacdac.Service.deviceName": {
                        "kind": -2,
                        "retType": "string",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.device_name"
                    },
                    "jacdac.Service.controlData": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.control_data"
                    },
                    "jacdac.Service.isStarted": {
                        "kind": -2,
                        "retType": "boolean",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Service.is_started"
                    },
                    "jacdac.Service.addAdvertisementData": {
                        "kind": -1,
                        "retType": "Buffer",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.Service.add_advertisement_data"
                    },
                    "jacdac.Service.start": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "jacdachoststart",
                            "block": "start %service",
                            "group": "Services",
                            "blockGap": "8",
                            "jsDoc": "Registers and starts the driver",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "start ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "service",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "service",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.Service.stop": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "jacdachoststop",
                            "block": "stop %service",
                            "group": "Services",
                            "blockGap": "8",
                            "jsDoc": "Unregister and stops the driver",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "service",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "service",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.Broadcast": {
                        "kind": 8,
                        "retType": "jacdac.Broadcast",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.Broadcast",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.Broadcast.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "serviceClass"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.Host": {
                        "kind": 8,
                        "retType": "jacdac.Host",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.Host.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "serviceClass"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.Client": {
                        "kind": 8,
                        "retType": "jacdac.Client",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.Client",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.Client.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "serviceClass"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.Client.requiredDeviceName": {
                        "kind": -2,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Get the required device names\n \nSet the required device name"
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Client.required_device_name"
                    },
                    "jacdac.Client.requiredDeviceName@set": {
                        "kind": -2,
                        "retType": "string",
                        "attributes": {
                            "jsDoc": "Get the required device names\n \nSet the required device name"
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.Client.required_device_name@set"
                    },
                    "jacdac.Client.requiredDeviceUuid": {
                        "kind": -2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Set required device uuid\n \nSets the required device name"
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.Client.required_device_uuid"
                    },
                    "jacdac.Client.requiredDeviceUuid@set": {
                        "kind": -2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Set required device uuid\n \nSets the required device name"
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.Client.required_device_uuid@set"
                    },
                    "jacdac.SensorState": {
                        "kind": 6,
                        "retType": "jacdac.SensorState",
                        "extendsTypes": [
                            "jacdac.SensorState",
                            "Number"
                        ]
                    },
                    "jacdac.SensorState.None": {
                        "retType": "jacdac.SensorState.None",
                        "extendsTypes": [
                            "jacdac.SensorState.None",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorState.NONE"
                    },
                    "jacdac.SensorState.Stopped": {
                        "retType": "jacdac.SensorState.Stopped",
                        "extendsTypes": [
                            "jacdac.SensorState.Stopped",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorState.STOPPED"
                    },
                    "jacdac.SensorState.Stopping": {
                        "retType": "jacdac.SensorState.Stopping",
                        "extendsTypes": [
                            "jacdac.SensorState.Stopping",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorState.STOPPING"
                    },
                    "jacdac.SensorState.Streaming": {
                        "retType": "jacdac.SensorState.Streaming",
                        "extendsTypes": [
                            "jacdac.SensorState.Streaming",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorState.STREAMING"
                    },
                    "jacdac.SensorCommand": {
                        "kind": 6,
                        "retType": "jacdac.SensorCommand",
                        "extendsTypes": [
                            "jacdac.SensorCommand",
                            "Number"
                        ]
                    },
                    "jacdac.SensorCommand.State": {
                        "retType": "jacdac.SensorCommand.State",
                        "extendsTypes": [
                            "jacdac.SensorCommand.State",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.STATE"
                    },
                    "jacdac.SensorCommand.Event": {
                        "retType": "jacdac.SensorCommand.Event",
                        "extendsTypes": [
                            "jacdac.SensorCommand.Event",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.EVENT"
                    },
                    "jacdac.SensorCommand.StartStream": {
                        "retType": "jacdac.SensorCommand.StartStream",
                        "extendsTypes": [
                            "jacdac.SensorCommand.StartStream",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.START_STREAM"
                    },
                    "jacdac.SensorCommand.StopStream": {
                        "retType": "jacdac.SensorCommand.StopStream",
                        "extendsTypes": [
                            "jacdac.SensorCommand.StopStream",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.STOP_STREAM"
                    },
                    "jacdac.SensorCommand.LowThreshold": {
                        "retType": "jacdac.SensorCommand.LowThreshold",
                        "extendsTypes": [
                            "jacdac.SensorCommand.LowThreshold",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.LOW_THRESHOLD"
                    },
                    "jacdac.SensorCommand.HighThreshold": {
                        "retType": "jacdac.SensorCommand.HighThreshold",
                        "extendsTypes": [
                            "jacdac.SensorCommand.HighThreshold",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.HIGH_THRESHOLD"
                    },
                    "jacdac.SensorCommand.Calibrate": {
                        "retType": "jacdac.SensorCommand.Calibrate",
                        "extendsTypes": [
                            "jacdac.SensorCommand.Calibrate",
                            "Number"
                        ],
                        "pyQName": "jacdac.SensorCommand.CALIBRATE"
                    },
                    "jacdac.bufferEqual": {
                        "kind": -3,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "l",
                                "type": "Buffer"
                            },
                            {
                                "name": "r",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "jacdac.buffer_equal"
                    },
                    "jacdac.bufferToString": {
                        "kind": -3,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            },
                            {
                                "name": "offset"
                            }
                        ],
                        "pyQName": "jacdac.buffer_to_string"
                    },
                    "jacdac.SensorHost": {
                        "kind": 8,
                        "retType": "jacdac.SensorHost",
                        "attributes": {
                            "jsDoc": "JacDac service running on sensor and streaming data out"
                        },
                        "extendsTypes": [
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.SensorHost.streamingInterval": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.SensorHost.streaming_interval"
                    },
                    "jacdac.SensorHost.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "deviceClass"
                            },
                            {
                                "name": "controlLength",
                                "initializer": "0"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.SensorHost.sensorState": {
                        "kind": -2,
                        "retType": "jacdac.SensorState",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.SensorHost.sensor_state"
                    },
                    "jacdac.SensorHost.sensorState@set": {
                        "kind": -2,
                        "retType": "jacdac.SensorState",
                        "isInstance": true,
                        "pyQName": "jacdac.SensorHost.sensor_state@set"
                    },
                    "jacdac.SensorHost.updateControlPacket": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorHost.update_control_packet"
                    },
                    "jacdac.SensorHost.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorHost.handle_packet"
                    },
                    "jacdac.SensorHost.setStreaming": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "on",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.SensorHost.set_streaming"
                    },
                    "jacdac.ActuatorService": {
                        "kind": 8,
                        "retType": "jacdac.ActuatorService",
                        "extendsTypes": [
                            "jacdac.ActuatorService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.ActuatorService.stateLength": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.ActuatorService.state_length"
                    },
                    "jacdac.ActuatorService.state": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.ActuatorService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "deviceClass"
                            },
                            {
                                "name": "stateLength"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.ActuatorService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ActuatorService.handle_packet"
                    },
                    "jacdac.ActuatorClient": {
                        "kind": 8,
                        "retType": "jacdac.ActuatorClient",
                        "extendsTypes": [
                            "jacdac.ActuatorClient",
                            "jacdac.Client",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.ActuatorClient.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "deviceClass"
                            },
                            {
                                "name": "stateLength"
                            },
                            {
                                "name": "controlDataLength",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.MessageBusService": {
                        "kind": 8,
                        "retType": "jacdac.MessageBusService",
                        "attributes": {
                            "jsDoc": "A driver that listens for message bus events"
                        },
                        "extendsTypes": [
                            "jacdac.MessageBusService",
                            "jacdac.Broadcast",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.MessageBusService.suppressForwarding": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true,
                        "pyQName": "jacdac.MessageBusService.suppress_forwarding"
                    },
                    "jacdac.MessageBusService.NAME": {
                        "kind": 2,
                        "retType": "string"
                    },
                    "jacdac.MessageBusService.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.MessageBusService.raiseEvent": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "id"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.MessageBusService.raise_event"
                    },
                    "jacdac.MessageBusService.broadcastEvent": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "id"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.MessageBusService.broadcast_event"
                    },
                    "jacdac.MessageBusService.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.MessageBusService.handle_packet"
                    },
                    "jacdac.messageBusService": {
                        "kind": 4,
                        "retType": "jacdac.MessageBusService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "message bus service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "message bus service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.message_bus_service"
                    },
                    "jacdac.broadcastEvent": {
                        "kind": -3,
                        "attributes": {
                            "block": "broadcast events|from %src|with value %value",
                            "weight": 5,
                            "group": "Control",
                            "jsDoc": "Pipes specific events through JACDAC",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "broadcast events",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "pyQName": "jacdac.broadcast_event"
                    },
                    "jacdac.__message": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockHidden": true,
                            "shim": "ENUM_GET",
                            "blockId": "jacdacMessageCode",
                            "block": "$msg",
                            "enumInitialMembers": [
                                "message1"
                            ],
                            "enumName": "JacDacMessage",
                            "enumMemberName": "msg",
                            "enumPromptHint": "e.g. Start, Stop, Jump...",
                            "group": "Broadcast",
                            "enumIsHash": true,
                            "jsDoc": "Gets the message code",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "msg"
                            }
                        ]
                    },
                    "jacdac.raiseEvent": {
                        "kind": -3,
                        "attributes": {
                            "blockid": "jacdacraisevent",
                            "block": "raise event|from %src|with value %value",
                            "weight": 5,
                            "group": "Control",
                            "paramHelp": {
                                "id": "@param value "
                            },
                            "jsDoc": "Sends an event over JacDac",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "raise event",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "src",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "src"
                            },
                            {
                                "name": "value"
                            }
                        ],
                        "pyQName": "jacdac.raise_event"
                    },
                    "jacdac.sendMessage": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "jacdacBroadcastMessage",
                            "block": "jacdac send $msg",
                            "_shadowOverrides": {
                                "msg": "jacdacMessageCode"
                            },
                            "draggableParameters": "true",
                            "weight": 200,
                            "blockGap": "8",
                            "help": "jacdac/send-message",
                            "group": "Broadcast",
                            "paramHelp": {
                                "msg": ""
                            },
                            "jsDoc": "Broadcasts a message over JacDac",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jacdac send ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "shadowBlockId": "jacdacMessageCode",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "shadowBlockId": "jacdacMessageCode",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "msg"
                            }
                        ],
                        "pyQName": "jacdac.send_message"
                    },
                    "jacdac.onReceivedMessage": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "jacdacOnMessageReceived",
                            "block": "on jacdac $msg received",
                            "_shadowOverrides": {
                                "msg": "jacdacMessageCode"
                            },
                            "draggableParameters": "true",
                            "weight": 199,
                            "help": "jacdac/on-received-message",
                            "group": "Broadcast",
                            "paramHelp": {
                                "msg": "@param handler "
                            },
                            "jsDoc": "Registers code to run for a particular message",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on jacdac ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "shadowBlockId": "jacdacMessageCode",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " received",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "msg",
                                        "shadowBlockId": "jacdacMessageCode",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "msg",
                                "description": "@param handler "
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "jacdac.on_received_message"
                    },
                    "jacdac.JDIdentification": {
                        "kind": 8,
                        "retType": "jacdac.JDIdentification",
                        "extendsTypes": [
                            "jacdac.JDIdentification"
                        ]
                    },
                    "jacdac.JDIdentification.identifying": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true
                    },
                    "jacdac.JDIdentification.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDIdentification.identify": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.JDGPIOIdentification": {
                        "kind": 8,
                        "retType": "jacdac.JDGPIOIdentification",
                        "extendsTypes": [
                            "jacdac.JDGPIOIdentification",
                            "jacdac.JDIdentification"
                        ]
                    },
                    "jacdac.JDGPIOIdentification.pin": {
                        "kind": 2,
                        "retType": "DigitalInOutPin",
                        "isInstance": true
                    },
                    "jacdac.JDGPIOIdentification.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "pin",
                                "type": "DigitalInOutPin"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.JDGPIOIdentification.identify": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.identification": {
                        "kind": 4,
                        "retType": "jacdac.JDIdentification",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "jsDoc": "The identitifiation service"
                        }
                    },
                    "jacdac.ControllerClient": {
                        "kind": 8,
                        "retType": "jacdac.ControllerClient",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.ControllerClient",
                            "jacdac.Broadcast",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.ControllerClient.state": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "jacdac.ControllerClient.streamingState": {
                        "kind": 2,
                        "retType": "jacdac.SensorState",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.streaming_state"
                    },
                    "jacdac.ControllerClient.streamingInterval": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.streaming_interval"
                    },
                    "jacdac.ControllerClient.stateUpdateHandler": {
                        "kind": 2,
                        "retType": "() => void",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.state_update_handler"
                    },
                    "jacdac.ControllerClient.lastServerTime": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.last_server_time"
                    },
                    "jacdac.ControllerClient.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.ControllerClient.serverAddress": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.server_address"
                    },
                    "jacdac.ControllerClient.serverAddress@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.server_address@set"
                    },
                    "jacdac.ControllerClient.playerIndex": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.player_index"
                    },
                    "jacdac.ControllerClient.playerIndex@set": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.player_index@set"
                    },
                    "jacdac.ControllerClient.isPressed": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "offset",
                                "type": "JDControllerButton",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.is_pressed"
                    },
                    "jacdac.ControllerClient.setIsPressed": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "offset",
                                "type": "JDControllerButton",
                                "isEnum": true
                            },
                            {
                                "name": "down",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.set_is_pressed"
                    },
                    "jacdac.ControllerClient.leftIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "blockCombineShadow": "toggleOnOff",
                            "block": "left is pressed",
                            "blockSetVariable": "button",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.left_is_pressed"
                    },
                    "jacdac.ControllerClient.leftIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "blockCombineShadow": "toggleOnOff",
                            "block": "left is pressed",
                            "blockSetVariable": "button",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "left is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.left_is_pressed@set"
                    },
                    "jacdac.ControllerClient.rightIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "right is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.right_is_pressed"
                    },
                    "jacdac.ControllerClient.rightIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "right is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "right is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.right_is_pressed@set"
                    },
                    "jacdac.ControllerClient.upIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "up is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.up_is_pressed"
                    },
                    "jacdac.ControllerClient.upIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "up is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.up_is_pressed@set"
                    },
                    "jacdac.ControllerClient.downIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "down is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.down_is_pressed"
                    },
                    "jacdac.ControllerClient.downIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "down is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "down is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.down_is_pressed@set"
                    },
                    "jacdac.ControllerClient.AIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "A is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "A is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.ais_pressed"
                    },
                    "jacdac.ControllerClient.AIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "A is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "A is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.ais_pressed@set"
                    },
                    "jacdac.ControllerClient.BIsPressed": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "B is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "B is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "jacdac.ControllerClient.bis_pressed"
                    },
                    "jacdac.ControllerClient.BIsPressed@set": {
                        "kind": -2,
                        "retType": "boolean",
                        "attributes": {
                            "blockCombine": true,
                            "block": "B is pressed",
                            "group": "Controller",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "B is pressed",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.bis_pressed@set"
                    },
                    "jacdac.ControllerClient.onStateUpdate": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "jdctrlclientonstate",
                            "block": "on %controller state update",
                            "group": "Controller",
                            "paramHelp": {
                                "handler": ""
                            },
                            "jsDoc": "Register code to run when the state is about to be sent",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "controller",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " state update",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "controller",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.on_state_update"
                    },
                    "jacdac.ControllerClient.isActive": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.is_active"
                    },
                    "jacdac.ControllerClient.handleServiceInformation": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "device",
                                "type": "jacdac.JDDevice"
                            },
                            {
                                "name": "serviceInfo",
                                "type": "jacdac.JDServiceInformation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.handle_service_information"
                    },
                    "jacdac.ControllerClient.handlePacket": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "packet",
                                "type": "jacdac.JDPacket"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.ControllerClient.handle_packet"
                    },
                    "jacdac.ControllerClient.start": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true
                    },
                    "jacdac.controllerClient": {
                        "kind": 4,
                        "retType": "jacdac.ControllerClient",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "controller client",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "controller client",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.controller_client"
                    },
                    "input.onCustomGesture": {
                        "kind": -3,
                        "attributes": {
                            "paramHelp": {
                                "id": "@param update true if gesture detected",
                                "handler": ""
                            },
                            "jsDoc": "Registers a custom gesture recognizer"
                        },
                        "parameters": [
                            {
                                "name": "id",
                                "description": "@param update true if gesture detected"
                            },
                            {
                                "name": "update",
                                "type": "() => boolean",
                                "handlerParameters": []
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "input.on_custom_gesture"
                    },
                    "input.onGesture": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "gesture": "Gesture.Shake"
                            },
                            "help": "input/on-gesture",
                            "blockId": "device_gesture_event",
                            "block": "on |%NAME",
                            "parts": "accelerometer",
                            "paramFieldEditor": {
                                "gesture": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "gesture": {
                                    "width": "220",
                                    "columns": "3"
                                }
                            },
                            "weight": 92,
                            "blockGap": "12",
                            "paramHelp": {
                                "gesture": "the type of gesture to track, eg: Gesture.Shake",
                                "body": "code to run when gesture is raised"
                            },
                            "jsDoc": "Do something when a gesture happens (like shaking the board).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "gesture",
                                "description": "the type of gesture to track, eg: Gesture.Shake",
                                "type": "Gesture",
                                "default": "Gesture.Shake",
                                "isEnum": true
                            },
                            {
                                "name": "body",
                                "description": "code to run when gesture is raised",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "input.on_gesture"
                    },
                    "input.acceleration": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "input/acceleration",
                            "blockId": "device_acceleration",
                            "block": "acceleration (mg)|%NAME",
                            "parts": "accelerometer",
                            "paramFieldEditor": {
                                "dimension": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "dimension": {
                                    "width": "180",
                                    "columns": "2"
                                }
                            },
                            "weight": 42,
                            "blockGap": "8",
                            "paramHelp": {
                                "dimension": "TODO"
                            },
                            "jsDoc": "Get the acceleration value in milli-gravitys (when the board is laying flat with the screen up,\nx=0, y=0 and z=-1023)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "acceleration (mg)",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "dimension",
                                "description": "TODO",
                                "type": "Dimension",
                                "isEnum": true
                            }
                        ]
                    },
                    "input.temperature": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "device_temperature",
                            "block": "temperature in c",
                            "parts": "accelerometer",
                            "weight": 26,
                            "jsDoc": "Get the temperature in Celsius or Fahrenheit degrees.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "temperature in c",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "input.rotation": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "input/rotation",
                            "blockId": "device_get_rotation",
                            "block": "rotation ()|%NAME",
                            "parts": "accelerometer",
                            "group": "More",
                            "weight": 38,
                            "paramHelp": {
                                "kind": "TODO"
                            },
                            "jsDoc": "The pitch or roll of the device, rotation along the ``x-axis`` or ``y-axis``, in degrees.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rotation ()",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "NAME",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "description": "TODO",
                                "type": "Rotation",
                                "isEnum": true
                            }
                        ]
                    },
                    "input.setAccelerometerRange": {
                        "kind": -3,
                        "attributes": {
                            "help": "input/set-accelerometer-range",
                            "blockId": "device_set_accelerometer_range",
                            "block": "set accelerometer|range %range",
                            "weight": 15,
                            "parts": "accelerometer",
                            "group": "More",
                            "blockGap": "8",
                            "paramHelp": {
                                "range": "a value describe the maximum strengh of acceleration measured"
                            },
                            "jsDoc": "Sets the accelerometer sample range in gravities.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set accelerometer",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "range ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "range",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "range",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "range",
                                "description": "a value describe the maximum strengh of acceleration measured",
                                "type": "AcceleratorRange",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "input.set_accelerometer_range"
                    },
                    "Dimension": {
                        "kind": 6,
                        "retType": "Dimension",
                        "extendsTypes": [
                            "Dimension",
                            "Number"
                        ]
                    },
                    "Dimension.X": {
                        "retType": "Dimension.X",
                        "attributes": {
                            "block": "x",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "x",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Dimension.X",
                            "Number"
                        ]
                    },
                    "Dimension.Y": {
                        "retType": "Dimension.Y",
                        "attributes": {
                            "block": "y",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "y",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Dimension.Y",
                            "Number"
                        ]
                    },
                    "Dimension.Z": {
                        "retType": "Dimension.Z",
                        "attributes": {
                            "block": "z",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "z",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Dimension.Z",
                            "Number"
                        ]
                    },
                    "Dimension.Strength": {
                        "retType": "Dimension.Strength",
                        "attributes": {
                            "block": "strength",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "strength",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Dimension.Strength",
                            "Number"
                        ],
                        "pyQName": "Dimension.STRENGTH"
                    },
                    "Rotation": {
                        "kind": 6,
                        "retType": "Rotation",
                        "extendsTypes": [
                            "Rotation",
                            "Number"
                        ]
                    },
                    "Rotation.Pitch": {
                        "retType": "Rotation.Pitch",
                        "attributes": {
                            "block": "pitch",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pitch",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Rotation.Pitch",
                            "Number"
                        ],
                        "pyQName": "Rotation.PITCH"
                    },
                    "Rotation.Roll": {
                        "retType": "Rotation.Roll",
                        "attributes": {
                            "block": "roll",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "roll",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Rotation.Roll",
                            "Number"
                        ],
                        "pyQName": "Rotation.ROLL"
                    },
                    "AcceleratorRange": {
                        "kind": 6,
                        "retType": "AcceleratorRange",
                        "extendsTypes": [
                            "AcceleratorRange",
                            "Number"
                        ]
                    },
                    "AcceleratorRange.OneG": {
                        "retType": "AcceleratorRange.OneG",
                        "attributes": {
                            "block": "1g",
                            "jsDoc": "The accelerator measures forces up to 1 gravity",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "AcceleratorRange.OneG",
                            "Number"
                        ],
                        "pyQName": "AcceleratorRange.ONE_G"
                    },
                    "AcceleratorRange.TwoG": {
                        "retType": "AcceleratorRange.TwoG",
                        "attributes": {
                            "block": "2g",
                            "jsDoc": "The accelerator measures forces up to 2 gravity",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "2g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "AcceleratorRange.TwoG",
                            "Number"
                        ],
                        "pyQName": "AcceleratorRange.TWO_G"
                    },
                    "AcceleratorRange.FourG": {
                        "retType": "AcceleratorRange.FourG",
                        "attributes": {
                            "block": "4g",
                            "jsDoc": "The accelerator measures forces up to 4 gravity",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "4g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "AcceleratorRange.FourG",
                            "Number"
                        ],
                        "pyQName": "AcceleratorRange.FOUR_G"
                    },
                    "AcceleratorRange.EightG": {
                        "retType": "AcceleratorRange.EightG",
                        "attributes": {
                            "block": "8g",
                            "jsDoc": "The accelerator measures forces up to 8 gravity",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "8g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "AcceleratorRange.EightG",
                            "Number"
                        ],
                        "pyQName": "AcceleratorRange.EIGHT_G"
                    },
                    "Gesture": {
                        "kind": 6,
                        "retType": "Gesture",
                        "extendsTypes": [
                            "Gesture",
                            "Number"
                        ]
                    },
                    "Gesture.Shake": {
                        "retType": "Gesture.Shake",
                        "attributes": {
                            "block": "shake",
                            "jsDoc": "Raised when shaken",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "shake",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.Shake",
                            "Number"
                        ],
                        "pyQName": "Gesture.SHAKE"
                    },
                    "Gesture.TiltUp": {
                        "retType": "Gesture.TiltUp",
                        "attributes": {
                            "block": "tilt up",
                            "jsDoc": "Raised when the device tilts up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.TiltUp",
                            "Number"
                        ],
                        "pyQName": "Gesture.TILT_UP"
                    },
                    "Gesture.TiltDown": {
                        "retType": "Gesture.TiltDown",
                        "attributes": {
                            "block": "tilt down",
                            "jsDoc": "Raised when the device tilts down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.TiltDown",
                            "Number"
                        ],
                        "pyQName": "Gesture.TILT_DOWN"
                    },
                    "Gesture.TiltLeft": {
                        "retType": "Gesture.TiltLeft",
                        "attributes": {
                            "block": "tilt left",
                            "jsDoc": "Raised when the screen is pointing left",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt left",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.TiltLeft",
                            "Number"
                        ],
                        "pyQName": "Gesture.TILT_LEFT"
                    },
                    "Gesture.TiltRight": {
                        "retType": "Gesture.TiltRight",
                        "attributes": {
                            "block": "tilt right",
                            "jsDoc": "Raised when the screen is pointing right",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tilt right",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.TiltRight",
                            "Number"
                        ],
                        "pyQName": "Gesture.TILT_RIGHT"
                    },
                    "Gesture.FaceUp": {
                        "retType": "Gesture.FaceUp",
                        "attributes": {
                            "block": "face up",
                            "jsDoc": "Raised when the screen faces up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "face up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.FaceUp",
                            "Number"
                        ],
                        "pyQName": "Gesture.FACE_UP"
                    },
                    "Gesture.FaceDown": {
                        "retType": "Gesture.FaceDown",
                        "attributes": {
                            "block": "face down",
                            "jsDoc": "Raised when the screen is pointing up and the board is horizontal",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "face down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.FaceDown",
                            "Number"
                        ],
                        "pyQName": "Gesture.FACE_DOWN"
                    },
                    "Gesture.FreeFall": {
                        "retType": "Gesture.FreeFall",
                        "attributes": {
                            "block": "free fall",
                            "jsDoc": "Raised when the board is falling!",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "free fall",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.FreeFall",
                            "Number"
                        ],
                        "pyQName": "Gesture.FREE_FALL"
                    },
                    "Gesture.TwoG": {
                        "retType": "Gesture.TwoG",
                        "attributes": {
                            "block": "2g (step)",
                            "jsDoc": "Raised when a 2G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "2g (step)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.TwoG",
                            "Number"
                        ],
                        "pyQName": "Gesture.TWO_G"
                    },
                    "Gesture.ThreeG": {
                        "retType": "Gesture.ThreeG",
                        "attributes": {
                            "block": "3g",
                            "jsDoc": "Raised when a 3G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "3g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.ThreeG",
                            "Number"
                        ],
                        "pyQName": "Gesture.THREE_G"
                    },
                    "Gesture.SixG": {
                        "retType": "Gesture.SixG",
                        "attributes": {
                            "block": "6g",
                            "jsDoc": "Raised when a 6G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "6g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.SixG",
                            "Number"
                        ],
                        "pyQName": "Gesture.SIX_G"
                    },
                    "Gesture.EightG": {
                        "retType": "Gesture.EightG",
                        "attributes": {
                            "block": "8g",
                            "jsDoc": "Raised when a 8G shock is detected",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "8g",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Gesture.EightG",
                            "Number"
                        ],
                        "pyQName": "Gesture.EIGHT_G"
                    },
                    "jacdac.AccelerometerService": {
                        "kind": 8,
                        "retType": "jacdac.AccelerometerService",
                        "extendsTypes": [
                            "jacdac.AccelerometerService",
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.AccelerometerService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.AccelerometerService.raiseCustomGestureEvent": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "id"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "jacdac.AccelerometerService.raise_custom_gesture_event"
                    },
                    "jacdac.accelerometerService": {
                        "kind": 4,
                        "retType": "jacdac.AccelerometerService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "accelerometer service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "accelerometer service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.accelerometer_service"
                    },
                    "jacdac.LightSensorService": {
                        "kind": 8,
                        "retType": "jacdac.LightSensorService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.LightSensorService",
                            "jacdac.SensorHost",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.LightSensorService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "jacdac.lightSensorService": {
                        "kind": 4,
                        "retType": "jacdac.LightSensorService",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "light sensor service",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "light sensor service",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "jacdac.light_sensor_service"
                    },
                    "input.onLightConditionChanged": {
                        "kind": -3,
                        "attributes": {
                            "help": "input/on-light-condition-changed",
                            "blockId": "input_on_light_condition_changed",
                            "block": "on light %condition",
                            "parts": "lightsensor",
                            "weight": 84,
                            "blockGap": "12",
                            "paramHelp": {
                                "condition": "the condition that event triggers on"
                            },
                            "jsDoc": "Register an event that runs when light conditions (darker or brighter) change.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "on light ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "condition",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "condition",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "condition",
                                "description": "the condition that event triggers on",
                                "type": "LightCondition",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "input.on_light_condition_changed"
                    },
                    "input.lightLevel": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "input/light-level",
                            "blockId": "device_get_light_level",
                            "block": "light level",
                            "parts": "lightsensor",
                            "weight": 30,
                            "blockGap": "8",
                            "jsDoc": "Read the light level applied to the LED screen in a range from 0 (dark) to 255 (bright).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "light level",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "input.light_level"
                    },
                    "input.setLightThreshold": {
                        "kind": -3,
                        "attributes": {
                            "help": "input/set-light-threshold",
                            "blockId": "lightsensor_set_threshold",
                            "block": "set %condition| light threshold to %value",
                            "parts": "lightsensor",
                            "paramMin": {
                                "value": "1"
                            },
                            "paramMax": {
                                "value": "255"
                            },
                            "group": "More",
                            "weight": 13,
                            "blockGap": "8",
                            "jsDoc": "Set the threshold value for the light condition event.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "condition",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": " light threshold to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "condition",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "condition",
                                "type": "LightCondition",
                                "isEnum": true
                            },
                            {
                                "name": "value",
                                "options": {
                                    "min": {
                                        "value": "1"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "pyQName": "input.set_light_threshold"
                    },
                    "LightCondition": {
                        "kind": 6,
                        "retType": "LightCondition",
                        "extendsTypes": [
                            "LightCondition",
                            "Number"
                        ]
                    },
                    "LightCondition.Dark": {
                        "retType": "LightCondition.Dark",
                        "attributes": {
                            "block": "dark",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "dark",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightCondition.Dark",
                            "Number"
                        ],
                        "pyQName": "LightCondition.DARK"
                    },
                    "LightCondition.Bright": {
                        "retType": "LightCondition.Bright",
                        "attributes": {
                            "block": "bright",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "bright",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightCondition.Bright",
                            "Number"
                        ],
                        "pyQName": "LightCondition.BRIGHT"
                    },
                    "MusicOutput": {
                        "kind": 6,
                        "retType": "MusicOutput",
                        "extendsTypes": [
                            "MusicOutput",
                            "Number"
                        ]
                    },
                    "MusicOutput.AutoDetect": {
                        "retType": "MusicOutput.AutoDetect",
                        "extendsTypes": [
                            "MusicOutput.AutoDetect",
                            "Number"
                        ],
                        "pyQName": "MusicOutput.AUTO_DETECT"
                    },
                    "MusicOutput.Buzzer": {
                        "retType": "MusicOutput.Buzzer",
                        "extendsTypes": [
                            "MusicOutput.Buzzer",
                            "Number"
                        ],
                        "pyQName": "MusicOutput.BUZZER"
                    },
                    "MusicOutput.HeadPhones": {
                        "retType": "MusicOutput.HeadPhones",
                        "extendsTypes": [
                            "MusicOutput.HeadPhones",
                            "Number"
                        ],
                        "pyQName": "MusicOutput.HEAD_PHONES"
                    },
                    "music": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#F55D3E",
                            "weight": 90,
                            "icon": "",
                            "blockGap": "8",
                            "groups": [
                                "Sounds",
                                "Melody",
                                "Tone",
                                "Volume",
                                "Tempo"
                            ],
                            "jsDoc": "Generation of music tones."
                        }
                    },
                    "music.forceOutput": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "MusicOutput",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "music.force_output"
                    },
                    "music.setVolume": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "volume": "20"
                            },
                            "blockId": "synth_set_volume",
                            "block": "set volume %volume",
                            "parts": "speaker",
                            "paramMin": {
                                "volume": "0"
                            },
                            "paramMax": {
                                "volume": "255"
                            },
                            "explicitDefaults": [
                                "volume"
                            ],
                            "help": "music/set-volume",
                            "weight": 70,
                            "group": "Volume",
                            "paramHelp": {
                                "volume": "the volume 0...255"
                            },
                            "jsDoc": "Set the default output volume of the sound synthesizer.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set volume ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "volume",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "volume",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "volume",
                                "description": "the volume 0...255",
                                "initializer": "20",
                                "default": "20",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "pyQName": "music.set_volume"
                    },
                    "music.volume": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "parts": "speaker",
                            "weight": 70,
                            "jsDoc": "Gets the current volume"
                        },
                        "parameters": []
                    },
                    "music.playTone": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "frequency": "Note.C",
                                "ms": "BeatFraction.Half"
                            },
                            "callingConvention": 1,
                            "help": "music/play-tone",
                            "blockId": "mixer_play_note",
                            "block": "play tone|at %note=device_note|for %duration=device_beat",
                            "parts": "headphone",
                            "async": "true",
                            "blockNamespace": "music",
                            "weight": 76,
                            "blockGap": "8",
                            "group": "Tone",
                            "paramHelp": {
                                "frequency": "pitch of the tone to play in Hertz (Hz), eg: Note.C",
                                "ms": "tone duration in milliseconds (ms), eg: BeatFraction.Half"
                            },
                            "jsDoc": "Play a tone through the speaker for some amount of time.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play tone",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "frequency",
                                "description": "pitch of the tone to play in Hertz (Hz), eg: Note.C",
                                "default": "Note.C"
                            },
                            {
                                "name": "ms",
                                "description": "tone duration in milliseconds (ms), eg: BeatFraction.Half",
                                "default": "BeatFraction.Half"
                            }
                        ],
                        "pyQName": "music.play_tone"
                    },
                    "music.playMelody": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "tempo": "120"
                            },
                            "block": "play melody $melody at tempo $tempo|(bpm)",
                            "blockId": "playMelody",
                            "blockNamespace": "music",
                            "weight": 85,
                            "blockGap": "8",
                            "help": "music/play-melody",
                            "group": "Melody",
                            "_shadowOverrides": {
                                "melody": "melody_editor"
                            },
                            "paramMin": {
                                "tempo": "40"
                            },
                            "paramMax": {
                                "tempo": "500"
                            },
                            "explicitDefaults": [
                                "tempo"
                            ],
                            "paramHelp": {
                                "melody": "- string of up to eight notes [C D E F G A B C5] or rests [-] separated by spaces, ",
                                "tempo": "- number in beats per minute (bpm), dictating how long each note will play for"
                            },
                            "jsDoc": "Play a melody from the melody editor.\n\nwhich will be played one at a time, ex: \"E D G F B A C5 B \"",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play melody ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "melody",
                                        "shadowBlockId": "melody_editor",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " at tempo ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "tempo",
                                        "ref": true
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "(bpm)",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "melody",
                                        "shadowBlockId": "melody_editor",
                                        "ref": true
                                    },
                                    {
                                        "kind": "param",
                                        "name": "tempo",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "melody",
                                "description": "- string of up to eight notes [C D E F G A B C5] or rests [-] separated by spaces, ",
                                "type": "string"
                            },
                            {
                                "name": "tempo",
                                "description": "- number in beats per minute (bpm), dictating how long each note will play for",
                                "initializer": "120",
                                "default": "120",
                                "options": {
                                    "min": {
                                        "value": "40"
                                    },
                                    "max": {
                                        "value": "500"
                                    }
                                }
                            }
                        ],
                        "pyQName": "music.play_melody"
                    },
                    "music.melodyEditor": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "block": "$melody",
                            "blockId": "melody_editor",
                            "blockNamespace": "music",
                            "blockHidden": true,
                            "weight": 85,
                            "blockGap": "8",
                            "group": "Melody",
                            "duplicateShadowOnDrag": true,
                            "paramFieldEditor": {
                                "melody": "melody"
                            },
                            "paramFieldEditorOptions": {
                                "melody": {
                                    "decompileLiterals": "true",
                                    "decompileIndirectFixedInstances": "true",
                                    "onParentBlock": "true"
                                }
                            },
                            "shim": "TD_ID",
                            "paramHelp": {
                                "melody": ""
                            },
                            "jsDoc": "Create a melody with the melody editor.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "melody",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "melody",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "melody",
                                "type": "string"
                            }
                        ],
                        "pyQName": "music.melody_editor"
                    },
                    "music.stopAllSounds": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/stop-all-sounds",
                            "blockId": "music_stop_all_sounds",
                            "block": "stop all sounds",
                            "weight": 10,
                            "group": "Sounds",
                            "jsDoc": "Stop all sounds from playing.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all sounds",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "music.stop_all_sounds"
                    },
                    "music.Melody": {
                        "kind": 8,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": []
                    },
                    "music.Melody._text": {
                        "kind": 2,
                        "retType": "string",
                        "isInstance": true
                    },
                    "music.Melody.stopAll": {
                        "kind": -1,
                        "parameters": [],
                        "pyQName": "music.Melody.stop_all"
                    },
                    "music.Melody.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ],
                        "isInstance": true
                    },
                    "music.Melody.text": {
                        "kind": -2,
                        "retType": "string",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "music.Melody.stop": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "mixer_stop",
                            "block": "stop sound %sound",
                            "help": "music/melody/stop",
                            "parts": "headphone",
                            "weight": 92,
                            "blockGap": "8",
                            "group": "Sounds",
                            "jsDoc": "Stop playing a sound",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "music.Melody.loop": {
                        "kind": -1,
                        "attributes": {
                            "help": "music/melody/loop",
                            "blockId": "mixer_loop_sound",
                            "block": "loop sound %sound",
                            "parts": "headphone",
                            "weight": 93,
                            "blockGap": "8",
                            "group": "Sounds",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Start playing a sound in a loop and don't wait for it to finish.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "loop sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "volume",
                                "initializer": "255"
                            }
                        ],
                        "isInstance": true
                    },
                    "music.Melody.play": {
                        "kind": -1,
                        "attributes": {
                            "help": "music/melody/play",
                            "blockId": "mixer_play_sound",
                            "block": "play sound %sound",
                            "parts": "headphone",
                            "weight": 95,
                            "blockGap": "8",
                            "group": "Sounds",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Start playing a sound and don't wait for it to finish.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "volume",
                                "initializer": "255"
                            }
                        ],
                        "isInstance": true
                    },
                    "music.Melody.playUntilDone": {
                        "kind": -1,
                        "attributes": {
                            "help": "music/melody/play-until-done",
                            "blockId": "mixer_play_sound_until_done",
                            "block": "play sound %sound|until done",
                            "parts": "headphone",
                            "weight": 94,
                            "blockGap": "8",
                            "group": "Sounds",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Play a sound and wait until the sound is done.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "until done",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "volume",
                                "initializer": "255"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "music.Melody.play_until_done"
                    },
                    "music.Melody.toString": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "music.Melody.to_string"
                    },
                    "music.baDing": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "ba ding",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "ba ding",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.ba_ding"
                    },
                    "music.wawawawaa": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "wawawawaa",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "wawawawaa",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "music.jumpUp": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "jump up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jump up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.jump_up"
                    },
                    "music.jumpDown": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "jump down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jump down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.jump_down"
                    },
                    "music.powerUp": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "power up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "power up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.power_up"
                    },
                    "music.powerDown": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "power down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "power down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.power_down"
                    },
                    "music.magicWand": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "magic wand",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "magic wand",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.magic_wand"
                    },
                    "music.siren": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "siren",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "siren",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "music.pewPew": {
                        "kind": 4,
                        "retType": "music.Melody",
                        "attributes": {
                            "fixedInstance": "true",
                            "whenUsed": "true",
                            "block": "pew pew",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pew pew",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "music.pew_pew"
                    },
                    "music.noteFrequency": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "note": "262",
                                "name": "Note.C"
                            },
                            "weight": 10,
                            "help": "music/note-frequency",
                            "blockId": "device_note",
                            "block": "%note",
                            "shim": "TD_ID",
                            "color": "#FFFFFF",
                            "colorSecondary": "#FFFFFF",
                            "colorTertiary": "#D83B01",
                            "paramFieldEditor": {
                                "note": "note"
                            },
                            "explicitDefaults": [
                                "note"
                            ],
                            "paramFieldEditorOptions": {
                                "note": {
                                    "decompileLiterals": "true"
                                }
                            },
                            "useEnumVal": "1",
                            "blockGap": "8",
                            "group": "Tone",
                            "paramHelp": {
                                "name": "the note name, eg: Note.C"
                            },
                            "jsDoc": "Get the frequency of a note.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "description": "the note name, eg: Note.C",
                                "type": "Note",
                                "default": "Note.C",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "music.note_frequency"
                    },
                    "Sounds": {
                        "kind": 6,
                        "retType": "Sounds",
                        "attributes": {
                            "deprecated": "true",
                            "hidden": "true"
                        },
                        "extendsTypes": [
                            "Sounds",
                            "Number"
                        ]
                    },
                    "Sounds.PowerUp": {
                        "retType": "Sounds.PowerUp",
                        "attributes": {
                            "block": "power up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "power up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.PowerUp",
                            "Number"
                        ],
                        "pyQName": "Sounds.POWER_UP"
                    },
                    "Sounds.PowerDown": {
                        "retType": "Sounds.PowerDown",
                        "attributes": {
                            "block": "power down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "power down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.PowerDown",
                            "Number"
                        ],
                        "pyQName": "Sounds.POWER_DOWN"
                    },
                    "Sounds.JumpUp": {
                        "retType": "Sounds.JumpUp",
                        "attributes": {
                            "block": "jump up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jump up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.JumpUp",
                            "Number"
                        ],
                        "pyQName": "Sounds.JUMP_UP"
                    },
                    "Sounds.JumpDown": {
                        "retType": "Sounds.JumpDown",
                        "attributes": {
                            "block": "jump down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "jump down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.JumpDown",
                            "Number"
                        ],
                        "pyQName": "Sounds.JUMP_DOWN"
                    },
                    "Sounds.BaDing": {
                        "retType": "Sounds.BaDing",
                        "attributes": {
                            "block": "ba ding",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "ba ding",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.BaDing",
                            "Number"
                        ],
                        "pyQName": "Sounds.BA_DING"
                    },
                    "Sounds.Wawawawaa": {
                        "retType": "Sounds.Wawawawaa",
                        "attributes": {
                            "block": "wawawawaa",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "wawawawaa",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.Wawawawaa",
                            "Number"
                        ],
                        "pyQName": "Sounds.WAWAWAWAA"
                    },
                    "Sounds.MagicWand": {
                        "retType": "Sounds.MagicWand",
                        "attributes": {
                            "block": "magic wand",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "magic wand",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.MagicWand",
                            "Number"
                        ],
                        "pyQName": "Sounds.MAGIC_WAND"
                    },
                    "Sounds.Siren": {
                        "retType": "Sounds.Siren",
                        "attributes": {
                            "block": "siren",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "siren",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Sounds.Siren",
                            "Number"
                        ],
                        "pyQName": "Sounds.SIREN"
                    },
                    "music.sounds": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "paramDefl": {
                                "name": "Note.C"
                            },
                            "help": "music/sounds",
                            "blockId": "music_sounds",
                            "block": "%name",
                            "blockHidden": true,
                            "paramFieldEditor": {
                                "name": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "name": {
                                    "width": "285",
                                    "columns": "3"
                                }
                            },
                            "paramHelp": {
                                "name": "the note name, eg: Note.C"
                            },
                            "jsDoc": "Get the melody string for a built-in melody.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "description": "the note name, eg: Note.C",
                                "type": "Sounds",
                                "default": "Note.C",
                                "isEnum": true
                            }
                        ]
                    },
                    "music.playSound": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/play-sound",
                            "blockId": "music_play_sound",
                            "block": "play sound %sound=music_sounds",
                            "parts": "headphone",
                            "weight": 95,
                            "blockGap": "8",
                            "deprecated": "true",
                            "hidden": "true",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Start playing a sound and don't wait for it to finish.\nNotes are expressed as a string of characters with this format: NOTE[octave][:duration]",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "sound",
                                "description": "the melody to play",
                                "type": "string"
                            }
                        ],
                        "pyQName": "music.play_sound"
                    },
                    "music.playSoundUntilDone": {
                        "kind": -3,
                        "attributes": {
                            "help": "music/play-sound-until-done",
                            "blockId": "music_play_sound_until_done",
                            "block": "play sound %sound=music_sounds|until done",
                            "parts": "headphone",
                            "weight": 94,
                            "blockGap": "8",
                            "deprecated": "true",
                            "hidden": "true",
                            "paramHelp": {
                                "sound": "the melody to play"
                            },
                            "jsDoc": "Play a sound and wait until the sound is done.\nNotes are expressed as a string of characters with this format: NOTE[octave][:duration]",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "play sound ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "until done",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "sound",
                                        "shadowBlockId": "music_sounds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "sound",
                                "description": "the melody to play",
                                "type": "string"
                            }
                        ],
                        "pyQName": "music.play_sound_until_done"
                    },
                    "Note": {
                        "kind": 6,
                        "retType": "Note",
                        "extendsTypes": [
                            "Note",
                            "Number"
                        ]
                    },
                    "Note.C": {
                        "retType": "Note.C",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "262"
                        },
                        "extendsTypes": [
                            "Note.C",
                            "Number"
                        ]
                    },
                    "Note.CSharp": {
                        "retType": "Note.CSharp",
                        "attributes": {
                            "block": "C#",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "277",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "C#",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.CSharp",
                            "Number"
                        ],
                        "pyQName": "Note.CSHARP"
                    },
                    "Note.D": {
                        "retType": "Note.D",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "294"
                        },
                        "extendsTypes": [
                            "Note.D",
                            "Number"
                        ]
                    },
                    "Note.Eb": {
                        "retType": "Note.Eb",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "311"
                        },
                        "extendsTypes": [
                            "Note.Eb",
                            "Number"
                        ],
                        "pyQName": "Note.EB"
                    },
                    "Note.E": {
                        "retType": "Note.E",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "330"
                        },
                        "extendsTypes": [
                            "Note.E",
                            "Number"
                        ]
                    },
                    "Note.F": {
                        "retType": "Note.F",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "349"
                        },
                        "extendsTypes": [
                            "Note.F",
                            "Number"
                        ]
                    },
                    "Note.FSharp": {
                        "retType": "Note.FSharp",
                        "attributes": {
                            "block": "F#",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "370",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F#",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.FSharp",
                            "Number"
                        ],
                        "pyQName": "Note.FSHARP"
                    },
                    "Note.G": {
                        "retType": "Note.G",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "392"
                        },
                        "extendsTypes": [
                            "Note.G",
                            "Number"
                        ]
                    },
                    "Note.GSharp": {
                        "retType": "Note.GSharp",
                        "attributes": {
                            "block": "G#",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "415",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "G#",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.GSharp",
                            "Number"
                        ],
                        "pyQName": "Note.GSHARP"
                    },
                    "Note.A": {
                        "retType": "Note.A",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "440"
                        },
                        "extendsTypes": [
                            "Note.A",
                            "Number"
                        ]
                    },
                    "Note.Bb": {
                        "retType": "Note.Bb",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "466"
                        },
                        "extendsTypes": [
                            "Note.Bb",
                            "Number"
                        ],
                        "pyQName": "Note.BB"
                    },
                    "Note.B": {
                        "retType": "Note.B",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "494"
                        },
                        "extendsTypes": [
                            "Note.B",
                            "Number"
                        ]
                    },
                    "Note.C3": {
                        "retType": "Note.C3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "131"
                        },
                        "extendsTypes": [
                            "Note.C3",
                            "Number"
                        ]
                    },
                    "Note.CSharp3": {
                        "retType": "Note.CSharp3",
                        "attributes": {
                            "block": "C#3",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "139",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "C#3",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.CSharp3",
                            "Number"
                        ],
                        "pyQName": "Note.CSHARP3"
                    },
                    "Note.D3": {
                        "retType": "Note.D3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "147"
                        },
                        "extendsTypes": [
                            "Note.D3",
                            "Number"
                        ]
                    },
                    "Note.Eb3": {
                        "retType": "Note.Eb3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "156"
                        },
                        "extendsTypes": [
                            "Note.Eb3",
                            "Number"
                        ],
                        "pyQName": "Note.EB3"
                    },
                    "Note.E3": {
                        "retType": "Note.E3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "165"
                        },
                        "extendsTypes": [
                            "Note.E3",
                            "Number"
                        ]
                    },
                    "Note.F3": {
                        "retType": "Note.F3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "175"
                        },
                        "extendsTypes": [
                            "Note.F3",
                            "Number"
                        ]
                    },
                    "Note.FSharp3": {
                        "retType": "Note.FSharp3",
                        "attributes": {
                            "block": "F#3",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "185",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F#3",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.FSharp3",
                            "Number"
                        ],
                        "pyQName": "Note.FSHARP3"
                    },
                    "Note.G3": {
                        "retType": "Note.G3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "196"
                        },
                        "extendsTypes": [
                            "Note.G3",
                            "Number"
                        ]
                    },
                    "Note.GSharp3": {
                        "retType": "Note.GSharp3",
                        "attributes": {
                            "block": "G#3",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "208",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "G#3",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.GSharp3",
                            "Number"
                        ],
                        "pyQName": "Note.GSHARP3"
                    },
                    "Note.A3": {
                        "retType": "Note.A3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "220"
                        },
                        "extendsTypes": [
                            "Note.A3",
                            "Number"
                        ]
                    },
                    "Note.Bb3": {
                        "retType": "Note.Bb3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "233"
                        },
                        "extendsTypes": [
                            "Note.Bb3",
                            "Number"
                        ],
                        "pyQName": "Note.BB3"
                    },
                    "Note.B3": {
                        "retType": "Note.B3",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "247"
                        },
                        "extendsTypes": [
                            "Note.B3",
                            "Number"
                        ]
                    },
                    "Note.C4": {
                        "retType": "Note.C",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "262"
                        },
                        "extendsTypes": [
                            "Note.C4",
                            "Number"
                        ]
                    },
                    "Note.CSharp4": {
                        "retType": "Note.CSharp",
                        "attributes": {
                            "block": "C#4",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "277",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "C#4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.CSharp4",
                            "Number"
                        ],
                        "pyQName": "Note.CSHARP4"
                    },
                    "Note.D4": {
                        "retType": "Note.D",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "294"
                        },
                        "extendsTypes": [
                            "Note.D4",
                            "Number"
                        ]
                    },
                    "Note.Eb4": {
                        "retType": "Note.Eb",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "311"
                        },
                        "extendsTypes": [
                            "Note.Eb4",
                            "Number"
                        ],
                        "pyQName": "Note.EB4"
                    },
                    "Note.E4": {
                        "retType": "Note.E",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "330"
                        },
                        "extendsTypes": [
                            "Note.E4",
                            "Number"
                        ]
                    },
                    "Note.F4": {
                        "retType": "Note.F",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "349"
                        },
                        "extendsTypes": [
                            "Note.F4",
                            "Number"
                        ]
                    },
                    "Note.FSharp4": {
                        "retType": "Note.FSharp",
                        "attributes": {
                            "block": "F#4",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "370",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F#4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.FSharp4",
                            "Number"
                        ],
                        "pyQName": "Note.FSHARP4"
                    },
                    "Note.G4": {
                        "retType": "Note.G",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "392"
                        },
                        "extendsTypes": [
                            "Note.G4",
                            "Number"
                        ]
                    },
                    "Note.GSharp4": {
                        "retType": "Note.GSharp",
                        "attributes": {
                            "block": "G#4",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "415",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "G#4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.GSharp4",
                            "Number"
                        ],
                        "pyQName": "Note.GSHARP4"
                    },
                    "Note.A4": {
                        "retType": "Note.A",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "440"
                        },
                        "extendsTypes": [
                            "Note.A4",
                            "Number"
                        ]
                    },
                    "Note.Bb4": {
                        "retType": "Note.Bb",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "466"
                        },
                        "extendsTypes": [
                            "Note.Bb4",
                            "Number"
                        ],
                        "pyQName": "Note.BB4"
                    },
                    "Note.B4": {
                        "retType": "Note.B",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "494"
                        },
                        "extendsTypes": [
                            "Note.B4",
                            "Number"
                        ]
                    },
                    "Note.C5": {
                        "retType": "Note.C5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "523"
                        },
                        "extendsTypes": [
                            "Note.C5",
                            "Number"
                        ]
                    },
                    "Note.CSharp5": {
                        "retType": "Note.CSharp5",
                        "attributes": {
                            "block": "C#5",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "555",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "C#5",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.CSharp5",
                            "Number"
                        ],
                        "pyQName": "Note.CSHARP5"
                    },
                    "Note.D5": {
                        "retType": "Note.D5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "587"
                        },
                        "extendsTypes": [
                            "Note.D5",
                            "Number"
                        ]
                    },
                    "Note.Eb5": {
                        "retType": "Note.Eb5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "622"
                        },
                        "extendsTypes": [
                            "Note.Eb5",
                            "Number"
                        ],
                        "pyQName": "Note.EB5"
                    },
                    "Note.E5": {
                        "retType": "Note.E5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "659"
                        },
                        "extendsTypes": [
                            "Note.E5",
                            "Number"
                        ]
                    },
                    "Note.F5": {
                        "retType": "Note.F5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "698"
                        },
                        "extendsTypes": [
                            "Note.F5",
                            "Number"
                        ]
                    },
                    "Note.FSharp5": {
                        "retType": "Note.FSharp5",
                        "attributes": {
                            "block": "F#5",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "740",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "F#5",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.FSharp5",
                            "Number"
                        ],
                        "pyQName": "Note.FSHARP5"
                    },
                    "Note.G5": {
                        "retType": "Note.G5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "784"
                        },
                        "extendsTypes": [
                            "Note.G5",
                            "Number"
                        ]
                    },
                    "Note.GSharp5": {
                        "retType": "Note.GSharp5",
                        "attributes": {
                            "block": "G#5",
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "831",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "G#5",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Note.GSharp5",
                            "Number"
                        ],
                        "pyQName": "Note.GSHARP5"
                    },
                    "Note.A5": {
                        "retType": "Note.A5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "880"
                        },
                        "extendsTypes": [
                            "Note.A5",
                            "Number"
                        ]
                    },
                    "Note.Bb5": {
                        "retType": "Note.Bb5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "932"
                        },
                        "extendsTypes": [
                            "Note.Bb5",
                            "Number"
                        ],
                        "pyQName": "Note.BB5"
                    },
                    "Note.B5": {
                        "retType": "Note.B5",
                        "attributes": {
                            "blockIdentity": "music.noteFrequency",
                            "enumval": "988"
                        },
                        "extendsTypes": [
                            "Note.B5",
                            "Number"
                        ]
                    },
                    "BeatFraction": {
                        "kind": 6,
                        "retType": "BeatFraction",
                        "extendsTypes": [
                            "BeatFraction",
                            "Number"
                        ]
                    },
                    "BeatFraction.Whole": {
                        "retType": "BeatFraction.Whole",
                        "attributes": {
                            "block": "1",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Whole",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.WHOLE"
                    },
                    "BeatFraction.Half": {
                        "retType": "BeatFraction.Half",
                        "attributes": {
                            "block": "1/2",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1/2",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Half",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.HALF"
                    },
                    "BeatFraction.Quarter": {
                        "retType": "BeatFraction.Quarter",
                        "attributes": {
                            "block": "1/4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1/4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Quarter",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.QUARTER"
                    },
                    "BeatFraction.Eighth": {
                        "retType": "BeatFraction.Eighth",
                        "attributes": {
                            "block": "1/8",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1/8",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Eighth",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.EIGHTH"
                    },
                    "BeatFraction.Sixteenth": {
                        "retType": "BeatFraction.Sixteenth",
                        "attributes": {
                            "block": "1/16",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1/16",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Sixteenth",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.SIXTEENTH"
                    },
                    "BeatFraction.Double": {
                        "retType": "BeatFraction.Double",
                        "attributes": {
                            "block": "2",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "2",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Double",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.DOUBLE"
                    },
                    "BeatFraction.Breve": {
                        "retType": "BeatFraction.Breve",
                        "attributes": {
                            "block": "4",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "4",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BeatFraction.Breve",
                            "Number"
                        ],
                        "pyQName": "BeatFraction.BREVE"
                    },
                    "music.ringTone": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "frequency": "Note.C"
                            },
                            "help": "music/ring-tone",
                            "blockId": "music_ring",
                            "block": "ring tone|at %note=device_note",
                            "parts": "headphone",
                            "trackArgs": [
                                0
                            ],
                            "blockNamespace": "music",
                            "inBasicCategory": "true",
                            "weight": 75,
                            "blockGap": "8",
                            "group": "Tone",
                            "paramHelp": {
                                "frequency": "pitch of the tone to play in Hertz (Hz), eg: Note.C"
                            },
                            "jsDoc": "Play a tone.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "ring tone",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "note",
                                        "shadowBlockId": "device_note",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "frequency",
                                "description": "pitch of the tone to play in Hertz (Hz), eg: Note.C",
                                "default": "Note.C"
                            }
                        ],
                        "pyQName": "music.ring_tone"
                    },
                    "music.rest": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "ms": "BeatFraction.Half"
                            },
                            "help": "music/rest",
                            "blockId": "music_rest",
                            "block": "rest|for %duration=device_beat",
                            "parts": "headphone",
                            "trackArgs": [
                                0
                            ],
                            "blockNamespace": "music",
                            "weight": 74,
                            "group": "Tone",
                            "paramHelp": {
                                "ms": "rest duration in milliseconds (ms), eg: BeatFraction.Half"
                            },
                            "jsDoc": "Rest, or play silence, for some time (in milleseconds).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rest",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "device_beat",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "ms",
                                "description": "rest duration in milliseconds (ms), eg: BeatFraction.Half",
                                "default": "BeatFraction.Half"
                            }
                        ]
                    },
                    "music.beat": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "fraction": "BeatFraction.Half"
                            },
                            "help": "music/beat",
                            "blockId": "device_beat",
                            "block": "%fraction|beat",
                            "weight": 9,
                            "blockGap": "8",
                            "group": "Tempo",
                            "paramHelp": {
                                "fraction": "the fraction of the current whole note, eg: BeatFraction.Half"
                            },
                            "jsDoc": "Return the duration of a beat in milliseconds (the beat fraction).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "fraction",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "beat",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "fraction",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "fraction",
                                "description": "the fraction of the current whole note, eg: BeatFraction.Half",
                                "type": "BeatFraction",
                                "initializer": "undefined",
                                "default": "BeatFraction.Half",
                                "isEnum": true
                            }
                        ]
                    },
                    "music.tempo": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "help": "music/tempo",
                            "blockId": "device_tempo",
                            "block": "tempo (bpm)",
                            "weight": 64,
                            "group": "Tempo",
                            "jsDoc": "Return the tempo in beats per minute (bpm).\nTempo is the speed (bpm = beats per minute) at which notes play. The larger the tempo value, the faster the notes will play.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tempo (bpm)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "music.changeTempoBy": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "bpm": "20"
                            },
                            "help": "music/change-tempo-by",
                            "weight": 66,
                            "blockId": "device_change_tempo",
                            "block": "change tempo by %value|(bpm)",
                            "blockGap": "8",
                            "group": "Tempo",
                            "paramHelp": {
                                "bpm": "The change in beats per minute to the tempo, eg: 20"
                            },
                            "jsDoc": "Change the tempo up or down by some amount of beats per minute (bpm).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "change tempo by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "(bpm)",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "bpm",
                                "description": "The change in beats per minute to the tempo, eg: 20",
                                "default": "20"
                            }
                        ],
                        "pyQName": "music.change_tempo_by"
                    },
                    "music.setTempo": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "bpm": "120"
                            },
                            "help": "music/set-tempo",
                            "blockId": "device_set_tempo",
                            "block": "set tempo to %value|(bpm)",
                            "paramMin": {
                                "bpm": "4"
                            },
                            "paramMax": {
                                "bpm": "400"
                            },
                            "weight": 65,
                            "blockGap": "8",
                            "group": "Tempo",
                            "paramHelp": {
                                "bpm": "The new tempo in beats per minute, eg: 120"
                            },
                            "jsDoc": "Set the tempo a number of beats per minute (bpm).",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set tempo to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "(bpm)",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "bpm",
                                "description": "The new tempo in beats per minute, eg: 120",
                                "default": "120",
                                "options": {
                                    "min": {
                                        "value": "4"
                                    },
                                    "max": {
                                        "value": "400"
                                    }
                                }
                            }
                        ],
                        "pyQName": "music.set_tempo"
                    },
                    "network": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#E3008C",
                            "weight": 89,
                            "icon": "",
                            "groups": [
                                "Infrared",
                                "Cable"
                            ],
                            "jsDoc": "Communication between devices"
                        }
                    },
                    "network.cableSendPacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Send data over cable."
                        },
                        "parameters": [
                            {
                                "name": "buf",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "network.cable_send_packet"
                    },
                    "network.cablePacket": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Get most recent packet received over cable."
                        },
                        "parameters": [],
                        "pyQName": "network.cable_packet"
                    },
                    "network.onCablePacket": {
                        "kind": -3,
                        "attributes": {
                            "parts": "cable",
                            "jsDoc": "Run action after a packet is recieved over cable."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_cable_packet"
                    },
                    "network.onCableError": {
                        "kind": -3,
                        "attributes": {
                            "jsDoc": "Run action after there's an error reciving packet over cable."
                        },
                        "parameters": [
                            {
                                "name": "body",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "network.on_cable_error"
                    },
                    "serial": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 2,
                            "color": "#006E90",
                            "icon": "",
                            "advanced": true,
                            "blockGap": "8",
                            "groups": [
                                "Write",
                                "Read",
                                "Events",
                                "Configuration"
                            ],
                            "jsDoc": "Reading and writing data over a serial connection."
                        }
                    },
                    "serial.createSerial": {
                        "kind": -3,
                        "retType": "serial.Serial",
                        "attributes": {
                            "help": "serial/create-serial",
                            "parts": "serial",
                            "paramHelp": {
                                "tx": "@param rx ",
                                "id": ""
                            },
                            "jsDoc": "Creates a serial comm device"
                        },
                        "parameters": [
                            {
                                "name": "tx",
                                "description": "@param rx ",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rx",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "id",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "serial.create_serial"
                    },
                    "serial.device": {
                        "kind": -3,
                        "retType": "serial.Serial",
                        "parameters": []
                    },
                    "serial.redirect": {
                        "kind": -3,
                        "attributes": {
                            "weight": 10,
                            "help": "serial/redirect",
                            "blockId": "serial_redirect",
                            "block": "serial|redirect to|TX %tx|RX %rx at rate %rate",
                            "paramFieldEditor": {
                                "tx": "gridpicker",
                                "rx": "gridpicker"
                            },
                            "paramFieldEditorOptions": {
                                "tx": {
                                    "columns": "3",
                                    "tooltips": "false"
                                },
                                "rx": {
                                    "columns": "3",
                                    "tooltips": "false"
                                }
                            },
                            "blockGap": "8",
                            "inlineInputMode": "inline",
                            "group": "Configuration",
                            "paramHelp": {
                                "tx": "the new transmission pin",
                                "rx": "the new reception pin",
                                "rate": "the new baud rate"
                            },
                            "jsDoc": "Set the serial input and output to use pins instead of the USB connection.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "redirect to",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "TX ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "tx",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "RX ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rx",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " at rate ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rate",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "tx",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rx",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rate",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "tx",
                                "description": "the new transmission pin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rx",
                                "description": "the new reception pin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rate",
                                "description": "the new baud rate",
                                "type": "BaudRate",
                                "isEnum": true
                            }
                        ]
                    },
                    "serial.NEW_LINE": {
                        "kind": 4,
                        "retType": "string"
                    },
                    "serial.Serial": {
                        "kind": 8,
                        "retType": "serial.Serial",
                        "extendsTypes": []
                    },
                    "serial.Serial.serialDevice": {
                        "kind": 2,
                        "retType": "SerialDevice",
                        "isInstance": true,
                        "pyQName": "serial.Serial.serial_device"
                    },
                    "serial.Serial.decoder": {
                        "kind": 2,
                        "retType": "UTF8Decoder",
                        "isInstance": true
                    },
                    "serial.Serial.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "serialDevice",
                                "type": "SerialDevice"
                            }
                        ],
                        "isInstance": true
                    },
                    "serial.Serial.readString": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "serial.Serial.read_string"
                    },
                    "serial.Serial.readLine": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "timeOut",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "serial.Serial.read_line"
                    },
                    "serial.Serial.readUntil": {
                        "kind": -1,
                        "retType": "string",
                        "parameters": [
                            {
                                "name": "delimiter",
                                "type": "Delimiters",
                                "isEnum": true
                            },
                            {
                                "name": "timeOut",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "serial.Serial.read_until"
                    },
                    "serial.Serial.writeString": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "serial.Serial.write_string"
                    },
                    "serial.Serial.writeLine": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "serial.Serial.write_line"
                    },
                    "serial.readString": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "help": "serial/read-string",
                            "blockId": "serial_read_string",
                            "block": "serial|read string",
                            "weight": 18,
                            "group": "Read",
                            "jsDoc": "Read the buffered received data as a string",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "read string",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "serial.read_string"
                    },
                    "serial.readLine": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "help": "serial/read-line",
                            "blockId": "serial_read_line",
                            "block": "serial|read line",
                            "weight": 20,
                            "blockGap": "8",
                            "group": "Read",
                            "jsDoc": "Read a line of text from the serial port.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "read line",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "serial.read_line"
                    },
                    "serial.readUntil": {
                        "kind": -3,
                        "retType": "string",
                        "attributes": {
                            "help": "serial/read-until",
                            "blockId": "serial_read_until",
                            "block": "serial|read until %delimiter=serial_delimiter_conv",
                            "weight": 19,
                            "group": "Read",
                            "paramHelp": {
                                "delimiter": "text delimiter that separates each text chunk"
                            },
                            "jsDoc": "Read a line of text from the serial port and return the buffer when the delimiter is met.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "read until ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "delimiter",
                                        "shadowBlockId": "serial_delimiter_conv",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "delimiter",
                                        "shadowBlockId": "serial_delimiter_conv",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "delimiter",
                                "description": "text delimiter that separates each text chunk",
                                "type": "Delimiters",
                                "isEnum": true
                            },
                            {
                                "name": "timeOut",
                                "initializer": "undefined"
                            }
                        ],
                        "pyQName": "serial.read_until"
                    },
                    "serial.writeString": {
                        "kind": -3,
                        "attributes": {
                            "help": "serial/write-string",
                            "weight": 87,
                            "blockId": "serial_writestring",
                            "block": "serial|write string %text",
                            "group": "Write",
                            "jsDoc": "Write some text to the serial port.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "write string ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ],
                        "pyQName": "serial.write_string"
                    },
                    "serial.writeLine": {
                        "kind": -3,
                        "attributes": {
                            "weight": 90,
                            "help": "serial/write-line",
                            "blockGap": "8",
                            "blockId": "serial_writeline",
                            "block": "serial|write line %text",
                            "group": "Write",
                            "paramHelp": {
                                "value": "to send over serial"
                            },
                            "jsDoc": "Write a line of text to the serial port.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "write line ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "text",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "text",
                                "type": "string"
                            }
                        ],
                        "pyQName": "serial.write_line"
                    },
                    "serial.writeNumber": {
                        "kind": -3,
                        "attributes": {
                            "help": "serial/write-number",
                            "weight": 89,
                            "blockGap": "8",
                            "blockId": "serial_writenumber",
                            "block": "serial|write number %value",
                            "group": "Write",
                            "jsDoc": "Write a number to the serial port.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "write number ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value"
                            }
                        ],
                        "pyQName": "serial.write_number"
                    },
                    "serial.writeValue": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "name": "x"
                            },
                            "weight": 88,
                            "blockGap": "8",
                            "help": "serial/write-value",
                            "blockId": "serial_writevalue",
                            "block": "serial|write value %name|= %value",
                            "group": "Write",
                            "paramHelp": {
                                "name": "name of the value stream, eg: \"x\"",
                                "value": "to write"
                            },
                            "jsDoc": "Write a name:value pair as a line of text to the serial port.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "write value ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "= ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "name",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "name",
                                "description": "name of the value stream, eg: \"x\"",
                                "type": "string",
                                "default": "x"
                            },
                            {
                                "name": "value",
                                "description": "to write"
                            }
                        ],
                        "pyQName": "serial.write_value"
                    },
                    "serial.setRxBufferSize": {
                        "kind": -3,
                        "attributes": {
                            "help": "serial/set-rx-buffer-size",
                            "blockId": "serialsetrxbuffersize",
                            "block": "serial set rx buffer size to $size",
                            "weight": 10,
                            "group": "Configuration",
                            "jsDoc": "Sets the size of the RX buffer in bytes",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial set rx buffer size to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "size",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "size",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "size"
                            }
                        ],
                        "pyQName": "serial.set_rx_buffer_size"
                    },
                    "serial.setTxBufferSize": {
                        "kind": -3,
                        "attributes": {
                            "help": "serial/set-tx-buffer-size",
                            "blockId": "serialsettxbuffersize",
                            "block": "serial set tx buffer size to $size",
                            "weight": 9,
                            "group": "Configuration",
                            "jsDoc": "Sets the size of the TX buffer in bytes",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial set tx buffer size to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "size",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "size",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "size"
                            }
                        ],
                        "pyQName": "serial.set_tx_buffer_size"
                    },
                    "serial.read": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "Group": "Read",
                            "jsDoc": "Reads a single byte from the serial receive buffer. Negative if error, 0 if no data."
                        },
                        "parameters": []
                    },
                    "serial.readBuffer": {
                        "kind": -3,
                        "retType": "Buffer",
                        "attributes": {
                            "help": "serial/read-buffer",
                            "blockId": "serial_read_buffer",
                            "block": "serial|read buffer",
                            "weight": 17,
                            "group": "Read",
                            "jsDoc": "Read the buffered received data as a buffer",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "read buffer",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "serial.read_buffer"
                    },
                    "serial.writeBuffer": {
                        "kind": -3,
                        "attributes": {
                            "help": "serial/write-buffer",
                            "weight": 6,
                            "blockId": "serial_writebuffer",
                            "block": "serial|write buffer %buffer",
                            "group": "Write",
                            "jsDoc": "Send a buffer across the serial connection.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "write buffer ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "buffer",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "buffer",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "pyQName": "serial.write_buffer"
                    },
                    "serial.setBaudRate": {
                        "kind": -3,
                        "attributes": {
                            "weight": 10,
                            "blockId": "serial_setbaudrate",
                            "block": "serial|set baud rate %rate",
                            "blockGap": "8",
                            "inlineInputMode": "inline",
                            "help": "serial/set-baud-rate",
                            "group": "Configuration",
                            "jsDoc": "Set the baud rate of the serial port",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "set baud rate ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rate",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rate",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rate",
                                "type": "BaudRate",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "serial.set_baud_rate"
                    },
                    "serial.attachToConsole": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "serialsendtoconsole",
                            "block": "serial attach to console",
                            "group": "Configuration",
                            "help": "serial/attach-to-console",
                            "jsDoc": "Send console messages through the TX, RX pins",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial attach to console",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "serial.attach_to_console"
                    },
                    "serial.onEvent": {
                        "kind": -3,
                        "attributes": {
                            "weight": 9,
                            "help": "serial/on-event",
                            "blockId": "serial_onevent",
                            "block": "serial on %event",
                            "blockGap": "8",
                            "group": "Events",
                            "jsDoc": "Registers code when serial events happen",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "event",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "event",
                                "type": "SerialEvent",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "serial.on_event"
                    },
                    "serial.onDelimiterReceived": {
                        "kind": -3,
                        "attributes": {
                            "weight": 10,
                            "help": "serial/on-delimiter-received",
                            "blockId": "serial_ondelimiter",
                            "block": "serial on delimiter $delimiter received",
                            "blockGap": "8",
                            "group": "Events",
                            "jsDoc": "Registers code when a delimiter is received",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "serial on delimiter ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "delimiter",
                                        "ref": true
                                    },
                                    {
                                        "kind": "label",
                                        "text": " received",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "delimiter",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "delimiter",
                                "type": "Delimiters",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "pyQName": "serial.on_delimiter_received"
                    },
                    "BaudRate": {
                        "kind": 6,
                        "retType": "BaudRate",
                        "extendsTypes": [
                            "BaudRate",
                            "Number"
                        ]
                    },
                    "BaudRate.BaudRate115200": {
                        "retType": "BaudRate.BaudRate115200",
                        "attributes": {
                            "block": "115200",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "115200",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate115200",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE115200"
                    },
                    "BaudRate.BaudRate57600": {
                        "retType": "BaudRate.BaudRate57600",
                        "attributes": {
                            "block": "57600",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "57600",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate57600",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE57600"
                    },
                    "BaudRate.BaudRate38400": {
                        "retType": "BaudRate.BaudRate38400",
                        "attributes": {
                            "block": "38400",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "38400",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate38400",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE38400"
                    },
                    "BaudRate.BaudRate31250": {
                        "retType": "BaudRate.BaudRate31250",
                        "attributes": {
                            "block": "31250",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "31250",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate31250",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE31250"
                    },
                    "BaudRate.BaudRate28800": {
                        "retType": "BaudRate.BaudRate28800",
                        "attributes": {
                            "block": "28800",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "28800",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate28800",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE28800"
                    },
                    "BaudRate.BaudRate19200": {
                        "retType": "BaudRate.BaudRate19200",
                        "attributes": {
                            "block": "19200",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "19200",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate19200",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE19200"
                    },
                    "BaudRate.BaudRate14400": {
                        "retType": "BaudRate.BaudRate14400",
                        "attributes": {
                            "block": "14400",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "14400",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate14400",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE14400"
                    },
                    "BaudRate.BaudRate9600": {
                        "retType": "BaudRate.BaudRate9600",
                        "attributes": {
                            "block": "9600",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "9600",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate9600",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE9600"
                    },
                    "BaudRate.BaudRate4800": {
                        "retType": "BaudRate.BaudRate4800",
                        "attributes": {
                            "block": "4800",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "4800",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate4800",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE4800"
                    },
                    "BaudRate.BaudRate2400": {
                        "retType": "BaudRate.BaudRate2400",
                        "attributes": {
                            "block": "2400",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "2400",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate2400",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE2400"
                    },
                    "BaudRate.BaudRate1200": {
                        "retType": "BaudRate.BaudRate1200",
                        "attributes": {
                            "block": "1200",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "1200",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate1200",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE1200"
                    },
                    "BaudRate.BaudRate300": {
                        "retType": "BaudRate.BaudRate300",
                        "attributes": {
                            "block": "300",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "300",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "BaudRate.BaudRate300",
                            "Number"
                        ],
                        "pyQName": "BaudRate.BAUD_RATE300"
                    },
                    "SerialEvent": {
                        "kind": 6,
                        "retType": "SerialEvent",
                        "extendsTypes": [
                            "SerialEvent",
                            "Number"
                        ]
                    },
                    "SerialEvent.DataReceived": {
                        "retType": "SerialEvent.DataReceived",
                        "attributes": {
                            "block": "data received",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "data received",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SerialEvent.DataReceived",
                            "Number"
                        ],
                        "pyQName": "SerialEvent.DATA_RECEIVED"
                    },
                    "SerialEvent.RxBufferFull": {
                        "retType": "SerialEvent.RxBufferFull",
                        "attributes": {
                            "block": "rx buffer full",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rx buffer full",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "SerialEvent.RxBufferFull",
                            "Number"
                        ],
                        "pyQName": "SerialEvent.RX_BUFFER_FULL"
                    },
                    "Delimiters": {
                        "kind": 6,
                        "retType": "Delimiters",
                        "extendsTypes": [
                            "Delimiters",
                            "Number"
                        ]
                    },
                    "Delimiters.NewLine": {
                        "retType": "Delimiters.NewLine",
                        "attributes": {
                            "block": "new line",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "new line",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.NewLine",
                            "Number"
                        ],
                        "pyQName": "Delimiters.NEW_LINE"
                    },
                    "Delimiters.Comma": {
                        "retType": "Delimiters.Comma",
                        "attributes": {
                            "block": ",",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": ",",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Comma",
                            "Number"
                        ],
                        "pyQName": "Delimiters.COMMA"
                    },
                    "Delimiters.Dollar": {
                        "retType": "Delimiters.Dollar",
                        "attributes": {
                            "block": "$",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "",
                                        "ref": true
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "",
                                        "ref": true
                                    }
                                ]
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Dollar",
                            "Number"
                        ],
                        "pyQName": "Delimiters.DOLLAR"
                    },
                    "Delimiters.Colon": {
                        "retType": "Delimiters.Colon",
                        "attributes": {
                            "block": ":",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": ":",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Colon",
                            "Number"
                        ],
                        "pyQName": "Delimiters.COLON"
                    },
                    "Delimiters.Fullstop": {
                        "retType": "Delimiters.Fullstop",
                        "attributes": {
                            "block": ".",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": ".",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Fullstop",
                            "Number"
                        ],
                        "pyQName": "Delimiters.FULLSTOP"
                    },
                    "Delimiters.Hash": {
                        "retType": "Delimiters.Hash",
                        "attributes": {
                            "block": "#",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "#",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Hash",
                            "Number"
                        ],
                        "pyQName": "Delimiters.HASH"
                    },
                    "Delimiters.SemiColumn": {
                        "retType": "Delimiters.SemiColumn",
                        "attributes": {
                            "block": ";",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": ";",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.SemiColumn",
                            "Number"
                        ],
                        "pyQName": "Delimiters.SEMI_COLUMN"
                    },
                    "Delimiters.Space": {
                        "retType": "Delimiters.Space",
                        "attributes": {
                            "block": "space",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "space",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Space",
                            "Number"
                        ],
                        "pyQName": "Delimiters.SPACE"
                    },
                    "Delimiters.Tab": {
                        "retType": "Delimiters.Tab",
                        "attributes": {
                            "block": "tab",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "tab",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Tab",
                            "Number"
                        ],
                        "pyQName": "Delimiters.TAB"
                    },
                    "Delimiters.Pipe": {
                        "retType": "Delimiters.Pipe",
                        "attributes": {
                            "block": "pipe",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Delimiters.Pipe",
                            "Number"
                        ],
                        "pyQName": "Delimiters.PIPE"
                    },
                    "serial.internalCreateSerialDevice": {
                        "kind": -3,
                        "retType": "SerialDevice",
                        "attributes": {
                            "jsDoc": "Opens a Serial communication driver"
                        },
                        "parameters": [
                            {
                                "name": "tx",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rx",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "id"
                            }
                        ],
                        "pyQName": "serial.internal_create_serial_device"
                    },
                    "SerialDevice": {
                        "kind": 9,
                        "retType": "SerialDevice",
                        "extendsTypes": []
                    },
                    "SerialDevice.redirect": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "tx",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rx",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "rate",
                                "type": "BaudRate",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "SerialDevice.setRxBufferSize": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Sets the size of the RX buffer in bytes"
                        },
                        "parameters": [
                            {
                                "name": "size"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.set_rx_buffer_size"
                    },
                    "SerialDevice.setTxBufferSize": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Sets the size of the TX buffer in bytes"
                        },
                        "parameters": [
                            {
                                "name": "size"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.set_tx_buffer_size"
                    },
                    "SerialDevice.setBaudRate": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Set the baud rate of the serial port"
                        },
                        "parameters": [
                            {
                                "name": "rate",
                                "type": "BaudRate",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.set_baud_rate"
                    },
                    "SerialDevice.read": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "jsDoc": "Reads a single byte from the serial receive buffer. Negative if error, 0 if no data."
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "SerialDevice.readBuffer": {
                        "kind": -1,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Read the buffered received data as a buffer"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "SerialDevice.read_buffer"
                    },
                    "SerialDevice.writeBuffer": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Send a buffer across the serial connection."
                        },
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.write_buffer"
                    },
                    "SerialDevice.onEvent": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Register code when a serial event occurs"
                        },
                        "parameters": [
                            {
                                "name": "event",
                                "type": "SerialEvent",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.on_event"
                    },
                    "SerialDevice.onDelimiterReceived": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Registers code when a delimiter is received"
                        },
                        "parameters": [
                            {
                                "name": "delimiter",
                                "type": "Delimiters",
                                "isEnum": true
                            },
                            {
                                "name": "handler",
                                "type": "() => void",
                                "handlerParameters": []
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "SerialDevice.on_delimiter_received"
                    },
                    "pins.A1": {
                        "kind": 4,
                        "retType": "AnalogInPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.A2": {
                        "kind": 4,
                        "retType": "AnalogInPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.A3": {
                        "kind": 4,
                        "retType": "PwmPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.A4": {
                        "kind": 4,
                        "retType": "PwmPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.A5": {
                        "kind": 4,
                        "retType": "PwmPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.A6": {
                        "kind": 4,
                        "retType": "PwmPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D7": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D8": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D9": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D10": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D12": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D13": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.D14": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.LIGHT_ENABLE": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.LIGHT": {
                        "kind": 4,
                        "retType": "AnalogInPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "pins.NEOPIXEL": {
                        "kind": 4,
                        "retType": "DigitalInOutPin",
                        "attributes": {
                            "fixedInstance": "true"
                        }
                    },
                    "rgb": {
                        "kind": 5,
                        "retType": ""
                    },
                    "sensors": {
                        "kind": 5,
                        "retType": ""
                    },
                    "config": {
                        "kind": 5,
                        "retType": ""
                    },
                    "config.PIN_NEOPIXEL": {
                        "kind": 4,
                        "retType": "DAL.KEY_LEFTBRACE"
                    },
                    "config.NUM_NEOPIXELS": {
                        "kind": 4,
                        "retType": "number"
                    },
                    "config.PIN_A0": {
                        "kind": 4,
                        "retType": "DAL.MMA8653_CTRL_REG5"
                    },
                    "config.PIN_A1": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_SINGLE_WIRE_SERIAL"
                    },
                    "config.PIN_A2": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_JACDAC_PHYS"
                    },
                    "config.PIN_A3": {
                        "kind": 4,
                        "retType": "DAL.JD_STARTED"
                    },
                    "config.PIN_A4": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_EVT_CRC_ERROR"
                    },
                    "config.PIN_A5": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_EVT_RX_TIMEOUT"
                    },
                    "config.PIN_A6": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_TRANSMITTING"
                    },
                    "config.PIN_D7": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_EVT_BUS_DISCONNECTED"
                    },
                    "config.PIN_D8": {
                        "kind": 4,
                        "retType": "DAL.KEY_ESC"
                    },
                    "config.PIN_D9": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_SERIAL"
                    },
                    "config.PIN_D11": {
                        "kind": 4,
                        "retType": "DAL.JD_SERVICE_CLASS_BUTTON"
                    },
                    "config.PIN_D12": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_RX_LO_PULSE"
                    },
                    "config.PIN_D13": {
                        "kind": 4,
                        "retType": "DAL.JD_MIN_INTERLODATA_SPACING"
                    },
                    "config.PIN_D14": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_MULTIBUTTON_ATTACH"
                    },
                    "config.PIN_D15": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_JACDAC"
                    },
                    "config.PIN_FLASH_MISO": {
                        "kind": 4,
                        "retType": "DAL.JD_SERVICE_CLASS_BUTTON"
                    },
                    "config.PIN_FLASH_MOSI": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_RX_LO_PULSE"
                    },
                    "config.PIN_FLASH_SCK": {
                        "kind": 4,
                        "retType": "DAL.JD_MIN_INTERLODATA_SPACING"
                    },
                    "config.PIN_LIGHT": {
                        "kind": 4,
                        "retType": "DAL.DEVICE_ID_PRESSURE"
                    },
                    "config.PIN_JACK_SND": {
                        "kind": 4,
                        "retType": "DAL.MMA8653_CTRL_REG5"
                    },
                    "config.PIN_RX": {
                        "kind": 4,
                        "retType": "DAL.JD_SERIAL_EVT_BUS_DISCONNECTED"
                    },
                    "config.PIN_TX": {
                        "kind": 4,
                        "retType": "DAL.KEY_ESC"
                    },
                    "config.ACCELEROMETER_TYPE": {
                        "kind": 4,
                        "retType": "DAL.MPU6050_DEFAULT_ADDR"
                    },
                    "config.PIN_ACCELEROMETER_SCL": {
                        "kind": 4,
                        "retType": "DAL.MMA8653_CTRL_REG2"
                    },
                    "config.PIN_ACCELEROMETER_SDA": {
                        "kind": 4,
                        "retType": "DAL.MMA8653_CTRL_REG3"
                    },
                    "config.PIN_ACCELEROMETER_INT": {
                        "kind": 4,
                        "retType": "DAL.MMA8653_CTRL_REG1"
                    }
                }
            },
            "sha": "2cf2782bfb2e82c217b922527b78dc9aca1336b8a017e32e4f1e1e2f6c3742e5"
        },
        "libs/mixer---nrf52": {
            "apis": {
                "byQName": {}
            },
            "sha": "0f53c416a80efe79ea059e97e8d6a6d3bebaac35198cfa0eafa604e82da10256"
        },
        "libs/blocksprj": {
            "apis": {
                "byQName": {
                    "pins": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#185C87",
                            "weight": 100,
                            "icon": "",
                            "advanced": false,
                            "groups": [
                                "other",
                                "Servo",
                                "i2c"
                            ],
                            "to": "true",
                            "be": "true",
                            "included": "true",
                            "jsDoc": "Control currents in Pins for analog/digital signals, servos, i2c, ...\n\nUse this file to define custom functions and blocks.\n\nCustom blocks"
                        }
                    },
                    "loops": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#40bf4a",
                            "weight": 65,
                            "icon": "f01e"
                        }
                    },
                    "input": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#185C87",
                            "weight": 85,
                            "icon": "",
                            "groups": [
                                "other",
                                "More"
                            ],
                            "block": "Sensors",
                            "jsDoc": "Respond to and read data from buttons and sensors.\n\nEvents and data from sensors.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "Sensors",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "light": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 100,
                            "color": "#0078d7",
                            "icon": "",
                            "groups": [
                                "other",
                                "Color",
                                "Photon",
                                "More"
                            ],
                            "blockGap": "8",
                            "jsDoc": "Functions to operate colored LEDs."
                        }
                    },
                    "led": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#8169E6",
                            "weight": 35,
                            "icon": "",
                            "advanced": true,
                            "block": "LED Matrix",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "LED Matrix",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "Colors": {
                        "kind": 6,
                        "retType": "Colors",
                        "attributes": {
                            "jsDoc": "Well known colors"
                        },
                        "extendsTypes": [
                            "Colors",
                            "Number"
                        ]
                    },
                    "Colors.Red": {
                        "retType": "Colors.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Red",
                            "Number"
                        ],
                        "pyQName": "Colors.RED"
                    },
                    "Colors.Orange": {
                        "retType": "Colors.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Orange",
                            "Number"
                        ],
                        "pyQName": "Colors.ORANGE"
                    },
                    "Colors.Yellow": {
                        "retType": "Colors.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Yellow",
                            "Number"
                        ],
                        "pyQName": "Colors.YELLOW"
                    },
                    "Colors.Green": {
                        "retType": "Colors.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Green",
                            "Number"
                        ],
                        "pyQName": "Colors.GREEN"
                    },
                    "Colors.Blue": {
                        "retType": "Colors.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Blue",
                            "Number"
                        ],
                        "pyQName": "Colors.BLUE"
                    },
                    "Colors.Indigo": {
                        "retType": "Colors.Indigo",
                        "attributes": {
                            "block": "indigo",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "indigo",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Indigo",
                            "Number"
                        ],
                        "pyQName": "Colors.INDIGO"
                    },
                    "Colors.Violet": {
                        "retType": "Colors.Violet",
                        "attributes": {
                            "block": "violet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "violet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Violet",
                            "Number"
                        ],
                        "pyQName": "Colors.VIOLET"
                    },
                    "Colors.Purple": {
                        "retType": "Colors.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Purple",
                            "Number"
                        ],
                        "pyQName": "Colors.PURPLE"
                    },
                    "Colors.Pink": {
                        "retType": "Colors.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Pink",
                            "Number"
                        ],
                        "pyQName": "Colors.PINK"
                    },
                    "Colors.White": {
                        "retType": "Colors.White",
                        "attributes": {
                            "block": "white",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "white",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.White",
                            "Number"
                        ],
                        "pyQName": "Colors.WHITE"
                    },
                    "Colors.Black": {
                        "retType": "Colors.Black",
                        "attributes": {
                            "block": "black",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "black",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "Colors.Black",
                            "Number"
                        ],
                        "pyQName": "Colors.BLACK"
                    },
                    "ColorHues": {
                        "kind": 6,
                        "retType": "ColorHues",
                        "attributes": {
                            "jsDoc": "Well known color hues"
                        },
                        "extendsTypes": [
                            "ColorHues",
                            "Number"
                        ]
                    },
                    "ColorHues.Red": {
                        "retType": "ColorHues.Red",
                        "attributes": {
                            "block": "red",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Red",
                            "Number"
                        ],
                        "pyQName": "ColorHues.RED"
                    },
                    "ColorHues.Orange": {
                        "retType": "ColorHues.Orange",
                        "attributes": {
                            "block": "orange",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "orange",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Orange",
                            "Number"
                        ],
                        "pyQName": "ColorHues.ORANGE"
                    },
                    "ColorHues.Yellow": {
                        "retType": "ColorHues.Yellow",
                        "attributes": {
                            "block": "yellow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "yellow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Yellow",
                            "Number"
                        ],
                        "pyQName": "ColorHues.YELLOW"
                    },
                    "ColorHues.Green": {
                        "retType": "ColorHues.Green",
                        "attributes": {
                            "block": "green",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "green",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Green",
                            "Number"
                        ],
                        "pyQName": "ColorHues.GREEN"
                    },
                    "ColorHues.Aqua": {
                        "retType": "ColorHues.Aqua",
                        "attributes": {
                            "block": "aqua",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "aqua",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Aqua",
                            "Number"
                        ],
                        "pyQName": "ColorHues.AQUA"
                    },
                    "ColorHues.Blue": {
                        "retType": "ColorHues.Blue",
                        "attributes": {
                            "block": "blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "blue",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Blue",
                            "Number"
                        ],
                        "pyQName": "ColorHues.BLUE"
                    },
                    "ColorHues.Purple": {
                        "retType": "ColorHues.Purple",
                        "attributes": {
                            "block": "purple",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "purple",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Purple",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PURPLE"
                    },
                    "ColorHues.Magenta": {
                        "retType": "ColorHues.Magenta",
                        "attributes": {
                            "block": "magenta",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "magenta",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Magenta",
                            "Number"
                        ],
                        "pyQName": "ColorHues.MAGENTA"
                    },
                    "ColorHues.Pink": {
                        "retType": "ColorHues.Pink",
                        "attributes": {
                            "block": "pink",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pink",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "ColorHues.Pink",
                            "Number"
                        ],
                        "pyQName": "ColorHues.PINK"
                    },
                    "color": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "advanced": true,
                            "jsDoc": "Color manipulation"
                        }
                    },
                    "color.rgb": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "blockId": "colorsrgb",
                            "block": "red %red|green %green|blue %blue",
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "help": "colors/rgb",
                            "weight": 19,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "red": "value of the red channel between 0 and 255. eg: 255",
                                "green": "value of the green channel between 0 and 255. eg: 255",
                                "blue": "value of the blue channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Converts red, green, blue channels into a RGB color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "description": "value of the red channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "description": "value of the green channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "description": "value of the blue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.argb": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            }
                        ]
                    },
                    "color.wellKnown": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "colorscolors",
                            "block": "%color",
                            "help": "colors/well-known",
                            "shim": "TD_ID",
                            "weight": 20,
                            "blockGap": "8",
                            "blockHidden": true,
                            "jsDoc": "Get the RGB value of a known color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "type": "Colors",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.well_known"
                    },
                    "color.hsv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "blockId": "colorshsv",
                            "block": "hue %hue|sat %sat|val %val",
                            "paramMin": {
                                "hue": "0",
                                "sat": "0",
                                "val": "0"
                            },
                            "paramMax": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "help": "colors/hsv",
                            "weight": 17,
                            "blockHidden": true,
                            "paramHelp": {
                                "hue": "value of the hue channel between 0 and 255. eg: 255",
                                "sat": "value of the saturation channel between 0 and 255. eg: 255",
                                "val": "value of the value channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Convert an HSV (hue, saturation, value) color to RGB",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "sat ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "val ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "value of the hue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "sat",
                                "description": "value of the saturation channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "val",
                                "description": "value of the value channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.fade": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "brightness": "128"
                            },
                            "blockId": "colorsfade",
                            "block": "fade %color=neopixel_colors|by %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/fade",
                            "group": "Color",
                            "weight": 18,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "color": "color to fade",
                                "brightness": "the amount of brightness to apply to the color, eg: 128"
                            },
                            "jsDoc": "Fade the color by the brightness",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fade ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "color to fade"
                            },
                            {
                                "name": "brightness",
                                "description": "the amount of brightness to apply to the color, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "color.blend": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color"
                            },
                            {
                                "name": "alpha"
                            },
                            {
                                "name": "otherColor"
                            }
                        ]
                    },
                    "color.gradient": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "startColor"
                            },
                            {
                                "name": "endColor"
                            },
                            {
                                "name": "steps"
                            }
                        ]
                    },
                    "color.unpackR": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_r"
                    },
                    "color.unpackG": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_g"
                    },
                    "color.unpackB": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "color.unpack_b"
                    },
                    "color.parseColor": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "color",
                                "type": "string"
                            }
                        ],
                        "pyQName": "color.parse_color"
                    },
                    "color.ColorBufferLayout": {
                        "kind": 6,
                        "retType": "color.ColorBufferLayout",
                        "extendsTypes": [
                            "color.ColorBufferLayout",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.RGB": {
                        "retType": "color.ColorBufferLayout.RGB",
                        "attributes": {
                            "jsDoc": "24bit RGB color"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.RGB",
                            "Number"
                        ]
                    },
                    "color.ColorBufferLayout.ARGB": {
                        "retType": "color.ColorBufferLayout.ARGB",
                        "attributes": {
                            "jsDoc": "32bit RGB color with alpha"
                        },
                        "extendsTypes": [
                            "color.ColorBufferLayout.ARGB",
                            "Number"
                        ]
                    },
                    "color.ColorBuffer": {
                        "kind": 8,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "A buffer of colors"
                        },
                        "extendsTypes": []
                    },
                    "color.ColorBuffer.layout": {
                        "kind": 2,
                        "retType": "color.ColorBufferLayout",
                        "isInstance": true
                    },
                    "color.ColorBuffer.buf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "color.ColorBuffer.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "length"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.fromBuffer": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "buffer",
                                "type": "Buffer"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.ColorBuffer.from_buffer"
                    },
                    "color.ColorBuffer.stride": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.length": {
                        "kind": -2,
                        "retType": "number",
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "color.ColorBuffer.color": {
                        "kind": -1,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "index"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.setColor": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "index"
                            },
                            {
                                "name": "color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "color.ColorBuffer.set_color"
                    },
                    "color.ColorBuffer.slice": {
                        "kind": -1,
                        "retType": "color.ColorBuffer",
                        "parameters": [
                            {
                                "name": "start",
                                "initializer": "undefined"
                            },
                            {
                                "name": "length",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.ColorBuffer.write": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "dstOffset": "@param src"
                            },
                            "jsDoc": "Writes the content of the src color buffer starting at the start dstOffset in the current buffer"
                        },
                        "parameters": [
                            {
                                "name": "dstOffset",
                                "description": "@param src"
                            },
                            {
                                "name": "src",
                                "type": "color.ColorBuffer"
                            }
                        ],
                        "isInstance": true
                    },
                    "color.createBuffer": {
                        "kind": -3,
                        "retType": "color.ColorBuffer",
                        "attributes": {
                            "jsDoc": "Converts an array of colors into a color buffer"
                        },
                        "parameters": [
                            {
                                "name": "colors",
                                "type": "number[]"
                            },
                            {
                                "name": "layout",
                                "type": "color.ColorBufferLayout",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "color.create_buffer"
                    },
                    "NeoPixelMode": {
                        "kind": 6,
                        "retType": "NeoPixelMode",
                        "attributes": {
                            "jsDoc": "Different modes for RGB or RGB+W NeoPixel strips"
                        },
                        "extendsTypes": [
                            "NeoPixelMode",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGB": {
                        "retType": "NeoPixelMode.RGB",
                        "attributes": {
                            "block": "RGB (GRB format)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB (GRB format)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGB",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGBW": {
                        "retType": "NeoPixelMode.RGBW",
                        "attributes": {
                            "block": "RGB+W",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB+W",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGBW",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.RGB_RGB": {
                        "retType": "NeoPixelMode.RGB_RGB",
                        "attributes": {
                            "block": "RGB (RGB format)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "RGB (RGB format)",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.RGB_RGB",
                            "Number"
                        ]
                    },
                    "NeoPixelMode.APA102": {
                        "retType": "NeoPixelMode.APA102",
                        "attributes": {
                            "block": "APA102",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "APA102",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "NeoPixelMode.APA102",
                            "Number"
                        ]
                    },
                    "LightMove": {
                        "kind": 6,
                        "retType": "LightMove",
                        "extendsTypes": [
                            "LightMove",
                            "Number"
                        ]
                    },
                    "LightMove.Rotate": {
                        "retType": "LightMove.Rotate",
                        "attributes": {
                            "block": "rotate",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rotate",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightMove.Rotate",
                            "Number"
                        ],
                        "pyQName": "LightMove.ROTATE"
                    },
                    "LightMove.Shift": {
                        "retType": "LightMove.Shift",
                        "attributes": {
                            "block": "shift",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "shift",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightMove.Shift",
                            "Number"
                        ],
                        "pyQName": "LightMove.SHIFT"
                    },
                    "PhotonMode": {
                        "kind": 6,
                        "retType": "PhotonMode",
                        "attributes": {
                            "jsDoc": "A determines the mode of the photon"
                        },
                        "extendsTypes": [
                            "PhotonMode",
                            "Number"
                        ]
                    },
                    "PhotonMode.PenUp": {
                        "retType": "PhotonMode.PenUp",
                        "attributes": {
                            "block": "pen up",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pen up",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.PenUp",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.PEN_UP"
                    },
                    "PhotonMode.PenDown": {
                        "retType": "PhotonMode.PenDown",
                        "attributes": {
                            "block": "pen down",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pen down",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.PenDown",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.PEN_DOWN"
                    },
                    "PhotonMode.Eraser": {
                        "retType": "PhotonMode.Eraser",
                        "attributes": {
                            "block": "eraser",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "eraser",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.Eraser",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.ERASER"
                    },
                    "PhotonMode.Off": {
                        "retType": "PhotonMode.Off",
                        "attributes": {
                            "block": "off",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "off",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "PhotonMode.Off",
                            "Number"
                        ],
                        "pyQName": "PhotonMode.OFF"
                    },
                    "LightAnimation": {
                        "kind": 6,
                        "retType": "LightAnimation",
                        "extendsTypes": [
                            "LightAnimation",
                            "Number"
                        ]
                    },
                    "LightAnimation.Rainbow": {
                        "retType": "LightAnimation.Rainbow",
                        "attributes": {
                            "blockImage": "1",
                            "block": "rainbow",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rainbow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Rainbow",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.RAINBOW"
                    },
                    "LightAnimation.RunningLights": {
                        "retType": "LightAnimation.RunningLights",
                        "attributes": {
                            "blockImage": "1",
                            "block": "running lights",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "running lights",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.RunningLights",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.RUNNING_LIGHTS"
                    },
                    "LightAnimation.Comet": {
                        "retType": "LightAnimation.Comet",
                        "attributes": {
                            "blockImage": "1",
                            "block": "comet",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "comet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Comet",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.COMET"
                    },
                    "LightAnimation.Sparkle": {
                        "retType": "LightAnimation.Sparkle",
                        "attributes": {
                            "blockImage": "1",
                            "block": "sparkle",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sparkle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.Sparkle",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.SPARKLE"
                    },
                    "LightAnimation.TheaterChase": {
                        "retType": "LightAnimation.TheaterChase",
                        "attributes": {
                            "blockImage": "1",
                            "block": "theater chase",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "theater chase",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.TheaterChase",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.THEATER_CHASE"
                    },
                    "LightAnimation.ColorWipe": {
                        "retType": "LightAnimation.ColorWipe",
                        "attributes": {
                            "blockImage": "1",
                            "block": "color wipe",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "color wipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "extendsTypes": [
                            "LightAnimation.ColorWipe",
                            "Number"
                        ],
                        "pyQName": "LightAnimation.COLOR_WIPE"
                    },
                    "light.NeoPixelStrip": {
                        "kind": 8,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "jsDoc": "A NeoPixel strip"
                        },
                        "extendsTypes": []
                    },
                    "light.NeoPixelStrip._parent": {
                        "kind": 2,
                        "retType": "light.NeoPixelStrip",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._dataPin": {
                        "kind": 2,
                        "retType": "DigitalInOutPin",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._data_pin"
                    },
                    "light.NeoPixelStrip._clkPin": {
                        "kind": 2,
                        "retType": "DigitalInOutPin",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._clk_pin"
                    },
                    "light.NeoPixelStrip._buf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._brightnessBuf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._brightness_buf"
                    },
                    "light.NeoPixelStrip._sendBuf": {
                        "kind": 2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._send_buf"
                    },
                    "light.NeoPixelStrip._brightness": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._start": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._length": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._mode": {
                        "kind": 2,
                        "retType": "NeoPixelMode",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._buffered": {
                        "kind": 2,
                        "retType": "boolean",
                        "isInstance": true
                    },
                    "light.NeoPixelStrip._animationQueue": {
                        "kind": 2,
                        "retType": "control.AnimationQueue",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._animation_queue"
                    },
                    "light.NeoPixelStrip._barGraphHigh": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._bar_graph_high"
                    },
                    "light.NeoPixelStrip._barGraphHighLast": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._bar_graph_high_last"
                    },
                    "light.NeoPixelStrip._photonMode": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_mode"
                    },
                    "light.NeoPixelStrip._photonPos": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_pos"
                    },
                    "light.NeoPixelStrip._photonDir": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_dir"
                    },
                    "light.NeoPixelStrip._photonPenColor": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._photon_pen_color"
                    },
                    "light.NeoPixelStrip._lastAnimation": {
                        "kind": 2,
                        "retType": "light.NeoPixelAnimation",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._last_animation"
                    },
                    "light.NeoPixelStrip._lastAnimationRenderer": {
                        "kind": 2,
                        "retType": "() => boolean",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._last_animation_renderer"
                    },
                    "light.NeoPixelStrip._transitionPlayer": {
                        "kind": 2,
                        "retType": "light.BrightnessTransitionPlayer",
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip._transition_player"
                    },
                    "light.NeoPixelStrip.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.buf": {
                        "kind": -2,
                        "retType": "Buffer",
                        "attributes": {
                            "jsDoc": "Gets the underlying color buffer for the entire strip"
                        },
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "light.NeoPixelStrip.brightnessBuf": {
                        "kind": -2,
                        "retType": "Buffer",
                        "isInstance": true,
                        "isReadOnly": true,
                        "pyQName": "light.NeoPixelStrip.brightness_buf"
                    },
                    "light.NeoPixelStrip.mode": {
                        "kind": -2,
                        "retType": "NeoPixelMode",
                        "attributes": {
                            "jsDoc": "Gets the LED data layout mode"
                        },
                        "isInstance": true,
                        "isReadOnly": true
                    },
                    "light.NeoPixelStrip.setAll": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_strip_color",
                            "block": "set %strip all pixels to %rgb=colorNumberPicker",
                            "help": "light/neopixelstrip/set-all",
                            "weight": 80,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_all"
                    },
                    "light.NeoPixelStrip.setGradient": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "lightsetgradient",
                            "block": "set %strip gradient from %startColor=colorNumberPicker to %endColor=colorNumberPicker",
                            "weight": 79,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "startColor": "the start color",
                                "endColor": "the end color"
                            },
                            "jsDoc": "Sets a gradient between two colors",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " gradient from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endColor",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "startColor",
                                "description": "the start color"
                            },
                            {
                                "name": "endColor",
                                "description": "the end color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_gradient"
                    },
                    "light.NeoPixelStrip.graph": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show_bar_graph",
                            "block": "%strip|graph %value||up to %high",
                            "icon": "",
                            "help": "light/neopixelstrip/graph",
                            "weight": 70,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            },
                            "_expandedDef": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setPixelColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_pixel_color",
                            "block": "set %strip pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "help": "light/neopixelstrip/set-pixel-color",
                            "weight": 79,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "c"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_color"
                    },
                    "light.NeoPixelStrip.pixelColor": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_get_pixel_color",
                            "block": "%strip|pixel color at %pixeloffset",
                            "help": "light/neopixelstrip/pixel-color",
                            "weight": 9,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.pixel_color"
                    },
                    "light.NeoPixelStrip.setPixelWhiteLED": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_pixel_white_led",
                            "block": "set %strip pixel white LED at %pixeloffset|to %white",
                            "help": "light/neopixelstrip/set-pixel-white-led",
                            "weight": 5,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "pixeloffset": "position of the LED in the strip",
                                "white": "brightness of the white LED"
                            },
                            "jsDoc": "Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\nThis only works for RGB+W NeoPixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixel white LED at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the LED in the strip"
                            },
                            {
                                "name": "white",
                                "description": "brightness of the white LED"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_white_led"
                    },
                    "light.NeoPixelStrip.show": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show",
                            "block": "%strip|show",
                            "help": "light/neopixelstrip/show",
                            "weight": 86,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Make the strip show all the new changes for the pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.clear": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_clear",
                            "block": "%strip|clear",
                            "help": "light/neopixelstrip/clear",
                            "weight": 85,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Turn off all pixel LEDs.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.length": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_length",
                            "block": "%strip|length",
                            "help": "light/neopixelstrip/length",
                            "weight": 8,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Get the number of pixels on the strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "length",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "light_set_brightness",
                            "block": "set %strip brightness %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/neopixelstrip/set-brightness",
                            "weight": 2,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_brightness"
                    },
                    "light.NeoPixelStrip.setPixelBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "index": "@param brightness "
                            },
                            "jsDoc": "Sets an individual pixel brightness"
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "@param brightness "
                            },
                            {
                                "name": "brightness"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_pixel_brightness"
                    },
                    "light.NeoPixelStrip.brightness": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "light_get_brightness",
                            "block": "%strip|brightness",
                            "help": "light/neopixelstrip/brightness",
                            "parts": "neopixel",
                            "weight": 7,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Get the brightness of the pixel strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "brightness",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.range": {
                        "kind": -1,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "light_range",
                            "block": "%strip|range from %start|with %length|pixels",
                            "help": "light/neopixelstrip/range",
                            "weight": 99,
                            "blockGap": "30",
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range, eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range, eg: 4",
                                "default": "4"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.move": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "offset": "1"
                            },
                            "blockId": "light_move_pixels",
                            "block": "%strip|%kind=MoveKind|by %offset",
                            "help": "light/neopixelstrip/move",
                            "weight": 87,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "offset": "number of pixels to shift forward, eg: 1"
                            },
                            "jsDoc": "Shift LEDs forward and clear with zeros.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "type": "LightMove",
                                "isEnum": true
                            },
                            {
                                "name": "offset",
                                "description": "number of pixels to shift forward, eg: 1",
                                "initializer": "1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.initPhoton": {
                        "kind": -1,
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.init_photon"
                    },
                    "light.NeoPixelStrip.photonForward": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "light_photon_fd",
                            "block": "%strip|photon forward by %steps",
                            "help": "light/neopixelstrip/photon-forward",
                            "weight": 41,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.photon_forward"
                    },
                    "light.NeoPixelStrip.photonFlip": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_flip",
                            "block": "%strip|photon flip",
                            "help": "light/neopixelstrip/photon-flip",
                            "weight": 40,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.photon_flip"
                    },
                    "light.NeoPixelStrip.setPhotonPosition": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_position",
                            "block": "%strip|photon set position %index",
                            "help": "light/neopixelstrip/set-photon-position",
                            "weight": 39,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "index": "index of the light, if out of bound, the index is wrapped"
                            },
                            "jsDoc": "Sets the photon position to a given light index",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set position ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "index of the light, if out of bound, the index is wrapped"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_position"
                    },
                    "light.NeoPixelStrip.setPhotonPenColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_pen_color",
                            "block": "%strip=variables_get|photon set pen color %color=colorNumberPicker",
                            "help": "light/neopixelstrip/set-photon-pen-color",
                            "weight": 38,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "color": "the color of the photon"
                            },
                            "jsDoc": "Set the photon color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set pen color ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "the color of the photon"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_pen_color"
                    },
                    "light.NeoPixelStrip.setPhotonPenHue": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_pen_hue",
                            "block": "%strip=variables_get|photon set pen hue %hue=colorWheelHsvPicker",
                            "help": "light/neopixelstrip/set-photon-pen-hue",
                            "weight": 39,
                            "blockGap": "8",
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "hue": "the hue of the photon color"
                            },
                            "jsDoc": "Sets the photon hue.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon set pen hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "shadowBlockId": "variables_get",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "the hue of the photon color"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_pen_hue"
                    },
                    "light.NeoPixelStrip.setPhotonColor": {
                        "kind": -1,
                        "attributes": {
                            "deprecated": "1",
                            "blockHidden": true,
                            "group": "Photon",
                            "advanced": true
                        },
                        "parameters": [
                            {
                                "name": "hue"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_color"
                    },
                    "light.NeoPixelStrip.setPhotonMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_photon_set_photon",
                            "block": "%strip|photon %mode",
                            "help": "light/neopixelstrip/set-photon-mode",
                            "weight": 38,
                            "group": "Photon",
                            "advanced": true,
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_photon_mode"
                    },
                    "light.NeoPixelStrip.startBrightnessTransition": {
                        "kind": -1,
                        "attributes": {
                            "paramHelp": {
                                "transition": "@param duration "
                            },
                            "jsDoc": "Starts a brightness transition on the strip (and cancels any other running transition)"
                        },
                        "parameters": [
                            {
                                "name": "startBrightness"
                            },
                            {
                                "name": "endBrightness"
                            },
                            {
                                "name": "duration"
                            },
                            {
                                "name": "repeat",
                                "initializer": "undefined"
                            },
                            {
                                "name": "yoyo",
                                "type": "boolean",
                                "initializer": "undefined"
                            },
                            {
                                "name": "transition",
                                "description": "@param duration ",
                                "type": "light.BrightnessTransition",
                                "initializer": "undefined"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.start_brightness_transition"
                    },
                    "light.NeoPixelStrip.stopBrightnessTransition": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Stops any running brightness transition"
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.stop_brightness_transition"
                    },
                    "light.NeoPixelStrip.showAnimation": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "duration": "500"
                            },
                            "blockId": "light_show_animation",
                            "block": "%strip|show animation %animation=light_animation_picker|for %duration=timePicker|ms",
                            "help": "light/neopixelstrip/show-animation",
                            "weight": 90,
                            "blockGap": "8",
                            "advanced": true,
                            "paramHelp": {
                                "animation": "the animation to run",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show animation ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_animation"
                    },
                    "light.NeoPixelStrip.showAnimationFrame": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_show_animation_frame",
                            "block": "%strip|show frame of %animation=light_animation_picker|animation",
                            "help": "light/neopixelstrip/show-animation-frame",
                            "weight": 87,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "paramHelp": {
                                "animation": "the animation to run"
                            },
                            "jsDoc": "Show a single animation frame.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "show frame of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_animation_frame"
                    },
                    "light.NeoPixelStrip.showColors": {
                        "kind": -1,
                        "attributes": {
                            "jsDoc": "Renders a pattern of colors on the strip"
                        },
                        "parameters": [
                            {
                                "name": "leds",
                                "type": "string"
                            },
                            {
                                "name": "interval",
                                "initializer": "400"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.show_colors"
                    },
                    "light.NeoPixelStrip.stopAllAnimations": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_stop_all_animations",
                            "block": "%strip|stop all animations",
                            "help": "light/neopixelstrip/stop-all-animations",
                            "weight": 85,
                            "blockGap": "8",
                            "group": "More",
                            "advanced": true,
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.stop_all_animations"
                    },
                    "light.NeoPixelStrip.setBuffered": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_buffered",
                            "block": "set %strip buffered  %on",
                            "help": "light/neopixelstrip/set-buffered",
                            "weight": 86,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "on": "call show whenever a light is modified"
                            },
                            "jsDoc": "Enables or disables automatically calling show when a change is made",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " buffered  ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "on",
                                "description": "call show whenever a light is modified",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_buffered"
                    },
                    "light.NeoPixelStrip.buffered": {
                        "kind": -1,
                        "retType": "boolean",
                        "attributes": {
                            "weight": 85,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "jsDoc": "Gets a value indicated if the changes are buffered"
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.setMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_mode",
                            "block": "set %strip mode to %mode",
                            "help": "light/neopixelstrip/set-mode",
                            "weight": 1,
                            "blockGap": "8",
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "mode": "the kind of color encoding required by the programmable lights"
                            },
                            "jsDoc": "Sets the color mode and clears the colors.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " mode to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the kind of color encoding required by the programmable lights",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_mode"
                    },
                    "light.NeoPixelStrip.setLength": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "light_set_length",
                            "block": "set %strip length to %length pixels",
                            "weight": 1,
                            "blockGap": "8",
                            "_shadowOverrides": {
                                "length": "lightLengthPicker"
                            },
                            "group": "Configuration",
                            "advanced": true,
                            "paramHelp": {
                                "numleds": ""
                            },
                            "jsDoc": "Sets the number of LEDs on a strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " length to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "strip",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "numleds"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelStrip.set_length"
                    },
                    "light.NeoPixelStrip.__setAll": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_strip_color",
                            "block": "set all pixels to %rgb=colorNumberPicker",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__graph": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show_bar_graph",
                            "block": "graph %value |up to %high",
                            "icon": "",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " ",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPixelColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_pixel_color",
                            "block": "set pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "color",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__pixelColor": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_get_pixel_color",
                            "block": "pixel color at %pixeloffset",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPixelWhiteLED": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_pixel_white_led",
                            "block": "set pixel white LED at %pixeloffset|to %white",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "pixeloffset": "position of the LED in the strip",
                                "white": "brightness of the white LED"
                            },
                            "jsDoc": "Set the white brightness of a pixel in a NeoPixel strip of RGB+W LEDs.\nThis only works for RGB+W NeoPixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel white LED at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "white",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the LED in the strip"
                            },
                            {
                                "name": "white",
                                "description": "brightness of the white LED"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__show": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show",
                            "block": "show",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Make the strip show all the new changes for the pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__clear": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_clear",
                            "block": "clear",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Turn off all pixel LEDs.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__length": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_length",
                            "block": "length",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Get the number of pixels on the strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "length",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setBrightness": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "neopixel_set_brightness",
                            "block": "set brightness %brightness",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__brightness": {
                        "kind": -1,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_get_brightness",
                            "block": "brightness",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Get the brightness of the pixel strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "brightness",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__range": {
                        "kind": -1,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "neopixel_range",
                            "block": "range from %start|with %length|pixels",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range. eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range. eg: 4",
                                "default": "4"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__move": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "offset": "1"
                            },
                            "blockId": "neopixel_move_pixels",
                            "block": "%kind=MoveKind|by %offset",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "offset": "number of pixels to shift forward, eg: 1"
                            },
                            "jsDoc": "Shift LEDs forward and clear with zeros.\nYou need to call ``show`` to make the changes visible.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "shadowBlockId": "MoveKind",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "offset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "type": "LightMove",
                                "isEnum": true
                            },
                            {
                                "name": "offset",
                                "description": "number of pixels to shift forward, eg: 1",
                                "initializer": "1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__photonForward": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "neophoton_fd",
                            "block": "photon forward by %steps",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__photonFlip": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_flip",
                            "block": "photon flip",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPhotonColor": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_set_color",
                            "block": "photon set pen color %color",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "color": "the color of the photon"
                            },
                            "jsDoc": "Set the photon color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set pen color ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "description": "the color of the photon"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setPhotonMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neophoton_set_photon",
                            "block": "photon %mode",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__showAnimation": {
                        "kind": -1,
                        "attributes": {
                            "paramDefl": {
                                "duration": "500"
                            },
                            "blockId": "neopixel_show_animation",
                            "block": "show %animation=light_animation|animation for %duration=timePicker|ms",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "animation": "the animation to run",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__showAnimationFrame": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_show_animation_frame",
                            "block": "show animation frame %animation=light_animation",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "animation": "the animation to run"
                            },
                            "jsDoc": "Show a single animation frame",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show animation frame ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__stopAllAnimations": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_stop_all_animations",
                            "block": "stop all animations",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setBuffered": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_buffered",
                            "block": "set buffered  %on",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "on": "call show whenever a light is modified"
                            },
                            "jsDoc": "Enables or disables automatically calling show when a change is made",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set buffered  ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "on",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "on",
                                "description": "call show whenever a light is modified",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.NeoPixelStrip.__setMode": {
                        "kind": -1,
                        "attributes": {
                            "blockId": "neopixel_set_mode",
                            "block": "set mode %mode",
                            "deprecated": "1",
                            "defaultInstance": "light.pixels",
                            "paramHelp": {
                                "mode": "the kind of color encoding required by the programmable lights"
                            },
                            "jsDoc": "Sets the color mode and clears the colors.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set mode ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the kind of color encoding required by the programmable lights",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "isInstance": true
                    },
                    "light.createNeoPixelStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "blockId": "neopixel_create",
                            "block": "create WS2812 strip|pin %pin|with %numleds pixels",
                            "help": "light/create-neo-pixel-strip",
                            "trackArgs": [
                                0,
                                2
                            ],
                            "parts": "neopixel",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "blockHidden": true,
                            "jsDoc": "Creates a strip of colored LEDs (WS2812b)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create WS2812 strip",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pin ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "numleds",
                                "initializer": "10"
                            },
                            {
                                "name": "mode",
                                "type": "NeoPixelMode",
                                "initializer": "undefined",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.create_neo_pixel_strip"
                    },
                    "light.rgb": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "blockId": "neopixel_rgb",
                            "block": "red %red|green %green|blue %blue",
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "help": "light/rgb",
                            "group": "Color",
                            "weight": 19,
                            "blockGap": "8",
                            "paramHelp": {
                                "red": "value of the red channel between 0 and 255. eg: 255",
                                "green": "value of the green channel between 0 and 255. eg: 255",
                                "blue": "value of the blue channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Converts red, green, blue channels into a RGB color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "description": "value of the red channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "description": "value of the green channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "description": "value of the blue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.colors": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "neopixel_colors",
                            "block": "%color",
                            "help": "light/colors",
                            "shim": "TD_ID",
                            "group": "Color",
                            "weight": 20,
                            "blockGap": "8",
                            "jsDoc": "Get the RGB value of a known color",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "color",
                                "type": "Colors",
                                "isEnum": true
                            }
                        ]
                    },
                    "light.hsv": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "blockId": "neopixel_hsv",
                            "block": "hue %hue|sat %sat|val %val",
                            "paramMin": {
                                "hue": "0",
                                "sat": "0",
                                "val": "0"
                            },
                            "paramMax": {
                                "hue": "255",
                                "sat": "255",
                                "val": "255"
                            },
                            "help": "light/hsv",
                            "group": "Color",
                            "weight": 17,
                            "paramHelp": {
                                "hue": "value of the hue channel between 0 and 255. eg: 255",
                                "sat": "value of the saturation channel between 0 and 255. eg: 255",
                                "val": "value of the value channel between 0 and 255. eg: 255"
                            },
                            "jsDoc": "Convert an HSV (hue, saturation, value) color to RGB",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "sat ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "val ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "sat",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "val",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "value of the hue channel between 0 and 255. eg: 255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "sat",
                                "description": "value of the saturation channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "val",
                                "description": "value of the value channel between 0 and 255. eg: 255",
                                "initializer": "255",
                                "default": "255",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.fade": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "paramDefl": {
                                "brightness": "128"
                            },
                            "blockId": "neopixel_fade",
                            "block": "fade %color=neopixel_colors|by %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/fade",
                            "group": "Color",
                            "weight": 18,
                            "blockGap": "8",
                            "blockHidden": true,
                            "deprecated": "true",
                            "paramHelp": {
                                "color": "color to fade",
                                "brightness": "the amount of brightness to apply to the color, eg: 128"
                            },
                            "jsDoc": "Use color.fade instead",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "fade ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "color",
                                        "shadowBlockId": "neopixel_colors",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "c"
                            },
                            {
                                "name": "brightness",
                                "description": "the amount of brightness to apply to the color, eg: 128",
                                "default": "128",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    },
                    "light.NeoPixelAnimation": {
                        "kind": 8,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstances": "true",
                            "jsDoc": "An animation of a NeoPixel"
                        },
                        "extendsTypes": [
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.NeoPixelAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.NeoPixelAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "attributes": {
                            "paramHelp": {
                                "strip": "the strip to execute on"
                            },
                            "jsDoc": "Creates an animator instance"
                        },
                        "parameters": [
                            {
                                "name": "strip",
                                "description": "the strip to execute on",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.NeoPixelAnimation.create_renderer"
                    },
                    "light.RainbowCycleAnimation": {
                        "kind": 8,
                        "retType": "light.RainbowCycleAnimation",
                        "extendsTypes": [
                            "light.RainbowCycleAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.RainbowCycleAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RainbowCycleAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.RainbowCycleAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.RainbowCycleAnimation.create_renderer"
                    },
                    "light.rainbowAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "rainbow",
                            "whenUsed": true,
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "rainbow",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.rainbow_animation"
                    },
                    "light.RunningLightsAnimation": {
                        "kind": 8,
                        "retType": "light.RunningLightsAnimation",
                        "extendsTypes": [
                            "light.RunningLightsAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.RunningLightsAnimation.red": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.green": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.blue": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.RunningLightsAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.RunningLightsAnimation.create_renderer"
                    },
                    "light.runningLightsAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "running lights",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "running lights",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.running_lights_animation"
                    },
                    "light.cometAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "comet",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "comet",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.comet_animation"
                    },
                    "light.SparkleAnimation": {
                        "kind": 8,
                        "retType": "light.SparkleAnimation",
                        "extendsTypes": [
                            "light.SparkleAnimation",
                            "light.NeoPixelAnimation"
                        ]
                    },
                    "light.SparkleAnimation.rgb": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.SparkleAnimation.delay": {
                        "kind": 2,
                        "retType": "number",
                        "isInstance": true
                    },
                    "light.SparkleAnimation.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "red"
                            },
                            {
                                "name": "green"
                            },
                            {
                                "name": "blue"
                            },
                            {
                                "name": "delay"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.SparkleAnimation.createRenderer": {
                        "kind": -1,
                        "retType": "() => boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true,
                        "pyQName": "light.SparkleAnimation.create_renderer"
                    },
                    "light.sparkleAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "sparkle",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "sparkle",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.sparkle_animation"
                    },
                    "light.colorWipeAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "color wipe",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "color wipe",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.color_wipe_animation"
                    },
                    "light.theaterChaseAnimation": {
                        "kind": 4,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "fixedInstance": "true",
                            "block": "theater chase",
                            "jres": "true",
                            "blockIdentity": "light._animationPicker",
                            "whenUsed": true,
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "theater chase",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "pyQName": "light.theater_chase_animation"
                    },
                    "light._animationPicker": {
                        "kind": -3,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "blockId": "light_animation_picker",
                            "block": "%animation",
                            "shim": "TD_ID",
                            "paramFieldEditor": {
                                "animation": "imagedropdown"
                            },
                            "paramFieldEditorOptions": {
                                "animation": {
                                    "columns": "3"
                                }
                            },
                            "weight": 0,
                            "group": "More",
                            "paramHelp": {
                                "animation": "The animation type"
                            },
                            "jsDoc": "An animation that can be shown on a light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "The animation type",
                                "type": "light.NeoPixelAnimation"
                            }
                        ],
                        "pyQName": "light._animation_picker"
                    },
                    "light.__lengthPicker": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "lightLengthPicker",
                            "block": "%pixels",
                            "blockHidden": true,
                            "shim": "TD_ID",
                            "colorSecondary": "#FFFFFF",
                            "paramFieldEditor": {
                                "pixels": "numberdropdown"
                            },
                            "paramFieldEditorOptions": {
                                "pixels": {
                                    "decompileLiterals": "true",
                                    "data": "[[\"7\", 7], [\"8\", 8], [\"12\", 12], [\"16\", 16], [\"24\", 24], [\"30\", 30], [\"60\", 60], [\"64\", 64], [\"90\", 90], [\"120\", 120], [\"144\", 144]]"
                                }
                            },
                            "paramHelp": {
                                "pixels": "number of LEDs"
                            },
                            "jsDoc": "Get the light length picker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "pixels",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixels",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixels",
                                "description": "number of LEDs"
                            }
                        ]
                    },
                    "easing": {
                        "kind": 5,
                        "retType": ""
                    },
                    "easing.linear": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ]
                    },
                    "easing.inQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_quad"
                    },
                    "easing.outQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.out_quad"
                    },
                    "easing.inOutQuad": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_out_quad"
                    },
                    "easing.inCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_cubic"
                    },
                    "easing.outCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.out_cubic"
                    },
                    "easing.inOutCubic": {
                        "kind": -3,
                        "retType": "number",
                        "parameters": [
                            {
                                "name": "t"
                            }
                        ],
                        "pyQName": "easing.in_out_cubic"
                    },
                    "light.BrightnessTransition": {
                        "kind": 8,
                        "retType": "light.BrightnessTransition",
                        "extendsTypes": [
                            "light.BrightnessTransition"
                        ]
                    },
                    "light.BrightnessTransition.__constructor": {
                        "kind": -3,
                        "parameters": [],
                        "isInstance": true
                    },
                    "light.BrightnessTransition.apply": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            },
                            {
                                "name": "t"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "end"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.EasingBrightnessTransition": {
                        "kind": 8,
                        "retType": "light.EasingBrightnessTransition",
                        "extendsTypes": [
                            "light.EasingBrightnessTransition",
                            "light.BrightnessTransition"
                        ]
                    },
                    "light.EasingBrightnessTransition.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "timeEasing",
                                "type": "(t: number) => number",
                                "handlerParameters": [
                                    {
                                        "name": "t",
                                        "type": "number"
                                    }
                                ]
                            },
                            {
                                "name": "spatialEasing",
                                "type": "(t: number) => number",
                                "initializer": "undefined",
                                "handlerParameters": [
                                    {
                                        "name": "t",
                                        "type": "number"
                                    }
                                ]
                            }
                        ],
                        "isInstance": true
                    },
                    "light.EasingBrightnessTransition.apply": {
                        "kind": -1,
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            },
                            {
                                "name": "t"
                            },
                            {
                                "name": "start"
                            },
                            {
                                "name": "end"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.BrightnessTransitionPlayer": {
                        "kind": 8,
                        "retType": "light.BrightnessTransitionPlayer",
                        "extendsTypes": []
                    },
                    "light.BrightnessTransitionPlayer.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "transition",
                                "type": "light.BrightnessTransition"
                            },
                            {
                                "name": "startBrightness"
                            },
                            {
                                "name": "endBrightness"
                            },
                            {
                                "name": "duration"
                            },
                            {
                                "name": "repeat"
                            },
                            {
                                "name": "yoyo",
                                "type": "boolean"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.BrightnessTransitionPlayer.update": {
                        "kind": -1,
                        "retType": "boolean",
                        "parameters": [
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true
                    },
                    "light.createStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "numleds": "30",
                                "mode": "NeoPixelMode.RGB_GRB"
                            },
                            "blockId": "neopixel_create_strip",
                            "block": "create WS2812 strip on %pin with %numleds pixels",
                            "help": "light/create-strip",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "trackArgs": [
                                0,
                                2
                            ],
                            "parts": "neopixel",
                            "advanced": true,
                            "paramHelp": {
                                "pin": "the pin where the strip is connected.",
                                "numleds": "number of leds in the strip, eg: 30",
                                "mode": "the light encoding mode for different LED strips, eg: NeoPixelMode.RGB_GRB"
                            },
                            "jsDoc": "Create a new programmable light strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create WS2812 strip on ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pin",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pin",
                                "description": "the pin where the strip is connected.",
                                "type": "DigitalInOutPin",
                                "initializer": "null"
                            },
                            {
                                "name": "numleds",
                                "description": "number of leds in the strip, eg: 30",
                                "initializer": "30",
                                "default": "30"
                            },
                            {
                                "name": "mode",
                                "description": "the light encoding mode for different LED strips, eg: NeoPixelMode.RGB_GRB",
                                "type": "NeoPixelMode",
                                "initializer": "NeoPixelMode.RGB",
                                "default": "NeoPixelMode.RGB_GRB",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.create_strip"
                    },
                    "light.createAPA102Strip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "blockId": "light_create_dotstar",
                            "block": "create APA102 strip|data %data|clock %clk|with %numleds pixels",
                            "help": "light/create-apa102-strip",
                            "trackArgs": [
                                0,
                                1,
                                2
                            ],
                            "parts": "dotstar",
                            "weight": 100,
                            "blockSetVariable": "strip",
                            "advanced": true,
                            "jsDoc": "Creates a strip of colored LEDs (APA102)",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "create APA102 strip",
                                        "style": []
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "data ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "clock ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "clk",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "data",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "clk",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "dataPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "clkPin",
                                "type": "DigitalInOutPin"
                            },
                            {
                                "name": "numleds"
                            }
                        ],
                        "pyQName": "light.create_apa102_strip"
                    },
                    "light.defaultStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "help": "light/default-strip",
                            "blockId": "neopixel_default_strip",
                            "block": "default strip",
                            "weight": 110,
                            "blockGap": "8",
                            "advanced": true,
                            "parts": "pixels",
                            "jsDoc": "Gets the default light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "default strip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.default_strip"
                    },
                    "light.onboardStrip": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "help": "light/onboard-strip",
                            "blockId": "neopixel_onboard_strip",
                            "block": "onboard strip",
                            "weight": 111,
                            "blockGap": "8",
                            "advanced": true,
                            "jsDoc": "Get the default light strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "onboard strip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.onboard_strip"
                    },
                    "light.pixels": {
                        "kind": 4,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "whenUsed": "true",
                            "jsDoc": "Gets the default external light strip"
                        }
                    },
                    "light.setAll": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_set_strip_color",
                            "block": "set all pixels to %rgb=colorNumberPicker",
                            "help": "light/set-all",
                            "weight": 79,
                            "blockGap": "8",
                            "paramHelp": {
                                "rgb": "RGB color of the LED"
                            },
                            "jsDoc": "Set all of the pixels on the strip to one RGB color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set all pixels to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "pyQName": "light.set_all"
                    },
                    "light.setGradient": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtinlightsetgradient",
                            "block": "set gradient from %startRgb=colorNumberPicker to %endRgb=colorNumberPicker",
                            "weight": 78,
                            "blockGap": "8",
                            "blockHidden": true,
                            "paramHelp": {
                                "startColor": "the start color",
                                "endColor": "the end color"
                            },
                            "jsDoc": "Sets a gradient between two colors",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set gradient from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "startRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "startRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "endRgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "startRgb"
                            },
                            {
                                "name": "endRgb"
                            }
                        ],
                        "pyQName": "light.set_gradient"
                    },
                    "light.clear": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_clear",
                            "block": "clear",
                            "parts": "neopixel",
                            "help": "light/clear",
                            "group": "More",
                            "weight": 9,
                            "blockGap": "8",
                            "jsDoc": "Turn off all pixel LEDs on the onboard strip.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "clear",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": []
                    },
                    "light.graph": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_show_bar_graph",
                            "block": "graph %value||up to %high",
                            "icon": "",
                            "help": "light/graph",
                            "blockGap": "8",
                            "weight": 10,
                            "paramHelp": {
                                "value": "current value to plot",
                                "high": "maximum value, 0 to autoscale"
                            },
                            "jsDoc": "Display a vertical bar graph based on the `value` and `high` value.\nIf `high` is 0, the chart gets adjusted automatically.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "graph ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "value",
                                        "ref": false
                                    }
                                ]
                            },
                            "_expandedDef": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "up to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "high",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "value",
                                "description": "current value to plot"
                            },
                            {
                                "name": "high",
                                "description": "maximum value, 0 to autoscale",
                                "initializer": "undefined"
                            }
                        ]
                    },
                    "light.setPixelColor": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_set_pixel_color",
                            "block": "set pixel color at %pixeloffset|to %rgb=colorNumberPicker",
                            "help": "light/set-pixel-color",
                            "group": "More",
                            "weight": 89,
                            "blockGap": "8",
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip",
                                "color": "RGB color of the LED"
                            },
                            "jsDoc": "Set the pixel to a given color.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            },
                            {
                                "name": "color",
                                "description": "RGB color of the LED"
                            }
                        ],
                        "pyQName": "light.set_pixel_color"
                    },
                    "light.pixelColor": {
                        "kind": -3,
                        "retType": "number",
                        "attributes": {
                            "blockId": "builtin_neopixel_pixel_color",
                            "block": "pixel color at %pixeloffset",
                            "help": "light/pixel-color",
                            "group": "More",
                            "weight": 88,
                            "paramHelp": {
                                "pixeloffset": "position of the NeoPixel in the strip"
                            },
                            "jsDoc": "Gets the pixel color at a given offset.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "pixel color at ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "pixeloffset",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "pixeloffset",
                                "description": "position of the NeoPixel in the strip"
                            }
                        ],
                        "pyQName": "light.pixel_color"
                    },
                    "light.setBrightness": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "brightness": "20"
                            },
                            "blockId": "builtin_neopixel_set_brightness",
                            "block": "set brightness %brightness",
                            "paramMin": {
                                "brightness": "0"
                            },
                            "paramMax": {
                                "brightness": "255"
                            },
                            "help": "light/set-brightness",
                            "weight": 2,
                            "blockGap": "8",
                            "paramHelp": {
                                "brightness": "a measure of LED brightness in 0-255. eg: 20"
                            },
                            "jsDoc": "Set the brightness of the strip. This flag only applies to future operation.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness",
                                "description": "a measure of LED brightness in 0-255. eg: 20",
                                "default": "20",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ],
                        "pyQName": "light.set_brightness"
                    },
                    "light.photonForward": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "steps": "1"
                            },
                            "blockId": "builtin_neophoton_fd",
                            "block": "photon forward by %steps",
                            "help": "light/photon-forward",
                            "group": "Photon",
                            "weight": 41,
                            "blockGap": "8",
                            "paramHelp": {
                                "steps": "number of steps (lights) to move, eg: 1"
                            },
                            "jsDoc": "Move a photon effect along the pixel strip by a number of steps.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon forward by ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "steps",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "steps",
                                "description": "number of steps (lights) to move, eg: 1",
                                "default": "1"
                            }
                        ],
                        "pyQName": "light.photon_forward"
                    },
                    "light.photonFlip": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_flip",
                            "block": "photon flip",
                            "help": "light/photon-flip",
                            "parts": "neopixel",
                            "group": "Photon",
                            "weight": 40,
                            "blockGap": "8",
                            "jsDoc": "Switch the direction of the photon pulse.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon flip",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.photon_flip"
                    },
                    "light.setPhotonPosition": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_light_photon_set_position",
                            "block": "photon set position %index",
                            "help": "light/set-photon-position",
                            "parts": "neopixel",
                            "group": "Photon",
                            "weight": 39,
                            "blockGap": "8",
                            "paramHelp": {
                                "index": "index of the light, if out of bound, the index is wrapped"
                            },
                            "jsDoc": "Sets the photon position to a given light index",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set position ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "index",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "index",
                                "description": "index of the light, if out of bound, the index is wrapped"
                            }
                        ],
                        "pyQName": "light.set_photon_position"
                    },
                    "light.setPhotonPenHue": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_set_pen_hue",
                            "block": "photon set pen hue %hue=colorWheelHsvPicker",
                            "help": "light/set-photon-pen-hue",
                            "group": "Photon",
                            "weight": 39,
                            "blockGap": "8",
                            "paramHelp": {
                                "hue": "the color hue of the photon"
                            },
                            "jsDoc": "Set the photon color hue.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon set pen hue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "hue",
                                        "shadowBlockId": "colorWheelHsvPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "hue",
                                "description": "the color hue of the photon"
                            }
                        ],
                        "pyQName": "light.set_photon_pen_hue"
                    },
                    "light.setPhotonMode": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neophoton_set_photon",
                            "block": "photon %mode",
                            "help": "light/set-photon-mode",
                            "group": "Photon",
                            "weight": 38,
                            "paramHelp": {
                                "mode": "the desired mode"
                            },
                            "jsDoc": "Set the photon mode to pen up, pen down, or eraser.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "photon ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "description": "the desired mode",
                                "type": "PhotonMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.set_photon_mode"
                    },
                    "light.showAnimation": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "animation": "light.rainbowAnimation",
                                "duration": "500"
                            },
                            "blockId": "builtin_neopixel_show_animation",
                            "block": "show animation %animation=light_animation_picker|for %duration=timePicker|ms",
                            "help": "light/show-animation",
                            "blockGap": "8",
                            "weight": 81,
                            "paramHelp": {
                                "animation": "the animation to run, eg: light.rainbowAnimation",
                                "duration": "the duration to run in milliseconds, eg: 500"
                            },
                            "jsDoc": "Show an animation or queue an animation in the animation queue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show animation ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "for ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "ms",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "duration",
                                        "shadowBlockId": "timePicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run, eg: light.rainbowAnimation",
                                "type": "light.NeoPixelAnimation",
                                "default": "light.rainbowAnimation"
                            },
                            {
                                "name": "duration",
                                "description": "the duration to run in milliseconds, eg: 500",
                                "default": "500"
                            }
                        ],
                        "pyQName": "light.show_animation"
                    },
                    "light.showAnimationFrame": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "animation": "light.rainbowAnimation"
                            },
                            "blockId": "builtin_neopixel_show_animation_frame",
                            "block": "show frame of %animation=light_animation_picker|animation",
                            "help": "light/show-animation-frame",
                            "group": "More",
                            "weight": 24,
                            "blockGap": "8",
                            "paramHelp": {
                                "animation": "the animation to run, eg: light.rainbowAnimation"
                            },
                            "jsDoc": "Show a single animation frame",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "show frame of ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "animation",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "animation",
                                        "shadowBlockId": "light_animation_picker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "animation",
                                "description": "the animation to run, eg: light.rainbowAnimation",
                                "type": "light.NeoPixelAnimation",
                                "default": "light.rainbowAnimation"
                            }
                        ],
                        "pyQName": "light.show_animation_frame"
                    },
                    "light.stopAllAnimations": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "builtin_neopixel_stop_all_animations",
                            "block": "stop all animations",
                            "help": "light/stop-all-animations",
                            "group": "More",
                            "weight": 23,
                            "jsDoc": "Stop the current animation and any other animations ready to show.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "stop all animations",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        },
                        "parameters": [],
                        "pyQName": "light.stop_all_animations"
                    },
                    "light.animation": {
                        "kind": -3,
                        "retType": "light.NeoPixelAnimation",
                        "attributes": {
                            "paramFieldEditor": {
                                "kind": "imagedropdown"
                            },
                            "paramFieldEditorOptions": {
                                "kind": {
                                    "columns": "3"
                                }
                            },
                            "blockGap": "8",
                            "blockId": "light_animation",
                            "block": "%kind",
                            "group": "More",
                            "weight": 25,
                            "help": "light/animation",
                            "blockHidden": true,
                            "deprecated": "1",
                            "paramHelp": {
                                "kind": "the type of animation"
                            },
                            "jsDoc": "Creates a builtin animation",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "kind",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "kind",
                                "description": "the type of animation",
                                "type": "LightAnimation",
                                "isEnum": true
                            }
                        ]
                    },
                    "light.range": {
                        "kind": -3,
                        "retType": "light.NeoPixelStrip",
                        "attributes": {
                            "paramDefl": {
                                "length": "4"
                            },
                            "blockId": "lightstrip_range",
                            "block": "range from %start|with %length|pixels",
                            "weight": 1,
                            "paramHelp": {
                                "start": "offset in the NeoPixel strip to start the range",
                                "length": "number of pixels in the range, eg: 4"
                            },
                            "jsDoc": "Create a range of pixels.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "range from ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "with ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "start",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "length",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "start",
                                "description": "offset in the NeoPixel strip to start the range"
                            },
                            {
                                "name": "length",
                                "description": "number of pixels in the range, eg: 4",
                                "default": "4"
                            }
                        ]
                    },
                    "light.setLength": {
                        "kind": -3,
                        "attributes": {
                            "paramDefl": {
                                "numleds": "30"
                            },
                            "blockId": "lightds_setlength",
                            "block": "set pixels length to %numleds pixels",
                            "explicitDefaults": [
                                "numleds"
                            ],
                            "_shadowOverrides": {
                                "numleds": "lightLengthPicker"
                            },
                            "weight": 0,
                            "jsDoc": "Sets the number of LEDS on the default light strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set pixels length to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    },
                                    {
                                        "kind": "label",
                                        "text": " pixels",
                                        "style": []
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "numleds",
                                        "shadowBlockId": "lightLengthPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "numleds",
                                "initializer": "30",
                                "default": "30"
                            }
                        ],
                        "pyQName": "light.set_length"
                    },
                    "light.setMode": {
                        "kind": -3,
                        "attributes": {
                            "blockId": "lightds_setmode",
                            "block": "set default strip mode to %mode",
                            "weight": 0,
                            "jsDoc": "Sets the type of RGB light on the default strip",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "set default strip mode to ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "mode",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "mode",
                                "type": "NeoPixelMode",
                                "isEnum": true
                            }
                        ],
                        "pyQName": "light.set_mode"
                    },
                    "jacdac.LightService": {
                        "kind": 8,
                        "retType": "jacdac.LightService",
                        "attributes": {
                            "fixedInstances": "true"
                        },
                        "extendsTypes": [
                            "jacdac.LightService",
                            "jacdac.ActuatorService",
                            "jacdac.Host",
                            "jacdac.Service",
                            "jacdac.JDService"
                        ]
                    },
                    "jacdac.LightService.strip": {
                        "kind": 2,
                        "retType": "light.NeoPixelStrip",
                        "isInstance": true
                    },
                    "jacdac.LightService.__constructor": {
                        "kind": -3,
                        "parameters": [
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "strip",
                                "type": "light.NeoPixelStrip"
                            }
                        ],
                        "isInstance": true
                    },
                    "music": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "color": "#185C87",
                            "weight": 95,
                            "icon": "",
                            "blockGap": "8",
                            "groups": [
                                "Sounds",
                                "Melody",
                                "Tone",
                                "Volume",
                                "Tempo"
                            ],
                            "block": "MUSIC",
                            "jsDoc": "Generation of music tones.",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "MUSIC",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "rgb": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 90,
                            "color": "#185C87",
                            "icon": "",
                            "block": "LED",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "LED",
                                        "style": []
                                    }
                                ],
                                "parameters": []
                            }
                        }
                    },
                    "sensors": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 100,
                            "color": "#185C87",
                            "icon": ""
                        }
                    },
                    "variables": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 80,
                            "icon": ""
                        }
                    },
                    "math": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 75,
                            "icon": "f698"
                        }
                    },
                    "logic": {
                        "kind": 5,
                        "retType": "",
                        "attributes": {
                            "weight": 60
                        }
                    },
                    "rgb.setColor": {
                        "kind": -3,
                        "attributes": {
                            "locs": {
                                "es|block": "Elige el brillo del NeoPixel 3",
                                "|block": "true"
                            },
                            "block.loc": "true",
                            "block": "Set NeoPixel color %rgb=colorNumberPicker",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "Set NeoPixel color ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "rgb",
                                        "shadowBlockId": "colorNumberPicker",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "rgb"
                            }
                        ],
                        "pyQName": "rgb.set_color"
                    },
                    "rgb.setBrightness": {
                        "kind": -3,
                        "attributes": {
                            "block": "Set NeoPixel brightness %brightness",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "Set NeoPixel brightness ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "brightness",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "brightness"
                            }
                        ],
                        "pyQName": "rgb.set_brightness"
                    },
                    "rgb.rgb": {
                        "kind": -3,
                        "attributes": {
                            "paramMin": {
                                "red": "0",
                                "green": "0",
                                "blue": "0"
                            },
                            "paramMax": {
                                "red": "255",
                                "green": "255",
                                "blue": "255"
                            },
                            "block": "red %red|green %green|blue %blue",
                            "_def": {
                                "parts": [
                                    {
                                        "kind": "label",
                                        "text": "red ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "green ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "break"
                                    },
                                    {
                                        "kind": "label",
                                        "text": "blue ",
                                        "style": []
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ],
                                "parameters": [
                                    {
                                        "kind": "param",
                                        "name": "red",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "green",
                                        "ref": false
                                    },
                                    {
                                        "kind": "param",
                                        "name": "blue",
                                        "ref": false
                                    }
                                ]
                            }
                        },
                        "parameters": [
                            {
                                "name": "red",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "green",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            },
                            {
                                "name": "blue",
                                "options": {
                                    "min": {
                                        "value": "0"
                                    },
                                    "max": {
                                        "value": "255"
                                    }
                                }
                            }
                        ]
                    }
                }
            },
            "sha": "e80d5ece200b2c91c1fed9fed15d3888661dbf0e372a2d091d6a981619f914ed"
        }
    }
}